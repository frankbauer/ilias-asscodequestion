{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lib/BlocklyHelper.ts","webpack:///./src/components/CodeBlockButton.vue?274c","webpack:///./src/components/PlaygroundCanvas.vue?b22c","webpack:///./src/components/ErrorTip.vue?249a","webpack:///./src/locales sync [A-Za-z0-9-_,\\s]+\\.json$/","webpack:///./src/components/RandomizerSettings.vue?73d0","webpack:///./src/components/CodePlayground.vue?7c63","webpack:///./src/lib/glsl/glsl.js","webpack:///./src/lib/ICompilerRegistry.ts","webpack:///./src/components/CodeBlocks.vue?93e8","webpack:///./src/components/CodeBlock.vue?652e","webpack:///./src/components/ErrorTip.vue?139d","webpack:///./src/components/ErrorTip.vue?368c","webpack:///./src/components/ErrorTip.vue?9e19","webpack:///./src/components/ErrorTip.vue?6dd0","webpack:///./src/components/CodeBlockButton.vue?5c9a","webpack:///./src/components/CodeBlockButton.vue?43f5","webpack:///./src/components/CodeBlockButton.vue?1843","webpack:///./src/components/CodeBlockButton.vue?a7ca","webpack:///./src/components/CodeBlock.vue?a019","webpack:///./src/components/CodeBlock.vue?0991","webpack:///./src/components/CodeBlock.vue?4e17","webpack:///./src/components/BaseBlock.vue?5d89","webpack:///./src/components/BaseBlock.vue","webpack:///./src/components/BaseBlock.vue?9ddd","webpack:///./src/lib/ICodeBlocks.ts","webpack:///./src/AppEditor.vue?3de5","webpack:///./src/components/TipTap.vue?6d63","webpack:///./src/components/CodeBlockContainer.vue?77f6","webpack:///./src/lib/IBlocklyHelper.ts","webpack:///./src/plugins/uuid.ts","webpack:///./src/plugins/quasar.ts","webpack:///./src/plugins/codemirror.ts","webpack:///./src/plugins/codeBlocks.ts","webpack:///./src/plugins/compilerState.ts","webpack:///./src/plugins/highlight.ts","webpack:///./src/plugins/tagger.ts","webpack:///./src/compiler/doppio.v001.js","webpack:///./src/compiler/teavm.v100.ts","webpack:///./src/compiler/teavm.v101.ts","webpack:///./src/compiler/java.ts","webpack:///./src/compiler/javascript.v100.ts","webpack:///./src/compiler/javascript.v101.ts","webpack:///./src/compiler/javascript.v102.ts","webpack:///./src/compiler/javascript.ts","webpack:///./src/compiler/python.v100.ts","webpack:///./src/compiler/python.v101.ts","webpack:///./src/compiler/python.v102.ts","webpack:///./src/compiler/python.ts","webpack:///./src/compiler/glsl.v100.ts","webpack:///./src/compiler/glsl.ts","webpack:///./src/lib/CompilerRegistry.ts","webpack:///./src/lib/scriptBlock.ts","webpack:///./src/App.vue?c70a","webpack:///./src/components/CodeBlocks.vue?c71e","webpack:///./src/components/CodeBlockContainer.vue?e3a2","webpack:///./src/lib/BlockloadManagers/PositioningManager.ts","webpack:///./src/lib/BlockloadManagers/BlocklyManager.ts","webpack:///./src/components/CodeBlockContainer.vue?26dc","webpack:///./src/components/CodeBlockContainer.vue?9993","webpack:///./src/components/CodeBlockContainer.vue?a19f","webpack:///./src/components/CodeBlocksSettings.vue?d1ce","webpack:///./src/components/RandomizerSettings.vue?f6df","webpack:///./src/components/RandomizerSetEditor.vue?beda","webpack:///./src/components/RandomizerSetEditor.vue?fd32","webpack:///./src/components/RandomizerSetEditor.vue?187a","webpack:///./src/components/RandomizerSetEditor.vue","webpack:///./src/components/RandomizerSettings.vue?730d","webpack:///./src/components/RandomizerSettings.vue?882d","webpack:///./src/components/RandomizerSettings.vue?a708","webpack:///./src/components/CodeBlocksSettings.vue?734e","webpack:///./src/components/CodeBlocksSettings.vue?4c33","webpack:///./src/components/CodeBlocksSettings.vue?5b50","webpack:///./src/components/CodePanel.vue?f5ec","webpack:///./src/components/CodePanel.vue?b290","webpack:///./src/components/CodePanel.vue?35ff","webpack:///./src/components/CodePanel.vue?8bf3","webpack:///./src/components/CodePlayground.vue?7e3f","webpack:///./src/components/PlaygroundCanvas.vue?5775","webpack:///./src/components/PlaygroundCanvas.vue?6a7f","webpack:///./src/components/PlaygroundCanvas.vue?136b","webpack:///./src/components/PlaygroundCanvas.vue?4be2","webpack:///./src/components/CodePlayground.vue?3245","webpack:///./src/components/CodePlayground.vue?65f0","webpack:///./src/components/CodePlayground.vue?4e9b","webpack:///./src/components/SimpleText.vue?0499","webpack:///./src/components/TipTap.vue?da93","webpack:///./src/components/TipTap.vue?9805","webpack:///./src/components/TipTap.vue?761b","webpack:///./src/components/TipTap.vue?16b5","webpack:///./src/components/SimpleText.vue?7f68","webpack:///./src/components/SimpleText.vue?4ea4","webpack:///./src/components/SimpleText.vue","webpack:///./src/components/CodeBlocks.vue?f8ce","webpack:///./src/components/CodeBlocks.vue?34b1","webpack:///./src/components/CodeBlocks.vue?b09b","webpack:///src/App.vue","webpack:///./src/App.vue?7d88","webpack:///./src/App.vue?1d3a","webpack:///./src/AppEditor.vue?3558","webpack:///./src/components/CodeBlocksEditor.vue?2c50","webpack:///./src/components/CodeBlocksEditor.vue","webpack:///./src/components/CodeBlocksEditor.vue?6133","webpack:///src/AppEditor.vue","webpack:///./src/AppEditor.vue?ba18","webpack:///./src/AppEditor.vue?0e82","webpack:///./src/lib/BlockloadManagers/BlockManager.ts","webpack:///./src/lib/BlockloadManagers/PlaygroundManager.ts","webpack:///./src/lib/codeBlocksManager.ts","webpack:///./src/main.ts","webpack:///./src/App.vue?e2c2","webpack:///./src/components/CodeBlocksSettings.vue?67a9","webpack:///./src/components/CodePlayground.vue?f26c","webpack:///./src/components/CodePanel.vue?841a","webpack:///./src/components/CodeBlock.vue?481d","webpack:///./src/plugins/i18n.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","ColorThemeSelection","label","ColorHues","PredefinedBlockTypes","keys","map","ret","$l","ColorSelection","ColorSelectionWithNone","blockStyles","colour_blocks","colourPrimary","Colour","colourSecondary","colourTertiary","hat","list_blocks","List","logic_blocks","Logic","loop_blocks","Loop","math_blocks","Math","procedure_blocks","Procedure","text_blocks","Text","variable_blocks","Variable","variable_dynamic_blocks","Variable_dynamic","hat_blocks","categoryStyles","colour_category","colour","list_category","logic_category","loop_category","math_category","procedure_category","text_category","variable_category","variable_dynamic_category","BlocklyHelper","a","items","item","serializeToolboxItem","join","res","color","custom","this","serializeToolboxItems","serializeToolboxCategory","toolbox","catCount","categories","serializeToolboxCategories","cat","bl","cp","JSON","toHTMLColor","stringify","getBlockDescription","bls","xml","replace","cc","codeUndefines","Blockly","prepareBlocklyCode","codeString","_code","Function","$CodeBlock","itemForValue","forEach","cl","toColor","blocklyHelper","webpackContext","req","id","webpackContextResolve","mod","require","define","CodeMirror","words","str","obj","split","defineMode","config","parserConfig","curPunc","indentUnit","statementIndentUnit","dontAlignCalls","keywords","builtin","blockKeywords","atoms","hooks","multiLineStrings","indentStatements","isOperatorChar","tokenBase","stream","state","ch","next","tokenize","tokenString","test","eatWhile","eat","tokenComment","skipToEnd","cur","current","propertyIsEnumerable","quote","escaped","end","maybeEnd","Context","indented","column","align","prev","pushContext","col","indent","context","popContext","startState","basecolumn","startOfLine","token","ctx","sol","indentation","eatSpace","style","textAfter","Pass","firstChar","charAt","closing","electricChars","blockCommentStart","blockCommentEnd","lineComment","fold","cppHook","skipTo","eol","def","mimes","add","prop","helperType","registerHelper","defineMIME","modeProps","ErrorSeverity","render","_vm","_h","$createElement","_c","_self","class","typeName","directives","rawName","expression","attrs","block","isBookmarkPanel","ref","boxClass","options","namePrefix","parentID","on","onCodeReady","onCodeFocus","onCodeChangeDefered","onCodeKeyHandle","staticClass","_v","_s","$t","altCode","altOptions","onAltCodeReady","onAltCodeFocus","onAltCodeChangeDefered","_e","staticRenderFns","severityClass","severityIcon","_l","iconForSeverity","severity","classForSeverity","component","QIcon","QTooltip","iconName","onClick","bookmarked","uuid","appSettings","$GlobalEventHub","$emit","bookmarkMe","$on","onBookmark","$off","required","default","QBtn","ErrorTipCtor","extend","codeUpdateTimer","codeUpdateStartTime","continuousCodeUpdateTimer","codeNeedsTagUpdate","altCodeUpdateTimer","altCodeUpdateStartTime","canBookmark","editMode","codemirror","allMarks","getDoc","getAllMarks","className","$tagger","rnd","templ","clear","altcodemirror","clearGutter","editor","display","input","textarea","codeBox","$el","querySelectorAll","el","trim","$","text","content","iliasTypeNr","updateDiagnosticDisplay","onCodeChange","whenBlockIsReady","altBox","$nextTick","onAltCodeChange","alternativeContent","updateTagDisplay","updateHeight","newCode","now","Date","getTime","doIt","lineCountHint","doc","size","firstLineNumber","firstLine","tb","querySelector","emitWhenTypingInViewMode","indexOf","arguments","didAddText","keyCode","visibleLines","static","setSize","round","max","scopeUUID","replaceTemplateTagInString","newValue","randomizer","active","clearTagMarkers","getMarkers","markText","start","inclusiveLeft","inclusiveRight","title","startStyle","endStyle","hookClick","val","errors","clearErrorDisplay","first","line","info","lineInfo","element","gutterMarkers","$component","setGutterMarker","propsData","$mount","$refs","hasAlternativeContent","tagSet","hidden","readonly","toLowerCase","actualContent","theme","lineNumbers","tabSize","autoCloseBrackets","readOnly","gutters","refresh","readyWhenMounted","buildIt","log","addKeyMap","cMirror","Tab","execCommand","replaceTemplateTags","BaseBlock","validator","b","components","CodeBlockButton","muteReadyState","readyCount","whenBlockIsDestroyed","KnownBlockTypes","CodeOutputTypes","CodeExpansionType","BlockPrimaryColors","BlockSecondaryColors","BlockTertiaryColors","BlockOutputTypes","BlockSequenceTypes","BlockArgumentTypes","KnownBlocklyTypes","use","plugins","Dialog","animations","lang","set","mimeTypesForLanguage","mime","displayName","css","fortran","glsl","html","java","javascript","perl","php","python","loadSettings","scope","baseurl","settings","opt","outputObject","magicString","resultData","Array","isArray","json","idx","DATA","AUTO","MAGIC","substr","pString","parse","ee","parsedString","too","language","k","sort","refreshAllCodeMirrorsSync","find","globalState","SEVERITY_ERROR","SEVERITY_WARNING","Warning","$SEVERITY_ERROR","$SEVERITY_WARNING","$compilerState","globalStateHidden","globalStateMessage","runButtonForceHide","methods","hideGlobalState","displayGlobalState","setAllRunButtons","what","configure","useBR","registerLanguage","reg_hl","reg_code","$vue","processElements","inLang","elements","hasAttribute","processElement","processElementSimple","txt","innerHTML","m1","m2","m3","m4","m5","highlight","highlightAuto","MathJax","Hub","Register","StartupHook","highlightAll","highlightElement","hljs","$hljs","directive","binding","componentUpdated","randomAndTemplateTag","lines","markers","regex","RegExp","exec","index","lastIndex","marker","h","$uuid","v4","calle","processString","m0","tags","inTag","innerText","onclick","clickFunction","values","tagEl","$q","dialog","i18n","persistent","prompt","model","ok","icon","cancel","onOk","replaceTemplateTag","onCancel","onDismiss","me","self","highlighted","javaRunOverhead","runJavaWorker","questionID","callingCodeBlocks","max_ms","log_callback","info_callback","err_callback","compileFailedCallback","finishedExecutionCB","forceReload","exp","match","worker","Worker","Vue","timer","addEventListener","stdout","stderr","postMessage","cmd","terminate","JavaExec","setRunButton","showMessage","msg","enabled","singleton","loadedlibs","version","canRun","canStop","allowsContinousCompilation","allowsPersistentArguments","allowsMessagePassing","acceptsJSONArgument","didPreload","requestedPreload","isReady","isRunning","preload","triggerResourceLoad","lock","initialize","initFileSystems","reroutStdStreams","ready","compileAndRun","args","runCreate","created","teaVMRunOverhead","experimental","deprecated","teaworker","sessionCompileListener","sessionID","sessionWorker","createTeaWorker","whenReady","command","mainClass","url","executionFinished","booted","compilerTimeout","time","replaceRec","getMainClass","regexpMainClass","myListener","phase","lineNumber","startLineNumber","startColumn","endLineNumber","endColumn","kind","humanReadable","runTimeout","removeEventListener","status","runListener","workerrun","runStart","javaCompiler_V100","keepAlive","didReceiveMessage","postMessageFunction","wr","dequeuePostponedMessages","whenFinishedHandler","beforeStartHandler","messagePosting","allowMessagePassing","javaCompiler_V101","versions","JavaCompilers","runJavaScriptWorker","not_allowed_keywords","prefixCode","postfixCode","URL","createObjectURL","Blob","testTimeout","testTimeoutIntern","onmessage","lineno","colno","javascriptCompiler_V100","startTime","performance","triggerTimeout","startExecution","willStartExecution","workerLibraries","$compilerRegistry","loadLibraries","libraries","compilerRegistry","registerDOMLib","javascriptCompiler_V101","javascriptCompiler_V102","JavascriptCompilers","runPythonWorker","prog","maxRuntime","logCallback","infoCallback","errCallback","finishCallback","replaceAllPoly","pyInp","messageData","pyProg","maxMS","stdOut","pythonCompiler_V100","legacy","pythonCompiler_V101","pythonLegacyCompiler_V101","legacyPython","python3","pythonCompiler_V102","PythonCompilers","runGLSLWorker","outputData","blocks","filter","hasCode","v100","GLSLCompilers","compilers","loadedURIs","afterLoadFinished","isLoadingLibs","langs","libs","utility","registerSingle","v","registerLibs","compilerInfo","cmps","languageType","uri","order","onBuildSandboxEnv","didLoad","sandbox","domLibs","getLibObjects","uris","reduce","concat","domLibraries","whenLoaded","urisForDOMLibs","dlibs","loadURIs","loadCount","u","loadLib","register","Chart","THREE","Phaser","IsometricMapGame","d3","brain","tf","legacyCodeTemplate","prefix","postfix","v101CodeTemplate","v102CodeTemplate","jsErrorParser","columnNumber","stack","Number","$jsErrorParser","sandboxProxies","WeakMap","compileCode","addLoadedToSandbox","create$","getElementById","getElementsByClassName","has","sandboxProxy","Proxy","unscopables","fkt","didInit","_runConfig","queuedMessages","queuedIncomingMessages","init","update","requestsOriginalVersion","dequeueIncoming","pushError","rebuild","lazyInit","addArgumentsTo","cfg","doPostMessageToWorker","onMessage","beforeStart","whenFinished","canvasElement","runner","arunner","run","outputElement","parents","reset","output","processedOutput","initialOutput","parseError","onParseError","staticStyle","addonClass","backgroundColorClass","blockInfo","hasBookmark","panelBlock","onCompilerChange","onCompilerVersionChange","onRunStateChange","onContinousCompileStateChange","onMessagePassingChange","onKeepAliveChange","onPersistentArgumentsChange","onLanguageChange","onCharacterLimitChange","onTimeoutChange","onWorkerLibChange","onDomLibChange","onThemeChange","onOutputParserChange","onTypeChange","onVisibleLinesChange","onPlacementChange","onScriptVersionChange","moveUp","moveDown","removeBlock","onSetAutoReset","onSetGenerateTemplate","themeForBlock","mimeType","activeTagSet","continuousCompile","blockBecameReady","onViewCodeChange","finalOutputObject","eventHub","onPlaygroundChangedOutput","onRunFromPlayground","callback","$$v","$set","addNewBlock","center","domProps","stop","outputHTML","colorClass","bgClass","types","scopedSlots","_u","fn","showTypeInfoDialog","proxy","typeObj","validNumber","hasAltComntent","scriptVersions","scriptVersionObj","shouldAutoReset","shouldGenerateTemplate","canDefinePlacement","width","height","alignments","canMoveUp","canMoveDown","expanded","toggleExpanded","$event","composing","serializedOptions","_t","inBlock","positioninLoadManager","customBlocks","arr","prepareCode","message0","args0","nextStatement","previousStatement","toString","blockly","toolboxInput","toolboxStr","defaultToolbox","toolboxOverride","useOverride","codes","loadFromDatablock","showControls","isTrue","loadCustomBlocks","loadToolbox","loadOverrideToolbox","loadCode","_expanded","blocklyLoader","loaders","blockTag","frank","settingsMenu","PLAYGROUND","TEXT","BLOCKHIDDEN","BLOCKSTATIC","BLOCK","BLOCKLY","scriptVersion","isNaN","refreshAllCodeMirrors","isLast","objIn","extended","path","nr","filteredCopy","shouldAutoreset","generateTemplate","toArray","cm","QCard","QCardSection","QSelect","QPopupProxy","QInput","QToggle","QSlideTransition","QBanner","QItem","QItemSection","QItemLabel","languageHasCompiler","runCode","canContinousCompile","compiledLanguages","compilerLanguageObj","compilerVersions","compilerVersion","_g","_b","itemProps","itemEvents","isDeprecatedVersion","compilerLanguage","isExperimentalVersion","accepstArguments","showArgsInfoDialog","canPersistentArguments","persistentArguments","showPersistentArgsInfoDialog","messagePassing","showMessagesInfoDialog","showAliveInfoDialog","maxCharacters","outputParsers","outputParser","themes","codeTheme","solutionTheme","domLibrary","workerLibrary","addTag","tagClass","removeTag","addSet","isVisible","isCompleteSet","setVisible","getFullSet","removeSet","onShow","knownTags","_newTagName","previewIndex","sets","flat","ct","odata","RandomizerSetEditor","QList","QAvatar","languages","getCompiler","knownLanguages","versionsForLanguage","cmp","compiler","executionTimeout","vv","workerLibs","solution","continuousCompilation","showInfoDialog","RandomizerSettings","onExpandClick","saveBlock","visibleLinesNow","noContent","codeExpanded","actualAltContent","themeForCodeBlock","getThemeForBlock","_blockErrors","panelWidth","CodeBlock","runCount","emitRun","onCanvasChange","onDidInit","isExpandedAuto","setExpandedAuto","isExpandedLarge","setExpandedLarge","isExpandedTiny","setExpandedTiny","innerPlaygroundContainer","canvas","scopeSelector","whenMounted","isPreparingRun","lastRun","needsCodeRebuild","initAndRebuildErrors","TINY","LARGE","resetBeforeRun","updateErrors","hasErrors","onFinalOutputObject","setExpanded","rebuildCode","reInitCode","onNextTick","invalidate","doInit","can","jStr","originalMode","PlaygroundCanvas","QBtnGroup","updatedContentDefered","previewValue","updatedContent","eb","editBox","QField","textUpdateTimer","textUpdateStartTime","newVal","TipTap","formatOutput","didInitialize","sansoutput","didClip","_finalOutputObject","didRunOnce","bookmarkedBlock","triggerRecompileWhenFinished","randomizerActive","nfo","newOutput","format_info","format_error","last","nextLine","infoErrorOutput","processed","playgrounds","processMixedOutput","onRunFinished","resetOutput","clearDiagnostics","_args","initArgsForLanguage","runOptions","logInfo","logError","processDiagnostics","success","overrideOutput","returnState","finishedExecution","storeDefaultArgs","clearDefaultArgs","runConfig","blockid","completeSource","ctrlKey","metaKey","preventDefault","onkey","onBookmarkBlock","forceRun","CodeBlockContainer","CodeBlocksSettings","CodePlayground","SimpleText","CodePanel","QLayout","QPageContainer","blockById","alts","textContent","blockLoader","playgroundLoader","replaceRandomTagsInString","so","recreateScriptObject","lineCount","newType","oldType","useShadowDOM","shadowRoot","outerHTML","parent","parentElement","rewrap","replaceChild","shadow","attachShadow","each","st","link","cloneNode","inData","dataset","tagName","randomizerPreviewIndex","randomizerKnownTags","randomizerSets","question","cInfo","blIn","as","toUpperCase","loader","constructBlock","MainBlock","defaultArgs","id1","id2","swap","props","AppEditor","App","instantiateVue","CodeBlocksManager","allCodeBlockParents","cbm","String","search","replacement","pattern","newstr","productionTip","mount","mountInElement","mountCodeBlocks","loadLocaleMessages","locales","messages","matched","locale","I18n","$v","fallbackLocale"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-a6f16fe6\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"Customizing/global/plugins/Modules/TestQuestionPool/Questions/assCodeQuestion/codeblocks/0.2.12/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Vue from 'vue'\nimport '../styles/blockly.styl' \n\nimport {\n    IBlocklyToolbox,\n    IBlocklyToolboxItem,\n    IBlocklyToolboxCategory,\n    BlockPrimaryColors,\n    KnownBlocklyTypes,\n    BlockArgumentTypes,\n    IBlockDefinition,\n    IBlockLine,\n    IBlockArgument,\n    BlockSecondaryColors,\n    BlockTertiaryColors,\n} from '@/lib/IBlocklyHelper'\nimport { IListItemData } from './ICompilerRegistry'\n\nexport const ColorThemeSelection: IListItemData[] = [\n    { label: 'Colors', value: '{!PrimaryColors.Colour}' },\n    { label: 'Arrays', value: '{!PrimaryColors.List}' },\n    { label: 'Logic', value: '{!PrimaryColors.Logic}' },\n    { label: 'Loops', value: '{!PrimaryColors.Loop}' },\n    { label: 'Math', value: '{!PrimaryColors.Math}' },\n    { label: 'Procedures', value: '{!PrimaryColors.Procedure}' },\n    { label: 'String', value: '{!PrimaryColors.Text}' },\n    { label: 'Variables', value: '{!PrimaryColors.Variable}' },\n    { label: 'Variables (dynamic)', value: '{!PrimaryColors.Variable_dynamic}' },\n]\n\nexport const ColorHues: IListItemData[] = [\n    { label: '0', value: '0' },\n    { label: '15', value: '15' },\n    { label: '30', value: '30' },\n    { label: '45', value: '45' },\n    { label: '60', value: '60' },\n    { label: '75', value: '75' },\n    { label: '90', value: '90' },\n    { label: '105', value: '105' },\n    { label: '120', value: '120' },\n    { label: '135', value: '135' },\n    { label: '150', value: '150' },\n    { label: '165', value: '165' },\n    { label: '180', value: '180' },\n    { label: '195', value: '195' },\n    { label: '210', value: '210' },\n    { label: '225', value: '225' },\n    { label: '240', value: '240' },\n    { label: '255', value: '255' },\n    { label: '270', value: '270' },\n    { label: '285', value: '285' },\n    { label: '300', value: '300' },\n    { label: '315', value: '315' },\n    { label: '330', value: '330' },\n    { label: '345', value: '345' },\n]\n\nexport const PredefinedBlockTypes: IListItemData[] = Object.keys(KnownBlocklyTypes).map((key) => {\n    const ret: IListItemData = {\n        label: Vue.$l(`Blockly.BlockTypeNames.${key}`),\n        value: KnownBlocklyTypes[key],\n    }\n    return ret\n})\n\nexport const ColorSelection: IListItemData[] = [...ColorThemeSelection, ...ColorHues]\n\nexport const ColorSelectionWithNone: IListItemData[] = [\n    { label: 'None', value: '' },\n    ...ColorSelection,\n]\n\nexport const PredefinedArgumentTypes: IListItemData[] = Object.keys(BlockArgumentTypes).map(\n    (key) => {\n        const ret: IListItemData = {\n            label: Vue.$l(`Blockly.ArgumentTypeNames.${key}`),\n            value: key,\n        }\n        return ret\n    }\n)\n\nexport const blockStyles = {\n    colour_blocks: {\n        colourPrimary: BlockPrimaryColors.Colour,\n        colourSecondary: BlockSecondaryColors.Colour,\n        colourTertiary: BlockTertiaryColors.Colour,\n        hat:'cap',\n    },\n    list_blocks: {\n        colourPrimary: BlockPrimaryColors.List,\n        colourSecondary: BlockSecondaryColors.List,\n        colourTertiary: BlockTertiaryColors.List,\n        hat:'cap',\n    },\n    logic_blocks: {\n        colourPrimary: BlockPrimaryColors.Logic,\n        colourSecondary: BlockSecondaryColors.Logic,\n        colourTertiary: BlockTertiaryColors.Logic,\n        hat:'cap',\n    },\n    loop_blocks: {\n        colourPrimary: BlockPrimaryColors.Loop,\n        colourSecondary: BlockSecondaryColors.Loop,\n        colourTertiary: BlockTertiaryColors.Loop,\n        hat:'cap',\n    },\n    math_blocks: {\n        colourPrimary: BlockPrimaryColors.Math,\n        colourSecondary: BlockSecondaryColors.Math,\n        colourTertiary: BlockTertiaryColors.Math,\n        hat:'cap',\n    },\n    procedure_blocks: {\n        colourPrimary: BlockPrimaryColors.Procedure,\n        colourSecondary: BlockSecondaryColors.Procedure,\n        colourTertiary: BlockTertiaryColors.Procedure,\n        hat:'cap',\n    },\n    text_blocks: {\n        colourPrimary: BlockPrimaryColors.Text,\n        colourSecondary: BlockSecondaryColors.Text,\n        colourTertiary: BlockTertiaryColors.Text,\n        hat:'cap',\n    },\n    variable_blocks: {\n        colourPrimary: BlockPrimaryColors.Variable,\n        colourSecondary: BlockSecondaryColors.Variable,\n        colourTertiary: BlockTertiaryColors.Variable,\n        hat:'cap',\n    },\n    variable_dynamic_blocks: {\n        colourPrimary: BlockPrimaryColors.Variable_dynamic,\n        colourSecondary: BlockSecondaryColors.Variable_dynamic,\n        colourTertiary: BlockTertiaryColors.Variable_dynamic,\n        hat:'cap',\n    },\n    hat_blocks: {\n        colourPrimary: '330',\n        colourSecondary: '330',\n        colourTertiary: '330',\n        hat: 'cap',\n    },\n}\n\nexport const categoryStyles = {\n    colour_category: { colour: blockStyles.colour_blocks.colourPrimary },\n    list_category: { colour: blockStyles.list_blocks.colourPrimary },\n    logic_category: { colour: blockStyles.logic_blocks.colourPrimary },\n    loop_category: { colour: blockStyles.loop_blocks.colourPrimary },\n    math_category: { colour: blockStyles.math_blocks.colourPrimary },\n    procedure_category: { colour: blockStyles.procedure_blocks.colourPrimary },\n    text_category: { colour: blockStyles.text_blocks.colourPrimary },\n    variable_category: { colour: blockStyles.variable_blocks.colourPrimary },\n    variable_dynamic_category: {\n        colour: blockStyles.variable_dynamic_blocks.colourPrimary,\n    },\n}\n\n//export const theme = new Blockly.Theme('CodeBlocks', blockStyles as any, categoryStyles)\n\nexport class BlocklyHelper {\n    \n    public toArgumentDescription(a: BlockArgumentTypes) {\n        const n = Vue.$l(`Blockly.ArgumentTypeNames.${a}`)\n        return n ? `${n} (${a})` : a\n    }\n    private serializeToolboxItem(i: IBlocklyToolboxItem): string {\n        return `<block type=\"${i.type}\"></block>`\n    }\n    private serializeToolboxItems(items: IBlocklyToolboxItem[]): string {\n        return items.map((item) => this.serializeToolboxItem(item)).join('\\n')\n    }\n    private serializeToolboxCategory(i: IBlocklyToolboxCategory): string {\n        let res = `<category name=\"${i.name}\"`\n        if (i.color && i.color != '') {\n            res += ` colour=\"${i.color}\"`\n        }\n        if (i.custom && i.custom != '') {\n            res += ` custom=\"${i.custom}\"`\n        }\n        res += `>${this.serializeToolboxItems(i.items)}</category>`\n        return res\n    }\n    private serializeToolboxCategories(items: IBlocklyToolboxCategory[]): string {\n        return items.map((item) => this.serializeToolboxCategory(item)).join('\\n')\n    }\n\n    public serializeToolbox(toolbox: IBlocklyToolbox): string {\n        const catCount = toolbox.categories.length\n        if (toolbox.categories && catCount > 1) {\n            return `${this.serializeToolboxCategories(toolbox.categories)}`\n        } else if (catCount === 1) {\n            const cat = toolbox.categories[0]\n            if (cat.color === undefined || cat.color == '' || cat.name == '') {\n                return '' + this.serializeToolboxItems(cat.items)\n            } else {\n                return '' + this.serializeToolboxCategories(toolbox.categories)\n            }\n        } else {\n            return ''\n        }\n    }\n\n    public getBlockDescription(bl: IBlockDefinition): object {\n        const cp = { ...bl.JSON }\n        cp.colour = this.toHTMLColor(cp.colour)\n        return cp\n    }\n\n    public serializeCustomBlock(bl: IBlockDefinition): string {\n        return JSON.stringify(this.getBlockDescription(bl))\n    }\n\n    public serializeCustomBlocks(bls: IBlockDefinition[]): string {\n        return JSON.stringify(bls.map((bl) => this.getBlockDescription(bl)))\n    }\n\n    get codeUndefines(): string {\n        return 'const window = undefined; const Window = undefined; const document = undefined;const $ = undefined;const _ = undefined;'\n    }\n\n    public removeSelfClosingTags(xml: string): string {\n        //console.log(xml, '\\n', xml.replace(/<(\\w+)([^<]*)\\/>/g, '<$1$2></$1>'))\n        return xml.replace(/<(\\w+)([^<]*)\\/>/g, '<$1$2></$1>')\n    }\n\n    public prepareCode(cc: string): string {\n        return `\"use strict\"; ${this.codeUndefines} return function(){ return {o: ${cc}}.o}.call({})`\n    }\n\n    public prepareBlocklyCode(cc: string): string {\n        return `var Blockly = B;${this.codeUndefines}return { o:function(block) { ${cc} }}.o`\n    }\n\n    public compile(bl: IBlockDefinition, Blockly: any): any | undefined {\n        const cc = this.prepareBlocklyCode(bl.codeString)\n        bl._code = undefined\n        try {\n            //console.log(cc, Blockly)\n            const code = new Function('B', cc)\n            bl._code = code(Blockly)\n        } catch (e) {\n            bl._code = undefined\n            console.error('Error Compiling', cc, e)\n            return e + ''\n        }\n        return undefined\n    }\n\n    public itemForValue(items: IListItemData[], value: string): IListItemData {\n        return Vue.$CodeBlock.itemForValue(items, value)\n    }\n\n    public toColorCode(color: string): string | undefined {\n        if (color === '') {\n            return undefined\n        }\n        return color\n    }\n\n    public toColor(color: string | undefined): string {\n        if (color === undefined) {\n            return ''\n        }\n        Object.keys(BlockPrimaryColors).forEach((key) => {\n            if (color == `{!PrimaryColors.${key}}`) {\n                color = BlockPrimaryColors[key]\n            }\n        })\n        return color\n    }\n\n    public toHTMLColor(color: string | undefined): string {\n        const cl = this.toColor(color)\n        if (cl.length > 0 && cl[0] != '#' && cl[0] != 'h' && cl[0] != 'r') {\n            return `hsl(${cl}, 100%, 50%)`\n        }\n        return cl\n    }\n\n    mounted() {}\n}\n\nexport const blocklyHelper = new BlocklyHelper()\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=style&index=0&id=0bd2a5d9&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=style&index=0&id=140fcf80&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=style&index=0&lang=sass&\"","var map = {\n\t\"./de.json\": \"6ce2\",\n\t\"./en.json\": \"edd4\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"49f8\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=style&index=0&id=8b99c0d6&lang=stylus&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=style&index=0&id=177af904&lang=sass&scoped=true&\"","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n    if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n      mod(require(\"codemirror\"));\n    else if (typeof define == \"function\" && define.amd) // AMD\n      define([\"codemirror\"], mod);\n    else // Plain browser env\n      mod(CodeMirror);\n  })(function(CodeMirror) {\n  \"use strict\";\n  \n  CodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n    var indentUnit = config.indentUnit,\n        statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n        dontAlignCalls = parserConfig.dontAlignCalls,\n        keywords = parserConfig.keywords || {},\n        builtin = parserConfig.builtin || {},\n        blockKeywords = parserConfig.blockKeywords || {},\n        atoms = parserConfig.atoms || {},\n        hooks = parserConfig.hooks || {},\n        multiLineStrings = parserConfig.multiLineStrings,\n        indentStatements = parserConfig.indentStatements !== false;\n    var isOperatorChar = /[+\\-*&%=<>!?|\\/]/;\n  \n    var curPunc;\n  \n    function tokenBase(stream, state) {\n      var ch = stream.next();\n      if (hooks[ch]) {\n        var result = hooks[ch](stream, state);\n        if (result !== false) return result;\n      }\n      if (ch == '\"' || ch == \"'\") {\n        state.tokenize = tokenString(ch);\n        return state.tokenize(stream, state);\n      }\n      if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n        curPunc = ch;\n        return null;\n      }\n      if (/\\d/.test(ch)) {\n        stream.eatWhile(/[\\w\\.]/);\n        return \"number\";\n      }\n      if (ch == \"/\") {\n        if (stream.eat(\"*\")) {\n          state.tokenize = tokenComment;\n          return tokenComment(stream, state);\n        }\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return \"comment\";\n        }\n      }\n      if (isOperatorChar.test(ch)) {\n        stream.eatWhile(isOperatorChar);\n        return \"operator\";\n      }\n      stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n      var cur = stream.current();\n      if (keywords.propertyIsEnumerable(cur)) {\n        if (blockKeywords.propertyIsEnumerable(cur)) curPunc = \"newstatement\";\n        return \"keyword\";\n      }\n      if (builtin.propertyIsEnumerable(cur)) {\n        if (blockKeywords.propertyIsEnumerable(cur)) curPunc = \"newstatement\";\n        return \"builtin\";\n      }\n      if (atoms.propertyIsEnumerable(cur)) return \"atom\";\n      return \"variable\";\n    }\n  \n    function tokenString(quote) {\n      return function(stream, state) {\n        var escaped = false, next, end = false;\n        while ((next = stream.next()) != null) {\n          if (next == quote && !escaped) {end = true; break;}\n          escaped = !escaped && next == \"\\\\\";\n        }\n        if (end || !(escaped || multiLineStrings))\n          state.tokenize = null;\n        return \"string\";\n      };\n    }\n  \n    function tokenComment(stream, state) {\n      var maybeEnd = false, ch;\n      while (ch = stream.next()) {\n        if (ch == \"/\" && maybeEnd) {\n          state.tokenize = null;\n          break;\n        }\n        maybeEnd = (ch == \"*\");\n      }\n      return \"comment\";\n    }\n  \n    function Context(indented, column, type, align, prev) {\n      this.indented = indented;\n      this.column = column;\n      this.type = type;\n      this.align = align;\n      this.prev = prev;\n    }\n    function pushContext(state, col, type) {\n      var indent = state.indented;\n      if (state.context && state.context.type == \"statement\")\n        indent = state.context.indented;\n      return state.context = new Context(indent, col, type, null, state.context);\n    }\n    function popContext(state) {\n      var t = state.context.type;\n      if (t == \")\" || t == \"]\" || t == \"}\")\n        state.indented = state.context.indented;\n      return state.context = state.context.prev;\n    }\n  \n    // Interface\n  \n    return {\n      startState: function(basecolumn) {\n        return {\n          tokenize: null,\n          context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", false),\n          indented: 0,\n          startOfLine: true\n        };\n      },\n  \n      token: function(stream, state) {\n        var ctx = state.context;\n        if (stream.sol()) {\n          if (ctx.align == null) ctx.align = false;\n          state.indented = stream.indentation();\n          state.startOfLine = true;\n        }\n        if (stream.eatSpace()) return null;\n        curPunc = null;\n        var style = (state.tokenize || tokenBase)(stream, state);\n        if (style == \"comment\" || style == \"meta\") return style;\n        if (ctx.align == null) ctx.align = true;\n  \n        if ((curPunc == \";\" || curPunc == \":\" || curPunc == \",\") && ctx.type == \"statement\") popContext(state);\n        else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n        else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n        else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n        else if (curPunc == \"}\") {\n          while (ctx.type == \"statement\") ctx = popContext(state);\n          if (ctx.type == \"}\") ctx = popContext(state);\n          while (ctx.type == \"statement\") ctx = popContext(state);\n        }\n        else if (curPunc == ctx.type) popContext(state);\n        else if (indentStatements &&\n                 (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != ';') ||\n                  (ctx.type == \"statement\" && curPunc == \"newstatement\")))\n          pushContext(state, stream.column(), \"statement\");\n        state.startOfLine = false;\n        return style;\n      },\n  \n      indent: function(state, textAfter) {\n        if (state.tokenize != tokenBase && state.tokenize != null) return CodeMirror.Pass;\n        var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n        if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n        var closing = firstChar == ctx.type;\n        if (ctx.type == \"statement\") return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n        else if (ctx.align && (!dontAlignCalls || ctx.type != \")\")) return ctx.column + (closing ? 0 : 1);\n        else if (ctx.type == \")\" && !closing) return ctx.indented + statementIndentUnit;\n        else return ctx.indented + (closing ? 0 : indentUnit);\n      },\n  \n      electricChars: \"{}\",\n      blockCommentStart: \"/*\",\n      blockCommentEnd: \"*/\",\n      lineComment: \"//\",\n      fold: \"brace\"\n    };\n  });\n  \n    function words(str) {\n      var obj = {}, words = str.split(\" \");\n      for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n      return obj;\n    }\n    var cKeywords = \"auto if break int case long char register continue return default short do sizeof \" +\n      \"double static else struct entry switch extern typedef float union for unsigned \" +\n      \"goto while enum void const signed volatile\";\n  \n    function cppHook(stream, state) {\n      if (!state.startOfLine) return false;\n      for (;;) {\n        if (stream.skipTo(\"\\\\\")) {\n          stream.next();\n          if (stream.eol()) {\n            state.tokenize = cppHook;\n            break;\n          }\n        } else {\n          stream.skipToEnd();\n          state.tokenize = null;\n          break;\n        }\n      }\n      return \"meta\";\n    }\n  \n    function cpp11StringHook(stream, state) {\n      stream.backUp(1);\n      // Raw strings.\n      if (stream.match(/(R|u8R|uR|UR|LR)/)) {\n        var match = stream.match(/\"([^\\s\\\\()]{0,16})\\(/);\n        if (!match) {\n          return false;\n        }\n        state.cpp11RawStringDelim = match[1];\n        state.tokenize = tokenRawString;\n        return tokenRawString(stream, state);\n      }\n      // Unicode strings/chars.\n      if (stream.match(/(u8|u|U|L)/)) {\n        if (stream.match(/[\"']/, /* eat */ false)) {\n          return \"string\";\n        }\n        return false;\n      }\n      // Ignore this hook.\n      stream.next();\n      return false;\n    }\n  \n    // C#-style strings where \"\" escapes a quote.\n    function tokenAtString(stream, state) {\n      var next;\n      while ((next = stream.next()) != null) {\n        if (next == '\"' && !stream.eat('\"')) {\n          state.tokenize = null;\n          break;\n        }\n      }\n      return \"string\";\n    }\n  \n    // C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n    // <delim> can be a string up to 16 characters long.\n    function tokenRawString(stream, state) {\n      // Escape characters that have special regex meanings.\n      var delim = state.cpp11RawStringDelim.replace(/[^\\w\\s]/g, '\\\\$&');\n      var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n      if (match)\n        state.tokenize = null;\n      else\n        stream.skipToEnd();\n      return \"string\";\n    }\n  \n    function def(mimes, mode) {\n      if (typeof mimes == \"string\") mimes = [mimes];\n      var words = [];\n      function add(obj) {\n        if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n          words.push(prop);\n      }\n      add(mode.keywords);\n      add(mode.builtin);\n      add(mode.atoms);\n      if (words.length) {\n        mode.helperType = mimes[0];\n        CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n      }\n  \n      for (var i = 0; i < mimes.length; ++i)\n        CodeMirror.defineMIME(mimes[i], mode);\n    }\n  \n    def([\"x-shader/x-vertex\", \"x-shader/x-fragment\", \"text/x-glsl\"], {\n      name: \"clike\",\n      keywords: words(\"float int bool void \" +\n                      \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                      \"mat2 mat3 mat4 \" +\n                      \"sampler2D sampler3D samplerCube \" +\n                      \"const attribute uniform varying \" +\n                      \"break continue discard return \" +\n                      \"for while do if else struct \" +\n                      \"in out inout\"),\n      blockKeywords: words(\"for while do if else struct\"),\n      builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                      \"pow exp log exp2 sqrt inversesqrt \" +\n                      \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                      \"length distance dot cross normalize faceforward \" +\n                      \"reflect refract matrixCompMult \" +\n                      \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                      \"equal notEqual any all not \" +\n                      \"texture2D texture2DLod texture2DProjLod \" +\n                      \"textureCube textureCubeLod \"),\n      atoms: words(\"true false \" +\n                  \"gl_FragColor \" +\n                  \"gl_PointCoord \" +\n                  \"gl_Position gl_PointSize \" +\n                  \"gl_FragCoord gl_FrontFacing \" +\n                  \"gl_FragData \" +\n                  \"gl_DepthRangeParameters \" +\n                  \"gl_MaxVertexAttribs gl_MaxVaryingVectors gl_MaxVertexUniformVectors\" +\n                  \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                  \"gl_MaxFragmentUniformVectors \" +\n                  \"gl_MaxDrawBuffers\"),\n      hooks: {\"#\": cppHook},\n      modeProps: {fold: [\"brace\", \"include\"]}\n    });\n  \n  });","export type finishedCallbackSignatur = (\n    success: boolean,\n    overrideOutput?: any,\n    returnState?: any\n) => void\n\nexport interface IListItemData {\n    readonly label: string\n    readonly value: string\n}\n\nexport enum ErrorSeverity {\n    Error = 2,\n    Warning = 1,\n}\nexport interface IErrorPosition {\n    line: number\n    column: number\n}\nexport interface ICompilerErrorDescription {\n    start: IErrorPosition\n    end: IErrorPosition\n    message: string\n    severity: ErrorSeverity\n}\n\nexport interface IDomLibraray {\n    key: string\n    uri: string[]\n    name: string\n    version: string\n    displayName: string\n    didLoad: boolean\n    utility: boolean\n    order: number\n    onBuildSandboxEnv: (sandbox: any) => void\n}\n\nexport interface ICompilerHashMap {\n    [lang: string]: ICompilerInfo\n}\n\nexport interface ICompilerState {\n    hideGlobalState(): void\n    setAllRunButtons(what: boolean): void\n    displayGlobalState(message: string | null): void\n\n    readonly globalStateHidden: boolean\n    readonly globalStateMessage: string\n    readonly runButtonForceHide: boolean\n}\n\nexport interface ICompilerRegistry {\n    readonly languages: IListItemData[]\n    readonly domLibraries: IListItemData[]\n\n    register(compilers: ICompilerInfo[] | ICompilerInfo): void\n\n    registerSingle(c: ICompilerInfo): void\n    getCompiler(compilerInfo: ICompilerIDQuery): ICompilerInstance | undefined\n\n    versionsForLanguage(languageType: string): string[] | ['none']\n\n    registerDOMLib(\n        uri: string[],\n        name: string,\n        version: string,\n        displayName: string,\n        utility?: boolean,\n        order?: number\n    ): void\n\n    getLibObjects(domLibs: string[]): IDomLibraray[]\n    urisForDOMLibs(domLibs: string[]): string[]\n    loadLibraries(domLibraries: string[], whenLoaded: () => void): void\n}\n\nexport interface ICompileAndRunArguments {\n    max_ms: number\n    log_callback: (txt: string) => void\n    info_callback: (txt: string) => void\n    err_callback: (txt: string) => void\n    compileFailedCallback: (info: ICompilerErrorDescription) => void\n    finishedExecutionCB: finishedCallbackSignatur\n    args: object\n    didReceiveMessage: (cmd: string, data: any) => void\n    postMessageFunction: null | ((cmd: string, data: any) => void)\n    dequeuePostponedMessages: () => void\n    beforeStartHandler: () => void\n    whenFinishedHandler(args: string[] | object): void\n    allowMessagePassing: boolean\n    keepAlive: boolean\n    resultData: Object | any[] | undefined\n}\n\nexport interface ICompilerInstance {\n    readonly version: string\n    readonly language: string\n    readonly canRun: boolean\n    readonly canStop: boolean\n    readonly allowsMessagePassing: boolean\n    readonly allowsContinousCompilation: boolean\n    readonly allowsPersistentArguments: boolean\n    readonly acceptsJSONArgument: boolean\n    readonly experimental: boolean\n    readonly deprecated: boolean\n    isReady: boolean\n    isRunning: boolean\n    readonly libraries?: ICompilerLibraryInfo[]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void\n    preload(): void\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate?: boolean\n    ): void\n    stop?(): void\n}\n\nexport interface ICompilerLibraryInfo {\n    readonly key: string\n    readonly name: string\n    readonly version: string\n    readonly displayName: string\n}\n\nexport interface ICompilerInfo {\n    readonly type: string\n    readonly displayName: string\n    readonly versions: ICompilerInstance[]\n    readonly default: ICompilerInstance\n}\n\nexport interface ICompilerID {\n    languageType: string\n    version: string\n}\n\nexport interface ICompilerIDQuery {\n    languageType: string\n    version?: string\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=style&index=0&lang=sass&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"codeblock block-\" + _vm.typeName)},[_c('CodeBlockButton',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showBookmarkButton),expression:\"showBookmarkButton\"}],attrs:{\"block\":_vm.block,\"isBookmarkPanel\":_vm.isBookmarkPanel}}),_c('codemirror',{ref:\"codeBox\",class:(\"accqstXmlInput noRTEditor codebox \" + _vm.boxClass),attrs:{\"value\":_vm.code,\"options\":_vm.options,\"name\":(_vm.namePrefix + \"block[\" + (_vm.block.parentID) + \"][\" + (_vm.block.id) + \"]\"),\"id\":(\"teQ\" + (_vm.block.parentID) + \"B\" + (_vm.block.id)),\"data-question\":_vm.block.parentID,\"events\":['keyup']},on:{\"ready\":_vm.onCodeReady,\"focus\":_vm.onCodeFocus,\"input\":_vm.onCodeChangeDefered,\"input-read\":_vm.onCodeKeyHandle,\"keyup\":_vm.onCodeKeyHandle}}),(_vm.editMode)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasAlternativeContent),expression:\"hasAlternativeContent\"}]},[_c('div',{staticClass:\"q-mt-lg text-subtitle2\"},[_vm._v(_vm._s(_vm.$t('CodeBlock.Initial_Content')))]),_c('codemirror',{ref:\"altBox\",class:(\"accqstXmlInput noRTEditor \" + _vm.boxClass),attrs:{\"value\":_vm.altCode,\"options\":_vm.altOptions,\"name\":(_vm.namePrefix + \"alt_block[\" + (_vm.block.parentID) + \"][\" + (_vm.block.id) + \"]\")},on:{\"ready\":_vm.onAltCodeReady,\"focus\":_vm.onAltCodeFocus,\"input\":_vm.onAltCodeChangeDefered}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-icon',{class:(\"mdi \" + _vm.severityClass + \" mainTipIcon\"),attrs:{\"name\":_vm.severityIcon}},[_c('q-tooltip',[_c('div',[_c('ul',{staticClass:\"tiplist\"},_vm._l((_vm.errors),function(error){return _c('li',{key:error.message},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-1\"},[_c('q-icon',{attrs:{\"name\":_vm.iconForSeverity(error.severity)}})],1),_c('div',{staticClass:\"col-11 q-pr-md\"},[_c('div',{staticClass:\"q-my-none tipper\"},[_vm._v(_vm._s(error.message))])])])])}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { ErrorSeverity, ICompilerErrorDescription } from '@/lib/ICompilerRegistry'\n\n@Component\nexport default class ErrorTip extends Vue {\n    @Prop() errors!: ICompilerErrorDescription\n    @Prop() severity!: ErrorSeverity\n\n    get severityClass(): string {\n        return this.classForSeverity(this.severity)\n    }\n    get severityIcon(): string {\n        return this.iconForSeverity(this.severity)\n    }\n\n    classForSeverity(s: ErrorSeverity): string {\n        if (s == ErrorSeverity.Error) {\n            return 'gutter-error'\n        }\n        return 'gutter-warning'\n    }\n    iconForSeverity(s: ErrorSeverity): string {\n        if (s == ErrorSeverity.Error) {\n            return 'report'\n        }\n        return 'warning'\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ErrorTip.vue?vue&type=template&id=67eb593e&\"\nimport script from \"./ErrorTip.vue?vue&type=script&lang=ts&\"\nexport * from \"./ErrorTip.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ErrorTip.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QIcon,QTooltip});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"floatingButton\"},[_c('q-btn',{attrs:{\"color\":_vm.color,\"text-color\":\"black\",\"icon\":_vm.iconName,\"round\":\"\",\"size\":\"xs\"},on:{\"click\":_vm.onClick}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Emit } from 'vue-property-decorator'\nimport { BlockData, IBlockBookmarkPayload } from '@/lib/codeBlocksManager'\n\n@Component\nexport default class CodeBlockButton extends Vue {\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ default: false }) isBookmarkPanel!: boolean\n\n    get color(): string {\n        return this.isBookmarkPanel ? 'red-4' : 'amber'\n    }\n\n    get iconName(): string {\n        if (this.isBookmarkPanel) {\n            return 'close'\n        }\n        return this.bookmarked ? 'bookmark' : 'bookmark_border'\n    }\n\n    bookmarked: boolean = false\n    bookmarkMe() {\n        const data: IBlockBookmarkPayload = {\n            uuid: this.block.appSettings.uuid,\n            block: this.isBookmarkPanel ? null : this.block\n        }\n        Vue.$GlobalEventHub.$emit('bookmark-block', data)\n    }\n    onClick() {\n        this.bookmarkMe()\n    }\n\n    onBookmark(data: IBlockBookmarkPayload) {\n        this.bookmarked =\n            data.block === null || this.block === null ? false : this.block.uuid === data.block.uuid\n    }\n\n    mounted() {\n        Vue.$GlobalEventHub.$on('bookmark-block', this.onBookmark)\n    }\n\n    beforeDestroy() {\n        Vue.$GlobalEventHub.$off('bookmark-block')\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlockButton.vue?vue&type=template&id=0bd2a5d9&scoped=true&\"\nimport script from \"./CodeBlockButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlockButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlockButton.vue?vue&type=style&index=0&id=0bd2a5d9&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bd2a5d9\",\n  null\n  \n)\n\nexport default component.exports\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtn});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport ErrorTip from './ErrorTip.vue'\nimport BaseBlock from './BaseBlock.vue'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { ICompilerErrorDescription } from '@/lib/ICompilerRegistry'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { ITagReplaceAction } from '@/plugins/tagger'\n\nimport codemirror from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\n//themes\nimport 'codemirror/theme/solarized.css'\nimport 'codemirror/theme/base16-dark.css'\nimport 'codemirror/theme/base16-light.css'\nimport 'codemirror/theme/duotone-dark.css'\nimport 'codemirror/theme/duotone-light.css'\nimport 'codemirror/theme/xq-dark.css'\nimport 'codemirror/theme/xq-light.css'\nimport 'codemirror/theme/blackboard.css'\nimport 'codemirror/theme/midnight.css'\nimport 'codemirror/theme/neo.css'\nimport 'codemirror/theme/mbo.css'\nimport 'codemirror/theme/mdn-like.css'\n\n//languages\nimport 'codemirror/mode/clike/clike.js'\nimport 'codemirror/mode/fortran/fortran.js'\nimport 'codemirror/mode/javascript/javascript.js'\nimport 'codemirror/mode/perl/perl.js'\nimport 'codemirror/mode/python/python.js'\nimport 'codemirror/mode/r/r.js'\nimport 'codemirror/mode/ruby/ruby.js'\nimport '@/lib/glsl/glsl'\n\n//plugins\nimport 'codemirror/addon/edit/closebrackets.js'\n\n//helper to create tooltips at runtime\nimport CodeBlockButton from '@/components/CodeBlockButton.vue'\nconst ErrorTipCtor = Vue.extend(ErrorTip)\n\n@Component({ components: { CodeBlockButton } })\nexport default class CodeBlock extends BaseBlock {\n    @Prop({ default: '' }) namePrefix!: string\n    @Prop({ default: false }) emitWhenTypingInViewMode!: boolean\n    @Prop({ default: true }) canBookmark!: boolean\n    @Prop({ default: false }) isBookmarkPanel!: boolean\n    @Prop({ default: false }) readonly!: boolean\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: number | 'auto'\n    @Prop({ default: 'base16-dark' }) theme!: string\n    @Prop({ default: 'text/javascript' }) mode!: string\n    @Prop({ default: undefined }) tagSet!: IRandomizerSet\n    @Prop({\n        required: true,\n        validator: function(b) {\n            if (b === null || b.content === undefined) {\n                return false\n            }\n            if (b.firstLine === undefined) {\n                return false\n            }\n            return true\n        }\n    })\n    block!: BlockData\n\n    get showBookmarkButton(): boolean {\n        return this.canBookmark && this.editMode\n    }\n\n    clearTagMarkers() {\n        if (this.codemirror === undefined) {\n            return\n        }\n\n        let allMarks = this.codemirror.getDoc().getAllMarks()\n        allMarks.forEach(e => {\n            if (\n                e.className == Vue.$tagger.className.rnd ||\n                e.className == Vue.$tagger.className.templ\n            ) {\n                e.clear()\n            }\n        })\n\n        if (this.altcodemirror) {\n            allMarks = this.altcodemirror.getDoc().getAllMarks()\n            allMarks.forEach(e => {\n                if (\n                    e.className == Vue.$tagger.className.rnd ||\n                    e.className == Vue.$tagger.className.templ\n                ) {\n                    e.clear()\n                }\n            })\n        }\n    }\n    clearErrorDisplay() {\n        if (this.codemirror === undefined) {\n            return\n        }\n        let allMarks = this.codemirror.getDoc().getAllMarks()\n        //console.log(\"marks\", this.block.type, allMarks)\n        allMarks.forEach(e => {\n            if (e.className == 'red-wave') {\n                e.clear()\n            }\n        })\n\n        this.codemirror.getDoc().clearGutter('diagnostics')\n    }\n    onCodeReady(editor) {\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        if (\n            this.codemirror &&\n            this.codemirror.display &&\n            this.codemirror.display.input &&\n            this.codemirror.display.input.textarea\n        ) {\n            this.codemirror.display.input.textarea.className = 'noRTEditor'\n        }\n        this.codeBox!.$el.querySelectorAll('textarea[name]').forEach(el => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n            el.id = this.codeBox!.$el.id\n\n            $(el).text(this.block.content)\n            el.setAttribute('data-question', `${this.block.parentID}`)\n            el.setAttribute('data-blocktype', `${this.iliasTypeNr}`)\n            if (this.editMode) {\n                el.setAttribute('is-editmode', `${this.editMode}`)\n            }\n        })\n        this.updateDiagnosticDisplay()\n        this.onCodeChange(this.block.content)\n\n        this.whenBlockIsReady()\n    }\n    onAltCodeReady(editor) {\n        console.d('READY')\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        if (\n            this.altcodemirror &&\n            this.altcodemirror.display &&\n            this.altcodemirror.display.input &&\n            this.altcodemirror.display.input.textarea\n        ) {\n            this.altcodemirror.display.input.textarea.className = 'noRTEditor'\n        }\n        this.altBox!.$el.querySelectorAll('textarea[name]').forEach(el => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n        })\n        this.$nextTick(() => {\n            this.onAltCodeChange(this.block.alternativeContent)\n            this.updateTagDisplay()\n            this.updateHeight()\n        })\n    }\n    onCodeFocus(editor) {}\n    onAltCodeFocus(editor) {}\n\n    codeUpdateTimer: number | null = null\n    codeUpdateStartTime: number = 0\n    onCodeChangeDefered(newCode) {\n        if (!this.editMode) {\n            this.onCodeChange(newCode)\n            return\n        }\n\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.codeUpdateTimer !== null) {\n            clearTimeout(this.codeUpdateTimer)\n            this.codeUpdateTimer = null\n        } else {\n            this.codeUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.codeUpdateTimer = null\n            this.onCodeChange(newCode)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.codeUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.codeUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n\n    continuousCodeUpdateTimer: number | null = null\n    onCodeChange(newCode) {\n        //update line numbers manually (changing in options takes too long)\n        this.block.lineCountHint = this.codemirror.doc.size\n        this.codemirror.options.firstLineNumber = this.block.firstLine\n\n        //copy the content to the actual textbox processed by StudON\n        const tb = this.codeBox.$el.querySelector('textarea[name]') as HTMLTextAreaElement\n        tb.value = newCode\n\n        //copy code to the block structure\n        this.block.content = newCode\n\n        //find all tags\n        this.updateTagDisplay()\n\n        //send out the event for processing\n        if (this.editMode) {\n            this.$emit('code-changed-in-edit-mode', undefined)\n        } else if (this.emitWhenTypingInViewMode) {\n            if (this.continuousCodeUpdateTimer !== null) {\n                clearTimeout(this.continuousCodeUpdateTimer)\n                this.continuousCodeUpdateTimer = null\n            }\n            this.continuousCodeUpdateTimer = setTimeout(() => {\n                this.$emit('code-changed-in-view-mode', undefined)\n            }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n        }\n    }\n\n    codeNeedsTagUpdate: boolean = true\n    didAddText(t: string): void {\n        //console.log('    ', t)\n        if (\n            t.indexOf('!') >= 0 ||\n            t.indexOf('+') >= 0 ||\n            t.indexOf('{') >= 0 ||\n            t.indexOf('{') >= 0 ||\n            t.indexOf('\\n') >= 0\n        ) {\n            this.codeNeedsTagUpdate = true\n        }\n    }\n    onCodeKeyHandle(e) {\n        //console.log('IR', e, arguments)\n        if (arguments.length > 1 && arguments[1] !== undefined) {\n            if (arguments[1].text !== undefined) {\n                arguments[1].text.forEach(t => {\n                    this.didAddText(t)\n                })\n            } else if (arguments[1].key !== undefined) {\n                if (arguments[1].keyCode == 13) {\n                    this.didAddText('\\n')\n                } else {\n                    this.didAddText(arguments[1].key)\n                }\n            }\n        }\n    }\n\n    altCodeUpdateTimer: number | null = null\n    altCodeUpdateStartTime: number = 0\n    onAltCodeChangeDefered(newCode) {\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.altCodeUpdateTimer !== null) {\n            clearTimeout(this.altCodeUpdateTimer)\n            this.altCodeUpdateTimer = null\n        } else {\n            this.altCodeUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.altCodeUpdateTimer = null\n            this.onAltCodeChange(newCode)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.altCodeUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.altCodeUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n    onAltCodeChange(newCode) {\n        if (this.altBox !== undefined) {\n            const tb = this.altBox.$el.querySelector('textarea[name]') as HTMLTextAreaElement\n            tb.value = newCode\n        }\n\n        this.block.alternativeContent = newCode\n        this.updateTagDisplay()\n    }\n    updateHeight() {\n        if (this.visibleLines === 'auto' || this.block.static) {\n            if (this.codemirror) {\n                this.codemirror.setSize('height', 'auto')\n            }\n            if (this.altcodemirror) {\n                this.altcodemirror.setSize('height', 'auto')\n            }\n        } else {\n            if (this.codemirror) {\n                this.codemirror.setSize(null, Math.round(20 * Math.max(1, this.visibleLines)) + 9)\n            }\n            if (this.altcodemirror) {\n                this.altcodemirror.setSize(\n                    null,\n                    Math.round(20 * Math.max(1, this.visibleLines)) + 9\n                )\n            }\n        }\n    }\n    replaceTemplateTags(o: ITagReplaceAction) {\n        if (!this.editMode) {\n            return\n        }\n        if (o.scopeUUID != this.block.scopeUUID) {\n            return\n        }\n        this.block.content = Vue.$tagger.replaceTemplateTagInString(\n            this.block.content,\n            o.name,\n            o.newValue\n        )\n    }\n    updateTagDisplay() {\n        if (\n            !this.editMode ||\n            this.block === undefined ||\n            this.block.appSettings === undefined ||\n            this.block.appSettings.randomizer === undefined ||\n            !this.block.appSettings.randomizer.active ||\n            !this.codeNeedsTagUpdate\n        ) {\n            return\n        }\n\n        this.codeNeedsTagUpdate = false\n        //console.log('Updating Tags')\n        this.clearTagMarkers()\n        Vue.$tagger.getMarkers(this.block.content).forEach(m => {\n            this.codemirror.getDoc().markText(m.start, m.end, {\n                className: Vue.$tagger.className[m.type],\n                inclusiveLeft: true,\n                inclusiveRight: true,\n                title: m.name,\n                startStyle: 'tag-mark-start',\n                endStyle: 'tag-mark-end'\n            })\n        })\n        this.$nextTick(() => {\n            Vue.$tagger.hookClick(this.codeBox.$el, this.block.scopeUUID)\n        })\n\n        if (this.altcodemirror) {\n            Vue.$tagger.getMarkers(this.block.alternativeContent).forEach(m => {\n                this.altcodemirror.getDoc().markText(m.start, m.end, {\n                    className: Vue.$tagger.className[m.type],\n                    inclusiveLeft: true,\n                    inclusiveRight: true,\n                    title: m.name,\n                    startStyle: 'tag-mark-start',\n                    endStyle: 'tag-mark-end'\n                })\n            })\n\n            this.$nextTick(() => {\n                if (this.altBox !== undefined) {\n                    Vue.$tagger.hookClick(this.altBox.$el, this.block.scopeUUID)\n                }\n            })\n        }\n    }\n    updateDiagnosticDisplay() {\n        const val = this.errors\n        if (val !== undefined) {\n            this.clearErrorDisplay()\n\n            const first = this.block.firstLine\n            val.forEach(error => {\n                if (error.start.column >= 0) {\n                    //console.log(\"squiggle\", this.block.type);\n                    //put a squigly line as code marker\n                    this.codemirror.getDoc().markText(\n                        { line: error.start.line - first, ch: error.start.column },\n                        { line: error.end.line - first, ch: error.end.column },\n                        {\n                            className: 'red-wave',\n                            inclusiveLeft: true,\n                            inclusiveRight: true,\n                            title: error.message\n                        }\n                    )\n                }\n\n                //read existing gutter marker or create a new one\n                let info = this.codemirror.getDoc().lineInfo(error.start.line - first)\n                let element =\n                    info && info.gutterMarkers ? info.gutterMarkers['diagnostics'].$component : null\n                if (element == null) {\n                    //console.log(\"Gutter\", this.block.type, error.start.line, error.message, first);\n                    element = document.createElement('span')\n\n                    //place the updated element\n                    this.codemirror\n                        .getDoc()\n                        .setGutterMarker(error.start.line - first, 'diagnostics', element)\n\n                    element.$component = new ErrorTipCtor({\n                        propsData: {\n                            errors: [],\n                            severity: error.severity\n                        }\n                    }).$mount(element)\n\n                    element = element.$component\n                }\n\n                //make sure we use the proper class for the given severity.\n                //We allways choose the maximum severity for each marking\n                element.severity = Math.max(error.severity, element.severity)\n\n                //Build the hint text\n                if (element.errors.indexOf(error) == -1) {\n                    element.errors.push(error)\n                }\n            })\n        } else {\n            this.clearErrorDisplay()\n        }\n    }\n\n    get codeBox(): Vue {\n        return this.$refs.codeBox as Vue\n    }\n\n    get altBox(): Vue | undefined {\n        return this.$refs.altBox as Vue\n    }\n\n    get hasAlternativeContent() {\n        return this.block.hasAlternativeContent && this.typeName == 'block'\n    }\n    get errors(): ICompilerErrorDescription[] {\n        return this.block.errors\n    }\n    get randomizerActive() {\n        return this.tagSet !== undefined\n    }\n    get boxClass() {\n        let cl = ''\n        if (this.block.hidden && !this.editMode) {\n            cl += 'hiddenBox '\n        }\n        if (this.block.readonly || this.readonly) {\n            cl += 'readonlyBox '\n        }\n        if (this.block.static) {\n            cl += 'staticBox '\n        }\n        return cl\n    }\n    get iliasTypeNr() {\n        const t = this.typeName\n        if (t == 'text') {\n            return 0\n        }\n        if (t == 'block-static') {\n            return 1\n        }\n        if (t == 'block') {\n            return 2\n        }\n        if (t == 'block-hidden') {\n            return 3\n        }\n        if (t == 'playground') {\n            return 4\n        }\n        if (t == 'blockly') {\n            return 5\n        }\n        return -1\n    }\n    get typeName() {\n        let s = this.block.type.toLowerCase()\n        if (this.block.hidden) {\n            s += '-hidden'\n        }\n        if (this.block.static) {\n            s += '-static'\n        }\n        return s\n    }\n    get altCode() {\n        if (this.block.alternativeContent === null) {\n            return ''\n        }\n        return this.block.alternativeContent\n    }\n    get code() {\n        if (!this.editMode) {\n            return this.block.actualContent()\n        }\n        return this.block.content\n    }\n    get options() {\n        return {\n            // codemirror options\n            mode: this.mode,\n            theme: this.theme,\n            lineNumbers: true,\n            line: true,\n            tabSize: 4,\n            indentUnit: 4,\n            autoCloseBrackets: true,\n            readOnly:\n                !this.editMode &&\n                (this.block.readonly || this.block.static || this.block.hidden || this.readonly),\n            //firstLineNumber: this.block.firstLine, //make sure to change altOptions as well when activating this\n            gutters: ['diagnostics', 'CodeMirror-linenumbers']\n        }\n    }\n    get altOptions() {\n        return this.options\n        // let o = { ...this.options }\n        // o.firstLineNumber = 1\n        // return o\n    }\n    get codemirror(): any | undefined {\n        return (this.codeBox as any).codemirror\n    }\n    get altcodemirror(): any | undefined {\n        if (this.altBox === undefined) {\n            return undefined\n        }\n        return (this.altBox as any).codemirror\n    }\n    get readyWhenMounted() {\n        return false\n    }\n    @Watch('block.firstLine')\n    onFirstLineChanged(val) {\n        if (this.codemirror) {\n            if (this.codemirror.options.firstLineNumber != this.block.firstLine) {\n                this.codemirror.options.firstLineNumber = this.block.firstLine\n                this.codemirror.refresh()\n            }\n        }\n    }\n    @Watch('visibleLines')\n    onVisibleLinesChanged(val) {\n        this.updateHeight()\n    }\n    @Watch('errors')\n    onErrorsChanged(val) {\n        this.updateDiagnosticDisplay()\n    }\n\n    created() {\n        console.d('ReadyWhenMounted in CodeBlock', this.readyWhenMounted)\n        //this.$options.readyWhenMounted = false;\n    }\n    mounted() {\n        this.updateHeight()\n\n        if (this.editMode && this.codemirror) {\n            console.d('Attach')\n            const buildIt = () => {\n                console.log('EMIT')\n                this.$emit('build')\n            }\n\n            this.codemirror.addKeyMap({\n                'Cmd-B': function(cMirror) {\n                    buildIt()\n                },\n                'Ctrl-B': function(cMirror) {\n                    buildIt()\n                }\n            })\n\n            this.codemirror.addKeyMap({\n                Tab: function(cMirror) {\n                    cMirror.execCommand('insertSoftTab')\n                }\n            })\n        }\n\n        Vue.$tagger.$on('replace-template-tag', this.replaceTemplateTags)\n        this.codeNeedsTagUpdate = true\n        this.updateTagDisplay()\n    }\n    beforeDestroy() {\n        Vue.$tagger.$off('replace-template-tag', this.replaceTemplateTags)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlock.vue?vue&type=template&id=0368514c&scoped=true&\"\nimport script from \"./CodeBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlock.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlock.vue?vue&type=style&index=0&id=0368514c&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0368514c\",\n  null\n  \n)\n\nexport default component.exports","\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport { BlockData } from '@/lib/codeBlocksManager'\n@Component\nexport default class BaseBlock extends Vue {\n    @Prop({ default: false }) muteReadyState!: boolean\n    @Prop({ required: true }) block!: BlockData\n\n    whenBlockIsReady() {\n        if (this.muteReadyState) {\n            return\n        }\n        this.block.readyCount++\n        this.$emit('ready', this.block)\n    }\n    whenBlockIsDestroyed() {\n        if (this.muteReadyState) {\n            return\n        }\n        this.block.readyCount--\n    }\n\n    get readyWhenMounted() {\n        return true\n    }\n\n    mounted() {\n        if (this.readyWhenMounted) {\n            this.whenBlockIsReady()\n        }\n    }\n\n    beforeDestroy() {\n        this.whenBlockIsDestroyed()\n    }\n}\n","var render, staticRenderFns\nimport script from \"./BaseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseBlock.vue?vue&type=script&lang=ts&\"","import { ICompilerID, IListItemData } from './ICompilerRegistry'\nimport { IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport { IBlockDefinition, IBlocklyToolbox } from './IBlocklyHelper'\n\nexport enum KnownBlockTypes {\n    PLAYGROUND = 'PLAYGROUND',\n    TEXT = 'TEXT',\n    BLOCKHIDDEN = 'BLOCK-hidden',\n    BLOCKSTATIC = 'BLOCK-static',\n    BLOCK = 'BLOCK',\n    BLOCKLY = 'BLOCKLY',\n}\n\nexport enum CodeOutputTypes {\n    AUTO = 'auto',\n    TEXT = 'text',\n    JSON = 'json',\n    DATA = 'data',\n    MAGIC = 'magic',\n}\n\nexport enum CodeExpansionType {\n    LARGE = 2,\n    AUTO = 1,\n    TINY = 0,\n}\n\nexport interface IBlockloadManager {\n    readonly blockTag: string\n    loadFromDatablock: (\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ) => void\n}\n\nexport interface IRandomizerSet {\n    uuid: string\n    values: IRandomizerSetTag[]\n}\n\nexport interface IRandomizerSetTag {\n    tag: string\n    value: string\n}\nexport interface IRandomizerSettings {\n    active: boolean\n    previewIndex: number\n    knownTags: string[]\n    sets: IRandomizerSet[]\n}\n\nexport interface IBlockDataPlayground {\n    width: string\n    height: string\n    align: string\n}\n\nexport interface IBlockError {\n    error: string\n    uuid: string\n}\n\nexport interface IBlockElementData {\n    readonly?: string\n    static?: string\n    hidden?: string\n    visibleLines?: string\n    shouldAutoreset?: string\n    generateTemplate?: string\n    expanded?: string\n    codeExpanded?: string\n    noContent?: string\n    alternativeContent?: string\n    width?: string\n    height?: string\n    align?: string\n    version?: string\n    scopeUUID?: string\n    scopeSelector?: string\n    showControls?: boolean\n    as?: string\n}\n\nexport interface IBlockDataBlockly {\n    toolbox: IBlocklyToolbox\n    blocks: IBlockDefinition[]\n    _blockErrors: IBlockError[]\n    useOverride: boolean\n    toolboxOverride: string\n    showControls: boolean\n}\n\nexport interface ICodeBlockDataState {\n    readonly: boolean\n    static: boolean\n    hidden: boolean\n}\nexport interface IBlockDataBase extends IBlockDataPlayground, ICodeBlockDataState {\n    hasCode: boolean\n    type: KnownBlockTypes\n    content: string\n    alternativeContent: string | null\n    noContent: boolean\n    id: number\n    uuid: string\n    parentID: number\n    expanded: boolean\n    codeExpanded: CodeExpansionType\n    obj: object | null\n    version: string\n    readyCount: number\n    errors: any[]\n    scopeUUID?: string\n    scopeSelector?: string\n    visibleLines: number | 'auto'\n    hasAlternativeContent: boolean\n    shouldAutoreset: boolean\n    generateTemplate: boolean\n    blockly: IBlockDataBlockly\n    lineCountHint: number\n    as?: KnownBlockTypes\n}\n\nexport interface IBlockData extends IBlockDataBase {\n    getThemeForBlock(bl: ICodeBlockDataState): string\n    readonly themeForCodeBlock: string\n}\n\nexport interface IGlobalSettings {\n    baseurl: string\n}\nexport interface IGlobalState extends IGlobalSettings {\n    format_info(text: string): string\n    format_error(text: string): string\n\n    /**\n     * Seperates an outputObject (like the one you will get in the update-method of a playground handler) into a string and a json object seperated by a magic String. Returns an object that contains\n     *  <code>type</code> = <code>'dual'</code> parsed a magic string, <code>'json'</code> parsed as json, <code>'text'</code> plain text\n     *  <code>json</code> = the JSON object that was sent after the magicString\n     *  <code>text</code> = the String that was sent before the magicString\n     * @param {*} outputObject  The outputObject generated by the student code\n     * @param {*} type  'auto' = (default, try to determin what kind of output was generated), 'text', 'json' = (force json parsing), 'magic' = (force use of magic string seperator)\n     * @param {*} magicString The seperating String. By default it is '\\n\\n<JSON>\\n'\n     */\n    processMixedOutput(\n        outputObject: string[] | string,\n        type: CodeOutputTypes,\n        magicString?: string,\n        resultData?: object | any[]\n    ): IProcessedScriptOutput\n    mimeType(language: string): string\n    knownLanguages(): IListItemData[]\n\n    refreshAllCodeMirrors(): void\n    refreshAllCodeMirrorsSync(): void\n\n    itemForValue(items: IListItemData[], value: string): IListItemData\n}\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=style&index=0&id=5a368702&lang=stylus&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=style&index=0&lang=sass&\"","export enum BlockPrimaryColors {\n    Colour = '#cf63cf',\n    List = '#5cb1d6',\n    Logic = '#ffab19',\n    Loop = '#ffbf00',\n    Math = '#4c97ff',\n    Procedure = '#ff6680',\n    Text = '#bbbbca',\n    Variable = '#59c059',\n    Variable_dynamic = '#0fbd8c'\n}\n\nexport enum BlockSecondaryColors {\n    Colour = '#c55ec5',\n    List = '#57a8cb',\n    Logic = '#f2a218',\n    Loop = '#f2b500',\n    Math = '#488ff2',\n    Procedure = '#f2617a',\n    Text = '#b2b2c0',\n    Variable = '#55b655',\n    Variable_dynamic = '#0eb485'\n}\nexport enum BlockTertiaryColors {\n    Colour = '#ba59ba',\n    List = '#539fc1',\n    Logic = '#e69a17',\n    Loop = '#e6ac00',\n    Math = '#4488e6',\n    Procedure = '#e65c73',\n    Text = '#a8a8b6',\n    Variable = '#50ad50',\n    Variable_dynamic = '#0eaa7e'\n}\n\nexport enum BlockOutputTypes {\n    Number = 'Number',\n    Boolean = 'Boolean',\n    String = 'String',\n    Array = 'Array',\n    Color = 'Colour',\n    Any = ''\n}\n\nexport enum BlockSequenceTypes {\n    Action = 'Action'\n}\n\nexport enum BlockArgumentTypes {\n    field_input = 'field_input',\n    field_dropdown = 'field_dropdown',\n    field_checkbox = 'field_checkbox',\n    field_colour = 'field_colour',\n    field_number = 'field_number',\n    field_angle = 'field_angle',\n    field_variable = 'field_variable',\n    field_date = 'field_date',\n    field_label = 'field_label',\n    field_image = 'field_image',\n    input_value = 'input_value',\n    input_statement = 'input_statement',\n    input_dummy = 'input_dummy'\n}\n\nexport interface IBlocklyToolboxItem extends IBlockUIExtension {\n    uuid: string\n    type: string\n}\nexport interface IBlocklyToolboxCategory {\n    uuid: string\n    items: IBlocklyToolboxItem[]\n    color?: string\n    custom?: string\n    name: string\n}\nexport interface IBlocklyToolbox {\n    categories: IBlocklyToolboxCategory[]\n}\n\nexport interface IBlockArgument extends IBlockUIExtension {\n    uuid: string\n    type: BlockArgumentTypes\n    name: string\n    check?: BlockOutputTypes\n    variable?: string\n    variableTypes?: string[]\n}\n\nexport interface IBlockLine extends IBlockUIExtension {\n    uuid: string\n    message: string\n    args: IBlockArgument[]\n}\n\nexport interface IBlockDefinitionJSON {\n    type: string\n    message0: string\n    args0: IBlockArgument[]\n    message1?: string\n    args1?: IBlockArgument[]\n    message2?: string\n    args2?: IBlockArgument[]\n    message3?: string\n    args3?: IBlockArgument[]\n    message4?: string\n    args4?: IBlockArgument[]\n\n    output?: BlockOutputTypes\n    previousStatement: BlockSequenceTypes | null\n    nextStatement: BlockSequenceTypes | null\n    colour: string\n    tooltip?: string\n    helpUrl?: string\n}\n\nexport interface IBlockDefinition extends IBlockUIExtension {\n    uuid: string\n    _code?: Function\n    JSON: IBlockDefinitionJSON\n    XML?: string\n    codeStub?: string\n    codeString: string\n}\n\nexport enum KnownBlocklyTypes {\n    controls_if = 'controls_if',\n    logic_compare = 'logic_compare',\n    logic_operation = 'logic_operation',\n    logic_negate = 'logic_negate',\n    logic_boolean = 'logic_boolean',\n    logic_null = 'logic_null',\n    logic_ternary = 'logic_ternary',\n    controls_repeat_ext = 'controls_repeat_ext',\n    controls_whileUntil = 'controls_whileUntil',\n    controls_for = 'controls_for',\n    controls_forEach = 'controls_forEach',\n    controls_flow_statements = 'controls_flow_statements',\n    math_number = 'math_number',\n    math_arithmetic = 'math_arithmetic',\n    math_single = 'math_single',\n    math_trig = 'math_trig',\n    math_constant = 'math_constant',\n    math_number_property = 'math_number_property',\n    math_round = 'math_round',\n    math_on_list = 'math_on_list',\n    math_modulo = 'math_modulo',\n    math_constrain = 'math_constrain',\n    math_random_int = 'math_random_int',\n    math_random_float = 'math_random_float',\n    text = 'text',\n    text_join = 'text_join',\n    text_append = 'text_append',\n    text_length = 'text_length',\n    text_isEmpty = 'text_isEmpty',\n    text_indexOf = 'text_indexOf',\n    variables_get = 'variables_get',\n    text_charAt = 'text_charAt',\n    text_getSubstring = 'text_getSubstring',\n    text_changeCase = 'text_changeCase',\n    text_trim = 'text_trim',\n    text_print = 'text_print',\n    text_prompt_ext = 'text_prompt_ext',\n    lists_create_with = 'lists_create_with',\n    lists_repeat = 'lists_repeat',\n    lists_length = 'lists_length',\n    lists_isEmpty = 'lists_isEmpty',\n    lists_indexOf = 'lists_indexOf',\n    lists_getIndex = 'lists_getIndex',\n    lists_setIndex = 'lists_setIndex',\n    lists_getSublist = 'lists_getSublist',\n    lists_split = 'lists_split',\n    lists_sort = 'lists_sort',\n    colour_picker = 'colour_picker',\n    colour_random = 'colour_random',\n    colour_rgb = 'colour_rgb',\n    colour_blend = 'colour_blend'\n}\n\nexport interface IBlockUIExtension {\n    _expanded: boolean\n}\n","import Vue from 'vue'\nimport UUID from 'vue-uuid'\n\nVue.use(UUID as any)\n","import Vue from 'vue'\n\nimport '../styles/quasar.styl'\nimport '@quasar/extras/material-icons/material-icons.css'\n\nimport '@quasar/extras/animate/fadeInUp.css'\nimport '@quasar/extras/animate/fadeInDown.css'\nimport '@quasar/extras/animate/fadeOutUp.css'\nimport '@quasar/extras/animate/fadeOutDown.css'\n\nimport '@quasar/extras/animate/fadeIn.css'\nimport '@quasar/extras/animate/fadeOut.css'\n\nimport '@quasar/extras/animate/zoomInDown.css'\nimport '@quasar/extras/animate/zoomInUp.css'\n\nimport Dialog from 'quasar/src/plugins/Dialog.js';import Quasar from 'quasar/src/vue-plugin.js';\n\nconst lang = document.getElementsByTagName('html')[0].getAttribute('lang')\nimport langDe from 'quasar/dist/lang/de.umd.min.js'\nimport langEn from 'quasar/dist/lang/en-gb.umd.min.js'\n\nVue.use(Quasar, {\n    config: {},\n    components: {\n        /* not needed if importStrategy is not 'manual' */\n    },\n    directives: {\n        /* not needed if importStrategy is not 'manual' */\n    },\n    plugins: {\n        Dialog,\n    },\n    animations: ['fadeIn', 'fadeOut'],\n    lang: lang == 'de' ? langDe : langEn,\n})\nQuasar.lang.set(lang == 'de' ? langDe : langEn)\n\nimport 'reflect-metadata'\n","import Vue from 'vue'\nimport { install } from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\ninstall(Vue)\n//Vue.use(VueCodeMirror, {})\n","import Vue from 'vue'\nimport { CodeOutputTypes, IGlobalSettings, IGlobalState } from '@/lib/ICodeBlocks'\nimport { IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport { IListItemData } from '@/lib/ICompilerRegistry'\n\n/**\n * This object defines the programming languages supported for code highlighting\n * using CodeMirror\n * @namespace cmMode The programminglanguages supported\n */\nconst mimeTypesForLanguage = {\n    c: { mime: 'text/x-csrc', displayName: 'C' }, // (C),\n    'c++': { mime: 'text/x-c++src', displayName: 'C++' }, // (C++),\n    'c#': { mime: 'text/x-csharp', displayName: 'C#' }, // (C#),\n    css: { mime: 'text/css', displayName: 'CSS' }, // (CSS)\n    fortran: { mime: 'text/x-fortran', displayName: 'Fortran' }, // (Fortran)\n    glsl: { mime: 'text/x-glsl', displayName: 'GLSL' }, // (GLSL)\n    html: { mime: 'text/html', displayName: 'HTML' }, // (HTML)\n    java: { mime: 'text/x-java', displayName: 'Java' }, // (Java),\n    javascript: { mime: 'text/javascript', displayName: 'JavaScript' }, // (JavaScript)\n    perl: { mime: 'text/x-perl', displayName: 'Perl' }, // (Perl)\n    php: { mime: 'application/x-httpd-php', displayName: 'PHP' }, // (PHP)\n    python: { mime: 'text/x-python', displayName: 'Python' }, // (Python)\n    r: { mime: 'text/x-rsrc', displayName: 'R' }, //(R)\n}\n\nfunction loadSettings(scope: HTMLElement | Document): IGlobalSettings {\n    const options = {\n        baseurl: '',\n    }\n    const settings = scope.querySelectorAll('meta[name^=codeblocks]')\n    settings.forEach((opt) => {\n        const name = opt.getAttribute('name')\n        const value = opt.getAttribute('content')\n\n        if (name == 'codeblocks-baseurl' && value) {\n            options.baseurl = value\n        }\n    })\n    return options\n}\n\nexport class GlobalState implements IGlobalState {\n    public readonly baseurl: string\n\n    constructor() {\n        const options = loadSettings(document)\n        this.baseurl = options.baseurl\n    }\n    format_info(text: string): string {\n        return '<span style=\"color:green\">' + text + '</span>'\n    }\n    format_error(text: string): string {\n        return '<span style=\"color:red\">' + text + '</span>'\n    }\n\n    /**\n     * Seperates an outputObject (like the one you will get in the update-method of a playground handler) into a string and a json object seperated by a magic String. Returns an object that contains\n     *  <code>type</code> = <code>'dual'</code> parsed a magic string, <code>'json'</code> parsed as json, <code>'text'</code> plain text\n     *  <code>json</code> = the JSON object that was sent after the magicString\n     *  <code>text</code> = the String that was sent before the magicString\n     * @param {*} outputObject  The outputObject generated by the student code\n     * @param {*} type  'auto' = (default, try to determin what kind of output was generated), 'text', 'json' = (force json parsing), 'magic' = (force use of magic string seperator)\n     * @param {*} magicString The seperating String. By default it is '\\n\\n<JSON>\\n'\n     */\n    processMixedOutput(\n        outputObject: string[] | string,\n        type: CodeOutputTypes,\n        magicString?: string,\n        resultData?: object | any[]\n    ): IProcessedScriptOutput {\n        if (outputObject !== undefined && Array.isArray(outputObject)) {\n            return {\n                type: 'json',\n                json: outputObject,\n                text: '',\n            }\n        }\n\n        if (magicString === undefined) {\n            magicString = '\\n\\n<JSON>\\n'\n        }\n        const idx = outputObject.indexOf(magicString)\n\n        if (\n            type === CodeOutputTypes.DATA ||\n            (type === CodeOutputTypes.AUTO && resultData != undefined)\n        ) {\n            return {\n                type: 'dual',\n                json: resultData,\n                text: outputObject,\n            }\n        } else if ((type === CodeOutputTypes.AUTO && idx >= 0) || type === CodeOutputTypes.MAGIC) {\n            const str = outputObject.substr(0, idx)\n            let json = undefined\n            const pString = outputObject.substr(idx + magicString.length)\n            try {\n                json = JSON.parse(pString)\n            } catch (ee) {\n                const e: any = ee\n                e.parsedString = pString\n                console.log('catch')\n                throw e\n            }\n\n            return {\n                type: 'dual',\n                json: json,\n                text: str,\n            }\n        } else {\n            if (type === CodeOutputTypes.JSON && resultData !== undefined) {\n                return {\n                    type: CodeOutputTypes.JSON,\n                    json: resultData,\n                    text: '',\n                }\n            }\n            const too = outputObject.trim()\n            if (\n                (type === CodeOutputTypes.AUTO &&\n                    (too.indexOf('[') == 0 || too.indexOf('{') == 0)) ||\n                type === CodeOutputTypes.JSON\n            ) {\n                return {\n                    type: CodeOutputTypes.JSON,\n                    json: JSON.parse(outputObject),\n                    text: '',\n                }\n            }\n        }\n\n        return {\n            type: 'text',\n            json: resultData,\n            text: outputObject,\n        }\n    }\n    mimeType(language: string): string {\n        const o = mimeTypesForLanguage[language]\n        if (o === undefined) {\n            return 'text/javascript'\n        }\n        return o.mime\n    }\n    knownLanguages(): IListItemData[] {\n        return Object.keys(mimeTypesForLanguage)\n            .map((k) => {\n                return { label: mimeTypesForLanguage[k].displayName, value: k }\n            })\n            .sort((a, b) => (a.value < b.value ? -1 : 1))\n    }\n    refreshAllCodeMirrorsSync(): void {\n        document.querySelectorAll('.CodeMirror').forEach((e: any) => e.CodeMirror.refresh())\n    }\n    refreshAllCodeMirrors(): void {\n        setTimeout(() => {\n            this.refreshAllCodeMirrorsSync()\n        }, 100)\n        setTimeout(() => {\n            this.refreshAllCodeMirrorsSync()\n        }, 500)\n    }\n    public itemForValue(items: IListItemData[], value: string): IListItemData {\n        const ret = items.find((i) => i.value == value)\n        if (ret === undefined) {\n            return {\n                label: '???',\n                value: '???',\n            }\n        }\n        return ret\n    }\n}\nexport const globalState = new GlobalState()\nVue.prototype.$CodeBlock = globalState\nVue.$CodeBlock = globalState\n\nVue.$GlobalEventHub = new Vue()\n","import Vue from 'vue'\nimport { ErrorSeverity } from '@/lib/ICompilerRegistry'\n\nVue.prototype.SEVERITY_ERROR = ErrorSeverity.Error\nVue.prototype.SEVERITY_WARNING = ErrorSeverity.Warning\nVue.$SEVERITY_ERROR = ErrorSeverity.Error\nVue.$SEVERITY_WARNING = ErrorSeverity.Warning\n\nVue.prototype.$compilerState = new Vue({\n    data: function() {\n        return {\n            globalStateHidden: true,\n            globalStateMessage: '',\n            runButtonForceHide: false\n        }\n    },\n    methods: {\n        hideGlobalState() {\n            this.displayGlobalState(null)\n        },\n        setAllRunButtons(what: boolean) {\n            this.runButtonForceHide = !what\n        },\n        displayGlobalState(message: string | null) {\n            this.globalStateHidden = message === null || message === undefined || message === ''\n            this.globalStateMessage = message ? message : ''\n        }\n    }\n})\n","import Vue from 'vue'\nimport hljs from 'highlight.js/lib/core'\n//import 'highlight.js/styles/ocean.css'\nimport 'highlight.js/styles/tomorrow.css'\nimport '../styles/highlight.styl'\nimport { DirectiveBinding } from 'vue/types/options'\n\nhljs.configure({ useBR: false })\n\nhljs.registerLanguage('c', require('highlight.js/lib/languages/cpp'))\nhljs.registerLanguage('c++', require('highlight.js/lib/languages/cpp'))\nhljs.registerLanguage('c#', require('highlight.js/lib/languages/csharp'))\nhljs.registerLanguage('css', require('highlight.js/lib/languages/css'))\nhljs.registerLanguage('fortran', require('highlight.js/lib/languages/fortran'))\nhljs.registerLanguage('glsl', require('highlight.js/lib/languages/glsl'))\nhljs.registerLanguage('java', require('highlight.js/lib/languages/java'))\nhljs.registerLanguage('javascript', require('highlight.js/lib/languages/javascript'))\nhljs.registerLanguage('perl', require('highlight.js/lib/languages/perl'))\nhljs.registerLanguage('php', require('highlight.js/lib/languages/php'))\nhljs.registerLanguage('python', require('highlight.js/lib/languages/python'))\nhljs.registerLanguage('r', require('highlight.js/lib/languages/r'))\n\nconst reg_hl = /(\\[hl\\]|\\[hl\\s+language=\"?(.*?)\"?\\])(.*?)(\\[\\/hl\\])/gm\nconst reg_code = /(\\[code\\]|\\[code\\s+language=\"?(.*?)\"?\\])([\\s\\S]*?)(\\[\\/code\\])/gm\n\nhljs.$vue = {\n    processElements: function (\n        scope: Document | HTMLElement | undefined,\n        inLang: string | undefined\n    ) {\n        if (scope === undefined) {\n            scope = document\n        }\n        const elements = scope.querySelectorAll('[highlight]')\n        elements.forEach((el) => {\n            if (inLang === undefined && el.hasAttribute('highlight')) {\n                const lang = el.getAttribute('highlight')\n                inLang = lang === null ? undefined : lang\n            }\n            this.processElement(el, inLang)\n        })\n    },\n    /////The Folowing Code will not replace tags on a string level as this will\n    /////destroy attached objects in the DOM but aims to replace the strings in\n    /////TextNodes only. Changes ar recorded in the q and applied once all nodes\n    /////Were visited. This is probably a lot slower than the pure string version\n    // processTextElement: function(el, inLang, q){\n    //     let txt = el.textContent.replace(reg_hl, function(m1, m2, m3, m4, m5){\n    //         const lang = m3===undefined?inLang:m3;\n    //         //console.log(\"m1\", m1, \"m2\", m2, \"m3\", m3, \"m4\", m4, \"m5\", m5, \"in\", inLang, \"res\", lang)\n    //         if (lang) return '<span is-code>'+hljs.highlight(lang, m4).value + '</span>';\n    //         else return '<span is-code>'+hljs.highlightAuto(m4).value + '</span>';\n    //     });\n\n    //     txt = txt.replace(reg_code, function(m1, m2, m3, m4, m5){\n    //         const lang = m3===undefined?inLang:m3;\n    //         m4 = m4.replace(/<br( +\\/)?>/g, \"\\n\").replace(/&nbsp;/g, \" \");\n    //         if (lang) return '<pre is-code>'+hljs.highlight(lang, m4).value + '</pre>';\n    //         else return '<pre is-code>'+hljs.highlightAuto(m4).value + '</pre>';\n    //     });\n    //     if (txt != el.textContent) {\n    //       q.push(()=>{\n    //          let nel = document.createElement('span');\n    //          nel.innerHTML = txt;\n    //          el.parentNode.replaceChild(nel, el);\n    //       })\n    //     }\n    // },\n    // processElementRec: function(el, inLang, updateList){\n    //     let q = updateList;\n    //     if (q === undefined) q = [];\n\n    //     if (inLang === undefined && el.hasAttribute('highlight')){\n    //         inLang = el.getAttribute('highlight');\n    //     }\n    //     el.innerHTML = el.innerHTML;\n\n    //     el.childNodes.forEach(c => {\n    //        if (c.nodeType==Node.TEXT_NODE) {\n    //            this.processTextElement(c, inLang, q);\n    //        } else {\n    //            this.processElement(c, inLang, q);\n    //        }\n    //     })\n\n    //     if (updateList === undefined){\n    //         q.forEach(f => f());\n    //     }\n    // },\n    processElementSimple(el: HTMLElement, inLang: string | undefined) {\n        if (inLang === undefined && el.hasAttribute('highlight')) {\n            const lang = el.getAttribute('highlight')\n            inLang = lang === null ? 'javascript' : lang\n        }\n\n        let txt = el.innerHTML.replace(reg_hl, function (m1, m2, m3, m4, m5) {\n            const lang = m3 === undefined ? inLang : m3\n            //console.log(\"m1\", m1, \"m2\", m2, \"m3\", m3, \"m4\", m4, \"m5\", m5, \"in\", inLang, \"res\", lang)\n            if (lang) {\n                return '<span is-code>' + hljs.highlight(lang, m4).value + '</span>'\n            } else {\n                return '<span is-code>' + hljs.highlightAuto(m4).value + '</span>'\n            }\n        })\n\n        txt = txt.replace(reg_code, function (m1, m2, m3, m4, m5) {\n            const lang = m3 === undefined ? inLang : m3\n            m4 = m4\n                .replace(/<br( +\\/)?>/g, '\\n')\n                .replace(/&nbsp;/g, ' ')\n                .replace(/&lt;/g, '<')\n                .replace(/&gt;/g, '>')\n                .replace(/&amp;/g, '&')\n\n            if (lang) {\n                return '<pre is-code>' + hljs.highlight(lang, m4).value + '</pre>'\n            } else {\n                return '<pre is-code>' + hljs.highlightAuto(m4).value + '</pre>'\n            }\n        })\n\n        el.innerHTML = txt\n    },\n    processElement(el: HTMLElement, inLang: string | undefined) {\n        if (window.MathJax === undefined) {\n            this.processElementSimple(el, inLang)\n        } else {\n            MathJax.Hub.Register.StartupHook('End', () => {\n                this.processElementSimple(el, inLang)\n            })\n        }\n    },\n}\n\nwindow.highlightAll = function () {\n    hljs.$vue.processElements()\n}\nwindow.highlightElement = function (el: HTMLElement) {\n    hljs.$vue.processElement(el, el.getAttribute('highlight'))\n}\nwindow.hljs = hljs\nVue.$hljs = hljs\n\nVue.directive('highlight', {\n    //deep: true,\n    bind: function (el: HTMLElement, binding: DirectiveBinding) {\n        console.log('DIRECTIVE - bind', el, binding)\n        hljs.$vue.processElement(el, binding.value)\n    },\n    componentUpdated: function (el: HTMLElement, binding: DirectiveBinding) {\n        console.log('DIRECTIVE - update', el, binding)\n        hljs.$vue.processElement(el, binding.value)\n    },\n})\n","import 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport i18n from './i18n'\n//!!! make sure to also change the expression in ilias-builder.js !!!\nconst randomAndTemplateTag = /\\{(:|!)([\\w]*)}/g\n\nimport '../styles/tagger.styl'\nimport { DirectiveBinding } from 'vue/types/options'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\n\nexport interface ITagReplaceAction {\n    name: string\n    newValue: string\n    scopeUUID: string\n}\n\nexport interface ITagMarkers {\n    start: { line: number; ch: number }\n    end: { line: number; ch: number }\n    type: 'rnd' | 'templ'\n    name: string\n}\n@Component\nexport default class Tagger extends Vue {\n    private className = {\n        rnd: 'random-tag-placeholder',\n        templ: 'template-tag-placeholder'\n    }\n\n    getMarkers(s: string): ITagMarkers[] {\n        if (s === undefined || s === null) {\n            return []\n        }\n        let lines = s.split('\\n')\n        let markers: ITagMarkers[] = []\n        let m: RegExpExecArray | null\n        for (let i = 0; i < lines.length; i++) {\n            let regex = new RegExp(randomAndTemplateTag)\n\n            while ((m = regex.exec(lines[i])) !== null) {\n                if (m.index === regex.lastIndex) {\n                    regex.lastIndex++\n                }\n\n                const marker: ITagMarkers = {\n                    start: { line: i, ch: m.index },\n                    end: { line: i, ch: regex.lastIndex },\n                    type: m[1] == ':' ? 'rnd' : 'templ',\n                    name: m[2]\n                }\n                markers.push(marker)\n            }\n        }\n        return markers\n    }\n    processElements(scope: Document | HTMLElement | undefined): void {\n        let uuid: string = ''\n        if (scope === undefined) {\n            scope = document\n        } else {\n            const h = scope as HTMLElement\n            if (!h.hasAttribute('uuid')) {\n                uuid = this.$uuid.v4()\n                h.setAttribute('uuid', uuid)\n            } else {\n                uuid = h.getAttribute('uuid')!\n            }\n        }\n\n        const elements = scope.querySelectorAll('[tagged]')\n        const calle = () => {\n            elements.forEach(el => {\n                this.processElement(el as HTMLElement, uuid)\n            })\n        }\n        if (window.MathJax === undefined) {\n            calle()\n        } else {\n            MathJax.Hub.Register.StartupHook('End', calle)\n        }\n    }\n\n    processElement(el: HTMLElement, scopeUUID: string): void {\n        el.innerHTML = this.processString(el.innerHTML, scopeUUID)\n        this.hookClick(el, scopeUUID)\n    }\n\n    processString(str: string, scopeUUID: string): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            const className = m1 === ':' ? this.className.rnd : this.className.templ\n            return (\n                `<span class=\"q-mb-xs  tag-mark-start tag-mark-end ${className}\" >` + m0 + '</span>'\n            )\n        })\n    }\n    hookClick(el: HTMLElement, scopeUUID: string): void {\n        let tags = el.querySelectorAll('.' + this.className.templ)\n        tags.forEach(inTag => {\n            const tag = inTag as HTMLElement\n            let name = tag.innerText.replace(randomAndTemplateTag, (m0, m1, m2) => {\n                return m2\n            })\n            tag.onclick = () => {\n                this.clickFunction(name, tag, scopeUUID)\n            }\n        })\n    }\n    replaceTemplateTag(\n        scope: HTMLElement | Document | undefined,\n        name: string,\n        newValue: string\n    ): void {\n        if (scope === undefined) {\n            scope = document\n        }\n        let tags = scope.querySelectorAll('.' + this.className.templ)\n        tags.forEach(tag => {\n            tag.innerHTML = this.replaceTemplateTagInString(tag.innerHTML, name, newValue)\n        })\n    }\n    replaceTemplateTagInString(str: string, name: string, newValue: string): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            if (m1 == '!' && m2 == name) {\n                return newValue\n            }\n            return m0\n        })\n    }\n    replaceRandomTagsInString(str: string, tagSet: IRandomizerSet): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            if (m1 == ':') {\n                const tag = tagSet.values.find(t => t.tag == m2)\n                if (tag !== undefined) {\n                    return tag.value\n                }\n                return m0\n            }\n            return m0\n        })\n    }\n    clickFunction(name: string, tagEl: HTMLElement, scopeUUID: string): void {\n        //console.log(i18n)\n        Vue.prototype.$q\n            .dialog({\n                title: i18n.t('Tagger.ConfirmRepl'),\n                message: i18n.t('Tagger.ConfirmReplMsg', {\n                    name: '<span class=\"template-tag-placeholder-noclick\">' + name + '</span>'\n                }),\n                html: true,\n                persistent: true,\n                prompt: {\n                    model: '{!' + name + '}',\n                    type: 'text' // optional\n                },\n                ok: {\n                    push: true,\n                    color: 'negative',\n                    icon: 'warning'\n                },\n                cancel: {\n                    push: true,\n                    color: 'positive'\n                }\n            })\n            .onOk((data: string) => {\n                //this.replaceTemplateTag($(tagEl).parents(\".codeblocks\").get(0), name, data)\n                this.replaceTemplateTag($(`[uuid=${scopeUUID}]`).get(0), name, data)\n                console.log(scopeUUID)\n                this.$emit('replace-template-tag', {\n                    name: name,\n                    newValue: data,\n                    scopeUUID: scopeUUID\n                })\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                const me = self as any\n                me.highlighted = false\n            })\n    }\n}\n\nVue.directive('tagged', {\n    //deep: true,\n    bind: function(el: HTMLElement, binding: DirectiveBinding) {\n        Vue.$tagger.processElement(el, binding.value)\n    },\n    componentUpdated: function(el: HTMLElement, binding: DirectiveBinding) {\n        //console.log(\"DIRECTIVE - update\", el, binding)\n        Vue.$tagger.processElement(el, binding.value)\n    }\n})\n\nVue.$tagger = new Tagger()\n","import Vue from 'vue'\n\n/**\n * The overhead time we need to spin up the execution environment. The value is added to the execution time defined for this question\n * @type {int} javaRunOverhead execution overhead in ms\n */\nvar javaRunOverhead = 4000\n\nfunction runJavaWorker(\n    questionID,\n    code,\n    callingCodeBlocks,\n    max_ms,\n    log_callback,\n    info_callback,\n    err_callback,\n    compileFailedCallback,\n    finishedExecutionCB,\n    forceReload = false\n) {\n    let exp = new RegExp('public[ \\n]*class[ \\n]*([a-zA-Z_$0-9]*)[ \\n]*({|implements|extends)')\n    let match = exp.exec(code)\n    if (match == null) {\n        console.error('Unable to determine class Name!', match, code)\n        return\n    }\n\n    let className = match[1]\n\n    let worker = new Worker(Vue.$CodeBlock.baseurl + 'js/doppio/v001/javaWorker.js')\n    let timer = null\n\n    worker.addEventListener(\n        'message',\n        function (e) {\n            const data = e.data\n            //console.log(data)\n            switch (data.event) {\n                case 'finished':\n                    if (timer) {\n                        clearTimeout(timer)\n                        timer = null\n                    }\n\n                    /*if (data.stderr && data.stderr != '') err_callback(data.stderr + \"\\n\") ;\n        if (data.stdout && data.stdout != '') log_callback(data.stdout);*/\n\n                    console.log('Done', data.stdout, data.stderr, finishedExecutionCB)\n                    finishedExecutionCB()\n                    break\n\n                case 'startTimer':\n                    timer = setTimeout(function (e) {\n                        console.log('Sending kill command')\n                        worker.postMessage({ cmd: 'kill' })\n                        timer = setTimeout(function () {\n                            console.log('Terminating Worker')\n                            worker.terminate()\n                        }, 5000)\n                        err_callback(\n                            'Terminated long running Process (>' +\n                                Math.round((max_ms + javaRunOverhead) / 1000) +\n                                's).'\n                        )\n                        JavaExec.setRunButton(true, 'run')\n                        JavaExec.setRunButton(true)\n                        JavaExec.showMessage(null)\n                    }, max_ms + javaRunOverhead) //we need about 4000ms to spin up the execution unit\n                    break\n\n                case 'showMessage':\n                    //console.log(\"showMessage\", data)\n                    JavaExec.showMessage(data.msg)\n                    break\n                case 'output':\n                    if (data.type == 'err') {\n                        err_callback(data.msg)\n                    } else if (data.type == 'nfo') {\n                        info_callback(data.msg)\n                    } else {\n                        log_callback(data.msg)\n                    }\n                    break\n\n                case 'setRunButton':\n                    //console.log(\"setRunButton\", data)\n                    JavaExec.setRunButton(data.enabled, data.info)\n                    break\n\n                case 'cleanCache':\n                    //log_callback('')\n                    if (!forceReload) {\n                        worker.postMessage({ cmd: 'kill' })\n                        console.log('Restarting...')\n                        setTimeout(function () {\n                            runJavaWorker(\n                                questionID,\n                                code,\n                                callingCodeBlocks,\n                                max_ms,\n                                log_callback,\n                                info_callback,\n                                err_callback,\n                                compileFailedCallback,\n                                finishedExecutionCB,\n                                true\n                            )\n                        }, 500)\n                    } else {\n                        JavaExec.setRunButton(false)\n                        JavaExec.showMessage('Failed to initialize JVM.')\n                    }\n                    break\n            }\n        },\n        false\n    )\n\n    worker.postMessage({\n        cmd: 'run',\n        code: code,\n        className: className,\n        max_ms: max_ms + 1000,\n        questionID: questionID,\n        forceReload: forceReload,\n    })\n}\n\nconst singleton = new Vue({\n    data: function () {\n        return {\n            loadedlibs: 0,\n            version: '001',\n            language: 'java',\n            canRun: true,\n            canStop: true,\n            allowsContinousCompilation: false,\n            allowsPersistentArguments: false,\n            allowsMessagePassing: false,\n            acceptsJSONArgument: false,\n            didPreload: false,\n            requestedPreload: false,\n            isReady: false,\n            isRunning: false,\n        }\n    },\n    methods: {\n        preload() {\n            if (this.loadedlibs < 3) {\n                if (this.requestedPreload == false) {\n                    this.requestedPreload = true\n                    this.triggerResourceLoad()\n                }\n\n                return\n            }\n            if (this.didPreload) {\n                return\n            }\n            this.didPreload = true\n            console.log('[Preloading Doppio]')\n            try {\n                JavaExec.showMessage = function (msg) {\n                    this.$compilerState.displayGlobalState(msg)\n                }.bind(this)\n\n                const lock = []\n                JavaExec.setRunButton = function (enabled, info = undefined) {\n                    if (info && !enabled && lock.indexOf(info) == -1) {\n                        lock.push(info)\n                    }\n                    if (info && enabled && lock.indexOf(info) > -1) {\n                        lock.splice(lock.indexOf(info), 1)\n                    }\n\n                    if (!enabled || lock.length == 0) {\n                        this.$compilerState.setAllRunButtons(enabled)\n                    }\n                }.bind(this)\n\n                const self = this\n                JavaExec.initialize(function () {\n                    console.log('Initializing Filesystem')\n                    JavaExec.initFileSystems(\n                        Vue.$CodeBlock.baseurl + 'js/doppio/v001/',\n                        false,\n                        function () {\n                            //JavaExec.printDirContent('sys/vendor');\n\n                            JavaExec.reroutStdStreams()\n                            JavaExec.ready = true\n                            self.isReady = true\n                        }\n                    )\n                })\n            } catch (e) {\n                console.error(e)\n            }\n        },\n        compileAndRun(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n            runCreate = false\n        ) {\n            if (!this.isReady) {\n                return\n            }\n\n            return runJavaWorker(\n                questionID,\n                code,\n                callingCodeBlocks,\n                max_ms,\n                log_callback,\n                info_callback,\n                err_callback,\n                compileFailedCallback,\n                finishedExecutionCB,\n                runCreate\n            )\n        },\n        triggerResourceLoad() {\n            console.log('[Preparing Dependencies for Doppio]')\n            let script = document.createElement('script')\n            script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/browserfs/browserfs.min.js'\n            script.onload = function () {\n                this.loadedlibs++\n                console.log('[BrowserFS loaded]')\n\n                let script = document.createElement('script')\n                script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/doppio/doppio.js'\n                script.onload = function () {\n                    this.loadedlibs++\n                    console.log('[Doppio loaded]')\n\n                    let script = document.createElement('script')\n                    script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/JavaExec.js'\n                    script.onload = function () {\n                        this.loadedlibs++\n                        console.log('[JavaExec loaded]')\n                        if (this.requestedPreload) {\n                            this.preload()\n                        }\n                    }.bind(this)\n                    document.head.appendChild(script)\n                }.bind(this)\n                document.head.appendChild(script)\n            }.bind(this)\n            document.head.appendChild(script)\n        },\n    },\n    created() {},\n})\nexport default singleton\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string, terminate?: boolean): void\n    }\n}\n\nconst teaVMRunOverhead = 30000\n\n//ICompilerInstance\n@Component\nexport class JavaV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'java'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = true\n    readonly experimental = false\n    readonly deprecated = false\n    didPreload: boolean = false\n    teaworker: Worker | undefined = undefined\n    isReady = false\n    isRunning = false\n\n    preload() {\n        if (this.didPreload) {\n            return\n        }\n        this.didPreload = true\n        this.$compilerState.setAllRunButtons(false)\n\n        console.log(`[Preloading TeaVM ${this.version} for Java]`)\n        this.isRunning = true\n        this.createTeaWorker(() => {\n            this.isRunning = false\n            this.$compilerState.hideGlobalState()\n            this.$compilerState.setAllRunButtons(true)\n            //console.log('setAllRun', true)\n        })\n    }\n\n    private createTeaWorker(whenReady: () => void): boolean {\n        if (this.teaworker === undefined) {\n            this.$compilerState.setAllRunButtons(false)\n            this.$compilerState.displayGlobalState('Initializing Runtime')\n            try {\n                this.teaworker = new Worker(\n                    `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/worker.js`\n                )\n            } catch (e) {\n                //this should throw in the offline environment, thus we look for the worker at a different\n                this.teaworker = new Worker('../assCodeQuestion/js/teavm/worker.js')\n            }\n\n            this.teaworker.addEventListener('message', (e: any) => {\n                //console.log('teastuff', e.data)\n                if (e.data.command == 'ok' && e.data.id == 'didload-classlib') {\n                    if (this.teaworker) {\n                        this.teaworker.postMessage({\n                            command: 'compile',\n                            id: 'prep',\n                            text:\n                                'public class Bootstrap { public static void main(String[] args){}}',\n                            mainClass: 'Bootstrap',\n                        })\n                    }\n                    this.isReady = true\n                    if (whenReady) {\n                        //console.log(\"loopback to initial caller\");\n                        whenReady()\n                    } else {\n                        this.$compilerState.setAllRunButtons(true)\n                        this.$compilerState.hideGlobalState()\n                    }\n                } else if (e.data.id == 'prep' && e.data.command == 'compilation-complete') {\n                    /* We could finish initialization here if there appear to be races when compiling multiple sources at once */\n                }\n            })\n\n            //bootstrap environment\n            this.teaworker.postMessage({\n                command: 'load-classlib',\n                id: 'didload-classlib',\n                url: 'classlib.txt',\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    sessionCompileListener: ((e: any) => void) | undefined = undefined\n    sessionID: string = '-1'\n    sessionWorker: any = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate: boolean = true\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        const start = Date.now()\n        let executionFinished = false\n        let booted = false\n\n        if (this.isRunning) {\n            err_callback('System is busy. Please wait until compilation finishes or call a tutor.')\n            return\n        }\n        this.isRunning = true\n        if (runCreate) {\n            if (\n                this.createTeaWorker(() => {\n                    this.isRunning = false\n                    this.compileAndRun(\n                        questionID,\n                        code,\n                        callingCodeBlocks,\n                        options,\n                        false\n                    )\n                })\n            ) {\n                return\n            }\n        }\n\n        if (!this.isReady) {\n            err_callback(\n                'System is not yet ready. Please wait until Initialization finishes or call a tutor.'\n            )\n            return\n        }\n\n        const compilerTimeout = setTimeout(() => {\n            if (!booted) {\n                const time = Date.now() - start\n\n                if (this.teaworker) {\n                    this.teaworker.end(\n                        'TimeoutError:  Compilation took too long (>' +\n                            time +\n                            'ms) and was terminated. Trying to reset the System. Please re-run your code and call a Tutor if this Problem persists.'\n                    )\n                }\n\n                this.teaworker = undefined\n            }\n        }, teaVMRunOverhead)\n\n        let text = code\n            .replace(/\"(?:[^\"\\\\]|\\\\.)*\"|\\/\\*[\\s\\S]*?\\*\\//gm, '')\n            .replace(/(^.*)\\/\\/.*$/gm, '$1') //replace strings and comments\n        //let text = code.replace(/\"(?:[^\"\\\\]+?|(?!\")\"|\\\\{2}|\\\\[\\s\\S])*?\"|^.*(\\/\\/.*$)|\\/\\*[\\s\\S]*?\\*\\//gm, ''); //replace strings and comments\n\n        text = text.replaceRec(/(\\{[^{}]*\\})/gm, '[]') //replace parentheses\n\n        const getMainClass = (_code: string) => {\n            let ret = 'Unknown'\n            //above replaces all {} with [], so look for public class <name> []\n            const regexpMainClass = /public\\s+?class\\s+?([a-zA-Z_$0-9]+?)\\s*?(\\[|\\simplements|\\sextends)/gm\n            let match: RegExpExecArray | null\n            while ((match = regexpMainClass.exec(_code)) !== null) {\n                if (match[1]) {\n                    ret = match[1]\n                    break\n                }\n            }\n            return ret\n        }\n        let mainClass = getMainClass(text)\n        //fallback if the above regExps mangled the student code and we can not find the main class\n        if (mainClass == 'Unknown') {\n            mainClass = getMainClass(code.replace('{', '['))\n        }\n\n        //console.log(mainClass, code);\n        const myListener = (e: any) => {\n            //console.log('this.teaworker', questionID, e.data);\n            if (e.data.id == '' + questionID) {\n                if (e.data.command == 'phase') {\n                    if (e.data.phase == 'DEPENDENCY_ANALYSIS') {\n                        this.$compilerState.displayGlobalState(\n                            'Compiling & Analyzing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'LINKING') {\n                        this.$compilerState.displayGlobalState(\n                            'Linking <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'OPTIMIZATION') {\n                        this.$compilerState.displayGlobalState(\n                            'Optimizing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'RENDERING') {\n                        this.$compilerState.displayGlobalState(\n                            'Creating <b>' + mainClass + '.class</b>'\n                        )\n                    }\n                } else if (e.data.command == 'diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.text,\n                            start: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            end: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            severity:\n                                e.data.severity == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.text + '\\n'\n                    if (e.data.severity == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'compiler-diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.message,\n                            start: {\n                                line: e.data.startLineNumber,\n                                column: e.data.startColumn,\n                            },\n                            end: {\n                                line: e.data.endLineNumber,\n                                column: e.data.endColumn,\n                            },\n                            severity:\n                                e.data.kind == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.humanReadable + '\\n'\n                    if (e.data.kind == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'error') {\n                    if (this.teaworker) {\n                        this.teaworker.end('Error:  An internal compiler Error occured')\n                    }\n                    this.teaworker = undefined\n                } else if (e.data.command == 'compilation-complete') {\n                    booted = true\n                    let runTimeout: number | undefined = undefined\n                    if (this.teaworker) {\n                        this.teaworker.removeEventListener('message', myListener)\n                        this.sessionCompileListener = undefined\n                    }\n                    try {\n                        clearTimeout(compilerTimeout)\n                    } catch (e) {\n                        /* nothing to report */\n                    }\n\n                    if (e.data.status == 'errors') {\n                        finishedExecutionCB(false)\n                        this.isRunning = false\n                    } else {\n                        const runListener = (ee: any) => {\n                            //console.log('JAVA-WORKER-MSG', ee.data)\n                            //console.log('tearunner', questionID, ee.data);\n                            if (ee.data.command == 'run-finished-setup') {\n                                //Nothing to do here\n                            } else if (ee.data.command == 'run-completed') {\n                                finishedExecutionCB(true)\n\n                                console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n                                // info_callback(\n                                //     'Info: Execution finished in ' + (Date.now() - start) + ' ms\\n'\n                                // )\n                                executionFinished = true\n                                this.isRunning = false\n                                workerrun.end()\n                            } else if (ee.data.command == 'stdout') {\n                                log_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command == 'stderr') {\n                                err_callback(ee.data.line + '\\n')\n                            }\n                        }\n                        this.$compilerState.displayGlobalState('Executing <b>' + mainClass + '</b>')\n                        const workerrun = new Worker(\n                            `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/workerrun.js?&v=001`\n                        )\n                        this.sessionWorker = workerrun\n                        workerrun.addEventListener('message', runListener.bind(this))\n\n                        workerrun.postMessage({\n                            command: 'run',\n                            id: '' + questionID,\n                            code: e.data.script,\n                            args: args,\n                        })\n\n                        workerrun.end = (msg: string) => {\n                            this.sessionWorker = undefined\n                            //when we end it IS over, no matter how often we tried :)\n                            try {\n                                workerrun.terminate()\n                                if (runTimeout) {\n                                    clearTimeout(runTimeout)\n                                }\n                            } catch (e) {\n                                /* nothing to report */\n                            }\n\n                            if (executionFinished) {\n                                return\n                            }\n                            executionFinished = true\n                            finishedExecutionCB(false)\n                            this.isRunning = false\n                            if (msg) {\n                                err_callback(msg + '\\n')\n                            }\n                        }\n\n                        const runStart = Date.now()\n                        runTimeout = setTimeout(function () {\n                            const time = Date.now() - runStart\n                            workerrun.end(\n                                'TimeoutError:  Execution took too long (>' +\n                                    time +\n                                    'ms) and was terminated. There might be an endless loop in your code.'\n                            )\n                        }, max_ms)\n                    }\n                }\n            }\n        }\n\n        if (this.teaworker) {\n            this.sessionID = questionID\n            this.sessionCompileListener = myListener\n            this.teaworker.addEventListener('message', myListener)\n        }\n        //console.log(code);\n        this.$compilerState.setAllRunButtons(false)\n        this.$compilerState.displayGlobalState(\n            'Starting Compiler for <b>' + mainClass + '.java</b>'\n        )\n\n        if (this.teaworker) {\n            this.teaworker.postMessage({\n                command: 'compile',\n                id: '' + questionID,\n                text: code,\n                mainClass: mainClass,\n            })\n        }\n\n        if (this.teaworker) {\n            this.teaworker.end = (msg: string, terminate: boolean = true) => {\n                try {\n                    clearTimeout(compilerTimeout)\n                } catch (e) {\n                    //nothing to see here\n                }\n\n                if (booted) {\n                    return\n                }\n                if (this.teaworker && terminate) {\n                    console.log('TERMINATING')\n                    this.teaworker.terminate()\n                }\n                finishedExecutionCB(false)\n                this.isRunning = false\n                this.isReady = true\n                if (msg) {\n                    err_callback(msg + '\\n')\n                }\n            }\n        }\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.sessionWorker) {\n            this.sessionWorker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        } else if (this.teaworker) {\n            if (this.sessionCompileListener) {\n                // this.sessionCompileListener({\n                //     data: {\n                //         id: '' + this.sessionID,\n                //         command: 'compilation-complete',\n                //         status: 'errors',\n                //         errors: [Vue.$l('CodeBlocks.UserCanceled')]\n                //     }\n                // })\n                this.teaworker.removeEventListener('message', this.sessionCompileListener)\n                this.sessionCompileListener = undefined\n            }\n            this.teaworker.end(Vue.$l('CodeBlocks.UserCanceled'), false)\n        }\n    }\n}\n\nexport const javaCompiler_V100 = new JavaV100Compiler()\nexport default javaCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string, terminate?: boolean): void\n    }\n}\n\nconst teaVMRunOverhead = 30000\n\n//ICompilerInstance\n@Component\nexport class JavaV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'java'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = true\n    readonly acceptsJSONArgument = true\n    readonly experimental = true\n    readonly deprecated = false\n    didPreload: boolean = false\n    teaworker: Worker | undefined = undefined\n    isReady = false\n    isRunning = false\n\n    preload() {\n        if (this.didPreload) {\n            return\n        }\n        this.didPreload = true\n        this.$compilerState.setAllRunButtons(false)\n\n        console.log(`[Preloading TeaVM ${this.version} for Java]`)\n        this.isRunning = true\n        this.createTeaWorker(() => {\n            this.isRunning = false\n            this.$compilerState.hideGlobalState()\n            this.$compilerState.setAllRunButtons(true)\n            //console.log('setAllRun', true)\n        })\n    }\n\n    private createTeaWorker(whenReady: () => void): boolean {\n        if (this.teaworker === undefined) {\n            this.$compilerState.setAllRunButtons(false)\n            this.$compilerState.displayGlobalState('Initializing Runtime')\n            try {\n                this.teaworker = new Worker(\n                    `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/worker.js`\n                )\n            } catch (e) {\n                //this should throw in the offline environment, thus we look for the worker at a different\n                this.teaworker = new Worker('../assCodeQuestion/js/teavm/worker.js')\n            }\n\n            this.teaworker.addEventListener('message', (e: any) => {\n                //console.log('teastuff', e.data)\n                if (e.data.command == 'ok' && e.data.id == 'didload-classlib') {\n                    if (this.teaworker) {\n                        this.teaworker.postMessage({\n                            command: 'compile',\n                            id: 'prep',\n                            text: 'public class Bootstrap { public static void main(String[] args){}}',\n                            mainClass: 'Bootstrap',\n                        })\n                    }\n                    this.isReady = true\n                    if (whenReady) {\n                        //console.log(\"loopback to initial caller\");\n                        whenReady()\n                    } else {\n                        this.$compilerState.setAllRunButtons(true)\n                        this.$compilerState.hideGlobalState()\n                    }\n                } else if (e.data.id == 'prep' && e.data.command == 'compilation-complete') {\n                    /* We could finish initialization here if there appear to be races when compiling multiple sources at once */\n                }\n            })\n\n            //bootstrap environment\n            this.teaworker.postMessage({\n                command: 'load-classlib',\n                id: 'didload-classlib',\n                url: 'classlib.txt',\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    sessionCompileListener: ((e: any) => void) | undefined = undefined\n    sessionID: string = '-1'\n    sessionWorker: any = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate: boolean = true\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        console.log(`[Starting TeaVM${options.keepAlive ? ' keepAlive' : ''}]`, args)\n        const start = Date.now()\n        let executionFinished = false\n        let booted = false\n\n        if (this.isRunning) {\n            err_callback('System is busy. Please wait until compilation finishes or call a tutor.')\n            return\n        }\n        this.isRunning = true\n        if (runCreate) {\n            if (\n                this.createTeaWorker(() => {\n                    this.isRunning = false\n                    this.compileAndRun(questionID, code, callingCodeBlocks, options, false)\n                })\n            ) {\n                return\n            }\n        }\n\n        if (!this.isReady) {\n            err_callback(\n                'System is not yet ready. Please wait until Initialization finishes or call a tutor.'\n            )\n            return\n        }\n\n        const compilerTimeout = setTimeout(() => {\n            if (!booted) {\n                const time = Date.now() - start\n\n                if (this.teaworker) {\n                    this.teaworker.end(\n                        'TimeoutError:  Compilation took too long (>' +\n                            time +\n                            'ms) and was terminated. Trying to reset the System. Please re-run your code and call a Tutor if this Problem persists.'\n                    )\n                }\n\n                this.teaworker = undefined\n            }\n        }, teaVMRunOverhead)\n\n        let text = code\n            .replace(/\"(?:[^\"\\\\]|\\\\.)*\"|\\/\\*[\\s\\S]*?\\*\\//gm, '')\n            .replace(/(^.*)\\/\\/.*$/gm, '$1') //replace strings and comments\n        //let text = code.replace(/\"(?:[^\"\\\\]+?|(?!\")\"|\\\\{2}|\\\\[\\s\\S])*?\"|^.*(\\/\\/.*$)|\\/\\*[\\s\\S]*?\\*\\//gm, ''); //replace strings and comments\n\n        text = text.replaceRec(/(\\{[^{}]*\\})/gm, '[]') //replace parentheses\n\n        const getMainClass = (_code: string) => {\n            let ret = 'Unknown'\n            //above replaces all {} with [], so look for public class <name> []\n            const regexpMainClass =\n                /public\\s+?class\\s+?([a-zA-Z_$0-9]+?)\\s*?(\\[|\\simplements|\\sextends)/gm\n            let match: RegExpExecArray | null\n            while ((match = regexpMainClass.exec(_code)) !== null) {\n                if (match[1]) {\n                    ret = match[1]\n                    break\n                }\n            }\n            return ret\n        }\n        let mainClass = getMainClass(text)\n        //fallback if the above regExps mangled the student code and we can not find the main class\n        if (mainClass == 'Unknown') {\n            mainClass = getMainClass(code.replace('{', '['))\n        }\n\n        //console.log(mainClass, code);\n        const myListener = (e: any) => {\n            //console.log('this.teaworker', questionID, e.data);\n            if (e.data.id == '' + questionID) {\n                if (e.data.command == 'phase') {\n                    if (e.data.phase == 'DEPENDENCY_ANALYSIS') {\n                        this.$compilerState.displayGlobalState(\n                            'Compiling & Analyzing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'LINKING') {\n                        this.$compilerState.displayGlobalState(\n                            'Linking <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'OPTIMIZATION') {\n                        this.$compilerState.displayGlobalState(\n                            'Optimizing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'RENDERING') {\n                        this.$compilerState.displayGlobalState(\n                            'Creating <b>' + mainClass + '.class</b>'\n                        )\n                    }\n                } else if (e.data.command == 'diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.text,\n                            start: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            end: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            severity:\n                                e.data.severity == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.text + '\\n'\n                    if (e.data.severity == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'compiler-diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.message,\n                            start: {\n                                line: e.data.startLineNumber,\n                                column: e.data.startColumn,\n                            },\n                            end: {\n                                line: e.data.endLineNumber,\n                                column: e.data.endColumn,\n                            },\n                            severity:\n                                e.data.kind == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.humanReadable + '\\n'\n                    if (e.data.kind == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'error') {\n                    if (this.teaworker) {\n                        this.teaworker.end('Error:  An internal compiler Error occured')\n                    }\n                    this.teaworker = undefined\n                } else if (e.data.command == 'compilation-complete') {\n                    booted = true\n                    let runTimeout: number | undefined = undefined\n                    if (this.teaworker) {\n                        this.teaworker.removeEventListener('message', myListener)\n                        this.sessionCompileListener = undefined\n                    }\n                    try {\n                        clearTimeout(compilerTimeout)\n                    } catch (e) {\n                        /* nothing to report */\n                    }\n\n                    if (e.data.status == 'errors') {\n                        finishedExecutionCB(false, undefined, options.args)\n                        this.isRunning = false\n                    } else {\n                        this.$compilerState.displayGlobalState('Executing <b>' + mainClass + '</b>')\n                        const workerrun = new Worker(\n                            `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/workerrun.js?&v=001`\n                        )\n                        this.sessionWorker = workerrun\n\n                        const runListener = (ee: any) => {\n                            //console.log('JAVA-WORKER-MSG', ee.data)\n                            console.d('tearunner message', questionID, ee.data, ee.data.command)\n                            if (ee.data.command == 'run-finished-setup') {\n                                //Nothing to do here\n                            } else if (\n                                ee.data.command == 'w-exit-keepalive' ||\n                                ee.data.command == 'exit-keepalive'\n                            ) {\n                                //Make sure a keep-alive session can do proper cleanup\n                                if (options.keepAlive) {\n                                    workerrun.postMessage({\n                                        command: 'session-ended',\n                                        id: '' + questionID,\n                                    })\n                                }\n                            } else if (ee.data.command == 'run-completed') {\n                                if (ee.data.args) {\n                                    options.args['return'] = ee.data.args\n                                }\n                                finishedExecutionCB(true, undefined, options.args['return'])\n\n                                console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n                                // info_callback(\n                                //     'Info: Execution finished in ' + (Date.now() - start) + ' ms\\n'\n                                // )\n                                executionFinished = true\n                                this.isRunning = false\n                                workerrun.end()\n                            } else if (ee.data.command == 'stdout') {\n                                log_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command == 'stderr') {\n                                err_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command.indexOf('w-') === 0) {\n                                //Message sent from the workter to the playground\n                                const cmd = ee.data.command.substr(2)\n                                ee.data.command = cmd\n                                options.didReceiveMessage(cmd, ee.data)\n                            } else if (ee.data.command == 'main-finished') {\n                                console.d('MESSAGE - Main Finished')\n                                //set up the real message handler\n                                options.postMessageFunction = (cmd, data) => {\n                                    data = { ...data }\n                                    console.d('MESSAGE - TeaVM Post ', cmd, data)\n                                    data.command = cmd\n                                    data.id = questionID\n                                    wr.postMessage(data)\n                                }\n\n                                options.postMessageFunction('main-finished', {})\n\n                                //make sure to send all queued messages now\n                                options.dequeuePostponedMessages()\n\n                                options.whenFinishedHandler(ee.data.args)\n                            } else if (ee.data.command == 'main-will-start') {\n                                options.beforeStartHandler()\n                            } else if (ee.data.command == 'f-FINAL') {\n                                options.resultData = JSON.parse(ee.data.value)\n                            } else {\n                                console.log('Unknown Message', ee.data)\n                            }\n                        }\n\n                        workerrun.addEventListener('message', runListener.bind(this))\n\n                        workerrun.postMessage({\n                            command: 'run',\n                            id: '' + questionID,\n                            code: e.data.script,\n                            args: args,\n                            messagePosting: options.allowMessagePassing,\n                            keepAlive: options.keepAlive,\n                        })\n                        const wr = workerrun\n\n                        workerrun.end = (msg: string) => {\n                            this.sessionWorker = undefined\n                            //when we end it IS over, no matter how often we tried :)\n                            try {\n                                workerrun.terminate()\n                                if (runTimeout) {\n                                    clearTimeout(runTimeout)\n                                }\n                            } catch (e) {\n                                /* nothing to report */\n                            }\n\n                            if (executionFinished) {\n                                return\n                            }\n                            executionFinished = true\n                            finishedExecutionCB(false, undefined, options.args)\n                            this.isRunning = false\n                            if (msg) {\n                                err_callback(msg + '\\n')\n                            }\n                        }\n\n                        const runStart = Date.now()\n                        runTimeout = setTimeout(function () {\n                            const time = Date.now() - runStart\n                            workerrun.end(\n                                'TimeoutError:  Execution took too long (>' +\n                                    time +\n                                    'ms) and was terminated. There might be an endless loop in your code.'\n                            )\n                        }, max_ms)\n                    }\n                }\n            }\n        }\n\n        if (this.teaworker) {\n            this.sessionID = questionID\n            this.sessionCompileListener = myListener\n            this.teaworker.addEventListener('message', myListener)\n        }\n        //console.log(code);\n        this.$compilerState.setAllRunButtons(false)\n        this.$compilerState.displayGlobalState(\n            'Starting Compiler for <b>' + mainClass + '.java</b>'\n        )\n\n        if (this.teaworker) {\n            this.teaworker.postMessage({\n                command: 'compile',\n                id: '' + questionID,\n                text: code,\n                mainClass: mainClass,\n            })\n        }\n\n        if (this.teaworker) {\n            this.teaworker.end = (msg: string, terminate: boolean = true) => {\n                try {\n                    clearTimeout(compilerTimeout)\n                } catch (e) {\n                    //nothing to see here\n                }\n\n                if (booted) {\n                    return\n                }\n                if (this.teaworker && terminate) {\n                    console.log('TERMINATING')\n                    this.teaworker.terminate()\n                }\n                finishedExecutionCB(false, undefined, options.args)\n                this.isRunning = false\n                this.isReady = true\n                if (msg) {\n                    err_callback(msg + '\\n')\n                }\n            }\n        }\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.sessionWorker) {\n            this.sessionWorker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        } else if (this.teaworker) {\n            if (this.sessionCompileListener) {\n                // this.sessionCompileListener({\n                //     data: {\n                //         id: '' + this.sessionID,\n                //         command: 'compilation-complete',\n                //         status: 'errors',\n                //         errors: [Vue.$l('CodeBlocks.UserCanceled')]\n                //     }\n                // })\n                this.teaworker.removeEventListener('message', this.sessionCompileListener)\n                this.sessionCompileListener = undefined\n            }\n            this.teaworker.end(Vue.$l('CodeBlocks.UserCanceled'), false)\n        }\n    }\n}\n\nexport const javaCompiler_V101 = new JavaV101Compiler()\nexport default javaCompiler_V101\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v001 from './doppio.v001'\nimport v100 from './teavm.v100'\nimport v101 from './teavm.v101'\n\n@Component\nexport class JavaCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'java'\n    displayName = 'Java'\n\n    //attach all version\n    versions = [v001, v100, v101]\n\n    //declare the default one\n    default = v100\n}\n\nexport const JavaCompilers: ICompilerInfo[] | ICompilerInfo = new JavaCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\n//function runJavaScriptWorker( code, log_callback, max_ms, questionID){\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    max_ms: number,\n    log_callback: (txt: string) => void,\n    info_callback: (txt: string) => void,\n    err_callback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishedExecutionCB: finishedCallbackSignatur\n) {\n    log_callback('')\n\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const not_allowed_keywords = ['postMessage', 'close', 'onmessage', 'debugger'] // blacklist (can be evaded, ... see below)\n    for (const key in not_allowed_keywords) {\n        if (code.indexOf(not_allowed_keywords[key]) != -1) {\n            // the user is not allowed to use the functionallity of the WebWorker\n            err_callback(\n                \"PermissionError: The usage of '\" +\n                    not_allowed_keywords[key] +\n                    \"' is not allowed (reserved keyword)!\"\n            )\n            return\n        }\n    }\n    const lines = code.split('\\n').length\n\n    // The user-code is sourrounded by webworker start and finish code (one line each)\n    // additionally, the console.log fnc is replaced, because the original log fnc is consuming much cpu ressources,\n    //      and continues logging, even after the worker was terminated.\n\n    const prefixCode = [\n        'for(var c in console) console[c]=null;', //delete all console functionality\n        \"for(var t in this) if(t!='close' && t!='postMessage' && t!='console') this[t]=null;\", //delete all worker functionality\n        'this.console = {};',\n        'console.log = function(s){', // only allow .log , .warn\n        \"   postMessage(['log',''+s]);\",\n        '};',\n        'console.error = function(s){', // only allow .error\n        \"   postMessage(['err',''+s]);\",\n        '};',\n        'console.warn = console.log;',\n        'onmessage = function(input){',\n        \"   postMessage(['finished',\",\n        \"   ''+(function(input){\",\n        \"           'use strict';\",\n        '\\n',\n    ]\n    const postfixCode = ['\\n', '})(input.data[1])]);', '   close();', '};']\n    code = prefixCode.join('') + code + postfixCode.join('')\n\n    //TODO:: creating a WebWorker from an URL is throwing a SecurityError in  IE 11  ...\n    //          is there any workaround?\n    const worker = new Worker(URL.createObjectURL(new Blob([code], { type: 'text/javascript' })))\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishedExecutionCB(false)\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n    }\n\n    const start = Date.now()\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                time +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > max_ms) {\n            testTimeout\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n\n        testTimeoutIntern()\n        if (e.data[0] == 'finished') {\n            finishedExecutionCB(true)\n            info_callback('Info: Execution finished in ' + (Date.now() - start) + ' ms\\n')\n            worker.end()\n        } else if (e.data[0] == 'log') {\n            log_callback(e.data[1] + '\\n')\n        } else if (e.data[0] == 'err') {\n            err_callback(e.data[1] + '\\n')\n        } else {\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n    worker.onerror = function (e) {\n        if (e.lineno == 1) {\n            compileFailedCallback({\n                start: { line: -1, column: -1 },\n                end: { line: -1, column: -1 },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('Error: ' + e.message)\n        } else if (e.lineno >= lines + 2) {\n            compileFailedCallback({\n                start: { line: lines + 2, column: 0 },\n                end: { line: lines + 2, column: 0 },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('EndOfFile: ' + e.message)\n        } else {\n            compileFailedCallback({\n                start: { line: e.lineno - 2, column: e.colno - 1 },\n                end: { line: e.lineno - 2, column: e.colno },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('Line ' + (e.lineno - 2) + ': ' + e.message)\n        }\n    }\n    worker.postMessage(['start', [10, 200]]) //start worker execution\n\n    setTimeout(testTimeout, max_ms)\n}\n\n//ICompilerInstance\n@Component\nexport class JavascriptV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = true\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runJavaScriptWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const javascriptCompiler_V100 = new JavascriptV100Compiler()\nexport default javascriptCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string): void\n    }\n}\n\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    max_ms: number,\n    log_callback: (txt: string) => void,\n    info_callback: (txt: string) => void,\n    err_callback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishedExecutionCB: finishedCallbackSignatur,\n    args: object\n): Worker | undefined {\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/javascript/v101/jsWorker.js')\n\n    worker.onmessage = function (msg) {\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms) {\n            triggerTimeout()\n        }\n\n        switch (msg.data[0]) {\n            case 'finished':\n                if (msg && msg.data && msg.data.length >= 3) {\n                    args['return'] = msg.data[2]\n                } else {\n                    args['return'] = {}\n                }\n                console.d('returned msg:', msg, ', args:', args)\n                executionFinished = true\n                finishedExecutionCB(true, undefined, args['return'])\n                console.i('Execution finished in ' + time + ' ms\\n')\n                //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n                worker.end()\n                break\n            case 'log':\n                log_callback(msg.data[1] + '\\n')\n                break\n            case 'err':\n                err_callback(msg.data[1] + '\\n')\n                break\n            default:\n                worker.end(\n                    'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n                )\n                break\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                (performance.now() - startTime) +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const startExecution = function (args: object) {\n        //start worker execution\n        worker.postMessage(['start', { code: code, args: args }])\n\n        //stop Worker execution when the time limit is exceeded;\n        setTimeout(triggerTimeout, max_ms)\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage(['importD3'])\n                    startExecution(args)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage(['importBrain'])\n                startExecution(args)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args)\n    }\n\n    return worker\n}\n@Component\nexport class JavascriptV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly isReady = true\n    isRunning = false\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = true\n    readonly experimental = false\n    readonly deprecated = false\n    libraries = [\n        {\n            key: 'd3-101',\n            name: 'd3',\n            version: '5.14.3',\n            displayName: 'D3 - Proxy',\n        },\n        {\n            key: 'brain-2.0.0',\n            name: 'Brain.js',\n            version: '2.0.0-alpha',\n            displayName: 'Brain.js',\n        },\n    ]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void {\n        compilerRegistry.registerDOMLib(\n            [Vue.$CodeBlock.baseurl + 'js/javascript/v101/d3DomProxyToHTML.js'],\n            'd3proxy',\n            '101',\n            'D3 - Proxy',\n            true //makes it a utility lib => not selectable by users\n        )\n    }\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runJavaScriptWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const javascriptCompiler_V101 = new JavascriptV101Compiler()\nexport default javascriptCompiler_V101\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string): void\n    }\n}\n\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    options: ICompileAndRunArguments\n): Worker | undefined {\n    const {\n        max_ms,\n        log_callback,\n        info_callback,\n        err_callback,\n        compileFailedCallback,\n        finishedExecutionCB,\n        args,\n    } = options\n\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/javascript/v102/jsWorker.js')\n\n    worker.onmessage = function (msg: any) {\n        console.d('jsrunner message', questionID, executionFinished, msg.data, msg.data.command)\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms) {\n            triggerTimeout()\n        }\n\n        if (msg.data.command == 'finished') {\n            if (options.allowMessagePassing) {\n                options.whenFinishedHandler(msg.data.args)\n            }\n            if (msg && msg.data && msg.data.args) {\n                args['return'] = msg.data.args\n            } else {\n                args['return'] = {}\n            }\n            console.d('returned msg:', msg, ', args:', args)\n            executionFinished = true\n            finishedExecutionCB(true, undefined, args['return'])\n            console.i('Execution finished in ' + time + ' ms\\n')\n            //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n            worker.end()\n        } else if (msg.data.command == 'log') {\n            log_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'err') {\n            err_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'main-will-start') {\n            options.beforeStartHandler()\n        } else if (msg.data.command == 'main-finished') {\n            console.d('MESSAGE - Main Finished')\n            //set up the real message handler\n            options.postMessageFunction = (cmd, data) => {\n                data = { ...data }\n                console.d('MESSAGE - JS Post ', cmd, data)\n                data.command = cmd\n                data.id = questionID\n                worker.postMessage(data)\n            }\n\n            options.postMessageFunction('main-finished', {})\n\n            //make sure to send all queued messages now\n            options.dequeuePostponedMessages()\n\n            options.whenFinishedHandler(msg.data.args)\n        } else if (msg.data.command == 'w-exit-keepalive' || msg.data.command == 'exit-keepalive') {\n            //Make sure a keep-alive session can do proper cleanup\n            if (options.keepAlive) {\n                worker.postMessage({\n                    command: 'session-ended',\n                    id: '' + questionID,\n                })\n            }\n        } else if (msg.data.command.indexOf('w-') == 0) {\n            msg.data.command = msg.data.command.substr(2)\n        } else if (msg.data.command == 'f-FINAL') {\n            options.resultData = msg.data.value\n        } else {\n            console.i('MESSAGE - ', msg.data)\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                (performance.now() - startTime) +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const startExecution = function (args: object, options: ICompileAndRunArguments) {\n        //start worker execution\n        worker.postMessage({\n            command: 'start',\n            code: code,\n            args: args,\n            messagePosting: options.allowMessagePassing,\n            keepAlive: options.keepAlive,\n        })\n\n        //stop Worker execution when the time limit is exceeded;\n        setTimeout(triggerTimeout, max_ms)\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage({ command: 'importD3' })\n                    startExecution(args, options)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importBrain' })\n                startExecution(args, options)\n            })\n        } else if (l === 'tf-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importTF' })\n                startExecution(args, options)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args, options)\n    }\n\n    return worker\n}\n@Component\nexport class JavascriptV102Compiler extends Vue implements ICompilerInstance {\n    readonly version = '102'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly isReady = true\n    isRunning = false\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = true\n    readonly acceptsJSONArgument = true\n    readonly experimental = true\n    readonly deprecated = false\n    libraries = [\n        {\n            key: 'd3-101',\n            name: 'd3',\n            version: '5.14.3',\n            displayName: 'D3 - Proxy',\n        },\n        {\n            key: 'brain-2.0.0',\n            name: 'Brain.js',\n            version: '2.0.0-alpha',\n            displayName: 'Brain.js',\n        },\n        {\n            key: 'tf-2.0.0',\n            name: 'tf',\n            version: '2.0.0',\n            displayName: 'TensorFlow.js',\n        },\n    ]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void {\n        compilerRegistry.registerDOMLib(\n            [Vue.$CodeBlock.baseurl + 'js/javascript/v101/d3DomProxyToHTML.js'],\n            'd3proxy',\n            '101',\n            'D3 - Proxy',\n            true //makes it a utility lib => not selectable by users\n        )\n    }\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        this.worker = runJavaScriptWorker(questionID, code, callingCodeBlocks, options)\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const javascriptCompiler_V102 = new JavascriptV102Compiler()\nexport default javascriptCompiler_V102\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v100 from './javascript.v100'\nimport v101 from './javascript.v101'\nimport v102 from './javascript.v102'\n\n@Component\nexport class JavascriptCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'javascript'\n    displayName = 'JavaScript'\n\n    //attach all version\n    versions = [v100, v101, v102]\n\n    //declare the default one\n    default = v101\n}\n\nexport const JavascriptCompilers: ICompilerInfo[] | ICompilerInfo = new JavascriptCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runPythonWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur\n) {\n    // the Python program\n    prog = prog.replaceAllPoly('\\t', '    ')\n\n    if (!window.Worker) {\n        errCallback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v100/pyWorker.js')\n\n    // construct message for worker\n    const pyInp = [] // not used jet\n\n    const messageData = { pyProg: prog, pyInp: pyInp, maxMS: maxRuntime }\n    worker.postMessage(['b8e493ca02970aeb0ef734555526bf9b', messageData])\n    const start = Date.now()\n\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (> ' +\n                time +\n                ' ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > maxRuntime) {\n            testTimeout()\n            return true\n        }\n        return false\n    }\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishCallback(false)\n        if (msg) {\n            errCallback(msg)\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n        if (testTimeoutIntern() === true) {\n            return\n        }\n        if (e.data[0] == 'finished') {\n            logCallback(e.data[1].stdOut)\n            finishCallback(true)\n            infoCallback('Info: Execution finished in : ' + (Date.now() - start) + ' ms')\n            worker.end()\n        } else if (e.data[0] === 'err') {\n            const err = JSON.parse(e.data[2])\n            if (err && err.lineno !== undefined && err.colno !== undefined) {\n                compileFailedCallback({\n                    start: { line: err.lineno - 1, column: err.colno },\n                    end: { line: err.lineno - 1, column: err.colno + 1 },\n                    message: err.message,\n                    severity: ErrorSeverity.Error,\n                })\n            } else {\n                if (err && err.lineno !== undefined) {\n                    compileFailedCallback({\n                        start: { line: err.lineno - 1, column: 0 },\n                        end: { line: err.lineno - 1, column: 0 },\n                        message: err.message,\n                        severity: ErrorSeverity.Error,\n                    })\n                }\n            }\n            worker.end('ERROR: ' + e.data[1])\n        } else {\n            worker.end('Unknown error: ' + e.data[1])\n        }\n    }\n    // in any case use the window timeout to terminate the worker\n    setTimeout(testTimeout, maxRuntime)\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = true\n    isReady = true\n    isRunning = false\n\n    preload() {}\n\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const pythonCompiler_V100 = new PythonV100Compiler()\nexport default pythonCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runPythonWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur,\n    legacy: boolean\n): Worker | undefined {\n    console.log('Python Version:', legacy ? '2.7' : '3')\n\n    // the Python program\n    prog = prog.replaceAllPoly('\\t', '    ')\n\n    if (!window.Worker) {\n        errCallback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v101/pyWorker.js')\n\n    // construct message for worker\n    const pyInp = [] // not used jet\n\n    const messageData = {\n        pyProg: prog,\n        pyInp: pyInp,\n        maxMS: maxRuntime,\n        legacy: legacy,\n    }\n    worker.postMessage(['b8e493ca02970aeb0ef734556526bf9b', messageData])\n    const start = Date.now()\n\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (> ' +\n                time +\n                ' ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > maxRuntime) {\n            testTimeout()\n            return true\n        }\n        return false\n    }\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishCallback(false)\n        if (msg) {\n            errCallback(msg)\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n        if (testTimeoutIntern() === true) {\n            return\n        }\n        if (e.data[0] == 'finished') {\n            logCallback(e.data[1].stdOut)\n            finishCallback(true)\n            console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n            //infoCallback('Info: Execution finished in : ' + (Date.now() - start) + ' ms')\n            worker.end()\n        } else if (e.data[0] === 'err') {\n            const err = JSON.parse(e.data[2])\n            if (err && err.lineno !== undefined && err.colno !== undefined) {\n                compileFailedCallback({\n                    start: {\n                        line: err.lineno - 1,\n                        column: err.colno,\n                    },\n                    end: {\n                        line: err.lineno - 1,\n                        column: err.colno + 1,\n                    },\n                    message: err.message,\n                    severity: ErrorSeverity.Error,\n                })\n            } else {\n                if (err && err.lineno !== undefined) {\n                    compileFailedCallback({\n                        start: {\n                            line: err.lineno - 1,\n                            column: 0,\n                        },\n                        end: {\n                            line: err.lineno - 1,\n                            column: 0,\n                        },\n                        message: err.message,\n                        severity: ErrorSeverity.Error,\n                    })\n                }\n            }\n            worker.end('ERROR: ' + e.data[1])\n        } else {\n            worker.end('Unknown error: ' + e.data[1])\n        }\n    }\n    // in any case use the window timeout to terminate the worker\n    setTimeout(testTimeout, maxRuntime)\n\n    return worker\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV101LegacyCompiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            true\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            false\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const pythonCompiler_V101 = new PythonV101Compiler()\nexport const pythonLegacyCompiler_V101 = new PythonV101LegacyCompiler()\n\nexport default {\n    legacyPython: pythonLegacyCompiler_V101,\n    python3: pythonCompiler_V101,\n}\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runPythonWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    options: ICompileAndRunArguments\n): Worker | undefined {\n    const {\n        max_ms,\n        log_callback,\n        info_callback,\n        err_callback,\n        compileFailedCallback,\n        finishedExecutionCB,\n        args,\n    } = options\n\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v102/pyWorker.js')\n\n    worker.onmessage = function (msg: any) {\n        console.d('jsrunner message', questionID, executionFinished, msg.data, msg.data.command)\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms) {\n            triggerTimeout()\n        }\n\n        if (msg.data.command == 'finished') {\n            if (options.allowMessagePassing) {\n                options.whenFinishedHandler(msg.data.args)\n            }\n            if (msg && msg.data && msg.data.args) {\n                args['return'] = msg.data.args\n            } else {\n                args['return'] = {}\n            }\n            console.d('returned msg:', msg, ', args:', args)\n            executionFinished = true\n            finishedExecutionCB(true, undefined, args['return'])\n            console.i('Execution finished in ' + time + ' ms\\n')\n            //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n            worker.end()\n        } else if (msg.data.command == 'exception') {\n            if (compileFailedCallback) {\n                compileFailedCallback({\n                    message: msg.data.text,\n                    start: {\n                        line: msg.data.lineNumber,\n                        column: 0,\n                    },\n                    end: {\n                        line: msg.data.lineNumber,\n                        column: 0,\n                    },\n                    severity:\n                        msg.data.severity == 'ERROR' ? ErrorSeverity.Error : ErrorSeverity.Warning,\n                })\n            }\n        } else if (msg.data.command == 'log') {\n            log_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'err') {\n            err_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'main-will-start') {\n            options.beforeStartHandler()\n        } else if (msg.data.command == 'main-finished') {\n            console.d('MESSAGE - Main Finished')\n            //set up the real message handler\n            options.postMessageFunction = (cmd, data) => {\n                data = { ...data }\n                console.d('MESSAGE - JS Post ', cmd, data)\n                data.command = cmd\n                data.id = questionID\n                worker.postMessage(data)\n            }\n\n            options.postMessageFunction('main-finished', {})\n\n            //make sure to send all queued messages now\n            options.dequeuePostponedMessages()\n\n            options.whenFinishedHandler(msg.data.args)\n        } else if (msg.data.command == 'w-exit-keepalive' || msg.data.command == 'exit-keepalive') {\n            //Make sure a keep-alive session can do proper cleanup\n            if (options.keepAlive) {\n                worker.postMessage({\n                    command: 'session-ended',\n                    id: '' + questionID,\n                })\n            }\n        } else if (msg.data.command.indexOf('w-') == 0) {\n            msg.data.command = msg.data.command.substr(2)\n        } else {\n            console.i('MESSAGE - ', msg.data)\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                (performance.now() - startTime) +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const startExecution = function (args: object, options: ICompileAndRunArguments) {\n        //start worker execution\n        worker.postMessage({\n            command: 'start',\n            code: code,\n            args: args,\n            messagePosting: options.allowMessagePassing,\n            keepAlive: options.keepAlive,\n        })\n\n        //stop Worker execution when the time limit is exceeded;\n        setTimeout(triggerTimeout, max_ms)\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage({ command: 'importD3' })\n                    startExecution(args, options)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importBrain' })\n                startExecution(args, options)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args, options)\n    }\n\n    return worker\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV102Compiler extends Vue implements ICompilerInstance {\n    readonly version = '102'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = true\n    readonly experimental = true\n    readonly deprecated = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        this.worker = runPythonWorker(questionID, code, callingCodeBlocks, options)\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const pythonCompiler_V102 = new PythonV102Compiler()\n\nexport default {\n    python3: pythonCompiler_V102,\n}\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v100 from './python.v100'\nimport v101 from './python.v101'\nimport v102 from './python.v102'\n\n@Component\nexport class PythonCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'python'\n    displayName = 'Python 2.7'\n\n    //attach all version\n    versions = [v100, v101.legacyPython]\n\n    //declare the default one\n    default = v101.legacyPython\n}\n\n@Component\nexport class Python3CompilerInfo extends Vue implements ICompilerInfo {\n    type = 'python3'\n    displayName = 'Python 3'\n\n    //attach all version\n    versions = [v101.python3, v102.python3]\n\n    //declare the default one\n    default = v101.python3\n}\n\nexport const PythonCompilers: ICompilerInfo[] | ICompilerInfo = [\n    new PythonCompilerInfo(),\n    new Python3CompilerInfo(),\n]\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runGLSLWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur\n) {\n    const outputData: string[] = []\n    callingCodeBlocks.blocks\n        .filter((b) => b.hasCode)\n        .forEach((block) => outputData.push(block.content))\n    /*$(\"[data-contains-code][data-question=\"+questionID+\"]\").each(function(i, block) {\n        if (block.getAttribute('data-ignore')) return;\n        if (!blockHasProgramCode(block)) return;\n        const editor = editors[block.id];\n        if (editor) {\n            outputData.push(block.value);\n        } else {\n            outputData.push(block.innerHTML);\n        }\n    });*/\n    finishCallback(true, outputData)\n}\n\n@Component\nexport class GLSLV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'glsl'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly acceptsJSONArgument = false\n    readonly allowsMessagePassing = false\n    readonly deprecated = false\n    readonly experimental = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runGLSLWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const v100 = new GLSLV100Compiler()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport { v100 } from './glsl.v100'\n\n@Component\nexport class GLSLCompilerInfo extends Vue implements ICompilerInfo {\n    readonly type = 'glsl'\n    readonly displayName = 'GLSL Shader'\n\n    //attach all version\n    readonly versions = [v100]\n\n    //declare the default one\n    readonly default = v100\n}\n\nexport const GLSLCompilers: ICompilerInfo[] | ICompilerInfo = new GLSLCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    ICompilerHashMap,\n    IDomLibraray,\n    ICompilerID,\n    ICompilerInfo,\n    IListItemData,\n    ICompilerInstance,\n    ICompilerRegistry,\n    ICompilerIDQuery,\n} from './ICompilerRegistry'\n\n//prepare Compiler Registry\n@Component\nexport class CompilerRegistry extends Vue implements ICompilerRegistry {\n    compilers: ICompilerHashMap = {}\n    libraries: IDomLibraray[] = []\n    loadedURIs: string[] = []\n    afterLoadFinished: (() => void)[] = []\n    isLoadingLibs = false\n\n    get languages(): IListItemData[] {\n        const langs = Object.keys(this.compilers)\n            .map((k) => this.compilers[k])\n            .map((c) => {\n                return { label: c.displayName, value: c.type }\n            })\n            .sort((a, b) => (a.label < b.label ? -1 : 1))\n        return langs\n    }\n\n    get domLibraries(): IListItemData[] {\n        const libs: IDomLibraray[] = this.libraries.filter((l) => !l.utility)\n        return libs.map((l) => {\n            return { label: l.displayName + ' (' + l.version + ')', value: l.key }\n        })\n    }\n\n    register(compilers: ICompilerInfo[] | ICompilerInfo): void {\n        if (Array.isArray(compilers)) {\n            compilers.forEach((c) => this.registerSingle(c))\n        } else {\n            this.registerSingle(compilers)\n        }\n    }\n\n    registerSingle(c: ICompilerInfo): void {\n        this.compilers[c.type] = c\n        c.versions.forEach((v) => {\n            if (v.registerLibs) {\n                v.registerLibs(this)\n            }\n        })\n    }\n\n    getCompiler(compilerInfo: ICompilerIDQuery): ICompilerInstance | undefined {\n        const cmps = this.compilers[compilerInfo.languageType]\n        if (!cmps) {\n            return undefined\n        }\n        if (compilerInfo.version === undefined) {\n            return cmps.default\n        }\n        let res = cmps.versions.find((e) => e.version == compilerInfo.version)\n        if (res === undefined) {\n            res = cmps.default\n        }\n        return res\n    }\n\n    versionsForLanguage(languageType: string): string[] | ['none'] {\n        const c = this.compilers[languageType]\n        if (c === undefined) {\n            return ['none']\n        }\n        return c.versions.map((v) => v.version)\n    }\n\n    registerDOMLib(\n        uri: string[],\n        name: string,\n        version: string,\n        displayName: string,\n        utility: boolean = false,\n        order: number = 0,\n        onBuildSandboxEnv: (sandbox: any) => void = () => {}\n    ): void {\n        this.libraries.push({\n            key: name + '-' + version,\n            uri: uri,\n            name: name,\n            version: version,\n            displayName: displayName,\n            didLoad: false,\n            utility: utility,\n            order: order,\n            onBuildSandboxEnv: onBuildSandboxEnv,\n        })\n    }\n\n    addLoadedToSandbox(sandbox: any) {\n        this.libraries.filter((l) => l.didLoad).forEach((l) => l.onBuildSandboxEnv(sandbox))\n    }\n\n    getLibObjects(domLibs: string[]): IDomLibraray[] {\n        return this.libraries.filter((l) => domLibs.indexOf(l.key) >= 0)\n    }\n\n    urisForDOMLibs(domLibs: string[]): string[] {\n        const libs = this.getLibObjects(domLibs)\n        const uris = libs\n            .filter((l) => !l.didLoad)\n            .sort((a, b) => (a.order < b.order ? 1 : -1))\n            .map((l) => l.uri)\n            .reduce((p, c) => c.concat(p), [])\n\n        return uris\n    }\n    loadLibraries(domLibraries: string[], whenLoaded: () => void): void {\n        const libs = this.urisForDOMLibs(domLibraries)\n        const dlibs = this.getLibObjects(domLibraries)\n        this.loadURIs(\n            libs,\n            function () {\n                dlibs.forEach((l) => (l.didLoad = true))\n                whenLoaded()\n            }.bind(this)\n        )\n    }\n    private loadURIsIter(libs: string[], whenLoaded: () => void): void {\n        console.log(libs)\n        let loadCount = 0\n        const didLoad = (u: string) => {\n            loadCount++\n            if (loadCount == libs.length) {\n                whenLoaded()\n            }\n        }\n        libs.forEach((uri: string) => {\n            if (this.loadedURIs.indexOf(uri) >= 0) {\n                didLoad(uri)\n                return\n            }\n            this.loadedURIs.push(uri)\n\n            const script = document.createElement('script')\n            script.src = uri\n            console.log('[Loading Library from ' + uri + ']')\n            script.onload = function () {\n                console.log('[Loaded ' + uri + ']')\n                didLoad(uri)\n            }\n            document.head.appendChild(script)\n        })\n    }\n\n    private loadURIs(libs: string[], whenLoaded: () => void): void {\n        //make sure we serialize all loads !!!\n        if (this.isLoadingLibs) {\n            //queue the load\n            this.afterLoadFinished.push(() => {\n                this.loadURIs(libs, whenLoaded)\n            })\n            return\n        }\n        this.isLoadingLibs = true\n\n        const self = this\n\n        const loadLib = function (uris, idx) {\n            if (idx >= uris.length) {\n                whenLoaded()\n\n                //something tried to queue another load\n                // => dequeu it and run it now\n                self.isLoadingLibs = false\n                if (self.afterLoadFinished.length > 0) {\n                    const next = self.afterLoadFinished.shift()\n                    if (next) {\n                        next()\n                    }\n                }\n                return\n            }\n\n            const uri = uris[idx]\n\n            //already loaded\n            if (self.loadedURIs.indexOf(uri) >= 0) {\n                loadLib(uris, idx + 1)\n                return\n            }\n            self.loadedURIs.push(uri)\n\n            const script = document.createElement('script')\n            script.src = uri\n            console.log('[Loading Library from ' + uri + ']')\n            script.onload = function () {\n                loadLib(uris, idx + 1)\n            }\n            document.head.appendChild(script)\n        }\n\n        loadLib(libs, 0)\n    }\n}\n\nexport const compilerRegistry = new CompilerRegistry()\n\n//load all available compilers\nimport { JavaCompilers } from '../compiler/java'\ncompilerRegistry.register(JavaCompilers)\n\nimport { JavascriptCompilers } from '../compiler/javascript'\ncompilerRegistry.register(JavascriptCompilers)\n\nimport { PythonCompilers } from '../compiler/python'\ncompilerRegistry.register(PythonCompilers)\n\nimport { GLSLCompilers } from '../compiler/glsl'\ncompilerRegistry.register(GLSLCompilers)\n\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/chart.js/3.6.0/chart.min.js'],\n    'chart',\n    '3.6.0',\n    'Chart.JS',\n    false,\n    1000,\n    (sandbox) => {\n        sandbox.Chart = (window as any).Chart\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/three.min.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/controls/OrbitControls.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/controls/TrackballControls.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/Detector.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/helper.r0.js',\n    ],\n    '3js',\n    'r0',\n    'Three.JS',\n    false,\n    2000,\n    (sandbox) => {\n        sandbox.THREE = (window as any).THREE\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/phaser/3.54.0/phaser.min.js',\n        Vue.$CodeBlock.baseurl + 'js/phaser/3.54.0/support.js',\n    ],\n    'phaser',\n    '3.54',\n    'Phaser',\n    false,\n    3000,\n    (sandbox: any) => {\n        sandbox.Phaser = (window as any).Phaser\n        sandbox.IsometricMapGame = (window as any).IsometricMapGame\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/5.16.0/d3.v5.min.js',\n        Vue.$CodeBlock.baseurl + 'js/d3/5.3.8/helper.js',\n    ],\n    'd3',\n    '5.16.0',\n    'D3',\n    false,\n    4210,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/5.3.8/d3.v5.min.js',\n        Vue.$CodeBlock.baseurl + 'js/d3/5.3.8/helper.js',\n    ],\n    'd3',\n    '5.3.8',\n    'D3',\n    false,\n    4200,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/6.7.0/d3.v6.min.js',\n        //Vue.$CodeBlock.baseurl + 'js/d3/6.2.0/helper.v6.js'\n    ],\n    'd3',\n    '6.7.0',\n    'D3',\n    false,\n    4010,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/6.2.0/d3.v6.min.js',\n        //Vue.$CodeBlock.baseurl + 'js/d3/6.2.0/helper.v6.js'\n    ],\n    'd3',\n    '6.2.0',\n    'D3',\n    false,\n    4000,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/d3/7.1.1/d3.v7.min.js'],\n    'd3',\n    '7.1.1',\n    'D3',\n    false,\n    4100,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/brain.js/2.0.0-alpha/brain-browser.min.js'],\n    'brain',\n    '2.0.0',\n    'Brain.JS',\n    false,\n    5000,\n    (sandbox) => {\n        sandbox.brain = (window as any).brain\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/tensorflow.js/2.0.0/tf.min.js',\n        //Vue.$CodeBlock.baseurl + 'js/tensorflow.js/2.0.0/tfjs-vis.umd.min.js',\n    ],\n    'tf',\n    '2.0.0',\n    'TensorFlow.JS',\n    false,\n    6000,\n    (sandbox) => {\n        sandbox.tf = (window as any).tf\n        //sandbox.tfvis = (window as any).tfvis\n    }\n)\n\nexport default compilerRegistry\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    IParsedError,\n    ILegacyPlaygroundObject,\n    IPlaygroundObject,\n    IProcessedScriptOutput,\n    IScriptOutputObject,\n    IScriptBlock,\n} from '@/lib/IScriptBlock'\nimport { ICompileAndRunArguments } from './ICompilerRegistry'\nimport compilerRegistry from './CompilerRegistry'\ninterface ICodeTemplate {\n    prefix: string\n    postfix: string\n}\n\nconst legacyCodeTemplate: ICodeTemplate = {\n    prefix: 'let editors=[]; $(\".CodeMirror\").toArray().forEach(cm =>  {if (!cm.CodeMirror.getTextArea().hasAttribute(\"is-editmode\")) editors[cm.CodeMirror.getTextArea().id] = cm.CodeMirror}); return function(){ return {o:',\n    postfix: '}.o}.call({})',\n}\nconst v101CodeTemplate: ICodeTemplate = {\n    prefix: '\"use strict\"; return function(){ return {o:',\n    postfix: '}.o}.call({})',\n}\nconst v102CodeTemplate: ICodeTemplate = {\n    prefix: 'with(sandbox) { return function(){ return {o:',\n    postfix: '}.o}.call({})}',\n}\n\nconst jsErrorParser = function (e: any, templ?: ICodeTemplate): IParsedError {\n    console.error(e)\n    let line: number | undefined = undefined\n    let column: number | undefined = undefined\n    if (e.line) {\n        line = e.line\n    } else if (e.lineNumber) {\n        line = e.lineNumber\n    }\n\n    if (e.column) {\n        column = e.column\n    } else if (e.columnNumber) {\n        column = e.columnNumber\n    }\n\n    if (line === undefined) {\n        const lines = e.stack.split('\\n')\n        if (lines.length > 1) {\n            const regex = /<anonymous>:(\\d+):(\\d+)/gm\n            let m: RegExpExecArray | null = null\n            if ((m = regex.exec(lines[1])) !== null) {\n                line = Number(m[1]) - 1\n                column = Number(m[2]) - 1\n            }\n        }\n    }\n\n    if (line !== undefined) {\n        line--\n        if (line == 1) {\n            if (column === undefined) {\n                column = 0\n            }\n            if (templ !== undefined) {\n                column -= templ.prefix.length\n            }\n        }\n    }\n    return { line: line!, column: column!, msg: e.message }\n}\nVue.prototype.$jsErrorParser = jsErrorParser\n\nconst sandboxProxies = new WeakMap()\n\nfunction compileCode(src: string) {\n    const code = new Function('sandbox', src)\n\n    return function (sandbox: any) {\n        compilerRegistry.addLoadedToSandbox(sandbox)\n\n        sandbox.$ = (input: any) => {\n            if (typeof input === 'string') {\n                console.error('You can not use JQuerry globally from this context')\n            } else {\n                if (input.getAttribute === undefined) {\n                    console.error('You may only wrap DOMElements using $')\n                    return\n                }\n                return $(input)\n            }\n        }\n        sandbox.console = console\n        sandbox.document = {\n            create$: (what: any) => $(document.createElement(what)),\n            createElement: (what: any) => document.createElement(what),\n            getElementById: (id: String) =>\n                console.error(\n                    `document.getElementById is not supported. Please use scope.find('#${id}') instead`\n                ),\n            getElementsByTagName: (tag: String) =>\n                console.error(\n                    `document.getElementsByTagName is not supported. Please use scope.find('${tag}') instead`\n                ),\n            getElementsByClassName: (cl: String) =>\n                console.error(\n                    `document.getElementsByClassName is not supported. Please use scope.find('.${cl}') instead`\n                ),\n        }\n\n        if (!sandboxProxies.has(sandbox)) {\n            const sandboxProxy = new Proxy(sandbox, { has, get })\n            sandboxProxies.set(sandbox, sandboxProxy)\n        }\n        return code(sandboxProxies.get(sandbox))\n    }\n}\n\nfunction has(target: any, key: any) {\n    return true\n}\n\nfunction get(target: any, key: any) {\n    if (key === Symbol.unscopables) {\n        return undefined\n    }\n    return target[key]\n}\n\nexport class ScriptBlock implements IScriptBlock {\n    public err: IParsedError[] = []\n\n    private src: string | undefined = undefined\n    private fkt: Function | undefined = undefined\n    private obj: IPlaygroundObject | ILegacyPlaygroundObject | undefined = undefined\n    private didInit: boolean = false\n    constructor(script: string, public version: string) {\n        //this.rebuild(script)\n        this.didInit = false\n        this.src = script\n        this.obj = {\n            init: () => {\n                console.error('FAILED INIT ATTEMPT')\n            },\n            update: () => {\n                console.error('FAILED UPDATE ATTEMPT')\n                return undefined\n            },\n        }\n    }\n\n    requestsOriginalVersion() {\n        return this.version == '100' || this.version == '' || this.version === undefined\n    }\n\n    invalidate() {\n        this.obj = undefined\n    }\n\n    rebuild(code?: string) {\n        if (code !== undefined) {\n            try {\n                this.err = []\n                console.i('!!! REBUILDING !!!')\n                this.src = code\n\n                //wrap the users code in a helper object, otherwise\n                //evaluating would fail if the code does not start in the first line\n\n                //we also return a function to make and call (.call({})) it with a clean object\n                //to ensure that 'this' is will allways be in a defined state inside the users code\n                if (this.requestsOriginalVersion()) {\n                    this.fkt = new Function(\n                        legacyCodeTemplate.prefix + code + legacyCodeTemplate.postfix\n                    )\n                } else if (this.version === '101' || this.version === '102') {\n                    this.fkt = new Function(\n                        v101CodeTemplate.prefix + code + v101CodeTemplate.postfix\n                    )\n                } else {\n                    this.fkt = compileCode(\n                        v102CodeTemplate.prefix + code + v102CodeTemplate.postfix\n                    )\n                }\n\n                this.obj = this.fkt({})\n                this.dequeueIncoming()\n            } catch (e) {\n                this.pushError(e)\n            }\n        } else if (this.fkt !== undefined) {\n            this.obj = this.fkt({})\n            this.dequeueIncoming()\n        }\n    }\n\n    pushError(e: any) {\n        this.err.push(jsErrorParser(e))\n    }\n\n    private lazyInit() {\n        if (!this.didInit) {\n            this.obj = undefined\n            this.rebuild(this.src)\n            this.didInit = true\n        }\n    }\n\n    addArgumentsTo(args: object | string[]) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.addArgumentsTo) {\n                try {\n                    o.addArgumentsTo(args)\n                } catch (e) {\n                    this.pushError(e)\n                }\n            }\n        }\n    }\n\n    _runConfig: null | ICompileAndRunArguments = null\n    get runConfig(): null | ICompileAndRunArguments {\n        return this._runConfig\n    }\n    set runConfig(cfg: null | ICompileAndRunArguments) {\n        if (this._runConfig) {\n            this._runConfig.dequeuePostponedMessages = function () {}\n        }\n        this._runConfig = cfg\n        if (this._runConfig) {\n            const self = this\n            this._runConfig.dequeuePostponedMessages = function () {\n                const msg = [...self.queuedMessages]\n                self.queuedMessages = []\n                msg.forEach((args) => self.doPostMessageToWorker(args.c, args.d))\n            }\n            if (this._runConfig.postMessageFunction !== null) {\n                this._runConfig.dequeuePostponedMessages()\n            }\n        }\n    }\n    queuedMessages: any[] = []\n    doPostMessageToWorker(cmd: string, data: any) {\n        if (data === undefined) {\n            data = {}\n        }\n        if (\n            this._runConfig !== undefined &&\n            this._runConfig !== null &&\n            this._runConfig.postMessageFunction !== null\n        ) {\n            cmd = `d-${cmd}`\n            data.command = cmd\n            console.i('MESSAGE - Posted to Worker', cmd, data)\n            this._runConfig.postMessageFunction(cmd, data)\n        } else {\n            console.i('MESSAGE - Posted to Queue', cmd)\n            this.queuedMessages.push({ c: cmd, d: data })\n        }\n    }\n    queuedIncomingMessages: any[] = []\n    didReceiveMessage(cmd: string, data: any) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.onMessage === undefined) {\n                console.i('MESSAGE - Received to Queue', cmd)\n                this.queuedIncomingMessages.push({ c: cmd, d: data })\n            } else {\n                console.i('MESSAGE - Received from Worker', cmd, data)\n                o.onMessage(cmd, data)\n            }\n        } else {\n            console.i('MESSAGE - Received to Queue', cmd)\n            this.queuedIncomingMessages.push({ c: cmd, d: data })\n        }\n    }\n    dequeueIncoming() {\n        console.i('MESSAGE - Dequeue Incoming')\n        const msg = [...this.queuedIncomingMessages]\n        this.queuedIncomingMessages = []\n        msg.forEach((args) => this.didReceiveMessage(args.c, args.d))\n    }\n\n    beforeStart() {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.beforeStart) {\n                console.i('MESSAGE - beforeStart')\n                o.beforeStart()\n            }\n        }\n    }\n\n    whenFinished(args: string[] | object, resultData?: object | any[]) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.whenFinished) {\n                console.i('MESSAGE - whenFinished')\n                o.whenFinished(args, resultData)\n            }\n        }\n    }\n\n    init(canvasElement: JQuery<HTMLElement>, scope: JQuery<HTMLElement>, runner: () => void): void {\n        this.queuedMessages = []\n        this.queuedIncomingMessages = []\n        this.lazyInit()\n        console.i('MESSAGE - Reset Queue from Init')\n        if (this.obj === undefined) {\n            return\n        }\n        try {\n            console.i('!!! INIT CANVAS !!!')\n            if (this.requestsOriginalVersion()) {\n                const o = this.obj as ILegacyPlaygroundObject\n                o.init(canvasElement)\n            } else {\n                const arunner: any = runner\n                arunner.run = runner\n                arunner.postMessage = this.doPostMessageToWorker.bind(this)\n\n                let outputElement: JQuery<HTMLElement> | undefined = undefined\n                if (scope === undefined || scope.length === 0) {\n                    scope = canvasElement.parents('.codeblocks')\n                }\n                if (scope !== undefined) {\n                    outputElement = scope.find('div.runner pre.output')\n                }\n                if (outputElement === undefined) {\n                    console.error('[Internal Error] No Output Element found!')\n                    this.pushError('[Internal Error] No Output Element found!')\n                } else {\n                    const o = this.obj as IPlaygroundObject\n                    o.init(canvasElement, outputElement, scope, runner)\n                }\n            }\n        } catch (e) {\n            this.pushError(e)\n        }\n    }\n\n    reset(canvasElement: JQuery<HTMLElement>): void {\n        this.queuedMessages = []\n        this.queuedIncomingMessages = []\n        this.lazyInit()\n        console.i('MESSAGE - Reset Queue from Reset')\n        if (this.obj && this.obj.reset && !this.requestsOriginalVersion()) {\n            this.obj.reset(canvasElement)\n        }\n    }\n\n    update(\n        outputObject: IScriptOutputObject,\n        canvasElement: JQuery<HTMLElement>\n    ): string | undefined {\n        this.lazyInit()\n        if (this.obj === undefined) {\n            return outputObject.output\n        }\n        try {\n            if (this.obj.update) {\n                //console.log(this.obj.update.length, outputObject, this.obj);\n                //this is the old behaviour\n                if (this.obj.update.length == 2 || this.requestsOriginalVersion()) {\n                    const o = this.obj as ILegacyPlaygroundObject\n                    if (outputObject.processedOutput.type == 'json') {\n                        console.i('!!! UPDATE (org, json) !!!')\n                        return o.update(outputObject.processedOutput.json, canvasElement)\n                    } else {\n                        console.i('!!! UPDATE (org, text) !!!')\n                        return o.update(outputObject.output, canvasElement)\n                    }\n                } else {\n                    const o = this.obj as IPlaygroundObject\n                    console.i('!!! UPDATE (v' + this.version + ')!!!')\n                    return o.update(\n                        outputObject.processedOutput.text,\n                        outputObject.processedOutput.json,\n                        canvasElement,\n                        outputObject.outputElement\n                    )\n                }\n            }\n        } catch (e) {\n            this.pushError(e)\n        }\n        return outputObject.initialOutput\n    }\n\n    onParseError(initialOutput: string, parseError: string): boolean {\n        this.lazyInit()\n        if (this.obj === undefined) {\n            return false\n        }\n        try {\n            if (this.obj.onParseError) {\n                this.obj.onParseError(initialOutput, parseError)\n            } else {\n                console.error(parseError)\n                return false\n            }\n        } catch (e) {\n            this.pushError(e)\n            return false\n        }\n        return true\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-layout',{staticStyle:{\"min-height\":\"0\"},attrs:{\"view\":\"hHh lpR fFf\"}},[_c('q-page-container',[_c('CodeBlocks',{attrs:{\"blockInfo\":_vm.blocks}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"codeblocks \" + _vm.addonClass + \"  \" + _vm.backgroundColorClass + \" q-mx-sm q-mb-md\"),attrs:{\"data-question\":_vm.blockInfo.id,\"uuid\":_vm.blockInfo.uuid}},[_c('CodePanel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasBookmark && _vm.editMode),expression:\"hasBookmark && editMode\"}],attrs:{\"editMode\":_vm.editMode,\"visibleLines\":\"auto\",\"block\":_vm.panelBlock}}),(_vm.editMode)?_c('CodeBlocksSettings',{attrs:{\"options\":_vm.options},on:{\"compiler-change\":_vm.onCompilerChange,\"compiler-version-change\":_vm.onCompilerVersionChange,\"run-state-change\":_vm.onRunStateChange,\"continuous-compile-change\":_vm.onContinousCompileStateChange,\"message-passing-change\":_vm.onMessagePassingChange,\"keep-alive-change\":_vm.onKeepAliveChange,\"persistent-arguments-change\":_vm.onPersistentArgumentsChange,\"language-change\":_vm.onLanguageChange,\"character-limit-change\":_vm.onCharacterLimitChange,\"timeout-change\":_vm.onTimeoutChange,\"worker-libs-change\":_vm.onWorkerLibChange,\"dom-libs-change\":_vm.onDomLibChange,\"theme-change\":_vm.onThemeChange,\"output-parser-change\":_vm.onOutputParserChange}}):_vm._e(),_vm._l((_vm.blocks),function(block){return _c('CodeBlockContainer',{key:block.id,attrs:{\"block\":block,\"editMode\":_vm.editMode},on:{\"type-change\":_vm.onTypeChange,\"visible-lines-change\":_vm.onVisibleLinesChange,\"placement-change\":_vm.onPlacementChange,\"script-version-change\":_vm.onScriptVersionChange,\"move-up\":_vm.moveUp,\"move-down\":_vm.moveDown,\"remove-block\":_vm.removeBlock,\"auto-reset-change\":_vm.onSetAutoReset,\"generate-template-change\":_vm.onSetGenerateTemplate}},[(block.hasCode && block.type != 'BLOCKLY')?_c('CodeBlock',{attrs:{\"block\":block,\"theme\":_vm.themeForBlock(block),\"mode\":_vm.mimeType,\"visibleLines\":block.visibleLines,\"editMode\":_vm.editMode,\"readonly\":_vm.readonly,\"tagSet\":_vm.activeTagSet,\"emitWhenTypingInViewMode\":_vm.continuousCompile},on:{\"ready\":_vm.blockBecameReady,\"build\":_vm.run,\"code-changed-in-view-mode\":_vm.onViewCodeChange}}):(block.type == 'PLAYGROUND')?_c('CodePlayground',{attrs:{\"block\":block,\"editMode\":_vm.editMode,\"finalOutputObject\":_vm.finalOutputObject,\"theme\":_vm.themeForBlock(block),\"tagSet\":_vm.activeTagSet,\"eventHub\":_vm.eventHub},on:{\"changeOutput\":_vm.onPlaygroundChangedOutput,\"ready\":_vm.blockBecameReady,\"run\":_vm.onRunFromPlayground}}):(block.type == 'TEXT')?_c('SimpleText',{attrs:{\"block\":block,\"previewValue\":block.actualContent(),\"editMode\":_vm.editMode,\"name\":(\"block[\" + (block.parentID) + \"][\" + (block.id) + \"]\"),\"scopeUUID\":block.scopeUUID,\"tagSet\":_vm.activeTagSet,\"language\":_vm.language},on:{\"ready\":_vm.blockBecameReady},model:{value:(block.content),callback:function ($$v) {_vm.$set(block, \"content\", $$v)},expression:\"block.content\"}}):(block.type == 'BLOCKLY')?_c('Blockly',{attrs:{\"block\":block,\"mode\":_vm.mimeType,\"theme\":_vm.themeForBlock(block),\"editMode\":_vm.editMode,\"readonly\":_vm.readonly,\"tagSet\":_vm.activeTagSet,\"emitWhenTypingInViewMode\":_vm.continuousCompile,\"blockInfo\":_vm.blockInfo},on:{\"code-changed-in-view-mode\":_vm.onViewCodeChange}}):_vm._e()],1)}),(_vm.editMode)?_c('div',{staticClass:\"row justify-end\"},[_c('div',[_c('q-btn',{attrs:{\"push\":\"\",\"color\":\"green\"},on:{\"click\":_vm.addNewBlock}},[_vm._v(_vm._s(_vm.$t('CodeBlocks.AddBlock'))+\" \"),_c('q-icon',{staticClass:\"q-ml-sm\",attrs:{\"name\":\"library_add\"}})],1)],1)]):_vm._e(),(_vm.canRun)?_c('div',{class:(\"runner \" + (_vm.editMode ? 'q-pt-lg q-mx-lg' : '')),attrs:{\"id\":\"runContainer\",\"data-question\":_vm.blockInfo.id}},[_c('div',{staticClass:\"row runnerState\",attrs:{\"id\":\"stateBox\",\"data-question\":_vm.blockInfo.id}},[_c('q-btn',{staticClass:\"white--text\",staticStyle:{\"border-radius\":\"0px\"},attrs:{\"id\":\"allow_run_button\",\"loading\":!_vm.isReady,\"disabled\":!_vm.isReady,\"color\":\"primary\",\"ripple\":{ center: true },\"data-question\":_vm.blockInfo.id},on:{\"click\":_vm.run}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocks.run'))+\" \"),_c('q-icon',{attrs:{\"right\":\"\",\"dark\":\"\",\"name\":\"play_arrow\"}}),(_vm.editMode)?_c('q-tooltip',{attrs:{\"delay\":200}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.$t('CodeBlocks.run_hint'))}})]):_vm._e()],1),_c('div',{staticClass:\"animated fadeIn\"}),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canStop),expression:\"canStop\"}],staticClass:\"q-pl-sm\"},[_c('q-btn',{staticStyle:{\"border-radius\":\"0px\"},attrs:{\"id\":\"cancel_button\",\"color\":\"negative\",\"ripple\":{ center: true },\"data-question\":_vm.blockInfo.id},on:{\"click\":_vm.stop}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocks.stop'))+\" \"),_c('q-icon',{attrs:{\"right\":\"\",\"dark\":\"\",\"name\":\"stop\"}})],1)],1)]),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showGlobalMessages),expression:\"showGlobalMessages\"}],staticClass:\"globalState col-grow\",staticStyle:{\"align-self\":\"center\"}},[_c('div',{attrs:{\"id\":\"message\"},domProps:{\"innerHTML\":_vm._s(_vm.$compilerState.globalStateMessage)}})])])],1),_c('q-slide-transition',[(_vm.hasOutput)?_c('pre',{ref:\"output\",staticClass:\"output\",attrs:{\"id\":((_vm.blockInfo.id) + \"Output\")}},[_c('div',{attrs:{\"id\":\"out\"},domProps:{\"innerHTML\":_vm._s(_vm.outputHTML)}})]):_vm._e()])],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-container\",attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id,\"uuid\":_vm.block.uuid}},[(_vm.editMode)?_c('q-card',{class:(\"q-mx-none q-my-xs q-pa-none editModeBlockContainer \" + _vm.colorClass + \" \" + _vm.bgClass)},[_c('q-card-section',{staticClass:\"q-mb-none q-pb-sm q-pt-sm\"},[_c('div',{staticClass:\"row q-my-none q-py-none\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 col-sm-4 col-md-4 q-my-none q-py-none\"},[_c('q-select',{staticStyle:{\"margin-top\":\"-5px !important\"},attrs:{\"options\":_vm.types,\"dense\":\"\"},scopedSlots:_vm._u([{key:\"after\",fn:function(){return [_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showTypeInfoDialog}})]},proxy:true}],null,false,3671508059),model:{value:(_vm.typeObj),callback:function ($$v) {_vm.typeObj=$$v},expression:\"typeObj\"}})],1),_c('div',{staticClass:\"col-grow\"}),_c('div',{staticClass:\"\\n                        order-xs-first order-sm-last\\n                        col-xs-12 col-sm-8 col-md-5\\n                        q-my-none q-py-none\\n                        text-right\\n                    \"},[(_vm.hasExtendedSettings)?_c('q-btn',{attrs:{\"icon\":\"settings\",\"color\":\"blue-7\",\"push\":\"\",\"dense\":\"\"}},[_c('q-popup-proxy',[(_vm.canSetLineNumbers)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Display'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Lines'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\",domProps:{\"innerHTML\":_vm._s(_vm.$l('CodeBlockContainer.Lines_detail'))}})]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{staticStyle:{\"width\":\"132px\"},attrs:{\"rules\":[_vm.validNumber],\"maxlength\":\"4\"},model:{value:(_vm.visibleLines),callback:function ($$v) {_vm.visibleLines=$$v},expression:\"visibleLines\"}})],1)]),(_vm.canHaveAlternativeContent)?_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Prepopulate'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\",attrs:{\"lines\":\"2\"}},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Prepopulate_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-toggle',{model:{value:(_vm.hasAltComntent),callback:function ($$v) {_vm.hasAltComntent=$$v},expression:\"hasAltComntent\"}})],1)]):_vm._e()]):_vm._e(),(_vm.isVersionedPlayground)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Behaviour'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.ScriptV'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.ScriptV_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-select',{attrs:{\"options\":_vm.scriptVersions},model:{value:(_vm.scriptVersionObj),callback:function ($$v) {_vm.scriptVersionObj=$$v},expression:\"scriptVersionObj\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.AutoReset'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.AutoReset_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-toggle',{model:{value:(_vm.shouldAutoReset),callback:function ($$v) {_vm.shouldAutoReset=$$v},expression:\"shouldAutoReset\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.GenerateTemplate'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.GenerateTemplate_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-toggle',{model:{value:(_vm.shouldGenerateTemplate),callback:function ($$v) {_vm.shouldGenerateTemplate=$$v},expression:\"shouldGenerateTemplate\"}})],1)])]):_vm._e(),(_vm.canDefinePlacement && _vm.shouldGenerateTemplate)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Positioning'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md q-pb-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Width'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Width_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{attrs:{\"maxlength\":\"7\",\"dense\":\"\"},model:{value:(_vm.width),callback:function ($$v) {_vm.width=$$v},expression:\"width\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md q-pb-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Height'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Height_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{attrs:{\"maxlength\":\"7\",\"dense\":\"\"},model:{value:(_vm.height),callback:function ($$v) {_vm.height=$$v},expression:\"height\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Alignment'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Alignment_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-select',{attrs:{\"options\":_vm.alignments,\"dense\":\"\"},model:{value:(_vm.align),callback:function ($$v) {_vm.align=$$v},expression:\"align\"}})],1)])]):_vm._e()])],1):_vm._e(),_c('q-btn',{staticClass:\"q-ml-md q-mr-xs\",attrs:{\"disable\":!_vm.canMoveUp,\"icon\":\"arrow_drop_up\",\"push\":\"\",\"dense\":\"\",\"color\":\"orange-6\",\"ripple\":{ center: true }},on:{\"click\":_vm.moveUp}}),_c('q-btn',{staticClass:\"q-mr-md\",attrs:{\"disabled\":!_vm.canMoveDown,\"icon\":\"arrow_drop_down\",\"push\":\"\",\"dense\":\"\",\"color\":\"orange-6\",\"ripple\":{ center: true }},on:{\"click\":_vm.moveDown}}),_c('q-btn',{staticClass:\"gt-xs q-mr-sm-sm q-mr-md-lg q-pr-sm\",attrs:{\"label\":_vm.$l('CodeBlockContainer.Delete'),\"icon\":\"warning\",\"push\":\"\",\"dense\":\"\",\"color\":\"red-6\",\"right\":\"\",\"ripple\":{ center: true }},on:{\"click\":_vm.removeBlock}}),_c('q-btn',{staticClass:\"lt-sm q-mr-lg q-pr-none\",attrs:{\"icon\":\"warning\",\"push\":\"\",\"dense\":\"\",\"color\":\"red-6\",\"right\":\"\",\"ripple\":{ center: true }},on:{\"click\":_vm.removeBlock}}),_c('q-btn',{staticStyle:{\"margin-right\":\"-9px\"},attrs:{\"icon\":_vm.expanded ? 'expand_less' : 'expand_more',\"color\":\"primary\",\"small\":\"\",\"flat\":\"\",\"round\":\"\"},on:{\"click\":_vm.toggleExpanded}})],1)]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.serializedOptions),expression:\"serializedOptions\"}],staticClass:\"blockoptions\",attrs:{\"name\":(\"block_options[\" + (this.block.parentID) + \"][\" + (this.block.id) + \"]\")},domProps:{\"value\":(_vm.serializedOptions)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.serializedOptions=$event.target.value}}})]),_c('q-slide-transition',[(this.isExperimentalScriptVersion)?_c('q-card-section',[_c('q-banner',{staticClass:\"bg-orange text-white col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"whatshot\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.ExperimentalScriptVersion'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.ExperimentalScriptVersionDesc'))+\" \")])],1)],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[(this.isDeprecatedScriptVersion)?_c('q-card-section',[_c('q-banner',{staticClass:\"bg-yellow-12 text-black col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"hourglass_disabled\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.DeprecatedScriptVersion'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.DeprecatedScriptVersionDesc'))+\" \")])],1)],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[_c('q-card-section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}],staticClass:\"my-0 q-pt-1 q-pb-0\"},[_vm._t(\"default\")],2)],1)],1):_c('div',{staticClass:\"ma-0 pa-0\"},[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\n\nexport class PositioninLoadManager {\n    loadFromDatablock(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase): void {\n        block.width = bl.getAttribute('width')\n            ? bl.getAttribute('width')!\n            : inBlock.width\n            ? inBlock.width\n            : '100%'\n        block.height = bl.getAttribute('height')\n            ? bl.getAttribute('height')!\n            : inBlock.height\n            ? inBlock.height\n            : '300px'\n        block.align = bl.getAttribute('align')\n            ? bl.getAttribute('align')!\n            : inBlock.align\n            ? inBlock.align\n            : 'center'\n    }\n}\n\nexport const positioninLoadManager = new PositioninLoadManager()\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport {\n    IBlocklyToolbox,\n    BlockPrimaryColors,\n    BlockArgumentTypes,\n    IBlockDefinition\n} from '@/lib/IBlocklyHelper'\nimport { blocklyHelper } from '@/lib/BlocklyHelper'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\n\nexport class BlocklyLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'BLOCKLY'\n    }\n\n    private loadCustomBlocks(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const customBlocks = bl.querySelectorAll('script#customblocks') //bl.getElementsByTagName('CUSTOMBLOCKS')\n        if (customBlocks.length > 0) {\n            const str: string = customBlocks[0].innerHTML ? customBlocks[0].innerHTML : '{}'\n\n            try {\n                const arr: IBlockDefinition[] = new Function(blocklyHelper.prepareCode(str))()\n                arr.forEach(bl => {\n                    if (bl.JSON === undefined) {\n                        bl.JSON = {\n                            type: '',\n                            message0: '',\n                            args0: [],\n                            nextStatement: null,\n                            previousStatement: null,\n                            colour: ''\n                        }\n                    }\n                    if (bl.uuid === undefined || bl.uuid === '') {\n                        bl.uuid = uuid.v4()\n                    }\n\n                    if (bl.codeString === undefined && bl._code !== undefined) {\n                        bl.codeString = bl._code.toString()\n                    }\n                    bl._code = undefined\n                })\n                block.blockly.blocks = arr\n            } catch (e) {\n                console.error('Error parsing Blocks JSON', e)\n            }\n        }\n    }\n\n    private loadToolbox(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const toolboxInput = bl.getElementsByTagName('TOOLBOX')\n        if (toolboxInput.length > 0) {\n            const toolboxStr: string = toolboxInput[0].innerHTML ? toolboxInput[0].innerHTML : ''\n\n            if (toolboxStr === '') {\n                block.blockly.toolbox = this.defaultToolbox\n            } else {\n                try {\n                    const obj: IBlocklyToolbox = new Function(\n                        blocklyHelper.prepareCode(toolboxStr)\n                    )()\n                    obj.categories.forEach(c => {\n                        if (c.uuid === undefined || c.uuid === '') {\n                            c.uuid = uuid.v4()\n                        }\n                        if (c.color === undefined) {\n                            c.color = ''\n                        }\n                        c.items.forEach(i => {\n                            if (i.uuid === undefined || i.uuid === '') {\n                                i.uuid = uuid.v4()\n                            }\n                        })\n                    })\n                    block.blockly.toolbox = obj\n                } catch (e) {\n                    console.error('Error Parsing ToolboxJSON', e)\n                }\n            }\n        } else {\n            block.blockly.toolbox = this.defaultToolbox\n        }\n    }\n\n    private loadOverrideToolbox(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase\n    ) {\n        const toolboxOverride = bl.querySelectorAll('script#toolboxoverride') //bl.getElementsByTagName('TOOLBOXOVERRIDE')\n        if (toolboxOverride.length > 0) {\n            block.blockly.toolboxOverride = toolboxOverride[0].innerHTML\n                ? toolboxOverride[0].innerHTML\n                : ''\n\n            block.blockly.useOverride =\n                toolboxOverride[0].hasAttribute('use') &&\n                toolboxOverride[0].getAttribute('use') != 'false' &&\n                toolboxOverride[0].getAttribute('use') != '0'\n        }\n    }\n\n    private loadCode(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const codes = bl.querySelectorAll('script#content') //bl.getElementsByTagName('SCRIPT')\n\n        if (codes.length > 0) {\n            block.content = codes[0].innerHTML ? codes[0].innerHTML : ''\n        } else {\n            block.content = '<xml xmlns=\"https://developers.google.com/blockly/xml\"></xml>'\n        }\n        block.hasCode = true\n    }\n\n    private isTrue(val: any): boolean {\n        return val !== undefined && val != 'false' && val != '0'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        block.obj = null\n        positioninLoadManager.loadFromDatablock(bl, inBlock, block)\n\n        block.blockly.showControls = this.isTrue(inBlock.showControls)\n\n        this.loadCustomBlocks(bl, inBlock, block)\n        this.loadToolbox(bl, inBlock, block)\n        this.loadOverrideToolbox(bl, inBlock, block)\n        this.loadCode(bl, inBlock, block)\n    }\n\n    get defaultToolbox(): IBlocklyToolbox {\n        const tb: IBlocklyToolbox = {\n            categories: [\n                {\n                    uuid: uuid.v4(),\n                    name: 'Logic',\n                    color: '{!PrimaryColors.Logic}',\n                    items: [\n                        { _expanded: false, type: 'controls_if', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_compare', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_operation', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_negate', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_boolean', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_arithmetic', uuid: uuid.v4() },\n                        { _expanded: false, type: 'lists_create_empty', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Loops',\n                    color: '{!PrimaryColors.Loop}',\n                    items: [\n                        { _expanded: false, type: 'controls_repeat_ext', uuid: uuid.v4() },\n                        { _expanded: false, type: 'controls_whileUntil', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Math',\n                    color: '{!PrimaryColors.Math}',\n                    items: [\n                        { _expanded: false, type: 'math_number', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_arithmetic', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_single', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Text',\n                    color: '{!PrimaryColors.Text}',\n                    items: [\n                        { _expanded: false, type: 'text', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_length', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_print', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_join', uuid: uuid.v4() },\n                        { _expanded: false, type: 'colour_rgb', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Variables',\n                    custom: 'VARIABLE',\n                    color: '{!PrimaryColors.Variable}',\n                    items: []\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Procedures',\n                    custom: 'PROCEDURE',\n                    color: '{!PrimaryColors.Procedure}',\n                    items: []\n                }\n            ]\n        }\n        return tb\n    }\n}\n\nexport const blocklyLoader = new BlocklyLoadManager()\n\nexport default function(loaders: { [index: string]: IBlockloadManager }) {\n    loaders[blocklyLoader.blockTag] = blocklyLoader\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport { IListItemData } from '@/lib/ICompilerRegistry'\nimport { KnownBlockTypes } from '@/lib/ICodeBlocks'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { blocklyLoader } from '@/lib/BlockloadManagers/BlocklyManager'\n\n@Component\nexport default class CodeBlocksContainer extends Vue {\n    frank = 'hello'\n    settingsMenu: boolean = false\n    highlighted: boolean = false\n\n    get types(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.Canvas'),\n                value: KnownBlockTypes.PLAYGROUND,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Text'),\n                value: KnownBlockTypes.TEXT,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Hidden'),\n                value: KnownBlockTypes.BLOCKHIDDEN,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Static'),\n                value: KnownBlockTypes.BLOCKSTATIC,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Block'),\n                value: KnownBlockTypes.BLOCK,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Blockly'),\n                value: KnownBlockTypes.BLOCKLY,\n            },\n        ]\n    }\n    get alignments(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.Start'),\n                value: 'left',\n            },\n            {\n                label: this.$l('CodeBlockContainer.Center'),\n                value: 'center',\n            },\n            {\n                label: this.$l('CodeBlockContainer.End'),\n                value: 'right',\n            },\n        ]\n    }\n    get scriptVersions(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_1'),\n                value: '100',\n            },\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_2'),\n                value: '101',\n            },\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_3'),\n                value: '102',\n            },\n        ]\n    }\n\n    get isDeprecatedScriptVersion(): boolean {\n        return this.scriptVersion === '100'\n    }\n\n    get isExperimentalScriptVersion(): boolean {\n        return this.scriptVersion === '102'\n    }\n\n    // mounted() {\n    //     console.log('Mounted', this)\n    // }\n\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ default: false }) editMode!: boolean\n\n    validNumber(v: 'auto' | number): boolean | string {\n        //console.log(v, isNaN(v), v!='auto');\n        if (v != 'auto' && isNaN(v)) {\n            return \"Must be a valid Number or 'auto'.\"\n        }\n        return true\n    }\n    toggleExpanded(): void {\n        this.$CodeBlock.refreshAllCodeMirrors()\n        this.expanded = !this.expanded\n    }\n    moveUp(): void {\n        this.$emit('move-up', this.block.id)\n    }\n    moveDown(): void {\n        this.$emit('move-down', this.block.id)\n    }\n    showTypeInfoDialog(): void {\n        this.$q\n            .dialog({\n                title: this.$l('CodeBlockContainer.TypesCaption'),\n                message: this.$l('CodeBlockContainer.Types'),\n                html: true,\n                style: 'width:75%',\n            })\n            .onOk(() => {\n                // console.log('OK')\n            })\n            .onCancel(() => {\n                // console.log('Cancel')\n            })\n            .onDismiss(() => {\n                // console.log('I am triggered on both OK and Cancel')\n            })\n    }\n    removeBlock(): void {\n        const self = this\n        self.highlighted = true\n        this.$q\n            .dialog({\n                title: this.$l('CodeBlockContainer.Confirm'),\n                message: this.$l('CodeBlockContainer.DeleteQuestion'),\n                html: true,\n                ok: {\n                    push: true,\n                    color: 'negative',\n                    icon: 'warning',\n                },\n                cancel: {\n                    push: true,\n                    color: 'positive',\n                },\n                persistent: true,\n            })\n            .onOk(() => {\n                this.$emit('remove-block', this.block.id)\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                self.highlighted = false\n            })\n    }\n\n    get expanded(): boolean {\n        return this.block.expanded\n    }\n    set expanded(v: boolean) {\n        this.block.expanded = v\n    }\n\n    get canMoveUp(): boolean {\n        return this.block.id > 0\n    }\n    get canMoveDown(): boolean {\n        return !this.block.isLast\n    }\n\n    filteredCopy(objIn: object, extended: boolean = true, path: string = 'this'): object {\n        let obj = {}\n        Object.keys(objIn)\n            .filter(\n                (k) =>\n                    k.indexOf('appSettings') != 0 &&\n                    k.indexOf('$') != 0 &&\n                    k.indexOf('_') != 0 &&\n                    (!extended ||\n                        (k != 'obj' &&\n                            k != 'errors' &&\n                            k != 'content' &&\n                            k != 'firstLine' &&\n                            k != 'nextLine' &&\n                            k != 'lineCount' &&\n                            k != 'hasCode' &&\n                            k != 'isLast' &&\n                            k != 'readyCount' &&\n                            k != 'noContent' &&\n                            (this.block.type === KnownBlockTypes.BLOCKLY || k != 'blockly'))) &&\n                    k != 'uuid' &&\n                    k != 'scopeUUID' &&\n                    k != 'scopeSelector'\n            )\n            .forEach((k) => {\n                let v = objIn[k]\n                if (v !== undefined && v !== null && typeof v === 'object') {\n                    if (Array.isArray(v)) {\n                        v = v.map((item, nr) =>\n                            this.filteredCopy(item, false, path + '.' + k + `[${nr}]`)\n                        )\n                    } else {\n                        v = this.filteredCopy(v, false, path + '.' + k)\n                    }\n                }\n                obj[k] = v\n            })\n\n        return obj\n    }\n    get serializedOptions(): string {\n        return JSON.stringify(this.filteredCopy(this.block))\n    }\n    set serializedOptions(v: string) {}\n\n    get hasExtendedSettings(): boolean {\n        return (\n            this.type == KnownBlockTypes.PLAYGROUND ||\n            this.type == KnownBlockTypes.BLOCK ||\n            this.type == KnownBlockTypes.BLOCKLY\n        )\n    }\n    get isVersionedPlayground(): boolean {\n        return this.type == KnownBlockTypes.PLAYGROUND\n    }\n    get canSetLineNumbers() {\n        return this.type == KnownBlockTypes.BLOCK\n    }\n    get canHaveAlternativeContent() {\n        return this.type == KnownBlockTypes.BLOCK\n    }\n    get canDefinePlacement() {\n        return this.type == KnownBlockTypes.PLAYGROUND || this.type == KnownBlockTypes.BLOCKLY\n    }\n    get shouldAutoReset(): boolean {\n        return this.block.shouldAutoreset\n    }\n    set shouldAutoReset(v: boolean) {\n        this.$emit('auto-reset-change', {\n            shouldAutoreset: v,\n            id: this.block.id,\n        })\n    }\n    get shouldGenerateTemplate(): boolean {\n        return this.block.generateTemplate\n    }\n    set shouldGenerateTemplate(v: boolean) {\n        this.$emit('generate-template-change', {\n            generateTemplate: v,\n            id: this.block.id,\n        })\n    }\n\n    get scriptVersion(): string {\n        if (\n            this.block === undefined ||\n            this.block.version === undefined ||\n            this.block.version == ''\n        ) {\n            return '100'\n        }\n        return this.block.version\n    }\n    get scriptVersionObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.scriptVersions, this.scriptVersion)\n    }\n    set scriptVersionObj(v: IListItemData) {\n        this.$emit('script-version-change', {\n            version: v.value,\n            id: this.block.id,\n        })\n    }\n\n    get hasAltComntent(): boolean {\n        return this.block.hasAlternativeContent\n    }\n    set hasAltComntent(v: boolean) {\n        if (v != this.block.hasAlternativeContent && v) {\n            this.$nextTick(() => {\n                setTimeout(function () {\n                    $('.CodeMirror')\n                        .toArray()\n                        .forEach((cm) => {\n                            const element = cm as any\n                            element.CodeMirror.refresh()\n                        })\n                }, 200)\n            })\n        }\n        this.block.hasAlternativeContent = v\n    }\n\n    get colorClass(): string {\n        const t = this.type\n        if (t == KnownBlockTypes.TEXT) {\n            return 'text-border'\n        } else if (t == KnownBlockTypes.PLAYGROUND) {\n            return 'playground-border'\n        } else if (t == KnownBlockTypes.BLOCK) {\n            return 'block-border'\n        } else if (t == KnownBlockTypes.BLOCKHIDDEN) {\n            return 'block-hidden-border'\n        } else if (t == KnownBlockTypes.BLOCKSTATIC) {\n            return 'block-static-border'\n        }\n        return 'default-border'\n    }\n    get bgClass(): string {\n        if (this.highlighted) {\n            return 'highlightedCard'\n        }\n        return ''\n    }\n    get type(): KnownBlockTypes {\n        if (this.block.type == KnownBlockTypes.BLOCK) {\n            if (this.block.hidden) {\n                return KnownBlockTypes.BLOCKHIDDEN\n            }\n            if (this.block.static) {\n                return KnownBlockTypes.BLOCKSTATIC\n            }\n        }\n        return this.block.type\n    }\n    get typeObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.types, this.type)\n    }\n    set typeObj(val: IListItemData) {\n        const v = val.value\n        let ret = {\n            type: v.match(/([^-]*)/)![0],\n            hidden: v == KnownBlockTypes.BLOCKHIDDEN,\n            static: v == KnownBlockTypes.BLOCKSTATIC,\n            id: this.block.id,\n            hasCode: false,\n        }\n        ret.hasCode = ret.type == KnownBlockTypes.BLOCK\n\n        if (ret.type == KnownBlockTypes.PLAYGROUND && this.block.content === '' && this.editMode) {\n            if (this.block.scriptVersion == '100') {\n                this.block.content =\n                    '{\\n    init: function(canvasElement) {\\n\\n    },\\n    update: function(output, canvasElement) {\\n\\n    }\\n}'\n            } else {\n                this.block.content =\n                    '{\\n    init: function(canvasElement, outputElement, scope, runner) {\\n\\n    },\\n    addArgumentsTo(args) {},\\n    reset(canvasElement) {},\\n    update: function(txt, json, canvasElement, outputElement) {\\n\\n    }\\n}'\n            }\n        } else if (\n            ret.type == KnownBlockTypes.BLOCKLY &&\n            this.block.blockly.toolbox.categories.length === 0 &&\n            this.editMode\n        ) {\n            this.block.blockly.toolbox = blocklyLoader.defaultToolbox\n        }\n\n        this.$emit('type-change', ret)\n    }\n    get visibleLines(): number | 'auto' {\n        const v = this.block.visibleLines\n        if (v == 'auto' || isNaN(v)) {\n            return 'auto'\n        }\n        return v\n    }\n    set visibleLines(v: number | 'auto') {\n        if (v == 'auto' || isNaN(v)) {\n            v = 'auto'\n        }\n        console.log('set', v)\n\n        this.$emit('visible-lines-change', {\n            visibleLines: v,\n            id: this.block.id,\n        })\n    }\n\n    get width(): string {\n        return this.block.width\n    }\n    set width(v: string) {\n        this.$emit('placement-change', {\n            width: v,\n            height: this.block.height,\n            align: this.block.align,\n            id: this.block.id,\n        })\n    }\n    get height(): string {\n        return this.block.height\n    }\n    set height(v: string) {\n        this.$emit('placement-change', {\n            width: this.block.width,\n            height: v,\n            align: this.block.align,\n            id: this.block.id,\n        })\n    }\n    get align(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.alignments, this.block.align)\n    }\n    set align(v: IListItemData) {\n        this.$emit('placement-change', {\n            width: this.block.width,\n            height: this.block.height,\n            align: v.value,\n            id: this.block.id,\n        })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlockContainer.vue?vue&type=template&id=8aa42142&\"\nimport script from \"./CodeBlockContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlockContainer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlockContainer.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QPopupProxy from 'quasar/src/components/popup-proxy/QPopupProxy.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport QBanner from 'quasar/src/components/banner/QBanner.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCard,QCardSection,QSelect,QBtn,QPopupProxy,QInput,QToggle,QSlideTransition,QBanner,QItem,QItemSection,QIcon,QItemLabel});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row q-pa-none q-mb-md\"},[_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-6\"},[_c('q-card',{staticClass:\"q-mb-sm q-mr-sm-none q-mr-md-sm\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Language')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.languageHasCompiler,\"label\":_vm.$t('CodeBlocksSettings.AllowExec')},model:{value:(_vm.runCode),callback:function ($$v) {_vm.runCode=$$v},expression:\"runCode\"}})],1),_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.canContinousCompile,\"label\":_vm.$t('CodeBlocksSettings.ContinousCompile')},model:{value:(_vm.continuousCompile),callback:function ($$v) {_vm.continuousCompile=$$v},expression:\"continuousCompile\"}})],1),_c('div',{class:(\"col-xs-12 col-sm-\" + (_vm.runCode ? 6 : 12) + \" col-md-\" + (_vm.runCode ? 8 : 12) + \" \" + (_vm.runCode ? 'q-pr-md-sm' : ''))},[_c('q-select',{attrs:{\"options\":_vm.compiledLanguages,\"label\":_vm.$t('CodeBlocksSettings.Language')},model:{value:(_vm.compilerLanguageObj),callback:function ($$v) {_vm.compilerLanguageObj=$$v},expression:\"compilerLanguageObj\"}})],1),(_vm.runCode)?_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-6\"},[_c('q-select',{attrs:{\"options\":_vm.compilerVersions,\"stack-label\":\"\",\"label\":_vm.$t('CodeBlocksSettings.CVersion')},scopedSlots:_vm._u([{key:\"selected\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.compilerVersion)+\" \"),(_vm.isDeprecated)?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"yellow\",\"text-color\":\"brown-10\",\"icon\":\"hourglass_disabled\"}}):_vm._e(),(_vm.isExperimental)?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"orange\",\"text-color\":\"white\",\"icon\":\"whatshot\"}}):_vm._e()]},proxy:true},{key:\"option\",fn:function(scope){return [_c('q-item',_vm._g(_vm._b({},'q-item',scope.itemProps,false),scope.itemEvents),[_c('q-item-section',[_c('q-item-label',[_vm._v(\" \"+_vm._s(scope.opt)+\" \"),(\n                                                    _vm.isDeprecatedVersion(\n                                                        _vm.compilerLanguage,\n                                                        scope.opt\n                                                    )\n                                                )?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"yellow\",\"text-color\":\"brown-10\",\"icon\":\"hourglass_disabled\"}}):_vm._e(),(\n                                                    _vm.isExperimentalVersion(\n                                                        _vm.compilerLanguage,\n                                                        scope.opt\n                                                    )\n                                                )?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"orange\",\"text-color\":\"white\",\"icon\":\"whatshot\"}}):_vm._e()],1)],1)],1)]}}],null,false,541447989),model:{value:(_vm.compilerVersion),callback:function ($$v) {_vm.compilerVersion=$$v},expression:\"compilerVersion\"}})],1):_vm._e(),_c('q-slide-transition',[(_vm.isExperimental)?_c('q-banner',{staticClass:\"bg-orange text-white col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"whatshot\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.ExperimentalCompiler'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.ExperimentalCompilerDesc'))+\" \")])],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[(_vm.isDeprecated)?_c('q-banner',{staticClass:\"bg-yellow-12 text-black col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"hourglass_disabled\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.DeprecatedCompiler'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.DeprecatedCompilerDesc'))+\" \")])],1)],1)],1):_vm._e()],1),(_vm.runCode)?_c('div',{staticClass:\"col-12\"},[_c('q-input',{attrs:{\"rules\":[_vm.validNumber],\"label\":_vm.$t('CodeBlocksSettings.RunTime'),\"maxlength\":\"6\"},model:{value:(_vm.maxRuntime),callback:function ($$v) {_vm.maxRuntime=$$v},expression:\"maxRuntime\"}})],1):_vm._e(),(_vm.runCode && (_vm.accepstArguments || _vm.allowsMessagePassing))?_c('div',{staticClass:\"col-12 text-body2\"},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.AllowArguments'))+\" \"),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showArgsInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.accepstArguments)?_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.canPersistentArguments,\"label\":_vm.$t('CodeBlocksSettings.PersistentArguments')},model:{value:(_vm.persistentArguments),callback:function ($$v) {_vm.persistentArguments=$$v},expression:\"persistentArguments\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showPersistentArgsInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.allowsMessagePassing)?_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.allowsMessagePassing,\"label\":_vm.$t('CodeBlocksSettings.MessagePassing')},model:{value:(_vm.messagePassing),callback:function ($$v) {_vm.messagePassing=$$v},expression:\"messagePassing\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showMessagesInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.allowsMessagePassing)?_c('div',{staticClass:\"col-12 q-pl-lg\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.allowsMessagePassing || !_vm.messagePassing,\"label\":_vm.$t('CodeBlocksSettings.KeepAlive')},model:{value:(_vm.keepAlive),callback:function ($$v) {_vm.keepAlive=$$v},expression:\"keepAlive\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showAliveInfoDialog}})],1):_vm._e()],1)])],1)],1),_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-6\"},[_c('q-slide-transition',[(_vm.runCode)?_c('q-card',{staticClass:\"q-mb-sm q-mr-none\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Output')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-md-6 col-12 q-pr-md-sm\"},[_c('q-input',{attrs:{\"rules\":[_vm.validNumber],\"label\":_vm.$t('CodeBlocksSettings.MaxCharacters'),\"maxlength\":\"6\"},model:{value:(_vm.maxCharacters),callback:function ($$v) {_vm.maxCharacters=$$v},expression:\"maxCharacters\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('q-select',{attrs:{\"options\":_vm.outputParsers,\"label\":_vm.$t('CodeBlocksSettings.Parser')},model:{value:(_vm.outputParser),callback:function ($$v) {_vm.outputParser=$$v},expression:\"outputParser\"}})],1)])])],1):_vm._e()],1),_c('q-card',{staticClass:\"q-mr-none\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Themes')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 col-md-6 q-pr-md-sm\"},[_c('q-select',{attrs:{\"options\":_vm.themes,\"label\":_vm.$t('CodeBlocksSettings.TGeneral')},model:{value:(_vm.codeTheme),callback:function ($$v) {_vm.codeTheme=$$v},expression:\"codeTheme\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('q-select',{attrs:{\"options\":_vm.themes,\"label\":_vm.$t('CodeBlocksSettings.TSolution')},model:{value:(_vm.solutionTheme),callback:function ($$v) {_vm.solutionTheme=$$v},expression:\"solutionTheme\"}})],1)])])],1),_c('q-slide-transition',[(_vm.runCode)?_c('q-card',{staticClass:\"q-mr-sm-none q-mt-sm\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Libraries')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row q-my-none q-py-none\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 col-sm-12 q-my-none q-py-none\"},[_c('q-select',{attrs:{\"options\":_vm.domLibraries,\"multiple\":\"\",\"use-chips\":\"\",\"stack-label\":\"\",\"deletable-chips\":\"\",\"label\":_vm.$t('CodeBlocksSettings.DomLibs')},model:{value:(_vm.domLibrary),callback:function ($$v) {_vm.domLibrary=$$v},expression:\"domLibrary\"}})],1),(_vm.runCode && _vm.workerLibraries.length > 0)?_c('div',{staticClass:\"col-xs-12 col-sm-12 q-my-none q-py-none\"},[_c('q-select',{attrs:{\"options\":_vm.workerLibraries,\"multiple\":\"\",\"use-chips\":\"\",\"stack-label\":\"\",\"deletable-chips\":\"\",\"label\":_vm.$t('CodeBlocksSettings.WorkLibs')},model:{value:(_vm.workerLibrary),callback:function ($$v) {_vm.workerLibrary=$$v},expression:\"workerLibrary\"}})],1):_vm._e()])])],1):_vm._e()],1)],1),_c('div',{class:(\"col-xs-\" + (_vm.options.randomizer.active ? '12' : '12') + \" q-mt-sm\")},[_c('RandomizerSettings',{attrs:{\"options\":_vm.options}})],1),_c('div',{staticClass:\"col-xs-12\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.serializedOptions),expression:\"serializedOptions\"}],staticClass:\"blocksettings\",attrs:{\"name\":(\"block_settings[\" + (this.options.id) + \"]\")},domProps:{\"value\":(_vm.serializedOptions)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.serializedOptions=$event.target.value}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('q-card',[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('RandomizerSettings.Caption'))+\" \"),_c('q-toggle',{model:{value:(_vm.options.randomizer.active),callback:function ($$v) {_vm.$set(_vm.options.randomizer, \"active\", $$v)},expression:\"options.randomizer.active\"}})],1),_c('q-slide-transition',[_c('q-card-section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.randomizer.active),expression:\"options.randomizer.active\"}],staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"tagList\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$t('RandomizerSettings.Available'))+\" \"),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"color\":\"primary\",\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"add\"},on:{\"click\":_vm.addTag}})],1),_c('div',{staticClass:\"row q-mb-sm\"},_vm._l((_vm.options.randomizer.knownTags),function(tag,i){return _c('div',{key:tag,class:(\"tagItem q-ml-sm \" + _vm.tagClass)},[_c('div',{staticClass:\"row no-wrap\"},[_c('div',{staticClass:\"tagInfo col-shrink\"},[_c('div',{staticClass:\"tagName\"},[_vm._v(_vm._s(tag))]),_c('div',{staticClass:\"tagString\"},[_vm._v(\"{:\"+_vm._s(tag)+\"}\")])]),_c('div',{staticClass:\"tagAction col-4 q-pl-sm text-right\"},[_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"delete\"},on:{\"click\":function($event){return _vm.removeTag(i)}}})],1)])])}),0)]),_c('div',{staticClass:\"tagList q-mt-lg\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$t('RandomizerSettings.Sets'))+\" \"),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"color\":\"primary\",\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"add\"},on:{\"click\":_vm.addSet}})],1),_c('q-list',{staticClass:\"setList\"},_vm._l((_vm.options.randomizer.sets),function(s,i){return _c('q-item',{key:s.uuid},[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-avatar',{attrs:{\"color\":\"primary\",\"text-color\":\"white\",\"disabled\":!_vm.isVisible(i)}},[_vm._v(\" \"+_vm._s(i)+\" \")])],1),_c('q-item-section',[_c('q-item-label',[_vm._v(_vm._s(s.title))]),_c('q-item-label',{attrs:{\"caption\":\"\",\"lines\":\"2\"}},[_c('div',{staticClass:\"row q-mb-sm\"},_vm._l((s.values),function(tag){return _c('div',{key:tag.name,class:(\"tagItem q-ml-sm \" + _vm.tagClass)},[_c('div',{staticClass:\"row no-wrap\"},[_c('div',{staticClass:\"tagInfo col-shrink\"},[_c('div',{staticClass:\"tagName\"},[_vm._v(_vm._s(tag.tag))]),_c('div',{staticClass:\"tagString\"},[_vm._v(_vm._s(tag.value))])])])])}),0)])],1),_c('q-item-section',{attrs:{\"side\":\"\",\"top\":\"\"}},[_c('div',{staticClass:\"text-grey-8 q-gutter-xs\"},[_c('q-icon',{staticClass:\"q-mr-lg\",attrs:{\"name\":_vm.isCompleteSet(s) ? 'check' : 'warning',\"color\":_vm.isCompleteSet(s) ? 'positive' : 'negative',\"size\":\"24px\"}}),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":_vm.isVisible(i) ? 'visibility' : 'visibility_off'},on:{\"click\":function($event){return _vm.setVisible(i)}}},[_c('q-tooltip',{attrs:{\"delay\":200,\"offset\":[0, 10]}},[_vm._v(\" Use this set when running code in preview or editMode. \")])],1),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"edit\"}},[_c('RandomizerSetEditor',{attrs:{\"options\":_vm.options,\"tagSet\":_vm.getFullSet(s),\"nr\":i}})],1),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"delete\"},on:{\"click\":function($event){return _vm.removeSet(i)}}})],1)])],1)}),1)],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-popup-proxy',{attrs:{\"transition-show\":\"flip-up\",\"transition-hide\":\"flip-down\"},on:{\"before-show\":_vm.onShow}},[_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('RandomizerSetEditor.Caption', { nr: _vm.nr })))])]),_vm._l((_vm.tagSet.values),function(tag){return _c('div',{key:tag.tag,staticClass:\"q-pl-md\"},[_c('q-input',{attrs:{\"label\":tag.tag},model:{value:(tag.value),callback:function ($$v) {_vm.$set(tag, \"value\", $$v)},expression:\"tag.value\"}})],1)})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\n\n@Component\nexport default class RandomizerSetEditor extends Vue {\n    @Prop({ required: true }) options!: any\n    @Prop({ required: true }) tagSet!: IRandomizerSet\n    @Prop({ required: true }) nr!: number\n\n    get tags(): string[] {\n        return this.tagSet.values.map(v => v.tag)\n    }\n\n    onShow(o) {\n        this.tagSet.values = this.tagSet.values.filter(\n            v => this.options.randomizer.knownTags.indexOf(v.tag) >= 0\n        )\n        this.options.randomizer.knownTags.forEach(t => {\n            if (this.tagSet.values.find(v => v.tag == t) === undefined) {\n                this.tagSet.values.push({\n                    tag: t,\n                    value: ''\n                })\n            }\n        })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RandomizerSetEditor.vue?vue&type=template&id=e5082460&\"\nimport script from \"./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QPopupProxy from 'quasar/src/components/popup-proxy/QPopupProxy.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QPopupProxy,QInput});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport RandomizerSetEditor from '@/components/RandomizerSetEditor.vue'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { ICodeBlockSettingsOptions } from '@/components/CodeBlocksSettings.vue'\n\n@Component({ components: { RandomizerSetEditor } })\nexport default class RandomizerSettings extends Vue {\n    _newTagName: string = ''\n\n    @Prop({ required: true }) options!: ICodeBlockSettingsOptions\n\n    get tagClass(): string {\n        return Vue.$tagger.className.rnd + ' tag-mark-start tag-mark-end tag-mark-shadow'\n    }\n\n    isVisible(nr: number): boolean {\n        return nr == this.options.randomizer.previewIndex\n    }\n    setVisible(nr: number): void {\n        this.options.randomizer.previewIndex = nr\n    }\n    isValidTag(tag: string): boolean {\n        return this.options.randomizer.knownTags.find(t => t == tag) !== undefined\n    }\n    isCompleteSet(s: IRandomizerSet): boolean {\n        if (s.values.filter(v => this.options.randomizer.knownTags.indexOf(v.tag) < 0).length > 0) {\n            return false\n        }\n        if (\n            this.options.randomizer.knownTags.filter(\n                t => s.values.find(v => v.tag == t) === undefined\n            ).length > 0\n        ) {\n            return false\n        }\n        return true\n    }\n    getFullSet(s: IRandomizerSet): IRandomizerSet {\n        return s\n    }\n    removeSet(nr: number): void {\n        this.options.randomizer.sets.splice(nr, 1)\n    }\n    addSet(): void {\n        this.options.randomizer.sets.push({ uuid: this.$uuid.v4(), values: [] })\n    }\n    removeTag(nr: number): void {\n        this.options.randomizer.knownTags.splice(nr, 1)\n    }\n    addTag(): void {\n        this.$q\n            .dialog({\n                title: 'Create Tag',\n                message: 'This will generate a new randomizer-Tag with the below name.',\n                html: true,\n                persistent: true,\n                prompt: {\n                    model: 'tag_name',\n                    type: 'text'\n                },\n                ok: {\n                    push: true\n                },\n                cancel: {\n                    flat: true,\n                    color: 'gray'\n                }\n            })\n            .onOk(data => {\n                data = data.replace(/\\W/g, '_')\n                //have this name\n                if (this.options.randomizer.knownTags.filter(t => t == data).length > 0) {\n                    let ct = 1\n                    const odata = data\n                    do {\n                        data = odata + '_' + ct\n                        ct++\n                    } while (this.options.randomizer.knownTags.filter(t => t == data).length > 0)\n                }\n                this.options.randomizer.knownTags.push(data)\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                //self.highlighted = false;\n            })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RandomizerSettings.vue?vue&type=template&id=8b99c0d6&scoped=true&\"\nimport script from \"./RandomizerSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./RandomizerSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RandomizerSettings.vue?vue&type=style&index=0&id=8b99c0d6&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b99c0d6\",\n  null\n  \n)\n\nexport default component.exports\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QList from 'quasar/src/components/item/QList.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCard,QCardSection,QToggle,QSlideTransition,QBtn,QList,QItem,QItemSection,QAvatar,QItemLabel,QIcon,QTooltip});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport RandomizerSettings from '@/components/RandomizerSettings.vue'\nimport { IListItemData, ICompilerID } from '@/lib/ICompilerRegistry'\nimport { CodeOutputTypes, IRandomizerSettings } from '@/lib/ICodeBlocks'\n\nexport interface ICodeBlockSettingsOptions {\n    language: string\n    compiler: ICompilerID\n    executionTimeout: number\n    maxCharacters: number\n    runCode: boolean\n    domLibs: string[]\n    workerLibs: string[]\n    id: number\n    codeTheme: string\n    solutionTheme: string\n    outputParser: CodeOutputTypes\n    randomizer: IRandomizerSettings\n    continuousCompilation: boolean\n    persistentArguments: boolean\n    messagePassing: boolean\n    keepAlive: boolean\n}\n\n@Component({ components: { RandomizerSettings } })\nexport default class CodeBlocksSettings extends Vue {\n    get themes(): IListItemData[] {\n        return [\n            { label: 'Solarized', value: 'solarized light' },\n            { label: 'Solarized (dark)', value: 'solarized dark' },\n            { label: 'Base16 (dark)', value: 'base16-dark' },\n            { label: 'Base16 (light)', value: 'base16-light' },\n            { label: 'Duotone (dark)', value: 'duotone-dark' },\n            { label: 'Duotone (light)', value: 'duotone-light' },\n            { label: 'XQ (dark)', value: 'xq-dark' },\n            { label: 'XQ (light)', value: 'xq-light' },\n            { label: 'Blackboard', value: 'blackboard' },\n            { label: 'neo', value: 'neo' },\n            { label: 'mbo', value: 'mbo' },\n            { label: 'mdn like', value: 'mdn-like' },\n        ]\n    }\n\n    get outputParsers(): IListItemData[] {\n        return [\n            { label: this.$l('CodeBlocksSettings.PAutomatic'), value: CodeOutputTypes.AUTO },\n            { label: this.$l('CodeBlocksSettings.PText'), value: CodeOutputTypes.TEXT },\n            { label: this.$l('CodeBlocksSettings.PJSON'), value: CodeOutputTypes.JSON },\n            { label: this.$l('CodeBlocksSettings.PData'), value: CodeOutputTypes.DATA },\n            { label: this.$l('CodeBlocksSettings.PMagic'), value: CodeOutputTypes.MAGIC },\n        ]\n    }\n    @Prop({ required: true }) options!: ICodeBlockSettingsOptions\n\n    validNumber(v: any): boolean | string {\n        if (isNaN(v)) {\n            return 'Must be a valid Number.'\n        }\n        return true\n    }\n\n    get serializedOptions(): string {\n        const o: any = {\n            ...this.options,\n        }\n        o.randomizer = {\n            ...this.options.randomizer,\n        }\n        o.randomizer.sets = this.options.randomizer.sets.map((s) => {\n            let values = {}\n            s.values.forEach((v) => (values[v.tag] = v.value))\n            return values\n        })\n        return JSON.stringify(o)\n    }\n    set serializedOptions(v: string) {}\n\n    get domLibraries(): IListItemData[] {\n        return this.$compilerRegistry.domLibraries\n    }\n    get compiledLanguages(): IListItemData[] {\n        if (this.options.runCode === false) {\n            return this.languages\n        }\n        return this.$compilerRegistry.languages\n    }\n    get workerLibraries(): IListItemData[] {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: this.compilerLanguage,\n            version: this.compilerVersion,\n        })\n        if (c === undefined || c.libraries === undefined) {\n            return []\n        }\n        return c.libraries.map((l) => {\n            return { label: l.displayName, value: l.key }\n        })\n    }\n    get languages(): IListItemData[] {\n        return this.$CodeBlock.knownLanguages()\n    }\n    get compilerVersions(): string[] {\n        return this.$compilerRegistry.versionsForLanguage(this.compilerLanguage)\n    }\n\n    isExperimentalVersion(language: string, version: string): boolean {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: language,\n            version: version,\n        })\n        if (c === undefined) {\n            return false\n        }\n        return c.experimental\n    }\n\n    isDeprecatedVersion(language: string, version: string): boolean {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: language,\n            version: version,\n        })\n        if (c === undefined) {\n            return false\n        }\n        return c.deprecated\n    }\n\n    get isExperimental(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.experimental\n        }\n        return false\n    }\n\n    get isDeprecated(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.deprecated\n        }\n        return false\n    }\n\n    get languageHasCompiler(): boolean {\n        if (this.runCode) {\n            return true\n        }\n        const c = this.$compilerRegistry.getCompiler({ languageType: this.compilerLanguage })\n        return c !== undefined\n    }\n    get compilerLanguage(): string {\n        if (this.options.runCode === false) {\n            return this.options.language\n        }\n        return this.options.compiler.languageType\n    }\n    get compilerLanguageObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.compiledLanguages, this.compilerLanguage)\n    }\n    set compilerLanguageObj(v: IListItemData) {\n        if (this.options.runCode === false) {\n            this.$emit('language-change', v.value)\n        }\n        this.$emit('compiler-change', v.value)\n    }\n\n    get compilerVersion(): string {\n        return this.options.compiler.version\n    }\n    set compilerVersion(v: string) {\n        this.$emit('compiler-version-change', v)\n    }\n\n    get runCode(): boolean {\n        return this.options.runCode\n    }\n    set runCode(v: boolean) {\n        this.$emit('run-state-change', v)\n    }\n\n    get maxRuntime(): number {\n        return this.options.executionTimeout\n    }\n    set maxRuntime(v: number) {\n        this.$emit('timeout-change', v)\n    }\n\n    get maxCharacters(): number {\n        return this.options.maxCharacters\n    }\n    set maxCharacters(v: number) {\n        this.$emit('character-limit-change', v)\n    }\n\n    get domLibrary(): IListItemData[] {\n        return this.options.domLibs\n            .map((d) => this.domLibraries.find((k) => k.value == d))\n            .filter((v) => v !== undefined) as IListItemData[]\n    }\n    set domLibrary(v: IListItemData[]) {\n        this.$emit(\n            'dom-libs-change',\n            v.map((vv) => vv.value)\n        )\n    }\n\n    get workerLibrary(): IListItemData[] {\n        return this.options.workerLibs\n            .map((d) => this.workerLibraries.find((k) => k.value == d))\n            .filter((v) => v !== undefined) as IListItemData[]\n    }\n    set workerLibrary(v: IListItemData[]) {\n        this.$emit(\n            'worker-libs-change',\n            v.map((vv) => vv.value)\n        )\n    }\n\n    get solutionTheme(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.themes, this.options.solutionTheme)\n    }\n    set solutionTheme(v: IListItemData) {\n        this.$emit('theme-change', {\n            solution: v.value,\n            code: this.options.codeTheme,\n        })\n    }\n\n    get codeTheme(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.themes, this.options.codeTheme)\n    }\n    set codeTheme(v: IListItemData) {\n        this.$emit('theme-change', {\n            solution: this.options.solutionTheme,\n            code: v.value,\n        })\n    }\n\n    get outputParser(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.outputParsers, this.options.outputParser)\n    }\n    set outputParser(v: IListItemData) {\n        this.$emit('output-parser-change', v.value)\n    }\n\n    get continuousCompile(): boolean {\n        return this.options.continuousCompilation\n    }\n    set continuousCompile(v: boolean) {\n        this.$emit('continuous-compile-change', v)\n    }\n    get compiler(): ICompilerID {\n        return this.options.compiler\n    }\n    get canContinousCompile(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        console.d(\n            'Continuous Compile - ',\n            'can',\n            cmp,\n            cmp ? cmp.allowsContinousCompilation : false,\n            cmp ? cmp.canRun : false\n        )\n        if (cmp) {\n            console.d('Continuous Compile - ', 'can', cmp.allowsContinousCompilation && cmp.canRun)\n            return cmp.allowsContinousCompilation && cmp.canRun\n        }\n        return false\n    }\n\n    get allowsMessagePassing(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            console.d('Message Passing - ', 'can', cmp.allowsContinousCompilation && cmp.canRun)\n            return cmp.allowsMessagePassing && cmp.canRun\n        }\n        return false\n    }\n\n    get messagePassing(): boolean {\n        return this.options.messagePassing\n    }\n    set messagePassing(v: boolean) {\n        this.$emit('message-passing-change', v)\n    }\n\n    get keepAlive(): boolean {\n        return this.options.keepAlive\n    }\n    set keepAlive(v: boolean) {\n        this.$emit('keep-alive-change', v)\n    }\n\n    get persistentArguments(): boolean {\n        return this.options.persistentArguments\n    }\n    set persistentArguments(v: boolean) {\n        this.$emit('persistent-arguments-change', v)\n    }\n    get canPersistentArguments(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            console.d(\n                'Persistent Arguments - ',\n                'can',\n                cmp.acceptsJSONArgument && cmp.allowsPersistentArguments && cmp.canRun\n            )\n            return cmp.acceptsJSONArgument && cmp.allowsPersistentArguments && cmp.canRun\n        }\n        return false\n    }\n\n    get accepstArguments(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.acceptsJSONArgument\n        }\n        return false\n    }\n    showArgsInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.AllowArgumentsCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.AllowArgumentsHintJava'\n                : 'CodeBlocksSettings.AllowArgumentsHint'\n        )\n    }\n    showPersistentArgsInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.UsePersistentArgumentsCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.UsePersistentArgumentsHintJava'\n                : 'CodeBlocksSettings.UsePersistentArgumentsHint'\n        )\n    }\n    showMessagesInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.AllowMessagePassingCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.AllowMessagePassingHintJava'\n                : 'CodeBlocksSettings.AllowMessagePassingHint'\n        )\n    }\n    showAliveInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.KeepAliveCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.KeepAliveHintJava'\n                : 'CodeBlocksSettings.KeepAliveHint'\n        )\n    }\n\n    showInfoDialog(title, message): void {\n        this.$q\n            .dialog({\n                title: this.$l(title),\n                message: this.$l(message),\n                html: true,\n                style: 'width:75%',\n            })\n            .onOk(() => {\n                // console.log('OK')\n            })\n            .onCancel(() => {\n                // console.log('Cancel')\n            })\n            .onDismiss(() => {\n                // console.log('I am triggered on both OK and Cancel')\n            })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlocksSettings.vue?vue&type=template&id=0d37c1de&scoped=true&\"\nimport script from \"./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlocksSettings.vue?vue&type=style&index=0&id=0d37c1de&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d37c1de\",\n  null\n  \n)\n\nexport default component.exports\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport QBanner from 'quasar/src/components/banner/QBanner.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCard,QCardSection,QToggle,QSelect,QAvatar,QItem,QItemSection,QItemLabel,QSlideTransition,QBanner,QIcon,QInput,QBtn});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editMode),expression:\"editMode\"}],staticClass:\"blocksEditorPanelContainer\",style:((\"width:\" + _vm.width + \"px\"))},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.block !== null),expression:\"block !== null\"}],staticClass:\"blocksEditorPanelLeft\"},[_c('q-btn',{staticClass:\"expander\",attrs:{\"icon\":_vm.expanded ? 'chevron_right' : 'chevron_left',\"size\":\"sm\",\"unelevated\":\"\",\"align\":\"center\",\"color\":\"blue-grey-4\"},on:{\"click\":_vm.onExpandClick}}),_c('CodeBlock',{attrs:{\"block\":_vm.saveBlock,\"theme\":_vm.themeForBlock(_vm.block),\"mode\":\"\",\"visibleLines\":_vm.visibleLinesNow,\"editMode\":true,\"muteReadyState\":true,\"isBookmarkPanel\":true,\"namePrefix\":\"panel_\"},on:{\"code-changed-in-edit-mode\":_vm.onCodeChange}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport { BlockData } from '../lib/codeBlocksManager'\nimport {\n    IBlockData,\n    KnownBlockTypes,\n    ICodeBlockDataState,\n    CodeExpansionType,\n} from '../lib/ICodeBlocks'\n\ninterface IBlockDataExtended extends IBlockData {\n    firstLine: number\n    actualContent: string\n    actualAltContent: string\n}\n@Component({ components: { CodeBlock } })\nexport default class CodePanel extends Vue {\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: number | 'auto'\n    @Prop({ required: true }) block!: BlockData | null\n    @Prop({ default: 400 }) panelWidth!: number\n\n    get saveBlock(): IBlockData {\n        if (\n            this.block !== null &&\n            this.block !== undefined &&\n            this.block.content !== null &&\n            this.block.content !== undefined\n        ) {\n            return this.block\n        }\n        const ret: IBlockDataExtended = {\n            hasCode: false,\n            type: KnownBlockTypes.BLOCKSTATIC,\n            content: '',\n            alternativeContent: '',\n            noContent: true,\n            id: -1,\n            uuid: '',\n            parentID: -2,\n            expanded: true,\n            codeExpanded: CodeExpansionType.AUTO,\n            obj: null,\n            version: '',\n            readyCount: 0,\n            errors: [],\n            visibleLines: 'auto',\n            hasAlternativeContent: false,\n            shouldAutoreset: false,\n            generateTemplate: true,\n            firstLine: 1,\n            actualContent: '',\n            actualAltContent: '',\n            width: '100%',\n            height: '200px',\n            align: 'center',\n            readonly: true,\n            static: true,\n            hidden: false,\n            themeForCodeBlock: '',\n            lineCountHint: -0,\n            getThemeForBlock: (bl: ICodeBlockDataState) => {\n                return ''\n            },\n            blockly: {\n                _blockErrors: [],\n                useOverride: false,\n                toolbox: {\n                    categories: [],\n                },\n                showControls: false,\n                toolboxOverride: '',\n                blocks: [],\n            },\n        }\n        return ret\n    }\n\n    get visibleLinesNow() {\n        if (this.visibleLines === 'auto') {\n            return 'auto'\n        }\n        if (this.visibleLines <= 2) {\n            return 2\n        }\n        return this.visibleLines\n    }\n    onCodeChange() {}\n\n    get width() {\n        if (this.expanded) {\n            return 2 * this.panelWidth\n        }\n        return this.panelWidth\n    }\n\n    expanded: boolean = false\n    onExpandClick() {\n        this.expanded = !this.expanded\n    }\n\n    themeForBlock(bl: BlockData | null): string {\n        if (bl === null || bl === undefined) {\n            return ''\n        }\n        return bl.themeForCodeBlock\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodePanel.vue?vue&type=template&id=30d18f94&scoped=true&\"\nimport script from \"./CodePanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodePanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodePanel.vue?vue&type=style&index=0&id=30d18f94&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30d18f94\",\n  null\n  \n)\n\nexport default component.exports\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtn});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('PlaygroundCanvas',{key:_vm.runCount,ref:\"playgroundContainer\",attrs:{\"output\":_vm.finalOutputObject.initialOutput,\"obj\":_vm.block.obj,\"block\":_vm.block,\"eventHub\":_vm.eventHub,\"tagSet\":_vm.tagSet,\"data-question\":_vm.block.parentID,\"runner\":_vm.emitRun},on:{\"canvas-change\":_vm.onCanvasChange,\"did-init\":_vm.onDidInit}}),_c('div',{staticClass:\"row justify-end\"},[(_vm.editMode)?_c('q-btn-group',{staticClass:\"q-mb-sm\",attrs:{\"rounded\":\"\"}},[_c('q-btn',{attrs:{\"color\":_vm.isExpandedAuto ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Auto\",\"icon\":\"video_label\"},on:{\"click\":_vm.setExpandedAuto}}),_c('q-btn',{attrs:{\"color\":_vm.isExpandedLarge ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Large\",\"icon\":\"call_to_action\"},on:{\"click\":_vm.setExpandedLarge}}),_c('q-btn',{attrs:{\"color\":_vm.isExpandedTiny ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Small\",\"icon\":\"visibility_off\"},on:{\"click\":_vm.setExpandedTiny}})],1):_vm._e()],1),_c('q-slide-transition',[(_vm.editMode)?_c('CodeBlock',{attrs:{\"block\":_vm.block,\"theme\":_vm.options.theme,\"mode\":_vm.options.mode,\"visibleLines\":_vm.visibleLinesNow,\"editMode\":this.editMode,\"muteReadyState\":true},on:{\"code-changed-in-edit-mode\":_vm.onCodeChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row ma-0 pa-0 block-playground\",attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id}},[(_vm.block.generateTemplate)?_c('div',{class:(\"col-12 text-\" + (_vm.block.align))},[_c('div',{ref:\"innerPlaygroundContainer\",staticClass:\"playground\",style:((\"width:\" + (_vm.block.width) + \";height:\" + (_vm.block.height))),attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id}},[_vm._v(\" \"+_vm._s(_vm.output)+\" \")])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { IScriptBlock } from '@/lib/IScriptBlock'\n\n@Component\nexport default class PlaygroundCanvas extends Vue {\n    @Prop() output: string = ''\n    @Prop({ required: true }) obj!: IScriptBlock\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ required: true }) eventHub!: Vue\n    @Prop({ default: () => {} }) runner!: () => void\n    @Prop() tagSet?: IRandomizerSet\n\n    get canvas(): HTMLElement {\n        return this.$refs.innerPlaygroundContainer as HTMLElement\n    }\n\n    whenMounted(): void {\n        if (this.obj) {\n            console.d('Will Init', this.canvas, $(this.canvas).css('background-color'))\n\n            this.$compilerRegistry.loadLibraries(this.block.domLibs, () => {\n                this.$nextTick(() => {\n                    this.$nextTick(() => {\n                        this.obj.rebuild() //we need to rebuild the script to make sure its context is the current state of the DOM\n\n                        this.obj.init($(this.canvas), $(this.block.scopeSelector), this.runner)\n                        this.$emit('did-init', this.canvas)\n                    })\n                })\n            })\n        }\n    }\n\n    mounted() {\n        if (this.eventHub) {\n            this.eventHub.$on('all-mounted', this.whenMounted)\n        } else {\n            this.whenMounted()\n        }\n\n        this.$emit('canvas-change', this.canvas)\n    }\n    beforeDestroy() {\n        if (this.eventHub) {\n            this.eventHub.$off('all-mounted')\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PlaygroundCanvas.vue?vue&type=template&id=140fcf80&scoped=true&\"\nimport script from \"./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PlaygroundCanvas.vue?vue&type=style&index=0&id=140fcf80&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"140fcf80\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport codemirror from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\n//helper to reset the canvas area if needed\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport PlaygroundCanvas from '@/components/PlaygroundCanvas.vue'\nimport BaseBlock from '@/components/BaseBlock.vue'\nconst PlaygroundCanvasCtor = Vue.extend(PlaygroundCanvas)\n\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { IRandomizerSet, CodeExpansionType } from '@/lib/ICodeBlocks'\nimport { IScriptOutputObject } from '@/lib/IScriptBlock'\n\nexport interface ICodePlaygroundOptions {\n    mode: string\n    theme: string\n    lineNumbers: boolean\n    line: boolean\n    tabSize: number\n    indentUnit: number\n    autoCloseBrackets: boolean\n    readOnly: boolean\n    firstLineNumber: number\n    gutters: string[]\n}\n\n@Component({\n    components: { PlaygroundCanvas, CodeBlock },\n})\nexport default class CodePlayground extends BaseBlock {\n    @Prop({ required: true }) finalOutputObject!: IScriptOutputObject\n    @Prop({\n        required: true,\n        validator: function (b) {\n            if (!b.obj) {\n                return false\n            }\n            return true\n        },\n    })\n    block!: BlockData\n\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: 'auto' | string\n    @Prop({ default: 'base16-dark' }) theme!: string\n    @Prop({ required: true }) eventHub!: Vue\n    @Prop() tagSet?: IRandomizerSet\n\n    get originalMode(): boolean {\n        if (this.block.obj === null) {\n            return false\n        }\n        return this.block.obj.requestsOriginalVersion()\n    }\n\n    get options(): ICodePlaygroundOptions {\n        return {\n            // codemirror options\n            mode: this.$CodeBlock.mimeType('javascript'),\n            theme: this.theme,\n            lineNumbers: true,\n            line: true,\n            tabSize: 4,\n            indentUnit: 4,\n            autoCloseBrackets: true,\n            readOnly: !this.editMode,\n            firstLineNumber: 1,\n            gutters: ['diagnostics', 'CodeMirror-linenumbers'],\n        }\n    }\n    get visibleLinesNow(): 'auto' | string {\n        if (this.block.codeExpanded == CodeExpansionType.TINY) {\n            return '2.4'\n        } else if (this.block.codeExpanded == CodeExpansionType.LARGE) {\n            return '33.4'\n        }\n        return 'auto'\n    }\n    created() {\n        this.eventHub.$on('before-run', this.resetBeforeRun)\n        this.eventHub.$on('render-diagnostics', this.updateErrors)\n    }\n    mounted() {\n        const hasErrors = this.block && this.block.obj && this.block.obj.err.length > 0\n        if (hasErrors) {\n            this.updateErrors()\n        }\n        this.eventHub.$on('output-updated', this.onFinalOutputObject)\n    }\n    beforeDestroy() {\n        this.eventHub.$off('before-run', this.resetBeforeRun)\n        this.eventHub.$off('render-diagnostics', this.updateErrors)\n        this.eventHub.$off('output-updated', this.onFinalOutputObject)\n    }\n    isPreparingRun: boolean = false\n    lastRun: Date = new Date()\n    runCount: number = 0\n    canvas: HTMLElement | undefined = undefined\n    needsCodeRebuild: boolean = false\n    initAndRebuildErrors: any[] = []\n\n    get isExpandedLarge(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.LARGE\n    }\n    get isExpandedTiny(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.TINY\n    }\n    get isExpandedAuto(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.AUTO\n    }\n    setExpandedLarge(): void {\n        this.setExpanded(CodeExpansionType.LARGE)\n    }\n    setExpandedTiny(): void {\n        this.setExpanded(CodeExpansionType.TINY)\n    }\n    setExpandedAuto(): void {\n        this.setExpanded(CodeExpansionType.AUTO)\n    }\n    setExpanded(val: CodeExpansionType): void {\n        this.block.codeExpanded = val\n\n        if (this.block.codeExpanded != CodeExpansionType.TINY) {\n            this.$CodeBlock.refreshAllCodeMirrors()\n        }\n    }\n    updateErrors(): boolean {\n        this.block.errors = []\n        if (this.block.obj === null) {\n            return false\n        }\n\n        this.block.obj.err = this.block.obj.err.concat(this.initAndRebuildErrors)\n        this.block.obj.err.forEach((e) => {\n            let err = {\n                start: { line: e.line, column: e.column },\n                end: { line: e.line, column: e.column + 1 },\n                message: e.msg,\n                severity: Vue.$SEVERITY_ERROR,\n            }\n            if (e.line === undefined) {\n                err.start = { line: 1, column: -1 }\n                err.end = { line: 1, column: -1 }\n            } else if (e.column === undefined) {\n                err.start = { line: e.line, column: -1 }\n                err.end = { line: e.line, column: -1 }\n            }\n            this.block.errors.push(err)\n        })\n\n        if (this.block.obj.err.length > 0 && this.editMode) {\n            this.needsCodeRebuild = true\n            return true\n        } else {\n            return false\n        }\n    }\n    resetBeforeRun(): void {\n        const rebuildCode = this.editMode && (this.needsCodeRebuild || this.tagSet !== undefined)\n        let reInitCode = rebuildCode\n        let onNextTick = false\n        if (this.block && this.block.obj) {\n            if (this.block.shouldAutoreset || rebuildCode) {\n                if (this.canvas !== undefined) {\n                    console.log(\n                        'Will Re-Initialize',\n                        this.canvas,\n                        $(this.canvas).css('background-color')\n                    )\n                } else {\n                    console.log('Will Re-Initialize', 'Without Canvas')\n                }\n                this.lastRun = new Date()\n                this.runCount++\n                reInitCode = true\n                onNextTick = true\n            } else {\n                const self = this\n                this.$nextTick(() => {\n                    //console.log(\"Will Reset\", this.canvas, $(this.canvas).css('background-color'));\n                    if (self.block.obj !== null && self.canvas !== undefined) {\n                        self.block.obj.reset($(self.canvas))\n                    }\n                    self.updateErrors()\n                })\n            }\n        }\n\n        if (rebuildCode) {\n            this.initAndRebuildErrors = []\n\n            if (this.block.obj != null) {\n                this.block.obj.rebuild(this.block.actualContent())\n                if (this.updateErrors()) {\n                    this.initAndRebuildErrors = this.block.obj.err\n                    this.block.obj.invalidate()\n                    return\n                }\n            }\n\n            reInitCode = true\n        }\n\n        if (reInitCode) {\n            this.initAndRebuildErrors = []\n            let doInit = () => {\n                console.i('!!! DO INIT !!!')\n                if (this.block.obj !== null) {\n                    this.block.obj.init(\n                        $(this.canvas) as JQuery<HTMLElement>,\n                        $(this.block.scopeSelector) as JQuery<HTMLElement>,\n                        this.emitRun\n                    )\n                    if (this.updateErrors()) {\n                        this.initAndRebuildErrors = this.block.obj.err\n                        this.block.obj.invalidate()\n                        return false\n                    }\n                    return true\n                } else {\n                    return false\n                }\n            }\n            if (onNextTick) {\n                this.$nextTick(doInit)\n            } else {\n                if (!doInit()) {\n                    return\n                }\n            }\n        }\n    }\n    emitRun() {\n        this.$emit('run', this.block)\n    }\n    onCanvasChange(can) {\n        this.canvas = can\n        if (this.editMode) {\n            this.updateErrors()\n        }\n        //console.log(\"Changed Canvas\", can, $(can).css('background-color'));\n    }\n    onCodeChange(newCode: string): void {\n        if (this.editMode) {\n            this.needsCodeRebuild = true\n        }\n    }\n    onDidInit(): void {\n        this.updateErrors()\n    }\n\n    //we emit an event to the global event hub\n    //@Watch('finalOutputObject')\n    onFinalOutputObject(val) {\n        const initialOutput = val.output\n\n        console.d('onFinalOutputObject', val, this.block.obj)\n        if (this.block.obj !== null) {\n            this.block.obj.err = []\n            try {\n                if (val.parseError != null) {\n                    if (\n                        !this.block.obj.onParseError(initialOutput, val.parseError) &&\n                        this.editMode\n                    ) {\n                        let jStr = initialOutput\n                        if (val.parseError.parsedString !== undefined) {\n                            jStr = val.parseError.parsedString\n                        }\n                        jStr = jStr.replace(/</g, '&lt;')\n\n                        this.$q\n                            .dialog({\n                                title: this.$l('CodePlayground.InvalidJson'),\n                                message:\n                                    '<span class=\"text-caption jsonErrTitle\">' +\n                                    this.$t('CodePlayground.Output') +\n                                    '</span><div class=\"jsonErrObj\">' +\n                                    jStr +\n                                    '</div>\\n<span class=\"text-caption jsonErrTitle\">' +\n                                    this.$t('CodePlayground.Message') +\n                                    '</span><div class=\"jsonErr\">' +\n                                    val.parseError +\n                                    '</div>',\n                                html: true,\n                            })\n                            .onOk(() => {\n                                // console.log('OK')\n                            })\n                            .onCancel(() => {\n                                // console.log('Cancel')\n                            })\n                            .onDismiss(() => {\n                                // console.log('I am triggered on both OK and Cancel')\n                            })\n                    }\n                    if (this.updateErrors()) {\n                        return\n                    }\n                }\n\n                const self = this\n                this.$nextTick(() => {\n                    console.d('Ticked', self.block.obj, self.canvas)\n                    if (self.block.obj !== null && self.canvas !== undefined) {\n                        let result = self.block.obj.update(val, $(self.canvas))\n                        if (self.updateErrors()) {\n                            return\n                        }\n\n                        //construct a split output object\n                        if (result === undefined && val.processedOutput.type != 'text') {\n                            if (!self.originalMode) {\n                                result = val.processedOutput.text\n                            }\n                        }\n\n                        if (self.originalMode) {\n                            if (typeof result !== 'string') {\n                                result = ''\n                            }\n                        }\n\n                        if (result !== undefined) {\n                            self.$emit('changeOutput', result)\n                        }\n                    }\n                })\n            } catch (e) {\n                console.error(e)\n            }\n            if (this.block.obj.err.length > 0) {\n                if (this.editMode) {\n                    this.updateErrors()\n                } else {\n                    console.error(this.block.obj.err)\n                }\n            }\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodePlayground.vue?vue&type=template&id=177af904&scoped=true&\"\nimport script from \"./CodePlayground.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodePlayground.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodePlayground.vue?vue&type=style&index=0&id=177af904&lang=sass&scoped=true&\"\nimport style1 from \"./CodePlayground.vue?vue&type=style&index=1&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"177af904\",\n  null\n  \n)\n\nexport default component.exports\nimport QBtnGroup from 'quasar/src/components/btn-group/QBtnGroup.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtnGroup,QBtn,QSlideTransition});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.editMode)?_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\",value:(_vm.language),expression:\"language\"}],domProps:{\"innerHTML\":_vm._s(_vm.previewValue)}}):_c('TipTap',{staticClass:\"editor q-my-3\",attrs:{\"value\":_vm.value,\"name\":_vm.name,\"language\":_vm.language,\"scopUUID\":_vm.scopeUUID,\"editMode\":_vm.editMode},on:{\"input\":_vm.updatedContentDefered}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row q-ma-0 q-pa-0\"},[_c('div',{staticClass:\"col-xs-12 col-md-6 q-px-sm\"},[_c('q-input',{ref:\"editBox\",staticClass:\"plain accqstXmlInput noRTEditor\",attrs:{\"type\":\"textarea\",\"autogrow\":\"\",\"filled\":\"\",\"name\":_vm.name,\"label\":\"HTML Source\",\"background-color\":\"blue-grey darken-3\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6 q-px-sm\"},[_c('div',{staticClass:\"q-field__label no-pointer-events ellipsis text-caption wysiwyg\"},[_vm._v(\" Preview \")]),_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\",value:(_vm.language),expression:\"language\"},{name:\"tagged\",rawName:\"v-tagged\",value:(_vm.scopeUUID),expression:\"scopeUUID\"}],domProps:{\"innerHTML\":_vm._s(_vm.text)}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { ITagReplaceAction } from '../plugins/tagger'\n@Component\nexport default class TipTap extends Vue {\n    @Prop({ default: '' }) value!: string\n    @Prop({ default: '' }) name!: string\n    @Prop({ default: '' }) scopeUUID!: string\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'javascript' }) language!: string\n\n    get text(): string {\n        return this.value\n    }\n    set text(v: string) {\n        this.updatedContent(v)\n    }\n\n    updatedContent(v: string): void {\n        this.$emit('input', v)\n    }\n    replaceTemplateTags(o: ITagReplaceAction) {\n        if (!this.editMode) {\n            return\n        }\n        if (o.scopeUUID != this.scopeUUID) {\n            return\n        }\n        this.updatedContent(Vue.$tagger.replaceTemplateTagInString(this.text, o.name, o.newValue))\n    }\n\n    mounted() {\n        const eb: any = this.$refs.editBox\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        eb.$el.querySelectorAll('textarea[name]').forEach(el => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n        })\n        Vue.$tagger.$on('replace-template-tag', this.replaceTemplateTags)\n    }\n\n    beforeDestroy() {\n        Vue.$tagger.$off('replace-template-tag', this.replaceTemplateTags)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TipTap.vue?vue&type=template&id=5a368702&scoped=true&\"\nimport script from \"./TipTap.vue?vue&type=script&lang=ts&\"\nexport * from \"./TipTap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TipTap.vue?vue&type=style&index=0&id=5a368702&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a368702\",\n  null\n  \n)\n\nexport default component.exports\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QField from 'quasar/src/components/field/QField.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QInput,QField});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport TipTap from './TipTap.vue'\nimport BaseBlock from './BaseBlock.vue'\n@Component({ components: { TipTap } })\nexport default class SimpleText extends BaseBlock {\n    @Prop() language!: string\n    @Prop({ default: '' }) value!: string\n    @Prop({ default: '' }) name!: string\n    @Prop({ default: '' }) scopeUUID!: string\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: '' }) previewValue!: string\n\n    textUpdateTimer: number | null = null\n    textUpdateStartTime: number = 0\n    updatedContentDefered(newVal: string) {\n        if (!this.editMode) {\n            this.updatedContent(newVal)\n            return\n        }\n\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.textUpdateTimer !== null) {\n            clearTimeout(this.textUpdateTimer)\n            this.textUpdateTimer = null\n        } else {\n            this.textUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.textUpdateTimer = null\n            this.updatedContent(newVal)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.textUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.textUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n\n    updatedContent(v: string) {\n        //console.log('Updating')\n        //this.value = v\n        this.$emit('input', v)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SimpleText.vue?vue&type=template&id=fead5814&scoped=true&\"\nimport script from \"./SimpleText.vue?vue&type=script&lang=ts&\"\nexport * from \"./SimpleText.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fead5814\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlockContainer from '@/components/CodeBlockContainer.vue'\nimport CodeBlocksSettings, { ICodeBlockSettingsOptions } from '@/components/CodeBlocksSettings.vue'\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport CodePanel from '@/components/CodePanel.vue'\n//import Blockly from '@/components/Blockly/Blockly.vue'\nimport CodePlayground from '@/components/CodePlayground.vue'\nimport SimpleText from '@/components/SimpleText.vue'\nimport { BlockData, IMainBlock, IBlockBookmarkPayload } from '@/lib/codeBlocksManager'\nimport { IScriptOutputObject, IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport {\n    ICompilerID,\n    ICompilerErrorDescription,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\nimport {\n    CodeOutputTypes,\n    IRandomizerSet,\n    KnownBlockTypes,\n    IBlockDataPlayground,\n} from '@/lib/ICodeBlocks'\n\nfunction formatOutput(result) {\n    const regex =\n        /^@(bold|italic|em)?(red|green|blue|cyan|magenta|yellow|orange|gray|#[\\da-f]{6}|#[\\da-f]{8}):(.*)/gim\n\n    return result\n        .split('\\n')\n        .map((line, nr) => {\n            let m\n\n            if ((m = regex.exec(result)) !== null) {\n                let style = ''\n                if (m[2] === 'gray') {\n                    style = 'style=\"color:silver\"'\n                } else if (m[2] !== undefined) {\n                    style = `style=\"color:${m[2]}\"`\n                }\n\n                if (m[1] === 'bold') {\n                    line = `<b ${style}>${m[3]}</b>`\n                } else if (m[1] === 'italic' || m[1] === 'em') {\n                    line = `<em ${style}>${m[3]}</em>`\n                } else {\n                    line = `<span ${style}>${m[3]}</span>`\n                }\n            }\n\n            return line\n        })\n        .join('\\n')\n}\n\nconst Blockly = () => import('@/components/Blockly/Blockly.vue')\nexport interface IOnTypeChangeInfo {\n    type: KnownBlockTypes\n    hidden: boolean\n    static: boolean\n    id: number\n    hasCode: boolean\n}\n\nexport interface IOnVisibleLinesChangeInfo {\n    visibleLines: 'auto' | number\n    id: number\n}\n\nexport interface IOnPlacementChangeInfo extends IBlockDataPlayground {\n    id: number\n}\n\nexport interface IOnScriptVersionChangeInfo {\n    version: string\n    id: number\n}\n\nexport interface IOnSetAutoResetInfo {\n    shouldAutoreset: boolean\n    id: number\n}\n\nexport interface IOnGenerateTemplateInfo {\n    generateTemplate: boolean\n    id: number\n}\n\nexport interface IOnThemeChangeInfo {\n    solution: string\n    code: string\n}\n\n@Component({\n    components: {\n        CodeBlockContainer,\n        CodeBlocksSettings,\n        CodeBlock,\n        CodePlayground,\n        SimpleText,\n        Blockly,\n        CodePanel,\n    },\n})\nexport default class CodeBlocks extends Vue {\n    didInitialize: boolean = false\n    outputHTML: string = ''\n    output: string = ''\n    sansoutput: string = ''\n    didClip: boolean = false\n    _finalOutputObject: IScriptOutputObject | null = null\n    eventHub: Vue = new Vue()\n\n    get continuousCompile(): boolean {\n        if (this.editMode) {\n            return false\n        }\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.allowsContinousCompilation\n        }\n        return false\n    }\n\n    get finalOutputObject(): IScriptOutputObject {\n        if (this._finalOutputObject === null || this._finalOutputObject === undefined) {\n            return {\n                initialOutput: '',\n                output: '',\n                processedOutput: {\n                    type: 'text',\n                    text: '',\n                    json: undefined,\n                },\n                sansoutput: '',\n                outputElement: $(this.outputElement) as any,\n            }\n        }\n        return this._finalOutputObject\n    }\n    @Prop({ required: true }) blockInfo!: IMainBlock\n    get options(): ICodeBlockSettingsOptions {\n        return {\n            language: this.language,\n            compiler: this.compiler,\n            executionTimeout: this.executionTimeout,\n            maxCharacters: this.maxCharacters,\n            runCode: this.runCode,\n            domLibs: this.domLibraries,\n            workerLibs: this.workerLibraries,\n            id: this.blockInfo.id,\n            codeTheme: this.codeTheme,\n            solutionTheme: this.solutionTheme,\n            outputParser: this.outputParser,\n            randomizer: this.blockInfo.randomizer,\n            continuousCompilation: this.blockInfo.continuousCompilation,\n            persistentArguments: this.blockInfo.persistentArguments,\n            messagePassing: this.blockInfo.messagePassing,\n            keepAlive: this.blockInfo.keepAlive,\n        }\n    }\n    get blocks(): BlockData[] {\n        return this.blockInfo.blocks\n    }\n    get language(): string {\n        return this.blockInfo.language\n    }\n    get blockid(): number {\n        return this.blockInfo.id\n    }\n    get executionTimeout(): number {\n        return this.blockInfo.executionTimeout\n    }\n    get maxCharacters(): number {\n        return this.blockInfo.maxCharacters\n    }\n    get compiler(): ICompilerID {\n        return this.blockInfo.compiler\n    }\n    get runCode(): boolean {\n        return this.blockInfo.runCode\n    }\n    get domLibraries(): string[] {\n        return this.blockInfo.domLibs\n    }\n    get workerLibraries(): string[] {\n        return this.blockInfo.workerLibs\n    }\n    get solutionTheme(): string {\n        return this.blockInfo.solutionTheme\n    }\n    get codeTheme(): string {\n        return this.blockInfo.codeTheme\n    }\n    get readonly(): boolean {\n        return this.blockInfo.readonly\n    }\n    get outputParser(): CodeOutputTypes {\n        return this.blockInfo.outputParser\n    }\n\n    get editMode(): boolean {\n        return false\n    }\n    get hasOutput(): boolean {\n        return this.outputHTML !== undefined && this.outputHTML != ''\n    }\n    get mimeType(): string {\n        return this.$CodeBlock.mimeType(this.language)\n    }\n    get isReady(): boolean {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (!cmp) {\n            return false\n        }\n\n        return (\n            this.didInitialize &&\n            cmp.isReady &&\n            !cmp.isRunning &&\n            !this.$compilerState.runButtonForceHide\n        )\n    }\n    get canRun(): boolean {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (!cmp) {\n            return false\n        }\n        return cmp.canRun && this.runCode\n    }\n    get randomizerActive(): boolean {\n        return this.blockInfo.randomizer.active\n    }\n    get activeTagSet(): IRandomizerSet | undefined {\n        if (!this.randomizerActive) {\n            return undefined\n        }\n        return this.tagSet(this.blockInfo.randomizer.previewIndex)\n    }\n    get completeSource(): string {\n        return this.blocks\n            .filter((b) => b.hasCode)\n            .map((b) => b.actualContent())\n            .reduce((p, c) => {\n                return p + '\\n' + c\n            }, '')\n    }\n    get showGlobalMessages(): boolean {\n        return !this.$compilerState.globalStateHidden\n    }\n    get playgrounds(): BlockData[] {\n        return this.blocks.filter((b) => b.type == 'PLAYGROUND')\n    }\n    get outputElement(): HTMLElement {\n        return this.$refs.output as HTMLElement\n    }\n    get addonClass(): string {\n        let cl = ''\n        if (this.editMode) {\n            cl += 'editmode '\n        }\n        if (this.readonly) {\n            cl += 'block-readonly '\n        }\n        return cl\n    }\n    get backgroundColorClass(): string {\n        return this.editMode ? 'blue-grey darken-4' : ''\n    }\n\n    blockBecameReady(): void {\n        let readyCount = this.blockInfo.blocks.map((b) => b.readyCount).reduce((p, c) => p + c, 0)\n        if (readyCount == this.blockInfo.blocks.length) {\n            this.$nextTick(() => {\n                this.eventHub.$emit('all-mounted', {})\n            })\n        }\n        //console.log(\"Ready\", readyCount, this.blockInfo.blocks.length);\n    }\n\n    tagSet(nr: number): IRandomizerSet {\n        return this.blockInfo.randomizer.sets[nr]\n    }\n\n    themeForBlock(bl: BlockData): string {\n        return bl.themeForCodeBlock\n    }\n    public blockById(id: number): BlockData | undefined {\n        return this.blocks.find((block) => block.id == id)\n    }\n    onTypeChange(nfo: IOnTypeChangeInfo): void {}\n    onVisibleLinesChange(nfo: IOnVisibleLinesChangeInfo): void {}\n    onPlacementChange(nfo: IOnPlacementChangeInfo): void {}\n    onScriptVersionChange(nfo: IOnScriptVersionChangeInfo): void {}\n    onSetAutoReset(nfo: IOnSetAutoResetInfo): void {}\n    onSetGenerateTemplate(nfo: IOnGenerateTemplateInfo): void {}\n    onCompilerChange(v: string): void {}\n    onCompilerVersionChange(v: string): void {}\n    onRunStateChange(v: boolean): void {}\n    onContinousCompileStateChange(v: boolean): void {}\n    onMessagePassingChange(v: boolean): void {}\n    onKeepAliveChange(v: boolean): void {}\n    onPersistentArgumentsChange(v: boolean): void {}\n    onLanguageChange(v: string): void {}\n    onCharacterLimitChange(v: number): void {}\n    onTimeoutChange(v: number): void {}\n    onWorkerLibChange(v: string[]): void {}\n    onDomLibChange(v: string[]): void {}\n    onThemeChange(nfo: IOnThemeChangeInfo): void {}\n    onOutputParserChange(v: CodeOutputTypes): void {}\n    moveUp(idx: number): void {}\n    moveDown(idx: number): void {}\n    removeBlock(idx: number): void {}\n    addNewBlock(): void {}\n    onPlaygroundChangedOutput(newOutput: string | undefined): void {\n        if (newOutput === undefined) {\n            return\n        }\n        if (this.output != newOutput) {\n            this.output = newOutput.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n            if (this.maxCharacters > 0 && this.output.length > this.maxCharacters) {\n                this.outputHTML = formatOutput(this.output.substr(0, this.maxCharacters))\n                this.outputHTML += this.$CodeBlock.format_info(\n                    'Info: Output too long. Removed all following Characters. \\n<b>...</b>\\n\\n'\n                )\n            } else {\n                this.outputHTML = formatOutput(this.output)\n            }\n            this.outputHTML += this.sansoutput\n        }\n    }\n\n    resetOutput(): void {\n        this.output = ''\n        this.sansoutput = ''\n        this.didClip = false\n        this.outputHTML = ''\n    }\n\n    log(text: string): void {\n        //console.log(\"log\", text);\n        this.output += text\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        if (!this.didClip) {\n            if (this.maxCharacters > 0 && this.output.length > this.maxCharacters) {\n                this.outputHTML += this.$CodeBlock.format_info(\n                    'Info: Output too long. Removed all following Characters. \\n<b>...</b>\\n\\n'\n                )\n                this.didClip = true\n            } else {\n                this.outputHTML += formatOutput(text)\n            }\n        }\n    }\n\n    logError(text: string): void {\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        text = this.$CodeBlock.format_error(text)\n        //console.log(\"err\", text);\n        this.sansoutput += text\n        this.outputHTML += text\n    }\n\n    logInfo(text: string): void {\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        text = this.$CodeBlock.format_info(text)\n        //console.log(\"nfo\", text);\n        this.sansoutput += text\n        this.outputHTML += text\n    }\n\n    processDiagnostics(error: ICompilerErrorDescription) {\n        const line = error.start.line\n        this.blocks.forEach((block) => {\n            if (!block.hasCode) {\n                return\n            }\n\n            const first = block.firstLine\n            const last = block.nextLine - 1\n\n            if (error.start.line >= first && error.start.line <= last) {\n                block.errors.push(error)\n            }\n        })\n    }\n\n    clearDiagnostics(): void {\n        this.blocks.forEach((block) => (block.errors = []))\n        this.eventHub.$emit('render-diagnostics', {})\n    }\n\n    loadLibraries(whenLoaded: () => void): void {\n        this.$compilerRegistry.loadLibraries(this.domLibraries, whenLoaded)\n    }\n\n    /**\n     * Call when the program finished executing and pass the output string. We will send the output to all embeded canvas elements\n     * @param {*} output\n     * @param {*} infoErrorOutput output generated by info or error messages\n     */\n    finishedExecution(output: string, infoErrorOutput: string, resultData?: object | any[]): void {\n        let parseError: any = undefined\n        let processed: IProcessedScriptOutput = { type: 'text', json: undefined, text: output }\n\n        if (output !== undefined && this.playgrounds.length > 0) {\n            try {\n                processed = this.$CodeBlock.processMixedOutput(\n                    output,\n                    this.outputParser,\n                    undefined,\n                    resultData\n                )\n            } catch (e) {\n                parseError = e\n            }\n        }\n\n        this._finalOutputObject = {\n            initialOutput: output,\n            output: output,\n            processedOutput: processed,\n            sansoutput: this.sansoutput,\n            parseError: parseError,\n            //outputElement: $(this.outputElement) as JQuery<HTMLElement> //This line soes not work here, looks like the update did not yet happen?\n            outputElement: $(this.$refs.output as any) as any,\n        }\n        this.eventHub.$emit('output-updated', this._finalOutputObject)\n\n        this.onRunFinished()\n    }\n\n    get canStop(): boolean {\n        return !this.isReady && this.didRunOnce\n    }\n    stop(): void {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp === undefined || cmp.stop === undefined) {\n            return\n        }\n        cmp.stop()\n    }\n\n    didRunOnce: boolean = false\n    run(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp === undefined) {\n            return false\n        }\n\n        this.$compilerState.setAllRunButtons(false)\n\n        this.resetOutput()\n        this.clearDiagnostics()\n        const self = this\n\n        this.loadLibraries(() => {\n            self.eventHub.$emit('before-run', {})\n            console.d('compileAndRun')\n            self.didRunOnce = true\n\n            self.$nextTick(() => {\n                let _args: object | string[] = {}\n                if (cmp.acceptsJSONArgument) {\n                    _args = this.blockInfo.initArgsForLanguage()\n                    this.blocks.forEach((bl) => {\n                        if (bl.obj) {\n                            console.i('!!! ADD ARGUMENTS TO !!!')\n                            bl.obj.addArgumentsTo(_args)\n                        }\n                    })\n                }\n\n                const runOptions: ICompileAndRunArguments = {\n                    max_ms: self.executionTimeout,\n                    log_callback: self.log.bind(this),\n                    info_callback: self.logInfo.bind(this),\n                    err_callback: self.logError.bind(this),\n                    compileFailedCallback: self.processDiagnostics.bind(this),\n                    finishedExecutionCB: (\n                        success = true,\n                        overrideOutput = undefined,\n                        returnState = undefined\n                    ) => {\n                        console.i('returnState:', returnState, _args)\n                        if (!success) {\n                            self.$compilerState.hideGlobalState()\n                            self.$compilerState.setAllRunButtons(true)\n                            return undefined\n                        }\n                        let res = self.finishedExecution(\n                            overrideOutput ? overrideOutput : self.output,\n                            self.sansoutput,\n                            runOptions.resultData\n                        )\n\n                        if (returnState !== undefined) {\n                            if (this.blockInfo.persistentArguments) {\n                                console.i('Store Default State', returnState)\n                                this.blockInfo.storeDefaultArgs(returnState)\n                            } else {\n                                this.blockInfo.clearDefaultArgs()\n                            }\n                        }\n                        self.$compilerState.hideGlobalState()\n                        self.$compilerState.setAllRunButtons(true)\n                        return res\n                    },\n                    args: _args,\n                    didReceiveMessage: (cmd, data) => {\n                        console.i('MESSAGE - Received', cmd)\n                        this.blocks.forEach((bl) => {\n                            if (bl.obj) {\n                                bl.obj.didReceiveMessage(cmd, data)\n                            }\n                        })\n                    },\n                    postMessageFunction: null,\n                    dequeuePostponedMessages: () => {},\n                    allowMessagePassing: cmp.allowsMessagePassing && self.options.messagePassing,\n                    keepAlive:\n                        cmp.allowsMessagePassing &&\n                        self.options.messagePassing &&\n                        self.options.keepAlive,\n                    beforeStartHandler: () => {\n                        this.blocks.forEach((bl) => {\n                            console.d('MESSAGE - Before Start')\n                            if (bl.obj) {\n                                bl.obj.beforeStart()\n                            }\n                        })\n                    },\n                    whenFinishedHandler: (args: object | string[]) => {\n                        this.blocks.forEach((bl) => {\n                            console.d('MESSAGE - When Finished')\n                            if (bl.obj) {\n                                bl.obj.whenFinished(args, runOptions.resultData)\n                            }\n                        })\n                    },\n                    resultData: undefined,\n                }\n\n                if (runOptions.keepAlive) {\n                    this.blocks.forEach((bl) => {\n                        if (bl.obj) {\n                            bl.obj.runConfig = runOptions\n                        }\n                    })\n                }\n\n                cmp.compileAndRun('' + self.blockid, self.completeSource, self, runOptions)\n            })\n        })\n\n        return true\n    }\n    onkey(event) {\n        if (\n            this.editMode &&\n            (event.ctrlKey || event.metaKey) &&\n            (event.key === 'w' || event.key === 'j')\n        ) {\n            this.run()\n            event.preventDefault()\n            return false\n        }\n    }\n\n    mounted() {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            cmp.preload()\n        }\n        const self = this\n        this.loadLibraries(() => {\n            self.eventHub.$emit('initialized-libraries', {})\n        })\n        this.didInitialize = true\n\n        if (this.editMode) {\n            window.addEventListener('keydown', this.onkey, false)\n        }\n\n        Vue.$GlobalEventHub.$on('bookmark-block', this.onBookmarkBlock)\n    }\n    beforeDestroy() {\n        window.removeEventListener('keydown', this.onkey)\n        Vue.$GlobalEventHub.$off('bookmark-block')\n    }\n\n    bookmarkedBlock: BlockData | null = null\n\n    get hasBookmark(): boolean {\n        return this.bookmarkedBlock !== null && this.editMode\n    }\n\n    get panelBlock(): BlockData | null {\n        return this.bookmarkedBlock\n    }\n    onBookmarkBlock(data: IBlockBookmarkPayload) {\n        console.i('Bookmark', data)\n        if (this.blockInfo.uuid == data.uuid) {\n            this.bookmarkedBlock = data.block\n        }\n    }\n\n    triggerRecompileWhenFinished: boolean = false\n    onViewCodeChange(forceRun: boolean = false) {\n        if (!forceRun && !this.blockInfo.continuousCompilation) {\n            return\n        }\n\n        if (this.continuousCodeUpdateTimer !== null) {\n            clearTimeout(this.continuousCodeUpdateTimer)\n            this.continuousCodeUpdateTimer = null\n        }\n        this.continuousCodeUpdateTimer = setTimeout(() => {\n            const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n            console.d('Continuous Compile - ', cmp)\n            if (cmp && cmp.allowsContinousCompilation) {\n                if (!cmp.isRunning && cmp.isReady) {\n                    console.d('Continuous Compile - ', 'RUN')\n                    this.run()\n                } else {\n                    console.d('Continuous Compile - ', 'DEFER')\n                    this.triggerRecompileWhenFinished = true\n                }\n            }\n        }, process.env.VUE_APP_CONTINOUS_COMPILE_TIMEOUT)\n    }\n\n    onRunFinished() {\n        if (this.triggerRecompileWhenFinished) {\n            console.d('Continuous Compile - ', 'RE-RUN')\n            this.triggerRecompileWhenFinished = false\n            this.onViewCodeChange()\n        }\n    }\n\n    continuousCodeUpdateTimer: number | null = null\n    onRunFromPlayground() {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (\n            cmp &&\n            cmp.canRun &&\n            !this.editMode &&\n            cmp.allowsContinousCompilation // &&\n            // this.blockInfo.continuousCompilation\n        ) {\n            this.onViewCodeChange(true)\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlocks.vue?vue&type=template&id=4cd36a05&\"\nimport script from \"./CodeBlocks.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocks.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlocks.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtn,QIcon,QTooltip,QSlideTransition});\n","<template>\n    <q-layout view=\"hHh lpR fFf\" style=\"min-height:0\">\n        <q-page-container>\n            <CodeBlocks :blockInfo=\"blocks\" />\n        </q-page-container>\n    </q-layout>\n</template>\n\n<script>\nimport CodeBlocks from './components/CodeBlocks'\nimport Vue from 'vue'\n\nexport default {\n    name: 'App',\n\n    props: ['blocks'],\n\n    components: {\n        CodeBlocks\n    },\n\n    data: () => ({}),\n    computed: {}\n}\n</script>\n\n<style lang=\"sass\">\n#app\n  margin-bottom: 16px\n  background-color: rgba(1,1,1,0)\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=eaf51832&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QLayout from 'quasar/src/components/layout/QLayout.js';\nimport QPageContainer from 'quasar/src/components/page/QPageContainer.js';\nimport qInstall from \"../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QLayout,QPageContainer});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-layout',{staticStyle:{\"min-height\":\"0\"},attrs:{\"view\":\"hHh lpR fFf\"}},[_c('q-page-container',[_c('CodeBlocksEditor',{attrs:{\"blockInfo\":_vm.blocks}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlocks, {\n    IOnTypeChangeInfo,\n    IOnVisibleLinesChangeInfo,\n    IOnPlacementChangeInfo,\n    IOnScriptVersionChangeInfo,\n    IOnSetAutoResetInfo,\n    IOnThemeChangeInfo,\n    IOnGenerateTemplateInfo,\n} from '@/components/CodeBlocks.vue'\nimport { KnownBlockTypes, CodeOutputTypes } from '@/lib/ICodeBlocks'\n\nvar mixin = {\n    created: function () {\n        console.log(1)\n    },\n}\n@Component\nexport default class CodeBlocksEditor extends CodeBlocks {\n    get editMode(): boolean {\n        return true\n    }\n\n    onTypeChange(nfo: IOnTypeChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        bl.type = nfo.type\n        bl.hidden = nfo.hidden\n        bl.static = nfo.static\n        bl.hasCode = nfo.hasCode\n    }\n\n    onVisibleLinesChange(nfo: IOnVisibleLinesChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        if (nfo.visibleLines != 'auto' && isNaN(nfo.visibleLines)) {\n            bl.visibleLines = 'auto'\n        } else {\n            bl.visibleLines = nfo.visibleLines\n        }\n    }\n    onPlacementChange(nfo: IOnPlacementChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        bl.width = nfo.width\n        bl.height = nfo.height\n        bl.align = nfo.align\n    }\n    onCompilerChange(v: string): void {\n        const c = this.$compilerRegistry.getCompiler({ languageType: v })\n        if (c !== undefined) {\n            console.log('Selected Compiler', c, v, this.blockInfo.compiler)\n            this.blockInfo.compiler.languageType = v\n            this.blockInfo.compiler.version = c.version\n            this.blockInfo.language = c.language\n\n            console.log('PRELOADING')\n            c.preload()\n        }\n    }\n    onCompilerVersionChange(v: string): void {\n        console.log('Selected Version', v, this.blockInfo.compiler.languageType)\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: this.blockInfo.compiler.languageType,\n            version: v,\n        })\n        this.blockInfo.compiler.version = v\n\n        if (c !== undefined) {\n            this.blockInfo.language = c.language\n\n            console.log('PRELOADING')\n            c.preload()\n        }\n    }\n    onRunStateChange(v: boolean): void {\n        this.blockInfo.runCode = v\n    }\n    onContinousCompileStateChange(v: boolean): void {\n        this.blockInfo.continuousCompilation = v\n    }\n    onMessagePassingChange(v: boolean): void {\n        this.blockInfo.messagePassing = v\n    }\n    onKeepAliveChange(v: boolean): void {\n        this.blockInfo.keepAlive = v\n    }\n    onPersistentArgumentsChange(v: boolean): void {\n        if (v === false) {\n            this.blockInfo.clearDefaultArgs()\n        }\n        this.blockInfo.persistentArguments = v\n    }\n    onLanguageChange(v: string): void {\n        this.blockInfo.language = v\n    }\n    onCharacterLimitChange(v: number): void {\n        this.blockInfo.maxCharacters = v\n    }\n    onTimeoutChange(v: number): void {\n        this.blockInfo.executionTimeout = v\n    }\n    onWorkerLibChange(v: string[]): void {\n        this.blockInfo.workerLibs = v\n    }\n    onDomLibChange(v: string[]): void {\n        this.blockInfo.domLibs = v\n    }\n    onScriptVersionChange(nfo: IOnScriptVersionChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        bl.version = nfo.version\n        if (bl.obj) {\n            bl.obj.version = nfo.version\n        }\n    }\n    onSetAutoReset(nfo: IOnSetAutoResetInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        bl.shouldAutoreset = nfo.shouldAutoreset\n    }\n\n    onSetGenerateTemplate(nfo: IOnGenerateTemplateInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        bl.generateTemplate = nfo.generateTemplate\n    }\n\n    onThemeChange(nfo: IOnThemeChangeInfo): void {\n        this.blockInfo.solutionTheme = nfo.solution\n        this.blockInfo.codeTheme = nfo.code\n    }\n    moveUp(idx: number): void {\n        this.blockInfo.moveUp(idx)\n    }\n    moveDown(idx: number): void {\n        this.blockInfo.moveDown(idx)\n    }\n    addNewBlock(): void {\n        this.blockInfo.addNewBlock()\n    }\n    removeBlock(idx: number): void {\n        this.blockInfo.removeBlock(idx)\n    }\n    onOutputParserChange(v: CodeOutputTypes): void {\n        this.blockInfo.outputParser = v\n    }\n}\n","var render, staticRenderFns\nimport script from \"./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"","<template>\n    <q-layout view=\"hHh lpR fFf\" style=\"min-height:0\">\n        <q-page-container>\n            <CodeBlocksEditor :blockInfo=\"blocks\" />\n        </q-page-container>\n    </q-layout>\n</template>\n\n<script>\nimport CodeBlocksEditor from './components/CodeBlocksEditor'\nimport Vue from 'vue'\n\nexport default {\n    name: 'AppEditor',\n\n    props: ['blocks'],\n\n    components: {\n        CodeBlocksEditor\n    },\n\n    data: () => ({}),\n    computed: {}\n}\n</script>\n\n<style lang=\"sass\">\n#app\n  margin-bottom: 16px\n  background-color: rgba(1,1,1,0)\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppEditor.vue?vue&type=template&id=0797aa13&\"\nimport script from \"./AppEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./AppEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppEditor.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QLayout from 'quasar/src/components/layout/QLayout.js';\nimport QPageContainer from 'quasar/src/components/page/QPageContainer.js';\nimport qInstall from \"../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QLayout,QPageContainer});\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\nexport class BlockLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'BLOCK'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        const alts = bl.getElementsByTagName('ALTERNATIVE')\n        const codes = bl.getElementsByTagName('CODE')\n        if (codes.length > 0) {\n            block.content = codes[0].textContent ? codes[0].textContent : ''\n        }\n\n        if (alts.length > 0) {\n            block.hasAlternativeContent = true\n            block.alternativeContent = alts[0].textContent\n            if (!editMode && block.noContent) {\n                block.content = block.alternativeContent ? block.alternativeContent : ''\n            }\n        }\n\n        block.hasCode = true\n    }\n}\n\nexport const blockLoader = new BlockLoadManager()\n\nexport default function(loaders: { [index: string]: IBlockloadManager }) {\n    loaders[blockLoader.blockTag] = blockLoader\n}\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\nexport class PlaygroundLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'PLAYGROUND'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        block.obj = null\n        positioninLoadManager.loadFromDatablock(bl, inBlock, block)\n        block.version = bl.getAttribute('data-version')\n            ? bl.getAttribute('data-version')!\n            : block.version\n    }\n}\n\nexport const playgroundLoader = new PlaygroundLoadManager()\n\nexport default function (loaders: { [index: string]: IBlockloadManager }) {\n    loaders[playgroundLoader.blockTag] = playgroundLoader\n}\n","import { ScriptBlock } from './scriptBlock'\nimport { IScriptOutputObject, IPlaygroundObject, ILegacyPlaygroundObject } from './IScriptBlock'\nimport i18n from '../plugins/i18n'\nimport 'reflect-metadata'\nimport { Vue, Component, Watch } from 'vue-property-decorator'\n\nimport App from '../App.vue'\nimport AppEditor from '../AppEditor.vue'\nimport { uuid } from 'vue-uuid'\n\nimport { compilerRegistry as CompilerRegistry } from './CompilerRegistry'\nimport { ICompilerErrorDescription, ICompilerID } from './ICompilerRegistry'\nimport {\n    IRandomizerSettings,\n    CodeOutputTypes,\n    IBlockData,\n    KnownBlockTypes,\n    IRandomizerSet,\n    IRandomizerSetTag,\n    ICodeBlockDataState,\n    IBlockDataBase,\n    IBlockDataBlockly,\n    IBlockloadManager,\n    IBlockElementData,\n    CodeExpansionType,\n} from './ICodeBlocks'\n\n//get loaders\nimport blockInstaller from '@/lib/BlockloadManagers/BlockManager'\nimport blocklyInstaller from '@/lib/BlockloadManagers/BlocklyManager'\nimport playgroundInstaller from '@/lib/BlockloadManagers/PlaygroundManager'\nimport { trim } from 'jquery'\n\nconst loaders: { [index: string]: IBlockloadManager } = {}\nblockInstaller(loaders)\nblocklyInstaller(loaders)\nplaygroundInstaller(loaders)\n\nVue.prototype.$compilerRegistry = CompilerRegistry\n\nexport interface IAppSettings {\n    id: number\n    uuid: string\n    editMode: boolean\n    readonly: boolean\n    randomizer: IRandomizerSettings\n    blocks: BlockData[]\n    compiler: ICompilerID\n    language: string\n    runCode: boolean\n    domLibs: string[]\n    workerLibs: string[]\n    outputParser: CodeOutputTypes\n    solutionTheme: string\n    codeTheme: string\n    executionTimeout: number\n    maxCharacters: number\n    scopeUUID?: string\n    scopeSelector?: string\n    continuousCompilation: boolean\n    messagePassing: boolean\n    keepAlive: boolean\n    persistentArguments: boolean\n    shadowRoot?: ShadowRoot\n}\n\ninterface IAppElementData {\n    randomizerActive?: string\n    randomizerPreviewIndex?: string\n    randomizerKnownTags?: string\n    randomizerSets?: string\n    question?: string\n    compiler?: string\n    compilerVersion?: string\n    domLibs?: string\n    workerLibs?: string\n    readonly?: string\n    runCode?: string\n    id?: string\n    executionTimeout?: string\n    maxCharacters?: string\n    scopeUUID?: string\n    scopeSelector?: string\n    continuousCompilation?: string\n    messagePassing?: string\n    keepAlive?: string\n    persistentArguments?: string\n    outputParser?: CodeOutputTypes\n    solutionTheme?: string\n    codeTheme?: string\n}\n\nexport interface IBlockBookmarkPayload {\n    uuid: string\n    block: BlockData | null\n}\n\n@Component\nexport class BlockData extends Vue implements IBlockData {\n    appSettings!: IAppSettings\n    hasCode!: boolean\n    type!: KnownBlockTypes\n    content!: string\n    alternativeContent!: string | null\n    noContent!: boolean\n    id!: number\n    uuid!: string\n    parentID!: number\n    expanded!: boolean\n    codeExpanded!: CodeExpansionType\n    obj!: ScriptBlock | null\n    readonly!: boolean\n    static!: boolean\n    hidden!: boolean\n    version!: string\n    readyCount!: number\n    errors!: ICompilerErrorDescription[]\n    scopeUUID?: string\n    scopeSelector!: string\n    visibleLines!: number | 'auto'\n    hasAlternativeContent!: boolean\n    shouldAutoreset!: boolean\n    generateTemplate!: boolean\n    width!: string\n    height!: string\n    align!: string\n    blockly!: IBlockDataBlockly\n    lineCountHint!: number\n    _oac?: () => string //used by Blockly to re-place the actualContent-Method while keeping the old implementation around\n\n    actualContent() {\n        if (this.appSettings.randomizer.active) {\n            return Vue.$tagger.replaceRandomTagsInString(\n                this.content,\n                this.appSettings.randomizer.sets[this.appSettings.randomizer.previewIndex]\n            )\n        }\n\n        return this.content\n    }\n    recreateScriptObject() {\n        if (this.type === KnownBlockTypes.PLAYGROUND) {\n            console.i('recreateScriptObject')\n\n            const so = new ScriptBlock(this.actualContent(), this.version)\n            this.obj = so\n            console.i('Block Rebuild', this.obj, this.uuid)\n        }\n    }\n    created() {\n        this.recreateScriptObject()\n    }\n\n    getThemeForBlock(bl: ICodeBlockDataState): string {\n        if (bl.static || bl.readonly || bl.hidden) {\n            return this.appSettings.codeTheme\n        }\n\n        return this.appSettings.solutionTheme\n    }\n\n    get themeForCodeBlock(): string {\n        if (this.static || this.readonly || this.hidden) {\n            return this.appSettings.codeTheme\n        }\n\n        return this.appSettings.solutionTheme\n    }\n\n    get isLast(): boolean {\n        return this.id == this.appSettings.blocks.length - 1\n    }\n    get firstLine(): number {\n        if (this.id === 0) {\n            return 1\n        }\n        return this.appSettings.blocks[this.id - 1].nextLine\n    }\n\n    get lineCount(): number {\n        if (!this.hasCode) {\n            return 0\n        }\n        if (this.lineCountHint >= 0) {\n            return this.lineCountHint\n        }\n\n        let ct = 0\n        this.content.replace(/\\n/, (m) => {\n            ct++\n            return m\n        })\n        return ct\n    }\n\n    get nextLine(): number {\n        if (!this.hasCode) {\n            return this.firstLine\n        }\n        return this.firstLine + this.lineCount\n    }\n    get domLibs(): string[] {\n        return this.appSettings.domLibs\n    }\n\n    //is this right. Happend when converting from JS\n    get scriptVersion(): string {\n        return this.version\n    }\n\n    @Watch('type')\n    onTypeChanged(newType: KnownBlockTypes, oldType: KnownBlockTypes) {\n        if (newType != oldType) {\n            this.recreateScriptObject()\n        }\n    }\n}\n\nexport interface IMainBlock extends IAppSettings {\n    swap(id1: number, id2: number): void\n    moveUp(id: number): void\n    moveDown(id: number): void\n    removeBlock(idx: number): void\n    addNewBlock(): void\n\n    initArgsForLanguage(): object | string[]\n    storeDefaultArgs(args: object | string[]): void\n    clearDefaultArgs(): void\n}\n\nfunction isTrue(val: any): boolean {\n    //return val !== undefined || val == 'true' || val == '1'\n    return val !== undefined && val != 'false' && val != '0'\n}\n\nconst useShadowDOM = false\n\n//this will handle the vue mounting on the dom\nclass InternalCodeBlocksManager {\n    constructBlock(data: IAppSettings, bl: IBlockDataBase): BlockData {\n        if (bl.type === KnownBlockTypes.PLAYGROUND) {\n            if (bl.content == '' || bl.content === undefined || bl.content === null) {\n                bl.content = '{}'\n            }\n        }\n\n        return new BlockData({\n            data: () => {\n                return {\n                    ...bl,\n                    appSettings: data,\n                }\n            },\n        })\n    }\n\n    readonly element: HTMLElement\n    readonly data: IAppSettings\n    readonly shadowRoot: ShadowRoot | undefined = undefined\n    constructor(el: HTMLElement) {\n        if (useShadowDOM) {\n            const content = el.outerHTML\n\n            //replace original element with empty div that will store the shadowDOM\n            const parent = el.parentElement!\n            const rewrap = document.createElement('DIV')\n            parent.replaceChild(rewrap, el)\n\n            //add shadowDOM and clear content\n            const shadow = rewrap.attachShadow({ mode: 'open' })\n            this.shadowRoot = shadow\n            shadow.innerHTML = ''\n\n            //copy root-level styles into the shadowDOM\n            $('style').each((idx, style) => {\n                const st = document.createElement('STYLE')\n                st.innerHTML = style.innerHTML\n                shadow.appendChild(st)\n            })\n\n            $('link[shadow]').each((idx, link) => {\n                shadow.appendChild(link.cloneNode())\n            })\n\n            // //add new root and append original Element\n            // const root = document.createElement('DIV')\n            // root.id = 'root'\n            // //root.innerHTML = noContent\n            // root.appendChild(el)\n            // shadow.appendChild(root)\n            // console.log($('style').length)\n            // this.element = root\n\n            //append original element to shadowDOM\n            shadow.appendChild(el)\n            this.element = el\n        } else {\n            this.shadowRoot = undefined\n            this.element = el\n        }\n        console.log(this.element)\n        const inData = el.dataset as IAppElementData\n        const data: IAppSettings = {\n            id: -1,\n            editMode: el.tagName == 'CODEBLOCKSEDITOR' || el.hasAttribute('codeblockseditor'),\n            runCode: false,\n            language: 'javascript',\n            compiler: {\n                languageType: 'javascript',\n                version: '101',\n            },\n            randomizer: {\n                active: false,\n                previewIndex: 0,\n                knownTags: [],\n                sets: [],\n            },\n            domLibs: [],\n            workerLibs: [],\n            blocks: [],\n            outputParser: CodeOutputTypes.AUTO,\n            readonly: false,\n            solutionTheme: 'solarized light',\n            codeTheme: 'xq-light',\n            uuid: 'is-set-below',\n            executionTimeout: 5000,\n            maxCharacters: 1000,\n            continuousCompilation: isTrue(inData.continuousCompilation),\n            messagePassing: isTrue(inData.messagePassing),\n            keepAlive: isTrue(inData.keepAlive),\n            persistentArguments: isTrue(inData.persistentArguments),\n            shadowRoot: this.shadowRoot,\n        }\n\n        if (inData.randomizerActive !== undefined) {\n            data.randomizer.active = isTrue(inData.randomizerActive)\n        }\n        if (inData.randomizerPreviewIndex !== undefined) {\n            data.randomizer.previewIndex = Number(inData.randomizerPreviewIndex)\n        }\n        if (inData.randomizerKnownTags !== undefined) {\n            data.randomizer.knownTags = JSON.parse(inData.randomizerKnownTags)\n        }\n        if (inData.randomizerSets !== undefined) {\n            data.randomizer.sets = JSON.parse(inData.randomizerSets).map((o: object, i: number) => {\n                const ret: IRandomizerSet = {\n                    uuid: uuid.v4(),\n                    values: [],\n                }\n                Object.keys(o).forEach((tag) => {\n                    const item: IRandomizerSetTag = {\n                        tag: tag,\n                        value: o[tag],\n                    }\n                    ret.values.push(item)\n                })\n\n                return ret\n            })\n        }\n\n        if (inData.question !== undefined) {\n            data.id = Number(inData.question)\n        }\n\n        if (inData.compiler !== undefined) {\n            const cInfo: ICompilerID = {\n                languageType: inData.compiler,\n                version: inData.compilerVersion!,\n            }\n            data.compiler = cInfo\n\n            const c = CompilerRegistry.getCompiler(data.compiler)\n            if (c === undefined) {\n                data.runCode = false\n                data.language = data.compiler.languageType\n            } else {\n                data.runCode = isTrue(inData.runCode)\n                data.language = c.language\n                data.compiler.version = c.version\n            }\n        }\n\n        if (inData.domLibs !== undefined) {\n            data.domLibs = JSON.parse(inData.domLibs)\n        }\n\n        if (inData.readonly !== undefined) {\n            if (data.editMode) {\n                data.readonly = false\n            } else {\n                data.readonly = isTrue(inData.readonly)\n            }\n        }\n\n        if (inData.workerLibs !== undefined) {\n            data.workerLibs = JSON.parse(inData.workerLibs)\n        }\n\n        if (el.hasAttribute('uuid')) {\n            data.uuid = el.getAttribute('uuid')!\n        } else {\n            data.uuid = uuid.v4()\n            el.setAttribute('uuid', data.uuid)\n        }\n\n        //data.id = Number(data.id)\n\n        if (inData.executionTimeout !== undefined) {\n            data.executionTimeout = Number(inData.executionTimeout)\n        }\n\n        if (inData.maxCharacters !== undefined) {\n            data.maxCharacters = Number(inData.maxCharacters)\n        }\n\n        if (inData.scopeUUID !== undefined) {\n            data.scopeUUID = inData.scopeUUID\n        }\n        if (inData.scopeSelector !== undefined) {\n            data.scopeSelector = inData.scopeSelector\n        }\n\n        if (inData.outputParser !== undefined) {\n            data.outputParser = inData.outputParser\n        }\n\n        if (inData.solutionTheme !== undefined) {\n            data.solutionTheme = inData.solutionTheme\n        }\n\n        if (inData.codeTheme !== undefined) {\n            data.codeTheme = inData.codeTheme\n        }\n\n        el.querySelectorAll('*').forEach((blIn) => {\n            const bl = blIn as HTMLElement\n            //only first level children\n            if (bl.parentElement != el) {\n                return\n            }\n            const inBlock = bl.dataset as IBlockElementData\n            const as = bl.getAttribute('as')\n            if (as !== null) {\n                inBlock.as = as.trim().toUpperCase()\n            }\n\n            const block: IBlockDataBase = {\n                as: inBlock.as ? KnownBlockTypes[inBlock.as] : undefined,\n                hasCode: false,\n                version: '101',\n                type: bl.tagName as KnownBlockTypes,\n                content: bl.textContent ? bl.textContent : '',\n                alternativeContent: null,\n                hasAlternativeContent: false,\n                id: data.blocks.length,\n                uuid: uuid.v4(),\n                parentID: data.id,\n                width: '100%',\n                height: '200px',\n                align: 'center',\n                readyCount: 0,\n                obj: null,\n                lineCountHint: -1,\n                blockly: {\n                    showControls: false,\n                    useOverride: false,\n                    toolbox: {\n                        categories: [],\n                    },\n                    toolboxOverride: '',\n                    blocks: [],\n                    _blockErrors: [],\n                },\n                errors: [],\n                readonly: isTrue(inBlock.readonly),\n                static: isTrue(inBlock.static),\n                hidden: isTrue(inBlock.hidden),\n                visibleLines:\n                    inBlock.visibleLines === undefined ||\n                    inBlock.visibleLines?.trim().toLowerCase() == 'auto'\n                        ? 'auto'\n                        : Number(inBlock.visibleLines),\n                shouldAutoreset: isTrue(inBlock.shouldAutoreset),\n                generateTemplate:\n                    undefined ||\n                    (inBlock.generateTemplate != 'false' && inBlock.generateTemplate != '0'),\n\n                expanded:\n                    inBlock.expanded === undefined ||\n                    (inBlock.expanded != 'false' && inBlock.expanded != '0'),\n                codeExpanded: CodeExpansionType.AUTO,\n                noContent: isTrue(inBlock.noContent),\n                scopeUUID: inBlock.scopeUUID,\n                scopeSelector: inBlock.scopeSelector,\n            }\n\n            if (inBlock.codeExpanded !== undefined) {\n                if (\n                    inBlock.codeExpanded.toUpperCase() == 'TINY' ||\n                    inBlock.codeExpanded == 'false' ||\n                    inBlock.codeExpanded == '0'\n                ) {\n                    block.codeExpanded = CodeExpansionType.TINY\n                } else if (\n                    inBlock.codeExpanded.toUpperCase() == 'LARGE' ||\n                    inBlock.codeExpanded == '2'\n                ) {\n                    block.codeExpanded = CodeExpansionType.LARGE\n                }\n            }\n\n            if (!data.editMode && block.noContent) {\n                block.content = ''\n            }\n            if (inBlock.alternativeContent !== undefined && !block.static && !block.hidden) {\n                block.alternativeContent = inBlock.alternativeContent\n                block.hasAlternativeContent = true\n                if (!data.editMode && block.noContent) {\n                    block.content = block.alternativeContent\n                }\n            } else {\n                block.hasAlternativeContent = false\n            }\n\n            if (block.type != 'TEXT') {\n                console.log('BL', block.type, block.as)\n                if (block.as) {\n                    block.type = block.as\n                }\n                const loader = loaders[block.type]\n                console.d('LOADER', loader, loaders, block.type, block.as)\n                if (loader === undefined) {\n                    console.i('Skipping', block.type, block.as)\n                    return\n                } else {\n                    loader.loadFromDatablock(bl, inBlock, block, data.editMode)\n                }\n            }\n\n            data.blocks.push(this.constructBlock(data, block))\n        })\n        this.data = data\n\n        console.d('DATA', data)\n    }\n\n    instantiateVue() {\n        const data = this.data\n        const self = this\n        new Vue({\n            i18n,\n            render: function (h) {\n                @Component({\n                    data: function () {\n                        return data\n                    },\n                })\n                class MainBlock extends Vue implements IMainBlock {\n                    id!: number\n                    uuid!: string\n                    editMode!: boolean\n                    readonly!: boolean\n                    randomizer!: IRandomizerSettings\n                    blocks!: BlockData[]\n                    compiler!: ICompilerID\n                    language!: string\n                    runCode!: boolean\n                    domLibs!: string[]\n                    workerLibs!: string[]\n                    outputParser!: CodeOutputTypes\n                    solutionTheme!: string\n                    codeTheme!: string\n                    executionTimeout!: number\n                    maxCharacters!: number\n                    scopeUUID?: string\n                    scopeSelector?: string\n                    continuousCompilation!: boolean\n                    messagePassing!: boolean\n                    keepAlive!: boolean\n                    persistentArguments!: boolean\n\n                    initArgsForLanguage() {\n                        console.d('Constructing args for', this.language, this.defaultArgs)\n\n                        if (this.defaultArgs === undefined) {\n                            if (this.language === 'java') {\n                                return []\n                            } else {\n                                return {}\n                            }\n                        } else {\n                            return this.defaultArgs\n                        }\n                    }\n\n                    defaultArgs!: object | string[] | undefined\n                    storeDefaultArgs(args: object | string[]) {\n                        this.defaultArgs = args\n                    }\n                    clearDefaultArgs() {\n                        this.defaultArgs = undefined\n                    }\n\n                    swap(id1: number, id2: number) {\n                        const a = this.blocks[id1]\n                        this.blocks[id1] = this.blocks[id2]\n                        this.blocks[id2] = a\n\n                        this.blocks[id1].id = id1\n                        this.blocks[id2].id = id2\n                    }\n                    moveUp(id: number) {\n                        if (id <= 0) {\n                            return\n                        }\n                        this.swap(id - 1, id)\n                    }\n                    moveDown(id: number) {\n                        if (id >= this.blocks.length - 1) {\n                            return\n                        }\n                        this.swap(id, id + 1)\n                    }\n                    removeBlock(idx: number) {\n                        data.blocks.splice(idx, 1)\n                        for (let i = idx; i < data.blocks.length; i++) {\n                            data.blocks[i].id = i\n                        }\n                    }\n                    addNewBlock() {\n                        const block: IBlockDataBase = {\n                            noContent: false,\n                            alternativeContent: null,\n                            hasCode: true,\n                            type: KnownBlockTypes.BLOCK,\n                            content: '',\n                            id: data.blocks.length,\n                            uuid: uuid.v4(),\n                            parentID: data.id,\n                            expanded: true,\n                            codeExpanded: CodeExpansionType.AUTO,\n                            width: '100%',\n                            height: '200px',\n                            align: 'center',\n                            obj: null,\n                            readonly: false,\n                            static: true,\n                            hidden: false,\n                            version: '101',\n                            readyCount: 0,\n                            errors: [],\n                            scopeUUID: data.scopeUUID,\n                            scopeSelector: data.scopeSelector,\n                            visibleLines: 10,\n                            hasAlternativeContent: false,\n                            shouldAutoreset: false,\n                            generateTemplate: true,\n                            blockly: {\n                                showControls: false,\n                                useOverride: false,\n                                toolboxOverride: '',\n                                toolbox: {\n                                    categories: [],\n                                },\n                                blocks: [],\n                                _blockErrors: [],\n                            },\n                            lineCountHint: -1,\n                        }\n                        data.blocks.push(self.constructBlock(data, block))\n                    }\n                }\n                const context = {\n                    props: {\n                        language: data.language,\n                        id: data.id,\n                        blocks: new MainBlock(),\n                    },\n                }\n                return h(data.editMode ? AppEditor : App, context)\n            },\n        }).$mount(this.element)\n    }\n}\n\nexport class MountableArray extends Array<InternalCodeBlocksManager> {\n    mount() {\n        this.forEach((el) => el.instantiateVue())\n    }\n}\n\nexport const CodeBlocksManager = {\n    find(scope: HTMLElement | Document | undefined) {\n        if (scope === undefined) {\n            scope = document\n        }\n        const allCodeBlockParents = scope.querySelectorAll(\n            'codeblocks, codeblockseditor, div[codeblocks], div[codeblockseditor]'\n        )\n        const result = new MountableArray()\n        allCodeBlockParents.forEach((el) => {\n            const cbm = new InternalCodeBlocksManager(el as HTMLElement)\n            let scope = cbm.data.scopeSelector\n                ? document.querySelector(cbm.data.scopeSelector)\n                : undefined\n            if (scope === undefined || scope === null) {\n                scope = el\n            }\n\n            Vue.$hljs.$vue.processElements(scope)\n            if (cbm.data.editMode) {\n                Vue.$tagger.processElements(scope)\n                cbm.data.scopeSelector = `[uuid=${scope.getAttribute('uuid')}]`\n                cbm.data.scopeUUID = scope.getAttribute('uuid')\n                    ? scope.getAttribute('uuid')!\n                    : undefined\n                cbm.data.blocks.forEach((b) => {\n                    b.scopeUUID = cbm.data.scopeUUID\n                    b.scopeSelector = cbm.data.scopeSelector\n                        ? cbm.data.scopeSelector\n                        : `[uuid=${b.scopeUUID}]`\n                })\n            }\n\n            result.push(cbm)\n        })\n        return result\n    },\n}\n","String.prototype.replaceAllPoly = function(search: string, replacement: string): string {\n    var target = this\n    return target.replace(new RegExp(search, 'g'), replacement)\n}\nString.prototype.replaceRec = function(pattern: string | RegExp, replacement: string): string {\n    var newstr = this.replace(pattern, replacement)\n    if (newstr == this) {\n        return newstr\n    }\n    return newstr.replaceRec(pattern, replacement)\n}\n\nconsole.d = function(...lines) {\n    if (process.env.NODE_ENV == 'development') {\n        console.debug('[DEBUG]', ...lines)\n    }\n}\n\nconsole.i = function(...lines) {\n    if (process.env.NODE_ENV == 'development') {\n        console.log('[INFO]', ...lines)\n    }\n}\n\nimport Vue from 'vue'\nimport 'reflect-metadata'\nimport './plugins/uuid'\nimport './plugins/quasar'\nimport './plugins/codemirror'\nimport './plugins/codeBlocks'\nimport './plugins/compilerState'\nimport './plugins/codemirror'\nimport './plugins/highlight'\nimport './plugins/tagger'\n//import './plugins/blocklyEnv'\n//remove \"noImplicitAny\": false from tsconfig when this file goes ts\nimport { CodeBlocksManager } from './lib/codeBlocksManager'\n\nVue.config.productionTip = false\nCodeBlocksManager.find(document).mount()\n\nwindow.mountInElement = function(element: any): void {\n    Vue.$hljs.$vue.processElements(element)\n    Vue.$tagger.processElements(element)\n    CodeBlocksManager.find(element).mount()\n}\n\nwindow.mountCodeBlocks = function(scope: HTMLElement | Document | undefined) {\n    return CodeBlocksManager.find(scope).mount()\n}\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=style&index=0&id=0d37c1de&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=style&index=1&lang=stylus&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=style&index=0&id=30d18f94&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=style&index=0&id=0368514c&scoped=true&lang=sass&\"","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\nimport Quasar from 'quasar/src/vue-plugin.js';\n\nlet lang = document.getElementsByTagName('html')[0].getAttribute('lang')\nif (lang !== null) {\n    lang = lang.split('-', 2)[0]\n}\nVue.use(VueI18n)\n\nfunction loadLocaleMessages() {\n    const locales = require.context('../locales', true, /[A-Za-z0-9-_,\\s]+\\.json$/i)\n    const messages = {}\n    locales.keys().forEach(key => {\n        const matched = key.match(/([A-Za-z0-9-_]+)\\./i)\n        if (matched && matched.length > 1) {\n            const locale = matched[1]\n            messages[locale] = locales(key)\n        }\n    })\n    return messages\n}\n\nexport class I18n extends VueI18n {\n    public readonly $v: typeof VueI18n\n\n    constructor(options: VueI18n.I18nOptions) {\n        super(options)\n        this.$v = VueI18n\n    }\n}\n\nexport const i18n: I18n = new I18n({\n    locale: lang || process.env.VUE_APP_I18N_LOCALE || 'en',\n    fallbackLocale: process.env.VUE_APP_I18N_FALLBACK_LOCALE || 'en',\n    messages: loadLocaleMessages()\n})\n\nexport default i18n\nVue.prototype.$l = (key: string, values?: any[]): string => {\n    const res = i18n.t(key, values)\n    return res.toString()\n}\nVue.$l = Vue.prototype.$l\n"],"sourceRoot":""}