(function(e){function t(t){for(var o,i,s=t[0],l=t[1],u=t[2],c=0,d=[];c<s.length;c++)i=s[c],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},i={app:0},r={app:0},a=[];function s(e){return l.p+"js/"+({}[e]||e)+".js"}function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={"chunk-2e9fb724":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+".css",r=l.p+o,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===o||c===r))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],c=u.getAttribute("data-href");if(c===o||c===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete i[e],p.parentNode.removeChild(p),n(a)},p.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){i[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=a);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=s(e);var d=new Error;u=function(t){c.onerror=c.onload=null,clearTimeout(p);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",d.name="ChunkLoadError",d.type=o,d.request=i,n[1](d)}r[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="Customizing/global/plugins/Modules/TestQuestionPool/Questions/assCodeQuestion/codeblocks/0.2.14/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0070":function(e,t,n){"use strict";n("8e6a")},"22ef":function(e,t,n){"use strict";n("59b7")},2541:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return g}));var o=n("d4ec"),i=n("bee2"),r=n("2909"),a=(n("d81d"),n("b64b"),n("99af"),n("a15b"),n("b0c0"),n("e9c4"),n("ac1f"),n("5319"),n("d3b7"),n("159b"),n("2b0e")),s=(n("4723"),n("b3e9")),l=[{label:"Colors",value:"{!PrimaryColors.Colour}"},{label:"Arrays",value:"{!PrimaryColors.List}"},{label:"Logic",value:"{!PrimaryColors.Logic}"},{label:"Loops",value:"{!PrimaryColors.Loop}"},{label:"Math",value:"{!PrimaryColors.Math}"},{label:"Procedures",value:"{!PrimaryColors.Procedure}"},{label:"String",value:"{!PrimaryColors.Text}"},{label:"Variables",value:"{!PrimaryColors.Variable}"},{label:"Variables (dynamic)",value:"{!PrimaryColors.Variable_dynamic}"}],u=[{label:"0°",value:"0"},{label:"15°",value:"15"},{label:"30°",value:"30"},{label:"45°",value:"45"},{label:"60°",value:"60"},{label:"75°",value:"75"},{label:"90°",value:"90"},{label:"105°",value:"105"},{label:"120°",value:"120"},{label:"135°",value:"135"},{label:"150°",value:"150"},{label:"165°",value:"165"},{label:"180°",value:"180"},{label:"195°",value:"195"},{label:"210°",value:"210"},{label:"225°",value:"225"},{label:"240°",value:"240"},{label:"255°",value:"255"},{label:"270°",value:"270"},{label:"285°",value:"285"},{label:"300°",value:"300"},{label:"315°",value:"315"},{label:"330°",value:"330"},{label:"345°",value:"345"}],c=Object.keys(s["e"]).map((function(e){var t={label:a["a"].$l("Blockly.BlockTypeNames.".concat(e)),value:s["e"][e]};return t})),d=[].concat(l,u),p=[{label:"None",value:""}].concat(Object(r["a"])(d)),m=(Object.keys(s["a"]).map((function(e){var t={label:a["a"].$l("Blockly.ArgumentTypeNames.".concat(e)),value:e};return t})),{colour_blocks:{colourPrimary:s["b"].Colour,colourSecondary:s["c"].Colour,colourTertiary:s["d"].Colour,hat:"cap"},list_blocks:{colourPrimary:s["b"].List,colourSecondary:s["c"].List,colourTertiary:s["d"].List,hat:"cap"},logic_blocks:{colourPrimary:s["b"].Logic,colourSecondary:s["c"].Logic,colourTertiary:s["d"].Logic,hat:"cap"},loop_blocks:{colourPrimary:s["b"].Loop,colourSecondary:s["c"].Loop,colourTertiary:s["d"].Loop,hat:"cap"},math_blocks:{colourPrimary:s["b"].Math,colourSecondary:s["c"].Math,colourTertiary:s["d"].Math,hat:"cap"},procedure_blocks:{colourPrimary:s["b"].Procedure,colourSecondary:s["c"].Procedure,colourTertiary:s["d"].Procedure,hat:"cap"},text_blocks:{colourPrimary:s["b"].Text,colourSecondary:s["c"].Text,colourTertiary:s["d"].Text,hat:"cap"},variable_blocks:{colourPrimary:s["b"].Variable,colourSecondary:s["c"].Variable,colourTertiary:s["d"].Variable,hat:"cap"},variable_dynamic_blocks:{colourPrimary:s["b"].Variable_dynamic,colourSecondary:s["c"].Variable_dynamic,colourTertiary:s["d"].Variable_dynamic,hat:"cap"},hat_blocks:{colourPrimary:"330",colourSecondary:"330",colourTertiary:"330",hat:"cap"}}),f={colour_category:{colour:m.colour_blocks.colourPrimary},list_category:{colour:m.list_blocks.colourPrimary},logic_category:{colour:m.logic_blocks.colourPrimary},loop_category:{colour:m.loop_blocks.colourPrimary},math_category:{colour:m.math_blocks.colourPrimary},procedure_category:{colour:m.procedure_blocks.colourPrimary},text_category:{colour:m.text_blocks.colourPrimary},variable_category:{colour:m.variable_blocks.colourPrimary},variable_dynamic_category:{colour:m.variable_dynamic_blocks.colourPrimary}},h=function(){function e(){Object(o["a"])(this,e)}return Object(i["a"])(e,[{key:"toArgumentDescription",value:function(e){var t=a["a"].$l("Blockly.ArgumentTypeNames.".concat(e));return t?"".concat(t," (").concat(e,")"):e}},{key:"serializeToolboxItem",value:function(e){return'<block type="'.concat(e.type,'"></block>')}},{key:"serializeToolboxItems",value:function(e){var t=this;return e.map((function(e){return t.serializeToolboxItem(e)})).join("\n")}},{key:"serializeToolboxCategory",value:function(e){var t='<category name="'.concat(e.name,'"');return e.color&&""!=e.color&&(t+=' colour="'.concat(e.color,'"')),e.custom&&""!=e.custom&&(t+=' custom="'.concat(e.custom,'"')),t+=">".concat(this.serializeToolboxItems(e.items),"</category>"),t}},{key:"serializeToolboxCategories",value:function(e){var t=this;return e.map((function(e){return t.serializeToolboxCategory(e)})).join("\n")}},{key:"serializeToolbox",value:function(e){var t=e.categories.length;if(e.categories&&t>1)return"".concat(this.serializeToolboxCategories(e.categories));if(1===t){var n=e.categories[0];return void 0===n.color||""==n.color||""==n.name?""+this.serializeToolboxItems(n.items):""+this.serializeToolboxCategories(e.categories)}return""}},{key:"getBlockDescription",value:function(e){var t=Object.assign({},e.JSON);return t.colour=this.toHTMLColor(t.colour),t}},{key:"serializeCustomBlock",value:function(e){return JSON.stringify(this.getBlockDescription(e))}},{key:"serializeCustomBlocks",value:function(e){var t=this;return JSON.stringify(e.map((function(e){return t.getBlockDescription(e)})))}},{key:"codeUndefines",get:function(){return"const window = undefined; const Window = undefined; const document = undefined;const $ = undefined;const _ = undefined;"}},{key:"removeSelfClosingTags",value:function(e){return e.replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")}},{key:"prepareCode",value:function(e){return'"use strict"; '.concat(this.codeUndefines," return function(){ return {o: ").concat(e,"}.o}.call({})")}},{key:"prepareBlocklyCode",value:function(e){return"var Blockly = B;".concat(this.codeUndefines,"return { o:function(block) { ").concat(e," }}.o")}},{key:"compile",value:function(e,t){var n=this.prepareBlocklyCode(e.codeString);e._code=void 0;try{var o=new Function("B",n);e._code=o(t)}catch(i){return e._code=void 0,console.error("Error Compiling",n,i),i+""}}},{key:"itemForValue",value:function(e,t){return a["a"].$CodeBlock.itemForValue(e,t)}},{key:"toColorCode",value:function(e){if(""!==e)return e}},{key:"toColor",value:function(e){return void 0===e?"":(Object.keys(s["b"]).forEach((function(t){e=="{!PrimaryColors.".concat(t,"}")&&(e=s["b"][t])})),e)}},{key:"toHTMLColor",value:function(e){var t=this.toColor(e);return t.length>0&&"#"!=t[0]&&"h"!=t[0]&&"r"!=t[0]?"hsl(".concat(t,", 100%, 50%)"):t}},{key:"mounted",value:function(){}}]),e}(),g=new h},"2b86":function(e,t,n){"use strict";n("e740")},3193:function(e,t,n){"use strict";n("88b1")},4723:function(e,t,n){},"48e4":function(e,t,n){"use strict";n("6195")},"49f8":function(e,t,n){var o={"./de.json":"6ce2","./en.json":"edd4"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id="49f8"},"4ebf":function(e,t,n){},"59b7":function(e,t,n){},"5a50":function(e,t,n){"use strict";n("cac9")},"5d77":function(e,t,n){},"5e79":function(e,t,n){(function(e){var o,i,r,a=n("7037").default;n("ac1f"),n("00b4"),n("1276"),n("466d"),n("5319"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),function(s){"object"==a(t)&&"object"==a(e)?s(n("56b3")):(i=[n("56b3")],o=s,r="function"===typeof o?o.apply(t,i):o,void 0===r||(e.exports=r))}((function(e){"use strict";function t(e){for(var t={},n=e.split(" "),o=0;o<n.length;++o)t[n[o]]=!0;return t}e.defineMode("clike",(function(t,n){var o,i=t.indentUnit,r=n.statementIndentUnit||i,a=n.dontAlignCalls,s=n.keywords||{},l=n.builtin||{},u=n.blockKeywords||{},c=n.atoms||{},d=n.hooks||{},p=n.multiLineStrings,m=!1!==n.indentStatements,f=/[+\-*&%=<>!?|\/]/;function h(e,t){var n=e.next();if(d[n]){var i=d[n](e,t);if(!1!==i)return i}if('"'==n||"'"==n)return t.tokenize=g(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return o=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if("/"==n){if(e.eat("*"))return t.tokenize=v,v(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(f.test(n))return e.eatWhile(f),"operator";e.eatWhile(/[\w\$_\xa1-\uffff]/);var r=e.current();return s.propertyIsEnumerable(r)?(u.propertyIsEnumerable(r)&&(o="newstatement"),"keyword"):l.propertyIsEnumerable(r)?(u.propertyIsEnumerable(r)&&(o="newstatement"),"builtin"):c.propertyIsEnumerable(r)?"atom":"variable"}function g(e){return function(t,n){var o,i=!1,r=!1;while(null!=(o=t.next())){if(o==e&&!i){r=!0;break}i=!i&&"\\"==o}return(r||!i&&!p)&&(n.tokenize=null),"string"}}function v(e,t){var n,o=!1;while(n=e.next()){if("/"==n&&o){t.tokenize=null;break}o="*"==n}return"comment"}function b(e,t,n,o,i){this.indented=e,this.column=t,this.type=n,this.align=o,this.prev=i}function D(e,t,n){var o=e.indented;return e.context&&"statement"==e.context.type&&(o=e.context.indented),e.context=new b(o,t,n,null,e.context)}function y(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}return{startState:function(e){return{tokenize:null,context:new b((e||0)-i,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;o=null;var i=(t.tokenize||h)(e,t);if("comment"==i||"meta"==i)return i;if(null==n.align&&(n.align=!0),";"!=o&&":"!=o&&","!=o||"statement"!=n.type)if("{"==o)D(t,e.column(),"}");else if("["==o)D(t,e.column(),"]");else if("("==o)D(t,e.column(),")");else if("}"==o){while("statement"==n.type)n=y(t);"}"==n.type&&(n=y(t));while("statement"==n.type)n=y(t)}else o==n.type?y(t):m&&(("}"==n.type||"top"==n.type)&&";"!=o||"statement"==n.type&&"newstatement"==o)&&D(t,e.column(),"statement");else y(t);return t.startOfLine=!1,i},indent:function(t,n){if(t.tokenize!=h&&null!=t.tokenize)return e.Pass;var o=t.context,s=n&&n.charAt(0);"statement"==o.type&&"}"==s&&(o=o.prev);var l=s==o.type;return"statement"==o.type?o.indented+("{"==s?0:r):!o.align||a&&")"==o.type?")"!=o.type||l?o.indented+(l?0:i):o.indented+r:o.column+(l?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}));function n(e,t){if(!t.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),t.tokenize=null;break}if(e.next(),e.eol()){t.tokenize=n;break}}return"meta"}function o(t,n){"string"==typeof t&&(t=[t]);var o=[];function i(e){if(e)for(var t in e)e.hasOwnProperty(t)&&o.push(t)}i(n.keywords),i(n.builtin),i(n.atoms),o.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],o));for(var r=0;r<t.length;++r)e.defineMIME(t[r],n)}o(["x-shader/x-vertex","x-shader/x-fragment","text/x-glsl"],{name:"clike",keywords:t("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler2D sampler3D samplerCube const attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:t("for while do if else struct"),builtin:t("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture2D texture2DLod texture2DProjLod textureCube textureCubeLod "),atoms:t("true false gl_FragColor gl_PointCoord gl_Position gl_PointSize gl_FragCoord gl_FrontFacing gl_FragData gl_DepthRangeParameters gl_MaxVertexAttribs gl_MaxVaryingVectors gl_MaxVertexUniformVectorsgl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformVectors gl_MaxDrawBuffers"),hooks:{"#":n},modeProps:{fold:["brace","include"]}})}))}).call(this,n("62e4")(e))},6195:function(e,t,n){},"62b3":function(e,t,n){},6602:function(e,t,n){"use strict";n("d2ab")},"6ce2":function(e){e.exports=JSON.parse('{"Dismiss":"Verwerfen","CodeBlock":{"Initial_Content":"Lösungsvorgabe"},"CodeBlockContainer":{"Display":"Darstellung","Lines":"Zeilen","Lines_detail":"Anzahl sichtbarer Zeilen oder <b>auto</b>.","Prepopulate":"Antwort Vorbelegen","Prepopulate_detail":"Lösungsvorgabe für neue Fragen angeben.","Behaviour":"Verhalten","ScriptV":"Script-Version","ScriptV_detail":"API-Version des Sandkastens.","AutoReset":"Autom. Reset","AutoReset_detail":"Sandkasten bei jeder Ausführung neu erzeugen.","GenerateTemplate":"Canvas erzeugen","GenerateTemplate_detail":"Erstellt ein Canvas-Element für diesen Sandkasten","Positioning":"Positionierung","Width":"Breite","Width_detail":"CSS-Eigenschaft für die Breite","Height":"Höhe","Height_detail":"CSS-Eigenschaft für die Höhe","Alignment":"Ausrichtung","Alignment_detail":"Horizontale Ausrichtung des Canvas-Element","Delete":"Löschen","Start":"Anfang","Center":"Mitte","End":"Ende","ScriptVersion_1":"1.0 (original)","ScriptVersion_2":"2.0 (seit 2020)","ScriptVersion_3":"3.0 (experimental)","Canvas":"Sandkasten","Text":"Text","Hidden":"Quellcode (Versteckt)","Static":"Quellcode (Angabe)","Block":"Antwortfeld/Lösung","Blockly":"Blockly (Experimental!!!)","REPL":"Interaktive Eingabe","Confirm":"Bestätigung","DeleteQuestion":"Soll der <span class=\'highlightedCard sample\'>hervorgehobene</span> Block wirklick entfernt werden?","TypesCaption":"Blocktypen","Types":"Die Frage wird aus den folgenden Blöcken zusammengestellt. Möglichen Typen sind:<ul><li><b>Text</b>: Text der wie der ursprüngliche Fragetext ohne Syntax highlighting angezeigt wird. Die <b>[code][/code]</b> und <b>[hl][/hl]</b> können verwendet werden</li><li><b>Quellcode (Angabe)</b>: Nicht veränderbarer Quellcode mit Syntax highlighting. Der Inhalt ist deil des ausgeführten Programmes und sollte fest vorgegebenen Code enthalten.</li><li><b>Quellcode (Versteckt)</b>: Der Quellcode ist teil der ausgelieferten Webseite, wird jedoch nicht angezeigt. Diese Variante kann code enthalten der Hilfsmethoden o.ä. definiert. Der Inhalt ist deil des ausgeführten Programmes und sollte fest vorgegebenen Code enthalten.</li><li><b>Antwortfeld/Lösung</b>: Quellcode mit Syntax highlighting. Hier sollte die Musterlösung angegeben werden. Der Inhalt ist deil des ausgeführten Programmes und sollte fest vorgegebenen Code enthalten.</li><li><b>Sandkasten</b>: Eine möglichkeit um vorgegebenen Code im DOM des Browsers auszuführen. Zum Beispiel für eine Zeichenfläche die nutzbar ist um die Ergebnisse der Studenten zu visualisieren. Der Code (für Version 2.0) <b> muss ein JavaScript Object</b> mit den Methoden <ul><li><code>init(canvasElement, outputElement, scope)</code> und </li><li><code>update(txt, json, canvasElement, outputElement)</code></li></ul> definieren</b>.</li></ul>"},"CodeBlocks":{"run_hint":"<code>Ctrl</code>+<code>W</code> oder <code>Ctrl</code>+<code>J</code> drücken um Code auszuführen","run":"Ausführen","start":"Starten","stop":"Anhalten","AddBlock":"Neuen Block Anlegen","UserCanceled":"Vom Benutzer Abgebrochen"},"CodeBlocksSettings":{"Language":"Sprache","AllowExec":"Ausführung zulassen","CVersion":"Version","RunTime":"Max. Laufzeit in ms.","Output":"Ausgabe","MaxCharacters":"Max. Textlänge","ExperimentalCompiler":"Experimentelle Sprache","ExperimentalCompilerDesc":"Diese Sprachversion ist experimentell. Sowohl die Eigenschaften also auch das Verhalten können sich daher im nächsten Update ändern. Diese Version sollte nicht in Produktivumgebungen eingestezt werden.","DeprecatedCompiler":"Veralteter Sprache","DeprecatedCompilerDesc":"Diese Sprachversion ist veraltet und wird in einem der nächsten Updates entfernt. Bitte aktualisieren Sie Ihr Projekt auf eine aktuelle Version.","Parser":"Ausgabe Behandlung","Themes":"Stile","TGeneral":"Allgemeine Darstellung","TSolution":"Lösungsdarstellung","Libraries":"Bibliotheken","DomLibs":"DOM-Bibliotheken","WorkLibs":"Worker-Bibliotheken","PAutomatic":"Automatisch","PText":"Als Text","PJSON":"Als JSON","PMagic":"Text+JSON (getrennt mit \'\\\\n\\\\n&lt;JSON>\\\\n\')","PData":"Text+Daten (Senden mit \'CodeBlocks.postResult(data)\')","NumberErr":"Muss eine gültige Zahl sein.","ContinousCompile":"Automatisch Ausführen","PersistentArguments":"Persistente Argumente","MessagePassing":"Nachrichtenaustauch (DOM und Worker)","KeepAlive":"Worker nicht automatisch beenden","AllowArguments":"Untersützt das Senden von Argumenten","AllowArgumentsCaption":"Senden von Argumenten","AllowArgumentsHint":"Mit Hilfer der Methode <code>addArgumentsTo(args)</code> eines <b>Sandkastens</b> kann ein Objekt definiert werden, welches an den Programmcode weitergereicht wird. Innerhalb des Programmcodes kann über die Variable <code>args</code> auf das so erstellte Objekt zugegriffen werden.","AllowArgumentsHintJava":"Mit Hilfer der Methode <code>addArgumentsTo(args)</code> eines <b>Sandkastens</b> können die Einträge eines String-Array festgelegt werden, welches der <code>main</code>-Methode als Parameter übergeben wird.","UsePersistentArgumentsCaption":"Persistente Argumente","UsePersistentArgumentsHint":"Wenn diese Option aktiviert ist werden die Werte die vom Worker in der <code>args</code>-Variable abgelegt wurden direkt an <code>addArgumentsTo(args)</code> übergeben. Andernfalls ist <code>args</code> ein leers Objekt.","UsePersistentArgumentsHintJava":"Wenn diese Option aktiviert ist werden die Werte im java-code in der <code>args</code>-Variable abgelegt wurden direkt an <code>addArgumentsTo(args)</code> übergeben. Andernfalls ist <code>args</code> ein leers Array.","AllowMessagePassingCaption":"Nachrichtenaustauch","AllowMessagePassingHint":"<b style=color:red>[EXPERIMENTAL]</b> Ermöglicht den Nachrichtenaustausch zwischen dem Wroker und dem (Canvas)DOM-Code.<br><b>Canvas-Code:</b><ul><li><code>onMessage(cmd, data)</code>: Empföngt Nachrichten vom worker</li><li><code>runner.postMessage(cmd, data)</code>: Sendet Nachrichten an den Worker. Die runner-Instanz wird der <code>init</code>-Method übergeben.</li></ul><b>Worker-Code:</b><ul><li><code>CodeBlocks.startReceivingEvents((request) => {})</code>: Die übergebene Methode empfäöngt die Nachrichten des DOM-Codes</li><li><code>CodeBlocks.postMessage(cmd, data)</code>: Sendet eine Nachricht an den DOM-Code.</li></ul>","AllowMessagePassingHintJava":"<b style=color:red>[EXPERIMENTAL]</b> Ermöglicht den Nachrichtenaustausch zwischen dem Wroker und dem (Canvas)DOM-Code.<br><b>Canvas-Code:</b><ul><li><code>onMessage(cmd, data)</code>: Empföngt Nachrichten vom worker</li><li><code>runner.postMessage(cmd, data)</code>: Sendet Nachrichten an den Worker. Die runner-Instanz wird der <code>init</code>-Method übergeben.</li></ul><b>Worker-Code:</b><ul><li><code>CodeBlocks.startReceivingEvents((CodeBlocksBaseMessage request) -> {})</code>: Die übergebene Methode empfäöngt die Nachrichten des DOM-Codes</li><li><code>CodeBlocks.postMessage(cmd, data)</code>: Sendet eine Nachricht an den DOM-Code.</li></ul>","KeepAliveCaption":"Worker nicht automatisch beenden","KeepAliveHint":"<b style=color:red>[EXPERIMENTAL]</b> Der Worker wird nach dem beenden des studentischen Codes nicht automatisch beendet und kann weiter Nachrichten empfangen und senden.<br><br>Der Worker kann jederzeit manuell durch die <em>Anhalten</em>-Teste oder durch erreichen der maximal erlaubten Laufzeit beendet werden. Der studentische code, kann die Ausführung durch aufrufen von <code>process.exit(0)</code> beenden.<br><br>Die <code>whenFinished(args)</code>-Methode der <b>Sandkästen</b> wird sofort nach dem Ende des studentischen Codes, aber noch vor der Beendigung des Workers aufberufen.","KeepAliveHintJava":"<b style=color:red>[EXPERIMENTAL]</b> Der Worker wird nach dem beenden der studentischen <code>main</code>-methode nicht automatisch beendet und kann weiter Nachrichten empfangen und senden.<br><br>Der Worker kann jederzeit manuell durch die <em>Anhalten</em>-Taste oder durch das erreichen der maximal erlaubten Laufzeit beendet werden. Der studentische code, kann die Ausführung durch aufrufen von <code>System.exit(0)</code> beenden.<br><br>Die <code>whenFinished(args)</code>-Methode der <b>Sandkästen</b> wird sofort nach dem Ende der <code>main</code>-Methode, aber noch vor der Beendigung des Workers aufberufen."},"CodePlayground":{"InvalidJson":"Ausgabe ist nicht JSON-Formatiert","Output":"Ausgabe:","Message":"Meldung:","ExperimentalScriptVersion":"Experimentelle Scriptversion","ExperimentalScriptVersionDesc":"Diese Scriptversion ist experimentell. Sowohl die Eigenschaften also auch das Verhalten können sich daher im nächsten Update ändern. Diese Version sollte nicht in Produktivumgebungen eingestezt werden.","DeprecatedScriptVersion":"Veralteter Scriptversion","DeprecatedScriptVersionDesc":"Diese Scriptversion ist veraltet und wird in einem der nächsten Updates entfernt. Bitte aktualisieren Sie Ihr Projekt auf eine aktuelle Version."},"Tagger":{"ConfirmRepl":"Ersetzung Bestätigen","ConfirmReplMsg":"Sollen <b>alle</b> vorkomnisse von {name} mit dem untenstehenden Wert ersetzt werden?"},"RandomizerSetEditor":{"Caption":"Bearbeit Zusammenstellung {nr}"},"RandomizerSettings":{"Caption":"Würfler","Available":"Definierte Platzhalter","Sets":"Zusammenstellungen"},"Blockly":{"CodePreviewLabel":"Code-Vorschau","CodePreviewCaption":"Der durch die Sequenz erzeugte Quellcode","RAWToolboxLabel":"RAW Toolbox Definition","RAWToolboxCaption":"Die Toolbox Definition als XML Quelltext","CustomBlocksLabel":"Angepasste Blöcke","CustomBlocksCaption":"Erstellen und Anpassen von eigenen Blöcken","ToolboxLabel":"Toolbox Anpassen","ToolboxCaption":"Die Toolbox mit einer UI verwalten und gestalten","ToolboxCategories":"Kategorien","ToolboxItems":"Blöcke","Properties":"Eigenschaften","UseCustomToolbox":"Toolbox selbst definieren","ShowControls":"Kontrolleiste Anzeigen","Block":{"TypeName":"Unique Type ID","MainDescription":"Main Description (use %1, %2... for Argument PlaceHolders)","CreateCustomTitle":"Create a new Block","CreateCustomMessage":"Please specify a unique Type-Name (at least <b>three characters</b>) for your new Block.","Arguments":"Argument List","ArgumentName":"Argument Name","Header":"Header","HeaderDescription":"The main Row of your Block","AdditionalLines":"Additional Lines","AddonLineTitle":"Additional Line {nr}","CompileError":"Error Compiling Block:","CodeGeneratorFunction":"Code-Generator Function","Properties":"Block-Eigenschaften","BlockEditTitle":"Block Designer","BlockEditDescription":"Define the Properties of Your Block with a simple Blockly-Interface.","DesignBlockName":"DESIGNER BLOCK"},"ArgumentTypeNames":{"field_input":"field_input","field_dropdown":"field_dropdown","field_checkbox":"field_checkbox","field_colour":"Farbe","field_number":"Zahl","field_angle":"Winkel","field_variable":"field_variable","field_date":"Datum","field_label":"field_label","field_image":"Bild","input_value":"input_value","input_statement":"input_statement","input_dummy":"input_dummy"},"BlockTypeNames":{"controls_if":"Kontrolle: Bedingung (if)","logic_compare":"Logik: Vergleich","logic_operation":"Logik: Logische Operation","logic_negate":"Logik: Logisches Nicht","logic_boolean":"Logik: Wahrheitswert","logic_null":"Logik: null","logic_ternary":"Logik: Ternäre Logikoperation (?:)","controls_repeat_ext":"Kontrolle: Schleife: n-Mal Wiederholen","controls_whileUntil":"Kontrolle: Schleife: While-Until","controls_for":"Kontrolle: Schleife: For","controls_forEach":"Kontrolle: Schleife: For-Each","controls_flow_statements":"Kontrolle: Schliefen Operationen (continue/break)","math_number":"Mathe: Zahl","math_arithmetic":"Mathe: Arithmetische Operation","math_single":"Mathe: Unöre Operation","math_trig":"Mathe: Trigonometrische Funktionen","math_constant":"Mathe: Konstanten (pi, ...)","math_number_property":"Mathe: Zahleigenschaften (gerade, prim...)","math_round":"Mathe: Runden","math_on_list":"Mathe: Reduktion auf Liste (summe, min/max, ...)","math_modulo":"Mathe: Rest (Modulo)","math_constrain":"Mathe: Intervall Begrenzen","math_random_int":"Mathe: Zufallszahl (Ganzzahlig)","math_random_float":"Mathe: Zufallszahl","text":"Text","text_join":"text_join","text_append":"text_append","text_length":"text_length","text_isEmpty":"text_isEmpty","text_indexOf":"text_indexOf","variables_get":"variables_get","text_charAt":"text_charAt","text_getSubstring":"text_getSubstring","text_changeCase":"text_changeCase","text_trim":"text_trim","text_print":"text_print","text_prompt_ext":"text_prompt_ext","lists_create_with":"lists_create_with","lists_repeat":"lists_repeat","lists_length":"lists_length","lists_isEmpty":"lists_isEmpty","lists_indexOf":"lists_indexOf","lists_getIndex":"lists_getIndex","lists_setIndex":"lists_setIndex","lists_getSublist":"lists_getSublist","lists_split":"lists_split","lists_sort":"lists_sort","colour_picker":"colour_picker","colour_random":"colour_random","colour_rgb":"colour_rgb","colour_blend":"colour_blend"}}}')},"6e19":function(e,t,n){"use strict";var o;n.d(t,"a",(function(){return o})),function(e){e[e["Error"]=2]="Error",e[e["Warning"]=1]="Warning"}(o||(o={}))},"7a59":function(e,t,n){"use strict";n("62b3")},"800b":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"codeblock block-"+e.typeName},[n("CodeBlockButton",{directives:[{name:"show",rawName:"v-show",value:e.showBookmarkButton,expression:"showBookmarkButton"}],attrs:{block:e.block,isBookmarkPanel:e.isBookmarkPanel}}),n("codemirror",{ref:"codeBox",class:"accqstXmlInput noRTEditor codebox "+e.boxClass,attrs:{value:e.code,options:e.options,name:e.namePrefix+"block["+e.block.parentID+"]["+e.block.id+"]",id:"teQ"+e.block.parentID+"B"+e.block.id,"data-question":e.block.parentID,events:["keyup"]},on:{ready:e.onCodeReady,focus:e.onCodeFocus,input:e.onCodeChangeDefered,"input-read":e.onCodeKeyHandle,keyup:e.onCodeKeyHandle}}),e.editMode?n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasAlternativeContent,expression:"hasAlternativeContent"}]},[n("div",{staticClass:"q-mt-lg text-subtitle2 q-pb-xs"},[e._v(e._s(e.$t("CodeBlock.Initial_Content")))]),n("codemirror",{ref:"altBox",class:"accqstXmlInput noRTEditor "+e.boxClass,attrs:{value:e.altCode,options:e.altOptions,name:e.namePrefix+"alt_block["+e.block.parentID+"]["+e.block.id+"]"},on:{ready:e.onAltCodeReady,focus:e.onAltCodeFocus,input:e.onAltCodeChangeDefered}})],1):e._e()],1)},i=[],r=n("d4ec"),a=n("bee2"),s=n("262e"),l=n("2caf"),u=(n("d3b7"),n("159b"),n("498a"),n("b0c0"),n("9ab4")),c=(n("98db"),n("1b40")),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-icon",{class:"mdi "+e.severityClass+" mainTipIcon",attrs:{name:e.severityIcon}},[n("q-tooltip",[n("div",[n("ul",{staticClass:"tiplist"},e._l(e.errors,(function(t){return n("li",{key:t.message},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-1"},[n("q-icon",{attrs:{name:e.iconForSeverity(t.severity)}})],1),n("div",{staticClass:"col-11 q-pr-md"},[n("div",{staticClass:"q-my-none tipper"},[e._v(e._s(t.message))])])])])})),0)])])],1)},p=[],m=n("6e19"),f=function(e){Object(s["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"severityClass",get:function(){return this.classForSeverity(this.severity)}},{key:"severityIcon",get:function(){return this.iconForSeverity(this.severity)}},{key:"classForSeverity",value:function(e){return e==m["a"].Error?"gutter-error":"gutter-warning"}},{key:"iconForSeverity",value:function(e){return e==m["a"].Error?"report":"warning"}}]),n}(c["c"]);Object(u["b"])([Object(c["b"])()],f.prototype,"errors",void 0),Object(u["b"])([Object(c["b"])()],f.prototype,"severity",void 0),f=Object(u["b"])([c["a"]],f);var h=f,g=h,v=(n("48e4"),n("2877")),b=n("0016"),D=n("05c0"),y=n("93dc"),_=n.n(y),k=Object(v["a"])(g,d,p,!1,null,null,null),C=k.exports;_()(k,"components",{QIcon:b["a"],QTooltip:D["a"]});var w=n("879e"),x=(n("a7be"),n("8c06"),n("8c2e"),n("cc10"),n("e8b0"),n("b6fc"),n("bd58"),n("8d7e"),n("7393"),n("1ad7"),n("d5db"),n("9603"),n("eb8f"),n("4ba6"),n("518b"),n("f9d4"),n("906f"),n("db91"),n("903e"),n("8536"),n("5e79"),n("10b2"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"floatingButton"},[n("q-btn",{attrs:{color:e.color,"text-color":"black",icon:e.iconName,round:"",size:"xs"},on:{click:e.onClick}})],1)}),E=[],T=function(e){Object(s["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.bookmarked=!1,e}return Object(a["a"])(n,[{key:"color",get:function(){return this.isBookmarkPanel?"red-4":"amber"}},{key:"iconName",get:function(){return this.isBookmarkPanel?"close":this.bookmarked?"bookmark":"bookmark_border"}},{key:"bookmarkMe",value:function(){var e={uuid:this.block.appSettings.uuid,block:this.isBookmarkPanel?null:this.block};c["c"].$GlobalEventHub.$emit("bookmark-block",e)}},{key:"onClick",value:function(){this.bookmarkMe()}},{key:"onBookmark",value:function(e){this.bookmarked=null!==e.block&&null!==this.block&&this.block.uuid===e.block.uuid}},{key:"mounted",value:function(){c["c"].$GlobalEventHub.$on("bookmark-block",this.onBookmark)}},{key:"beforeDestroy",value:function(){c["c"].$GlobalEventHub.$off("bookmark-block")}}]),n}(c["c"]);Object(u["b"])([Object(c["b"])({required:!0})],T.prototype,"block",void 0),Object(u["b"])([Object(c["b"])({default:!1})],T.prototype,"isBookmarkPanel",void 0),T=Object(u["b"])([c["a"]],T);var O=T,A=O,S=(n("2b86"),n("9c40")),j=Object(v["a"])(A,x,E,!1,null,"0bd2a5d9",null),F=j.exports;_()(j,"components",{QBtn:S["a"]});var B=c["c"].extend(C),R=function(e){Object(s["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.codeUpdateTimer=null,e.codeUpdateStartTime=0,e.continuousCodeUpdateTimer=null,e.codeNeedsTagUpdate=!0,e.altCodeUpdateTimer=null,e.altCodeUpdateStartTime=0,e}return Object(a["a"])(n,[{key:"showBookmarkButton",get:function(){return this.canBookmark&&this.editMode}},{key:"clearTagMarkers",value:function(){if(void 0!==this.codemirror){var e=this.codemirror.getDoc().getAllMarks();e.forEach((function(e){e.className!=c["c"].$tagger.className.rnd&&e.className!=c["c"].$tagger.className.templ||e.clear()})),this.altcodemirror&&(e=this.altcodemirror.getDoc().getAllMarks(),e.forEach((function(e){e.className!=c["c"].$tagger.className.rnd&&e.className!=c["c"].$tagger.className.templ||e.clear()})))}}},{key:"clearErrorDisplay",value:function(){if(void 0!==this.codemirror){var e=this.codemirror.getDoc().getAllMarks();e.forEach((function(e){"red-wave"==e.className&&e.clear()})),this.codemirror.getDoc().clearGutter("diagnostics")}}},{key:"onCodeReady",value:function(e){var t=this;this.codemirror&&this.codemirror.display&&this.codemirror.display.input&&this.codemirror.display.input.textarea&&(this.codemirror.display.input.textarea.className="noRTEditor"),this.codeBox.$el.querySelectorAll("textarea[name]").forEach((function(e){e.className=(e.className+" accqstXmlInput noRTEditor").trim(),e.id=t.codeBox.$el.id,$(e).text(t.block.content),e.setAttribute("data-question","".concat(t.block.parentID)),e.setAttribute("data-blocktype","".concat(t.iliasTypeNr)),t.editMode&&e.setAttribute("is-editmode","".concat(t.editMode))})),this.updateDiagnosticDisplay(),this.onCodeChange(this.block.content),this.whenBlockIsReady()}},{key:"onAltCodeReady",value:function(e){var t=this;console.d("READY"),this.altcodemirror&&this.altcodemirror.display&&this.altcodemirror.display.input&&this.altcodemirror.display.input.textarea&&(this.altcodemirror.display.input.textarea.className="noRTEditor"),this.altBox.$el.querySelectorAll("textarea[name]").forEach((function(e){e.className=(e.className+" accqstXmlInput noRTEditor").trim()})),this.$nextTick((function(){t.onAltCodeChange(t.block.alternativeContent),t.updateTagDisplay(),t.updateHeight()}))}},{key:"onCodeFocus",value:function(e){}},{key:"onAltCodeFocus",value:function(e){}},{key:"onCodeChangeDefered",value:function(e){var t=this;if(this.editMode){var n=(new Date).getTime();null!==this.codeUpdateTimer?(clearTimeout(this.codeUpdateTimer),this.codeUpdateTimer=null):this.codeUpdateStartTime=n;var o=function(){t.codeUpdateTimer=null,t.onCodeChange(e)};n-this.codeUpdateStartTime>"800"?o():this.codeUpdateTimer=setTimeout((function(){o()}),"150")}else this.onCodeChange(e)}},{key:"onCodeChange",value:function(e){var t=this;this.block.lineCountHint=this.codemirror.doc.size,this.codemirror.options.firstLineNumber=this.block.firstLine;var n=this.codeBox.$el.querySelector("textarea[name]");n.value=e,this.block.content=e,this.updateTagDisplay(),this.editMode?this.$emit("code-changed-in-edit-mode",void 0):this.emitWhenTypingInViewMode&&(null!==this.continuousCodeUpdateTimer&&(clearTimeout(this.continuousCodeUpdateTimer),this.continuousCodeUpdateTimer=null),this.continuousCodeUpdateTimer=setTimeout((function(){t.$emit("code-changed-in-view-mode",void 0)}),"150"))}},{key:"didAddText",value:function(e){(e.indexOf("!")>=0||e.indexOf("+")>=0||e.indexOf("{")>=0||e.indexOf("{")>=0||e.indexOf("\n")>=0)&&(this.codeNeedsTagUpdate=!0)}},{key:"onCodeKeyHandle",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&(void 0!==arguments[1].text?arguments[1].text.forEach((function(e){t.didAddText(e)})):void 0!==arguments[1].key&&(13==arguments[1].keyCode?this.didAddText("\n"):this.didAddText(arguments[1].key)))}},{key:"onAltCodeChangeDefered",value:function(e){var t=this,n=(new Date).getTime();null!==this.altCodeUpdateTimer?(clearTimeout(this.altCodeUpdateTimer),this.altCodeUpdateTimer=null):this.altCodeUpdateStartTime=n;var o=function(){t.altCodeUpdateTimer=null,t.onAltCodeChange(e)};n-this.altCodeUpdateStartTime>"800"?o():this.altCodeUpdateTimer=setTimeout((function(){o()}),"150")}},{key:"onAltCodeChange",value:function(e){if(void 0!==this.altBox){var t=this.altBox.$el.querySelector("textarea[name]");t.value=e}this.block.alternativeContent=e,this.updateTagDisplay()}},{key:"updateHeight",value:function(){"auto"===this.visibleLines||this.block.static?(this.codemirror&&this.codemirror.setSize("height","auto"),this.altcodemirror&&this.altcodemirror.setSize("height","auto")):(this.codemirror&&this.codemirror.setSize(null,Math.round(20*Math.max(1,this.visibleLines))+9),this.altcodemirror&&this.altcodemirror.setSize(null,Math.round(20*Math.max(1,this.visibleLines))+9))}},{key:"replaceTemplateTags",value:function(e){this.editMode&&e.scopeUUID==this.block.scopeUUID&&(this.block.content=c["c"].$tagger.replaceTemplateTagInString(this.block.content,e.name,e.newValue))}},{key:"updateTagDisplay",value:function(){var e=this;this.editMode&&void 0!==this.block&&void 0!==this.block.appSettings&&void 0!==this.block.appSettings.randomizer&&this.block.appSettings.randomizer.active&&this.codeNeedsTagUpdate&&(this.codeNeedsTagUpdate=!1,this.clearTagMarkers(),c["c"].$tagger.getMarkers(this.block.content).forEach((function(t){e.codemirror.getDoc().markText(t.start,t.end,{className:c["c"].$tagger.className[t.type],inclusiveLeft:!0,inclusiveRight:!0,title:t.name,startStyle:"tag-mark-start",endStyle:"tag-mark-end"})})),this.$nextTick((function(){c["c"].$tagger.hookClick(e.codeBox.$el,e.block.scopeUUID)})),this.altcodemirror&&(c["c"].$tagger.getMarkers(this.block.alternativeContent).forEach((function(t){e.altcodemirror.getDoc().markText(t.start,t.end,{className:c["c"].$tagger.className[t.type],inclusiveLeft:!0,inclusiveRight:!0,title:t.name,startStyle:"tag-mark-start",endStyle:"tag-mark-end"})})),this.$nextTick((function(){void 0!==e.altBox&&c["c"].$tagger.hookClick(e.altBox.$el,e.block.scopeUUID)}))))}},{key:"updateDiagnosticDisplay",value:function(){var e=this,t=this.errors;if(void 0!==t){this.clearErrorDisplay();var n=this.block.firstLine;t.forEach((function(t){t.start.column>=0&&e.codemirror.getDoc().markText({line:t.start.line-n,ch:t.start.column},{line:t.end.line-n,ch:t.end.column},{className:"red-wave",inclusiveLeft:!0,inclusiveRight:!0,title:t.message});var o=e.codemirror.getDoc().lineInfo(t.start.line-n),i=o&&o.gutterMarkers?o.gutterMarkers["diagnostics"].$component:null;null==i&&(i=document.createElement("span"),e.codemirror.getDoc().setGutterMarker(t.start.line-n,"diagnostics",i),i.$component=new B({propsData:{errors:[],severity:t.severity}}).$mount(i),i=i.$component),i.severity=Math.max(t.severity,i.severity),-1==i.errors.indexOf(t)&&i.errors.push(t)}))}else this.clearErrorDisplay()}},{key:"codeBox",get:function(){return this.$refs.codeBox}},{key:"altBox",get:function(){return this.$refs.altBox}},{key:"hasAlternativeContent",get:function(){return this.block.hasAlternativeContent&&"block"==this.typeName}},{key:"errors",get:function(){return this.block.errors}},{key:"randomizerActive",get:function(){return void 0!==this.tagSet}},{key:"boxClass",get:function(){var e="";return this.block.hidden&&!this.editMode&&(e+="hiddenBox "),(this.block.readonly||this.readonly)&&(e+="readonlyBox "),this.block.static&&(e+="staticBox "),e}},{key:"iliasTypeNr",get:function(){var e=this.typeName;return"text"==e?0:"block-static"==e?1:"block"==e?2:"block-hidden"==e?3:"playground"==e?4:"blockly"==e?5:-1}},{key:"typeName",get:function(){var e=this.block.type.toLowerCase();return this.block.hidden&&(e+="-hidden"),this.block.static&&(e+="-static"),e}},{key:"altCode",get:function(){return null===this.block.alternativeContent?"":this.block.alternativeContent}},{key:"code",get:function(){return this.editMode?this.block.content:this.block.actualContent()}},{key:"options",get:function(){return{mode:this.mode,theme:this.theme,lineNumbers:!0,line:!0,tabSize:4,indentUnit:4,autoCloseBrackets:!0,readOnly:!this.editMode&&(this.block.readonly||this.block.static||this.block.hidden||this.readonly),gutters:["diagnostics","CodeMirror-linenumbers"]}}},{key:"altOptions",get:function(){return this.options}},{key:"codemirror",get:function(){return this.codeBox.codemirror}},{key:"altcodemirror",get:function(){if(void 0!==this.altBox)return this.altBox.codemirror}},{key:"readyWhenMounted",get:function(){return!1}},{key:"onFirstLineChanged",value:function(e){this.codemirror&&this.codemirror.options.firstLineNumber!=this.block.firstLine&&(this.codemirror.options.firstLineNumber=this.block.firstLine,this.codemirror.refresh())}},{key:"onVisibleLinesChanged",value:function(e){this.updateHeight()}},{key:"onErrorsChanged",value:function(e){this.updateDiagnosticDisplay()}},{key:"created",value:function(){console.d("ReadyWhenMounted in CodeBlock",this.readyWhenMounted)}},{key:"mounted",value:function(){var e=this;if(this.updateHeight(),this.editMode&&this.codemirror){console.d("Attach");var t=function(){console.log("EMIT"),e.$emit("build")};this.codemirror.addKeyMap({"Cmd-B":function(e){t()},"Ctrl-B":function(e){t()}}),this.codemirror.addKeyMap({Tab:function(e){e.execCommand("insertSoftTab")}})}c["c"].$tagger.$on("replace-template-tag",this.replaceTemplateTags),this.codeNeedsTagUpdate=!0,this.updateTagDisplay()}},{key:"beforeDestroy",value:function(){c["c"].$tagger.$off("replace-template-tag",this.replaceTemplateTags)}}]),n}(w["a"]);Object(u["b"])([Object(c["b"])({default:""})],R.prototype,"namePrefix",void 0),Object(u["b"])([Object(c["b"])({default:!1})],R.prototype,"emitWhenTypingInViewMode",void 0),Object(u["b"])([Object(c["b"])({default:!0})],R.prototype,"canBookmark",void 0),Object(u["b"])([Object(c["b"])({default:!1})],R.prototype,"isBookmarkPanel",void 0),Object(u["b"])([Object(c["b"])({default:!1})],R.prototype,"readonly",void 0),Object(u["b"])([Object(c["b"])({default:!1})],R.prototype,"editMode",void 0),Object(u["b"])([Object(c["b"])({default:"auto"})],R.prototype,"visibleLines",void 0),Object(u["b"])([Object(c["b"])({default:"base16-dark"})],R.prototype,"theme",void 0),Object(u["b"])([Object(c["b"])({default:"text/javascript"})],R.prototype,"mode",void 0),Object(u["b"])([Object(c["b"])({default:void 0})],R.prototype,"tagSet",void 0),Object(u["b"])([Object(c["b"])({required:!0,validator:function(e){return null!==e&&void 0!==e.content&&void 0!==e.firstLine}})],R.prototype,"block",void 0),Object(u["b"])([Object(c["d"])("block.firstLine")],R.prototype,"onFirstLineChanged",null),Object(u["b"])([Object(c["d"])("visibleLines")],R.prototype,"onVisibleLinesChanged",null),Object(u["b"])([Object(c["d"])("errors")],R.prototype,"onErrorsChanged",null),R=Object(u["b"])([Object(c["a"])({components:{CodeBlockButton:F}})],R);var L=R,P=L,M=(n("22ef"),Object(v["a"])(P,o,i,!1,null,"0bd4ce49",null));t["a"]=M.exports},8043:function(e,t,n){},"879e":function(e,t,n){"use strict";var o=n("d4ec"),i=n("bee2"),r=n("262e"),a=n("2caf"),s=n("9ab4"),l=(n("98db"),n("1b40")),u=function(e){Object(r["a"])(n,e);var t=Object(a["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"whenBlockIsReady",value:function(){this.muteReadyState||(this.block.readyCount++,this.$emit("ready",this.block))}},{key:"whenBlockIsDestroyed",value:function(){this.muteReadyState||this.block.readyCount--}},{key:"readyWhenMounted",get:function(){return!0}},{key:"mounted",value:function(){this.readyWhenMounted&&this.whenBlockIsReady()}},{key:"beforeDestroy",value:function(){this.whenBlockIsDestroyed()}}]),n}(l["c"]);Object(s["b"])([Object(l["b"])({default:!1})],u.prototype,"muteReadyState",void 0),Object(s["b"])([Object(l["b"])({required:!0})],u.prototype,"block",void 0),u=Object(s["b"])([l["a"]],u);var c,d,p=u,m=p,f=n("2877"),h=Object(f["a"])(m,c,d,!1,null,null,null);t["a"]=h.exports},"88b1":function(e,t,n){},"8e6a":function(e,t,n){},"8f52":function(e,t,n){},9711:function(e,t,n){},"99f1":function(e,t,n){"use strict";var o,i,r;n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e["PLAYGROUND"]="PLAYGROUND",e["TEXT"]="TEXT",e["BLOCKHIDDEN"]="BLOCK-hidden",e["BLOCKSTATIC"]="BLOCK-static",e["BLOCK"]="BLOCK",e["BLOCKLY"]="BLOCKLY",e["REPL"]="REPL"}(o||(o={})),function(e){e["AUTO"]="auto",e["TEXT"]="text",e["JSON"]="json",e["DATA"]="data",e["MAGIC"]="magic"}(i||(i={})),function(e){e[e["LARGE"]=2]="LARGE",e[e["AUTO"]=1]="AUTO",e[e["TINY"]=0]="TINY"}(r||(r={}))},a4ac:function(e,t,n){},a571:function(e,t,n){"use strict";n("9711")},a999:function(e,t,n){"use strict";n("8043")},ab8d:function(e,t,n){"use strict";n("5d77")},b0c7:function(e,t,n){"use strict";n("4ebf")},b3e9:function(e,t,n){"use strict";var o,i,r,a,s,l,u;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u})),function(e){e["Colour"]="#cf63cf",e["List"]="#5cb1d6",e["Logic"]="#ffab19",e["Loop"]="#ffbf00",e["Math"]="#4c97ff",e["Procedure"]="#ff6680",e["Text"]="#bbbbca",e["Variable"]="#59c059",e["Variable_dynamic"]="#0fbd8c"}(o||(o={})),function(e){e["Colour"]="#c55ec5",e["List"]="#57a8cb",e["Logic"]="#f2a218",e["Loop"]="#f2b500",e["Math"]="#488ff2",e["Procedure"]="#f2617a",e["Text"]="#b2b2c0",e["Variable"]="#55b655",e["Variable_dynamic"]="#0eb485"}(i||(i={})),function(e){e["Colour"]="#ba59ba",e["List"]="#539fc1",e["Logic"]="#e69a17",e["Loop"]="#e6ac00",e["Math"]="#4488e6",e["Procedure"]="#e65c73",e["Text"]="#a8a8b6",e["Variable"]="#50ad50",e["Variable_dynamic"]="#0eaa7e"}(r||(r={})),function(e){e["Number"]="Number",e["Boolean"]="Boolean",e["String"]="String",e["Array"]="Array",e["Color"]="Colour",e["Any"]=""}(a||(a={})),function(e){e["Action"]="Action"}(s||(s={})),function(e){e["field_input"]="field_input",e["field_dropdown"]="field_dropdown",e["field_checkbox"]="field_checkbox",e["field_colour"]="field_colour",e["field_number"]="field_number",e["field_angle"]="field_angle",e["field_variable"]="field_variable",e["field_date"]="field_date",e["field_label"]="field_label",e["field_image"]="field_image",e["input_value"]="input_value",e["input_statement"]="input_statement",e["input_dummy"]="input_dummy"}(l||(l={})),function(e){e["controls_if"]="controls_if",e["logic_compare"]="logic_compare",e["logic_operation"]="logic_operation",e["logic_negate"]="logic_negate",e["logic_boolean"]="logic_boolean",e["logic_null"]="logic_null",e["logic_ternary"]="logic_ternary",e["controls_repeat_ext"]="controls_repeat_ext",e["controls_whileUntil"]="controls_whileUntil",e["controls_for"]="controls_for",e["controls_forEach"]="controls_forEach",e["controls_flow_statements"]="controls_flow_statements",e["math_number"]="math_number",e["math_arithmetic"]="math_arithmetic",e["math_single"]="math_single",e["math_trig"]="math_trig",e["math_constant"]="math_constant",e["math_number_property"]="math_number_property",e["math_round"]="math_round",e["math_on_list"]="math_on_list",e["math_modulo"]="math_modulo",e["math_constrain"]="math_constrain",e["math_random_int"]="math_random_int",e["math_random_float"]="math_random_float",e["text"]="text",e["text_join"]="text_join",e["text_append"]="text_append",e["text_length"]="text_length",e["text_isEmpty"]="text_isEmpty",e["text_indexOf"]="text_indexOf",e["variables_get"]="variables_get",e["text_charAt"]="text_charAt",e["text_getSubstring"]="text_getSubstring",e["text_changeCase"]="text_changeCase",e["text_trim"]="text_trim",e["text_print"]="text_print",e["text_prompt_ext"]="text_prompt_ext",e["lists_create_with"]="lists_create_with",e["lists_repeat"]="lists_repeat",e["lists_length"]="lists_length",e["lists_isEmpty"]="lists_isEmpty",e["lists_indexOf"]="lists_indexOf",e["lists_getIndex"]="lists_getIndex",e["lists_setIndex"]="lists_setIndex",e["lists_getSublist"]="lists_getSublist",e["lists_split"]="lists_split",e["lists_sort"]="lists_sort",e["colour_picker"]="colour_picker",e["colour_random"]="colour_random",e["colour_rgb"]="colour_rgb",e["colour_blend"]="colour_blend"}(u||(u={}))},cac9:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("ac1f"),n("5319"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("99af"),n("7db0"),n("d3b7");var o=n("2b0e"),i=(n("98db"),n("9612"));o["a"].use(i["a"]);n("a4ac"),n("e54f"),n("4953"),n("e9fd"),n("1dba"),n("f5d1"),n("4848"),n("c382"),n("c00e"),n("f4d9");var r=n("436b"),a=n("b05d"),s=n("f6f8"),l=n.n(s),u=n("0680"),c=n.n(u),d=document.getElementsByTagName("html")[0].getAttribute("lang");o["a"].use(a["a"],{config:{},components:{},directives:{},plugins:{Dialog:r["a"]},animations:["fadeIn","fadeOut"],lang:"de"==d?l.a:c.a}),a["a"].lang.set("de"==d?l.a:c.a);var p=n("8f94");n("a7be");Object(p["install"])(o["a"]);var m=n("d4ec"),f=n("bee2"),h=(n("159b"),n("498a"),n("4e82"),n("d81d"),n("b64b"),n("99f1")),g={c:{mime:"text/x-csrc",displayName:"C"},"c++":{mime:"text/x-c++src",displayName:"C++"},"c#":{mime:"text/x-csharp",displayName:"C#"},css:{mime:"text/css",displayName:"CSS"},fortran:{mime:"text/x-fortran",displayName:"Fortran"},glsl:{mime:"text/x-glsl",displayName:"GLSL"},html:{mime:"text/html",displayName:"HTML"},java:{mime:"text/x-java",displayName:"Java"},javascript:{mime:"text/javascript",displayName:"JavaScript"},perl:{mime:"text/x-perl",displayName:"Perl"},php:{mime:"application/x-httpd-php",displayName:"PHP"},python:{mime:"text/x-python",displayName:"Python"},r:{mime:"text/x-rsrc",displayName:"R"}};function v(e){var t={baseurl:""},n=e.querySelectorAll("meta[name^=codeblocks]");return n.forEach((function(e){var n=e.getAttribute("name"),o=e.getAttribute("content");"codeblocks-baseurl"==n&&o&&(t.baseurl=o)})),t}var b=function(){function e(){Object(m["a"])(this,e);var t=v(document);this.baseurl=t.baseurl}return Object(f["a"])(e,[{key:"format_info",value:function(e){return'<span style="color:green">'+e+"</span>"}},{key:"format_error",value:function(e){return'<span style="color:red">'+e+"</span>"}},{key:"processMixedOutput",value:function(e,t,n,o){if(void 0!==e&&Array.isArray(e))return{type:"json",json:e,text:""};void 0===n&&(n="\n\n<JSON>\n");var i=e.indexOf(n);if(t===h["b"].DATA||t===h["b"].AUTO&&void 0!=o)return{type:"dual",json:o,text:e};if(t===h["b"].AUTO&&i>=0||t===h["b"].MAGIC){var r=e.substr(0,i),a=void 0,s=e.substr(i+n.length);try{a=JSON.parse(s)}catch(c){var l=c;throw l.parsedString=s,console.log("catch"),l}return{type:"dual",json:a,text:r}}if(t===h["b"].JSON&&void 0!==o)return{type:h["b"].JSON,json:o,text:""};var u=e.trim();return t===h["b"].AUTO&&(0==u.indexOf("[")||0==u.indexOf("{"))||t===h["b"].JSON?{type:h["b"].JSON,json:JSON.parse(e),text:""}:{type:"text",json:o,text:e}}},{key:"mimeType",value:function(e){var t=g[e];return void 0===t?"text/javascript":t.mime}},{key:"knownLanguages",value:function(){return Object.keys(g).map((function(e){return{label:g[e].displayName,value:e}})).sort((function(e,t){return e.value<t.value?-1:1}))}},{key:"refreshAllCodeMirrorsSync",value:function(){document.querySelectorAll(".CodeMirror").forEach((function(e){return e.CodeMirror.refresh()}))}},{key:"refreshAllCodeMirrors",value:function(){var e=this;setTimeout((function(){e.refreshAllCodeMirrorsSync()}),100),setTimeout((function(){e.refreshAllCodeMirrorsSync()}),500)}},{key:"itemForValue",value:function(e,t){var n=e.find((function(e){return e.value==t}));return void 0===n?{label:"???",value:"???"}:n}}]),e}(),D=new b;o["a"].prototype.$CodeBlock=D,o["a"].$CodeBlock=D,o["a"].$GlobalEventHub=new o["a"];var y=n("6e19");o["a"].prototype.SEVERITY_ERROR=y["a"].Error,o["a"].prototype.SEVERITY_WARNING=y["a"].Warning,o["a"].$SEVERITY_ERROR=y["a"].Error,o["a"].$SEVERITY_WARNING=y["a"].Warning,o["a"].prototype.$compilerState=new o["a"]({data:function(){return{globalStateHidden:!0,globalStateMessage:"",runButtonForceHide:!1}},methods:{hideGlobalState:function(){this.displayGlobalState(null)},setAllRunButtons:function(e){this.runButtonForceHide=!e},displayGlobalState:function(e){this.globalStateHidden=null===e||void 0===e||""===e,this.globalStateMessage=e||""}}});var _=n("1020"),k=n.n(_);n("0dbe"),n("d8af");k.a.configure({useBR:!1}),k.a.registerLanguage("c",n("0209")),k.a.registerLanguage("c++",n("0209")),k.a.registerLanguage("c#",n("98af")),k.a.registerLanguage("css",n("ee8c")),k.a.registerLanguage("fortran",n("485f")),k.a.registerLanguage("glsl",n("df06")),k.a.registerLanguage("java",n("332f")),k.a.registerLanguage("javascript",n("4dd1")),k.a.registerLanguage("perl",n("6a51")),k.a.registerLanguage("php",n("2907")),k.a.registerLanguage("python",n("9510")),k.a.registerLanguage("r",n("26bc"));var C=/(\[hl\]|\[hl\s+language="?(.*?)"?\])(.*?)(\[\/hl\])/gm,w=/(\[code\]|\[code\s+language="?(.*?)"?\])([\s\S]*?)(\[\/code\])/gm;k.a.$vue={processElements:function(e,t){var n=this;void 0===e&&(e=document);var o=e.querySelectorAll("[highlight]");o.forEach((function(e){if(void 0===t&&e.hasAttribute("highlight")){var o=e.getAttribute("highlight");t=null===o?void 0:o}n.processElement(e,t)}))},processElementSimple:function(e,t){if(void 0===t&&e.hasAttribute("highlight")){var n=e.getAttribute("highlight");t=null===n?"javascript":n}var o=e.innerHTML.replace(C,(function(e,n,o,i,r){var a=void 0===o?t:o;return a?"<span is-code>"+k.a.highlight(a,i).value+"</span>":"<span is-code>"+k.a.highlightAuto(i).value+"</span>"}));o=o.replace(w,(function(e,n,o,i,r){var a=void 0===o?t:o;return i=i.replace(/<br( +\/)?>/g,"\n").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),a?"<pre is-code>"+k.a.highlight(a,i).value+"</pre>":"<pre is-code>"+k.a.highlightAuto(i).value+"</pre>"})),e.innerHTML=o},processElement:function(e,t){var n=this;void 0===window.MathJax?this.processElementSimple(e,t):MathJax.Hub.Register.StartupHook("End",(function(){n.processElementSimple(e,t)}))}},window.highlightAll=function(){k.a.$vue.processElements()},window.highlightElement=function(e){k.a.$vue.processElement(e,e.getAttribute("highlight"))},window.hljs=k.a,o["a"].$hljs=k.a,o["a"].directive("highlight",{bind:function(e,t){console.log("DIRECTIVE - bind",e,t),k.a.$vue.processElement(e,t.value)},componentUpdated:function(e,t){console.log("DIRECTIVE - update",e,t),k.a.$vue.processElement(e,t.value)}});var x=n("262e"),E=n("2caf"),T=(n("1276"),n("ddb0"),n("9ab4")),O=n("1b40"),A=n("fe0b"),S=(n("ea5a"),/\{(:|!)([\w]*)}/g),j=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.className={rnd:"random-tag-placeholder",templ:"template-tag-placeholder"},e}return Object(f["a"])(n,[{key:"getMarkers",value:function(e){if(void 0===e||null===e)return[];for(var t,n=e.split("\n"),o=[],i=0;i<n.length;i++){var r=new RegExp(S);while(null!==(t=r.exec(n[i]))){t.index===r.lastIndex&&r.lastIndex++;var a={start:{line:i,ch:t.index},end:{line:i,ch:r.lastIndex},type:":"==t[1]?"rnd":"templ",name:t[2]};o.push(a)}}return o}},{key:"processElements",value:function(e){var t=this,n="";if(void 0===e)e=document;else{var o=e;o.hasAttribute("uuid")?n=o.getAttribute("uuid"):(n=this.$uuid.v4(),o.setAttribute("uuid",n))}var i=e.querySelectorAll("[tagged]"),r=function(){i.forEach((function(e){t.processElement(e,n)}))};void 0===window.MathJax?r():MathJax.Hub.Register.StartupHook("End",r)}},{key:"processElement",value:function(e,t){e.innerHTML=this.processString(e.innerHTML,t),this.hookClick(e,t)}},{key:"processString",value:function(e,t){var n=this;return e.replace(S,(function(e,t,o){var i=":"===t?n.className.rnd:n.className.templ;return'<span class="q-mb-xs  tag-mark-start tag-mark-end '.concat(i,'" >')+e+"</span>"}))}},{key:"hookClick",value:function(e,t){var n=this,o=e.querySelectorAll("."+this.className.templ);o.forEach((function(e){var o=e,i=o.innerText.replace(S,(function(e,t,n){return n}));o.onclick=function(){n.clickFunction(i,o,t)}}))}},{key:"replaceTemplateTag",value:function(e,t,n){var o=this;void 0===e&&(e=document);var i=e.querySelectorAll("."+this.className.templ);i.forEach((function(e){e.innerHTML=o.replaceTemplateTagInString(e.innerHTML,t,n)}))}},{key:"replaceTemplateTagInString",value:function(e,t,n){return e.replace(S,(function(e,o,i){return"!"==o&&i==t?n:e}))}},{key:"replaceRandomTagsInString",value:function(e,t){return e.replace(S,(function(e,n,o){if(":"==n){var i=t.values.find((function(e){return e.tag==o}));return void 0!==i?i.value:e}return e}))}},{key:"clickFunction",value:function(e,t,n){var o=this;O["c"].prototype.$q.dialog({title:A["a"].t("Tagger.ConfirmRepl"),message:A["a"].t("Tagger.ConfirmReplMsg",{name:'<span class="template-tag-placeholder-noclick">'+e+"</span>"}),html:!0,persistent:!0,prompt:{model:"{!"+e+"}",type:"text"},ok:{push:!0,color:"negative",icon:"warning"},cancel:{push:!0,color:"positive"}}).onOk((function(t){o.replaceTemplateTag($("[uuid=".concat(n,"]")).get(0),e,t),console.log(n),o.$emit("replace-template-tag",{name:e,newValue:t,scopeUUID:n})})).onCancel((function(){})).onDismiss((function(){var e=self;e.highlighted=!1}))}}]),n}(O["c"]);j=Object(T["b"])([O["a"]],j);O["c"].directive("tagged",{bind:function(e,t){O["c"].$tagger.processElement(e,t.value)},componentUpdated:function(e,t){O["c"].$tagger.processElement(e,t.value)}}),O["c"].$tagger=new j;var F=n("9072"),B=(n("a9e3"),n("a434"),n("2909")),R=(n("3ca3"),n("10d1"),n("81b8"),n("a4d3"),n("e01a"),n("4de4"),4e3);function L(e,t,n,i,r,a,s,l,u){var c=arguments.length>9&&void 0!==arguments[9]&&arguments[9],d=new RegExp("public[ \n]*class[ \n]*([a-zA-Z_$0-9]*)[ \n]*({|implements|extends)"),p=d.exec(t);if(null!=p){var m=p[1],f=new Worker(o["a"].$CodeBlock.baseurl+"js/doppio/v001/javaWorker.js"),h=null;f.addEventListener("message",(function(o){var d=o.data;switch(d.event){case"finished":h&&(clearTimeout(h),h=null),console.log("Done",d.stdout,d.stderr,u),u();break;case"startTimer":h=setTimeout((function(e){console.log("Sending kill command"),f.postMessage({cmd:"kill"}),h=setTimeout((function(){console.log("Terminating Worker"),f.terminate()}),5e3),s("Terminated long running Process (>"+Math.round((i+R)/1e3)+"s)."),JavaExec.setRunButton(!0,"run"),JavaExec.setRunButton(!0),JavaExec.showMessage(null)}),i+R);break;case"showMessage":JavaExec.showMessage(d.msg);break;case"output":"err"==d.type?s(d.msg):"nfo"==d.type?a(d.msg):r(d.msg);break;case"setRunButton":JavaExec.setRunButton(d.enabled,d.info);break;case"cleanCache":c?(JavaExec.setRunButton(!1),JavaExec.showMessage("Failed to initialize JVM.")):(f.postMessage({cmd:"kill"}),console.log("Restarting..."),setTimeout((function(){L(e,t,n,i,r,a,s,l,u,!0)}),500));break}}),!1),f.postMessage({cmd:"run",code:t,className:m,max_ms:i+1e3,questionID:e,forceReload:c})}else console.error("Unable to determine class Name!",p,t)}var P=new o["a"]({data:function(){return{loadedlibs:0,version:"001",language:"java",canRun:!0,canStop:!0,allowsContinousCompilation:!1,allowsPersistentArguments:!1,allowsMessagePassing:!1,acceptsJSONArgument:!1,allowsREPL:!1,didPreload:!1,requestedPreload:!1,isReady:!1,isRunning:!1}},methods:{preload:function(){if(this.loadedlibs<3)0==this.requestedPreload&&(this.requestedPreload=!0,this.triggerResourceLoad());else if(!this.didPreload){this.didPreload=!0,console.log("[Preloading Doppio]");try{JavaExec.showMessage=function(e){this.$compilerState.displayGlobalState(e)}.bind(this);var e=[];JavaExec.setRunButton=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;n&&!t&&-1==e.indexOf(n)&&e.push(n),n&&t&&e.indexOf(n)>-1&&e.splice(e.indexOf(n),1),t&&0!=e.length||this.$compilerState.setAllRunButtons(t)}.bind(this);var t=this;JavaExec.initialize((function(){console.log("Initializing Filesystem"),JavaExec.initFileSystems(o["a"].$CodeBlock.baseurl+"js/doppio/v001/",!1,(function(){JavaExec.reroutStdStreams(),JavaExec.ready=!0,t.isReady=!0}))}))}catch(n){console.error(n)}}},compileAndRun:function(e,t,n,o,i,r,a,s,l,u){var c=arguments.length>10&&void 0!==arguments[10]&&arguments[10];if(this.isReady)return L(e,t,n,o,i,r,a,s,l,c)},triggerResourceLoad:function(){console.log("[Preparing Dependencies for Doppio]");var e=document.createElement("script");e.src=o["a"].$CodeBlock.baseurl+"js/doppio/v001/browserfs/browserfs.min.js",e.onload=function(){this.loadedlibs++,console.log("[BrowserFS loaded]");var e=document.createElement("script");e.src=o["a"].$CodeBlock.baseurl+"js/doppio/v001/doppio/doppio.js",e.onload=function(){this.loadedlibs++,console.log("[Doppio loaded]");var e=document.createElement("script");e.src=o["a"].$CodeBlock.baseurl+"js/doppio/v001/JavaExec.js",e.onload=function(){this.loadedlibs++,console.log("[JavaExec loaded]"),this.requestedPreload&&this.preload()}.bind(this),document.head.appendChild(e)}.bind(this),document.head.appendChild(e)}.bind(this),document.head.appendChild(e)}},created:function(){}}),M=P,I=3e4,q=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.version="100",e.language="java",e.canRun=!0,e.canStop=!0,e.allowsContinousCompilation=!1,e.allowsPersistentArguments=!1,e.allowsMessagePassing=!1,e.acceptsJSONArgument=!0,e.allowsREPL=!1,e.experimental=!1,e.deprecated=!1,e.didPreload=!1,e.teaworker=void 0,e.isReady=!1,e.isRunning=!1,e.sessionCompileListener=void 0,e.sessionID="-1",e.sessionWorker=void 0,e}return Object(f["a"])(n,[{key:"preload",value:function(){var e=this;this.didPreload||(this.didPreload=!0,this.$compilerState.setAllRunButtons(!1),console.log("[Preloading TeaVM ".concat(this.version," for Java]")),this.isRunning=!0,this.createTeaWorker((function(){e.isRunning=!1,e.$compilerState.hideGlobalState(),e.$compilerState.setAllRunButtons(!0)})))}},{key:"createTeaWorker",value:function(e){var t=this;if(void 0===this.teaworker){this.$compilerState.setAllRunButtons(!1),this.$compilerState.displayGlobalState("Initializing Runtime");try{this.teaworker=new Worker("".concat(this.$CodeBlock.baseurl,"js/teavm/v").concat(this.version,"/worker.js"))}catch(n){this.teaworker=new Worker("../assCodeQuestion/js/teavm/worker.js")}return this.teaworker.addEventListener("message",(function(n){"ok"==n.data.command&&"didload-classlib"==n.data.id?(t.teaworker&&t.teaworker.postMessage({command:"compile",id:"prep",text:"public class Bootstrap { public static void main(String[] args){}}",mainClass:"Bootstrap"}),t.isReady=!0,e?e():(t.$compilerState.setAllRunButtons(!0),t.$compilerState.hideGlobalState())):"prep"==n.data.id&&n.data.command})),this.teaworker.postMessage({command:"load-classlib",id:"didload-classlib",url:"classlib.txt"}),!0}return!1}},{key:"compileAndRun",value:function(e,t,n,o){var i=this,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=o.max_ms,s=o.log_callback,l=o.info_callback,u=o.err_callback,c=o.compileFailedCallback,d=o.finishedExecutionCB,p=o.args,m=Date.now(),f=!1,h=!1;if(this.isRunning)u("System is busy. Please wait until compilation finishes or call a tutor.");else if(this.isRunning=!0,!r||!this.createTeaWorker((function(){i.isRunning=!1,i.compileAndRun(e,t,n,o,!1)})))if(this.isReady){var g=setTimeout((function(){if(!h){var e=Date.now()-m;i.teaworker&&i.teaworker.end("TimeoutError:  Compilation took too long (>"+e+"ms) and was terminated. Trying to reset the System. Please re-run your code and call a Tutor if this Problem persists."),i.teaworker=void 0}}),I),v=t.replace(/"(?:[^"\\]|\\.)*"|\/\*[\s\S]*?\*\//gm,"").replace(/(^.*)\/\/.*$/gm,"$1");v=v.replaceRec(/(\{[^{}]*\})/gm,"[]");var b=function(e){var t,n="Unknown",o=/public\s+?class\s+?([a-zA-Z_$0-9]+?)\s*?(\[|\simplements|\sextends)/gm;while(null!==(t=o.exec(e)))if(t[1]){n=t[1];break}return n},D=b(v);"Unknown"==D&&(D=b(t.replace("{","[")));var _=function t(n){if(n.data.id==""+e)if("phase"==n.data.command)"DEPENDENCY_ANALYSIS"==n.data.phase?i.$compilerState.displayGlobalState("Compiling & Analyzing <b>"+D+".java</b>"):"LINKING"==n.data.phase?i.$compilerState.displayGlobalState("Linking <b>"+D+".java</b>"):"OPTIMIZATION"==n.data.phase?i.$compilerState.displayGlobalState("Optimizing <b>"+D+".java</b>"):"RENDERING"==n.data.phase&&i.$compilerState.displayGlobalState("Creating <b>"+D+".class</b>");else if("diagnostic"==n.data.command){c&&c({message:n.data.text,start:{line:n.data.lineNumber,column:0},end:{line:n.data.lineNumber,column:0},severity:"ERROR"==n.data.severity?y["a"].Error:y["a"].Warning});var o=n.data.text+"\n";"ERROR"==n.data.severity?u(o+"\n"):l(o+"\n")}else if("compiler-diagnostic"==n.data.command){c&&c({message:n.data.message,start:{line:n.data.startLineNumber,column:n.data.startColumn},end:{line:n.data.endLineNumber,column:n.data.endColumn},severity:"ERROR"==n.data.kind?y["a"].Error:y["a"].Warning});var r=n.data.humanReadable+"\n";"ERROR"==n.data.kind?u(r+"\n"):l(r+"\n")}else if("error"==n.data.command)i.teaworker&&i.teaworker.end("Error:  An internal compiler Error occured"),i.teaworker=void 0;else if("compilation-complete"==n.data.command){h=!0;var v=void 0;i.teaworker&&(i.teaworker.removeEventListener("message",t),i.sessionCompileListener=void 0);try{clearTimeout(g)}catch(n){}if("errors"==n.data.status)d(!1),i.isRunning=!1;else{var b=function(e){"run-finished-setup"==e.data.command||("run-completed"==e.data.command?(d(!0),console.i("Execution finished in "+(Date.now()-m)+" ms\n"),f=!0,i.isRunning=!1,_.end()):"stdout"==e.data.command?s(e.data.line+"\n"):"stderr"==e.data.command&&u(e.data.line+"\n"))};i.$compilerState.displayGlobalState("Executing <b>"+D+"</b>");var _=new Worker("".concat(i.$CodeBlock.baseurl,"js/teavm/v").concat(i.version,"/workerrun.js?&v=001"));i.sessionWorker=_,_.addEventListener("message",b.bind(i)),_.postMessage({command:"run",id:""+e,code:n.data.script,args:p}),_.end=function(e){i.sessionWorker=void 0;try{_.terminate(),v&&clearTimeout(v)}catch(n){}f||(f=!0,d(!1),i.isRunning=!1,e&&u(e+"\n"))};var k=Date.now();v=setTimeout((function(){var e=Date.now()-k;_.end("TimeoutError:  Execution took too long (>"+e+"ms) and was terminated. There might be an endless loop in your code.")}),a)}}};this.teaworker&&(this.sessionID=e,this.sessionCompileListener=_,this.teaworker.addEventListener("message",_)),this.$compilerState.setAllRunButtons(!1),this.$compilerState.displayGlobalState("Starting Compiler for <b>"+D+".java</b>"),this.teaworker&&this.teaworker.postMessage({command:"compile",id:""+e,text:t,mainClass:D}),this.teaworker&&(this.teaworker.end=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{clearTimeout(g)}catch(n){}h||(i.teaworker&&t&&(console.log("TERMINATING"),i.teaworker.terminate()),d(!1),i.isRunning=!1,i.isReady=!0,e&&u(e+"\n"))})}else u("System is not yet ready. Please wait until Initialization finishes or call a tutor.")}},{key:"stop",value:function(){console.d("FORCE STOPPING"),this.sessionWorker?this.sessionWorker.end(O["c"].$l("CodeBlocks.UserCanceled")):this.teaworker&&(this.sessionCompileListener&&(this.teaworker.removeEventListener("message",this.sessionCompileListener),this.sessionCompileListener=void 0),this.teaworker.end(O["c"].$l("CodeBlocks.UserCanceled"),!1))}}]),n}(O["c"]);q=Object(T["b"])([O["a"]],q);var N=new q,z=N,U=3e4,H=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.version="101",e.language="java",e.canRun=!0,e.canStop=!0,e.allowsContinousCompilation=!1,e.allowsPersistentArguments=!0,e.allowsMessagePassing=!0,e.acceptsJSONArgument=!0,e.allowsREPL=!1,e.experimental=!0,e.deprecated=!1,e.didPreload=!1,e.teaworker=void 0,e.isReady=!1,e.isRunning=!1,e.sessionCompileListener=void 0,e.sessionID="-1",e.sessionWorker=void 0,e}return Object(f["a"])(n,[{key:"preload",value:function(){var e=this;this.didPreload||(this.didPreload=!0,this.$compilerState.setAllRunButtons(!1),console.log("[Preloading TeaVM ".concat(this.version," for Java]")),this.isRunning=!0,this.createTeaWorker((function(){e.isRunning=!1,e.$compilerState.hideGlobalState(),e.$compilerState.setAllRunButtons(!0)})))}},{key:"createTeaWorker",value:function(e){var t=this;if(void 0===this.teaworker){this.$compilerState.setAllRunButtons(!1),this.$compilerState.displayGlobalState("Initializing Runtime");try{this.teaworker=new Worker("".concat(this.$CodeBlock.baseurl,"js/teavm/v").concat(this.version,"/worker.js"))}catch(n){this.teaworker=new Worker("../assCodeQuestion/js/teavm/worker.js")}return this.teaworker.addEventListener("message",(function(n){"ok"==n.data.command&&"didload-classlib"==n.data.id?(t.teaworker&&t.teaworker.postMessage({command:"compile",id:"prep",text:"public class Bootstrap { public static void main(String[] args){}}",mainClass:"Bootstrap"}),t.isReady=!0,e?e():(t.$compilerState.setAllRunButtons(!0),t.$compilerState.hideGlobalState())):"prep"==n.data.id&&n.data.command})),this.teaworker.postMessage({command:"load-classlib",id:"didload-classlib",url:"classlib.txt"}),!0}return!1}},{key:"compileAndRun",value:function(e,t,n,o){var i=this,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=o.max_ms,s=o.log_callback,l=o.info_callback,u=o.err_callback,c=o.compileFailedCallback,d=o.finishedExecutionCB,p=o.args,m=o.keepAlive;console.log("[Starting TeaVM".concat(o.keepAlive?" keepAlive":"","]"),p);var f=Date.now(),h=!1,g=!1;if(this.isRunning)u("System is busy. Please wait until compilation finishes or call a tutor.");else if(this.isRunning=!0,!r||!this.createTeaWorker((function(){i.isRunning=!1,i.compileAndRun(e,t,n,o,!1)})))if(this.isReady){var v=setTimeout((function(){if(!g){var e=Date.now()-f;i.teaworker&&i.teaworker.end("TimeoutError:  Compilation took too long (>"+e+"ms) and was terminated. Trying to reset the System. Please re-run your code and call a Tutor if this Problem persists."),i.teaworker=void 0}}),U),b=t.replace(/"(?:[^"\\]|\\.)*"|\/\*[\s\S]*?\*\//gm,"").replace(/(^.*)\/\/.*$/gm,"$1");b=b.replaceRec(/(\{[^{}]*\})/gm,"[]");var D=function(e){var t,n="Unknown",o=/public\s+?class\s+?([a-zA-Z_$0-9]+?)\s*?(\[|\simplements|\sextends)/gm;while(null!==(t=o.exec(e)))if(t[1]){n=t[1];break}return n},_=D(b);"Unknown"==_&&(_=D(t.replace("{","[")));var k=function t(n){if(n.data.id==""+e)if("phase"==n.data.command)"DEPENDENCY_ANALYSIS"==n.data.phase?i.$compilerState.displayGlobalState("Compiling & Analyzing <b>"+_+".java</b>"):"LINKING"==n.data.phase?i.$compilerState.displayGlobalState("Linking <b>"+_+".java</b>"):"OPTIMIZATION"==n.data.phase?i.$compilerState.displayGlobalState("Optimizing <b>"+_+".java</b>"):"RENDERING"==n.data.phase&&i.$compilerState.displayGlobalState("Creating <b>"+_+".class</b>");else if("diagnostic"==n.data.command){c&&c({message:n.data.text,start:{line:n.data.lineNumber,column:0},end:{line:n.data.lineNumber,column:0},severity:"ERROR"==n.data.severity?y["a"].Error:y["a"].Warning});var r=n.data.text+"\n";"ERROR"==n.data.severity?u(r+"\n"):l(r+"\n")}else if("compiler-diagnostic"==n.data.command){c&&c({message:n.data.message,start:{line:n.data.startLineNumber,column:n.data.startColumn},end:{line:n.data.endLineNumber,column:n.data.endColumn},severity:"ERROR"==n.data.kind?y["a"].Error:y["a"].Warning});var b=n.data.humanReadable+"\n";"ERROR"==n.data.kind?u(b+"\n"):l(b+"\n")}else if("error"==n.data.command)i.teaworker&&i.teaworker.end("Error:  An internal compiler Error occured"),i.teaworker=void 0;else if("compilation-complete"==n.data.command){g=!0;var D=void 0;i.teaworker&&(i.teaworker.removeEventListener("message",t),i.sessionCompileListener=void 0);try{clearTimeout(v)}catch(n){}if("errors"==n.data.status)d(!1,void 0,o.args),i.isRunning=!1;else{i.$compilerState.displayGlobalState("Executing <b>"+_+"</b>");var k=new Worker("".concat(i.$CodeBlock.baseurl,"js/teavm/v").concat(i.version,"/workerrun.js?&v=001"));i.sessionWorker=k;var C=function(t){if(console.d("tearunner message",e,t.data,t.data.command),"run-finished-setup"==t.data.command);else if("w-exit-keepalive"==t.data.command||"exit-keepalive"==t.data.command)o.keepAlive&&k.postMessage({command:"session-ended",id:""+e});else if("run-completed"==t.data.command)t.data.args&&(o.args["return"]=t.data.args),d(!0,void 0,o.args["return"]),console.i("Execution finished in "+(Date.now()-f)+" ms\n"),h=!0,i.isRunning=!1,k.end();else if("stdout"==t.data.command)s(t.data.line+"\n");else if("stderr"==t.data.command)u(t.data.line+"\n");else if(0===t.data.command.indexOf("w-")){var n=t.data.command.substr(2);t.data.command=n,o.didReceiveMessage(n,t.data)}else"main-finished"==t.data.command?(console.d("MESSAGE - Main Finished"),o.postMessageFunction=function(t,n){n=Object.assign({},n),console.d("MESSAGE - TeaVM Post ",t,n),n.command=t,n.id=e,w.postMessage(n)},o.postMessageFunction("main-finished",{}),o.dequeuePostponedMessages(),o.whenFinishedHandler(t.data.args)):"main-will-start"==t.data.command?o.beforeStartHandler():"f-FINAL"==t.data.command?o.resultData=JSON.parse(t.data.value):console.log("Unknown Message",t.data)};k.addEventListener("message",C.bind(i)),k.postMessage({command:"run",id:""+e,code:n.data.script,args:p,messagePosting:o.allowMessagePassing,keepAlive:o.keepAlive});var w=k;k.end=function(e){i.sessionWorker=void 0;try{k.terminate(),D&&clearTimeout(D)}catch(n){}h||(h=!0,d(!1,void 0,o.args),i.isRunning=!1,e&&u(e+"\n"))};var x=Date.now();m||(D=setTimeout((function(){var e=Date.now()-x;k.end("TimeoutError:  Execution took too long (>"+e+"ms) and was terminated. There might be an endless loop in your code.")}),a))}}};this.teaworker&&(this.sessionID=e,this.sessionCompileListener=k,this.teaworker.addEventListener("message",k)),this.$compilerState.setAllRunButtons(!1),this.$compilerState.displayGlobalState("Starting Compiler for <b>"+_+".java</b>"),this.teaworker&&this.teaworker.postMessage({command:"compile",id:""+e,text:t,mainClass:_}),this.teaworker&&(this.teaworker.end=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{clearTimeout(v)}catch(n){}g||(i.teaworker&&t&&(console.log("TERMINATING"),i.teaworker.terminate()),d(!1,void 0,o.args),i.isRunning=!1,i.isReady=!0,e&&u(e+"\n"))})}else u("System is not yet ready. Please wait until Initialization finishes or call a tutor.")}},{key:"stop",value:function(){console.d("FORCE STOPPING"),this.sessionWorker?this.sessionWorker.end(O["c"].$l("CodeBlocks.UserCanceled")):this.teaworker&&(this.sessionCompileListener&&(this.teaworker.removeEventListener("message",this.sessionCompileListener),this.sessionCompileListener=void 0),this.teaworker.end(O["c"].$l("CodeBlocks.UserCanceled"),!1))}}]),n}(O["c"]);H=Object(T["b"])([O["a"]],H);var W=new H,V=W,G=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.type="java",e.displayName="Java",e.versions=[M,z,V],e.default=z,e}return Object(f["a"])(n)}(O["c"]);G=Object(T["b"])([O["a"]],G);var J=new G;n("a15b"),n("2b3d"),n("9861");function K(e,t,n,o,i,r,a,s,l){if(i(""),window.Worker){var u=["postMessage","close","onmessage","debugger"];for(var c in u)if(-1!=t.indexOf(u[c]))return void a("PermissionError: The usage of '"+u[c]+"' is not allowed (reserved keyword)!");var d=t.split("\n").length,p=["for(var c in console) console[c]=null;","for(var t in this) if(t!='close' && t!='postMessage' && t!='console') this[t]=null;","this.console = {};","console.log = function(s){","   postMessage(['log',''+s]);","};","console.error = function(s){","   postMessage(['err',''+s]);","};","console.warn = console.log;","onmessage = function(input){","   postMessage(['finished',","   ''+(function(input){","           'use strict';","\n"],m=["\n","})(input.data[1])]);","   close();","};"];t=p.join("")+t+m.join("");var f=new Worker(URL.createObjectURL(new Blob([t],{type:"text/javascript"}))),h=!1;f.end=function(e){h||(f.terminate(),h=!0,l(!1),e&&a(e+"\n"))};var g=Date.now(),v=function(){var e=Date.now()-g;f.end("TimeoutError:  Execution took too long (>"+e+"ms) and was terminated. There might be an endless loop in your code.")},b=function(){Date.now()};f.onmessage=function(e){h||(b(),"finished"==e.data[0]?(l(!0),r("Info: Execution finished in "+(Date.now()-g)+" ms\n"),f.end()):"log"==e.data[0]?i(e.data[1]+"\n"):"err"==e.data[0]?a(e.data[1]+"\n"):f.end("HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test."))},f.onerror=function(e){1==e.lineno?(s({start:{line:-1,column:-1},end:{line:-1,column:-1},message:e.message,severity:y["a"].Error}),f.end("Error: "+e.message)):e.lineno>=d+2?(s({start:{line:d+2,column:0},end:{line:d+2,column:0},message:e.message,severity:y["a"].Error}),f.end("EndOfFile: "+e.message)):(s({start:{line:e.lineno-2,column:e.colno-1},end:{line:e.lineno-2,column:e.colno},message:e.message,severity:y["a"].Error}),f.end("Line "+(e.lineno-2)+": "+e.message))},f.postMessage(["start",[10,200]]),setTimeout(v,o)}else a("CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).")}var Q=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.version="100",e.language="javascript",e.canRun=!0,e.canStop=!1,e.allowsContinousCompilation=!1,e.allowsPersistentArguments=!1,e.allowsMessagePassing=!1,e.acceptsJSONArgument=!1,e.allowsREPL=!1,e.experimental=!1,e.deprecated=!0,e.isReady=!0,e.isRunning=!1,e}return Object(f["a"])(n,[{key:"preload",value:function(){}},{key:"compileAndRun",value:function(e,t,n,o){var i=o.max_ms,r=o.log_callback,a=o.info_callback,s=o.err_callback,l=o.compileFailedCallback,u=o.finishedExecutionCB;o.args;return K(e,t,n,i,r,a,s,l,u)}}]),n}(O["c"]);Q=Object(T["b"])([O["a"]],Q);var Y=new Q,X=Y;function Z(e,t,n,o,i,r,a,s,l,u){if(window.Worker){var c=performance.now(),d=!1,p=new Worker(O["c"].$CodeBlock.baseurl+"js/javascript/v101/jsWorker.js");p.onmessage=function(e){if(!d){var t=performance.now()-c;switch(t>o&&h(),e.data[0]){case"finished":e&&e.data&&e.data.length>=3?u["return"]=e.data[2]:u["return"]={},console.d("returned msg:",e,", args:",u),d=!0,l(!0,void 0,u["return"]),console.i("Execution finished in "+t+" ms\n"),p.end();break;case"log":i(e.data[1]+"\n");break;case"err":a(e.data[1]+"\n");break;default:p.end("HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.");break}}},p.onerror=function(e){s({start:{line:e.lineno-3,column:e.colno-1},end:{line:e.lineno-3,column:e.colno},message:e.message,severity:y["a"].Error}),p.end("Line "+(e.lineno-3)+": "+e.message)},p.end=function(e){d||(p.terminate(),d=!0,e&&a(e+"\n"),l(!1))};var m=function(e){p.postMessage(["start",{code:t,args:e}]),setTimeout(h,o)},f=!1;return n.workerLibraries.forEach((function(e){"d3-101"===e?(f=!0,n.$compilerRegistry.loadLibraries(["d3-5.13.4","d3proxy-101"],(function(){p.postMessage(["importD3"]),m(u)}))):"brain-2.0.0"===e&&(f=!0,n.$compilerRegistry.loadLibraries([],(function(){p.postMessage(["importBrain"]),m(u)})))})),f||m(u),p}function h(){p.end("TimeoutError:  Execution took too long (>"+(performance.now()-c)+"ms) and was terminated. There might be an endless loop in your code.")}a("CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).")}var ee=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.version="101",e.language="javascript",e.canRun=!0,e.isReady=!0,e.isRunning=!1,e.canStop=!0,e.allowsContinousCompilation=!0,e.allowsPersistentArguments=!0,e.allowsMessagePassing=!1,e.acceptsJSONArgument=!0,e.allowsREPL=!1,e.experimental=!1,e.deprecated=!1,e.libraries=[{key:"d3-101",name:"d3",version:"5.14.3",displayName:"D3 - Proxy"},{key:"brain-2.0.0",name:"Brain.js",version:"2.0.0-alpha",displayName:"Brain.js"}],e.worker=void 0,e}return Object(f["a"])(n,[{key:"registerLibs",value:function(e){e.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/javascript/v101/d3DomProxyToHTML.js"],"d3proxy","101","D3 - Proxy",!0)}},{key:"preload",value:function(){}},{key:"compileAndRun",value:function(e,t,n,o){var i=o.max_ms,r=o.log_callback,a=o.info_callback,s=o.err_callback,l=o.compileFailedCallback,u=o.finishedExecutionCB,c=o.args;this.worker=Z(e,t,n,i,r,a,s,l,u,c)}},{key:"stop",value:function(){console.d("FORCE STOPPING"),this.worker&&this.worker.end(O["c"].$l("CodeBlocks.UserCanceled"))}}]),n}(O["c"]);ee=Object(T["b"])([O["a"]],ee);var te=new ee,ne=te;function oe(e,t,n,o){var i=o.max_ms,r=o.log_callback,a=(o.info_callback,o.err_callback),s=o.compileFailedCallback,l=o.finishedExecutionCB,u=o.args,c=o.keepAlive;if(window.Worker){var d=performance.now(),p=!1,m=new Worker(O["c"].$CodeBlock.baseurl+"js/javascript/v102/jsWorker.js");m.onmessage=function(t){if(console.d("jsrunner message",e,p,t.data,t.data.command),!p){var n=performance.now()-d;n>i&&!c&&g(),"finished"==t.data.command?(o.allowMessagePassing&&o.whenFinishedHandler(t.data.args),t&&t.data&&t.data.args?u["return"]=t.data.args:u["return"]={},console.d("returned msg:",t,", args:",u),p=!0,l(!0,void 0,u["return"]),console.i("Execution finished in "+n+" ms\n"),m.end()):"log"==t.data.command?r(t.data.s+"\n"):"err"==t.data.command?a(t.data.s+"\n"):"main-will-start"==t.data.command?o.beforeStartHandler():"main-finished"==t.data.command?(console.d("MESSAGE - Main Finished"),o.postMessageFunction=function(t,n){n=Object.assign({},n),console.d("MESSAGE - JS Post ",t,n),n.command=t,n.id=e,m.postMessage(n)},o.postMessageFunction("main-finished",{}),o.dequeuePostponedMessages(),o.whenFinishedHandler(t.data.args)):"w-exit-keepalive"==t.data.command||"exit-keepalive"==t.data.command?o.keepAlive&&m.postMessage({command:"session-ended",id:""+e}):0==t.data.command.indexOf("w-")?t.data.command=t.data.command.substr(2):"f-FINAL"==t.data.command?o.resultData=t.data.value:(console.i("MESSAGE - ",t.data),m.end("HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test."))}},m.onerror=function(e){s({start:{line:e.lineno-3,column:e.colno-1},end:{line:e.lineno-3,column:e.colno},message:e.message,severity:y["a"].Error}),m.end("Line "+(e.lineno-3)+": "+e.message)},m.end=function(e){p||(m.terminate(),p=!0,e&&a(e+"\n"),l(!1))};var f=function(e,n){m.postMessage({command:"start",code:t,args:e,messagePosting:n.allowMessagePassing,keepAlive:n.keepAlive}),c||setTimeout(g,i)},h=!1;return n.workerLibraries.forEach((function(e){"d3-101"===e?(h=!0,n.$compilerRegistry.loadLibraries(["d3-5.13.4","d3proxy-101"],(function(){m.postMessage({command:"importD3"}),f(u,o)}))):"brain-2.0.0"===e?(h=!0,n.$compilerRegistry.loadLibraries([],(function(){m.postMessage({command:"importBrain"}),f(u,o)}))):"tf-2.0.0"===e&&(h=!0,n.$compilerRegistry.loadLibraries([],(function(){m.postMessage({command:"importTF"}),f(u,o)})))})),h||f(u,o),m}function g(){m.end("TimeoutError:  Execution took too long (>"+(performance.now()-d)+"ms) and was terminated. There might be an endless loop in your code.")}a("CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).")}var ie=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.version="102",e.language="javascript",e.canRun=!0,e.isReady=!0,e.isRunning=!1,e.canStop=!0,e.allowsContinousCompilation=!0,e.allowsPersistentArguments=!0,e.allowsMessagePassing=!0,e.acceptsJSONArgument=!0,e.allowsREPL=!1,e.experimental=!0,e.deprecated=!1,e.libraries=[{key:"d3-101",name:"d3",version:"5.14.3",displayName:"D3 - Proxy"},{key:"brain-2.0.0",name:"Brain.js",version:"2.0.0-alpha",displayName:"Brain.js"},{key:"tf-2.0.0",name:"tf",version:"2.0.0",displayName:"TensorFlow.js"}],e.worker=void 0,e}return Object(f["a"])(n,[{key:"registerLibs",value:function(e){e.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/javascript/v101/d3DomProxyToHTML.js"],"d3proxy","101","D3 - Proxy",!0)}},{key:"preload",value:function(){}},{key:"compileAndRun",value:function(e,t,n,o){this.worker=oe(e,t,n,o)}},{key:"stop",value:function(){console.d("FORCE STOPPING"),this.worker&&this.worker.end(O["c"].$l("CodeBlocks.UserCanceled"))}}]),n}(O["c"]);ie=Object(T["b"])([O["a"]],ie);var re=new ie,ae=re,se=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.type="javascript",e.displayName="JavaScript",e.versions=[X,ne,ae],e.default=ne,e}return Object(f["a"])(n)}(O["c"]);se=Object(T["b"])([O["a"]],se);var le=new se;function ue(e,t,n,o,i,r,a,s,l){if(t=t.replaceAllPoly("\t","    "),window.Worker){var u=new Worker(O["c"].$CodeBlock.baseurl+"js/python/v100/pyWorker.js"),c=[],d={pyProg:t,pyInp:c,maxMS:o};u.postMessage(["b8e493ca02970aeb0ef734555526bf9b",d]);var p=Date.now(),m=function(){var e=Date.now()-p;u.end("TimeoutError:  Execution took too long (> "+e+" ms) and was terminated. There might be an endless loop in your code.")},f=function(){var e=Date.now()-p;return e>o&&(m(),!0)},h=!1;u.end=function(e){h||(u.terminate(),h=!0,l(!1),e&&a(e))},u.onmessage=function(e){if(!h&&!0!==f())if("finished"==e.data[0])i(e.data[1].stdOut),l(!0),r("Info: Execution finished in : "+(Date.now()-p)+" ms"),u.end();else if("err"===e.data[0]){var t=JSON.parse(e.data[2]);t&&void 0!==t.lineno&&void 0!==t.colno?s({start:{line:t.lineno-1,column:t.colno},end:{line:t.lineno-1,column:t.colno+1},message:t.message,severity:y["a"].Error}):t&&void 0!==t.lineno&&s({start:{line:t.lineno-1,column:0},end:{line:t.lineno-1,column:0},message:t.message,severity:y["a"].Error}),u.end("ERROR: "+e.data[1])}else u.end("Unknown error: "+e.data[1])},setTimeout(m,o)}else a("CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).")}var ce=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.version="100",e.language="python",e.canRun=!0,e.canStop=!1,e.allowsContinousCompilation=!1,e.allowsPersistentArguments=!1,e.allowsMessagePassing=!1,e.acceptsJSONArgument=!1,e.allowsREPL=!1,e.experimental=!1,e.deprecated=!0,e.isReady=!0,e.isRunning=!1,e}return Object(f["a"])(n,[{key:"preload",value:function(){}},{key:"compileAndRun",value:function(e,t,n,o){var i=o.max_ms,r=o.log_callback,a=o.info_callback,s=o.err_callback,l=o.compileFailedCallback,u=o.finishedExecutionCB;o.args;return ue(e,t,n,i,r,a,s,l,u)}}]),n}(O["c"]);ce=Object(T["b"])([O["a"]],ce);var de=new ce,pe=de;function me(e,t,n,o,i,r,a,s,l,u){if(console.log("Python Version:",u?"2.7":"3"),t=t.replaceAllPoly("\t","    "),window.Worker){var c=new Worker(O["c"].$CodeBlock.baseurl+"js/python/v101/pyWorker.js"),d=[],p={pyProg:t,pyInp:d,maxMS:o,legacy:u};c.postMessage(["b8e493ca02970aeb0ef734556526bf9b",p]);var m=Date.now(),f=function(){var e=Date.now()-m;c.end("TimeoutError:  Execution took too long (> "+e+" ms) and was terminated. There might be an endless loop in your code.")},h=function(){var e=Date.now()-m;return e>o&&(f(),!0)},g=!1;return c.end=function(e){g||(c.terminate(),g=!0,l(!1),e&&a(e))},c.onmessage=function(e){if(!g&&!0!==h())if("finished"==e.data[0])i(e.data[1].stdOut),l(!0),console.i("Execution finished in "+(Date.now()-m)+" ms\n"),c.end();else if("err"===e.data[0]){var t=JSON.parse(e.data[2]);t&&void 0!==t.lineno&&void 0!==t.colno?s({start:{line:t.lineno-1,column:t.colno},end:{line:t.lineno-1,column:t.colno+1},message:t.message,severity:y["a"].Error}):t&&void 0!==t.lineno&&s({start:{line:t.lineno-1,column:0},end:{line:t.lineno-1,column:0},message:t.message,severity:y["a"].Error}),c.end("ERROR: "+e.data[1])}else c.end("Unknown error: "+e.data[1])},setTimeout(f,o),c}a("CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).")}var fe=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.version="101",e.language="python",e.canRun=!0,e.canStop=!0,e.allowsContinousCompilation=!0,e.allowsPersistentArguments=!1,e.allowsMessagePassing=!1,e.acceptsJSONArgument=!1,e.allowsREPL=!1,e.experimental=!1,e.deprecated=!1,e.isReady=!0,e.isRunning=!1,e.worker=void 0,e}return Object(f["a"])(n,[{key:"preload",value:function(){}},{key:"compileAndRun",value:function(e,t,n,o){var i=o.max_ms,r=o.log_callback,a=o.info_callback,s=o.err_callback,l=o.compileFailedCallback,u=o.finishedExecutionCB;o.args;this.worker=me(e,t,n,i,r,a,s,l,u,!0)}},{key:"stop",value:function(){console.d("FORCE STOPPING"),this.worker&&this.worker.end(O["c"].$l("CodeBlocks.UserCanceled"))}}]),n}(O["c"]);fe=Object(T["b"])([O["a"]],fe);var he=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.version="101",e.language="python",e.canRun=!0,e.canStop=!0,e.allowsContinousCompilation=!0,e.allowsPersistentArguments=!1,e.allowsMessagePassing=!1,e.acceptsJSONArgument=!1,e.allowsREPL=!1,e.experimental=!1,e.deprecated=!1,e.isReady=!0,e.isRunning=!1,e.worker=void 0,e}return Object(f["a"])(n,[{key:"preload",value:function(){}},{key:"compileAndRun",value:function(e,t,n,o){var i=o.max_ms,r=o.log_callback,a=o.info_callback,s=o.err_callback,l=o.compileFailedCallback,u=o.finishedExecutionCB;o.args;this.worker=me(e,t,n,i,r,a,s,l,u,!1)}},{key:"stop",value:function(){console.d("FORCE STOPPING"),this.worker&&this.worker.end(O["c"].$l("CodeBlocks.UserCanceled"))}}]),n}(O["c"]);he=Object(T["b"])([O["a"]],he);var ge,ve,be=new he,De=new fe,ye={legacyPython:De,python3:be};n("96cf"),n("4c53");function _e(e){if(window.Worker)return e(!1),void 0!==ve&&(console.d("FORCE STOPPING ON RERUN"),ve.end(O["c"].$l("CodeBlocks.UserCanceled")),ve=void 0),ve=ge,console.i("Starting Spare Pyodide Server"),ge=new Worker(O["c"].$CodeBlock.baseurl+"js/python/v102/pyWorker.js"),ge.onmessage=function(t){"finished-init"==t.data.command&&e(!0)},ge.interpreter=function(){},ge.postMessage({command:"initialize",id:"0"}),ve}function ke(e,t,n,o,i){var r=o.max_ms,a=o.log_callback,s=(o.info_callback,o.err_callback),l=o.compileFailedCallback,u=o.finishedExecutionCB,c=o.args,d=o.keepAlive;if(window.Worker){var p=performance.now(),m=!1,f=_e(i);if(void 0!==f){f.onmessage=function(t){if(console.d("pyrunner message",e,m,t.data,t.data.command),!m){var n=performance.now()-p;n>r&&!d&&v(),"finished"==t.data.command?(o.allowMessagePassing&&o.whenFinishedHandler(t.data.args),t&&t.data&&t.data.args?c["return"]=t.data.args:c["return"]={},console.d("returned msg:",t,", args:",c),m=!0,u(!0,void 0,c["return"]),console.i("Execution finished in "+n+" ms\n"),f.end()):"exception"==t.data.command?l&&l({message:t.data.text,start:{line:t.data.lineNumber,column:0},end:{line:t.data.lineNumber,column:0},severity:"ERROR"==t.data.severity?y["a"].Error:y["a"].Warning}):"log"==t.data.command?a(t.data.s+"\n"):"err"==t.data.command?s(t.data.s+"\n"):"loaded-imports"==t.data.command?void 0!==ge&&ge.postMessage({command:"preload-imports",names:t.data.names}):"main-will-start"==t.data.command?o.beforeStartHandler():"main-finished"==t.data.command?(console.d("MESSAGE - Main Finished"),o.postMessageFunction=function(t,n){n=Object.assign({},n),console.d("MESSAGE - JS Post ",t,n),n.command=t,n.id=e,f.postMessage(n)},o.postMessageFunction("main-finished",{}),o.dequeuePostponedMessages(),o.whenFinishedHandler(t.data.args)):"interpreter"==t.data.command?f.interpreter(t.data):"w-exit-keepalive"==t.data.command||"exit-keepalive"==t.data.command?o.keepAlive&&f.postMessage({command:"session-ended",id:""+e}):0==t.data.command.indexOf("w-")?t.data.command=t.data.command.substr(2):(console.i("MESSAGE - ",t.data),f.end("HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test."))}},f.onerror=function(e){l({start:{line:e.lineno-3,column:e.colno-1},end:{line:e.lineno-3,column:e.colno},message:e.message,severity:y["a"].Error}),f.end("Line "+(e.lineno-3)+": "+e.message)},f.end=function(e){m||(f.terminate(),m=!0,e&&s(e+"\n"),u(!1))};var h=function(e,n){f.postMessage({command:"start",code:t,args:e,messagePosting:n.allowMessagePassing,keepAlive:n.keepAlive,withREPL:n.withREPL}),d||setTimeout(v,r)},g=!1;return n.workerLibraries.forEach((function(e){"d3-101"===e?(g=!0,n.$compilerRegistry.loadLibraries(["d3-5.13.4","d3proxy-101"],(function(){f.postMessage({command:"importD3"}),h(c,o)}))):"brain-2.0.0"===e&&(g=!0,n.$compilerRegistry.loadLibraries([],(function(){f.postMessage({command:"importBrain"}),h(c,o)})))})),g||h(c,o),f}s("CRITICAL-ERROR: Unable to get background worker.")}else s("CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).");function v(){void 0!==f&&f.end("TimeoutError:  Execution took too long (>"+(performance.now()-p)+"ms) and was terminated. There might be an endless loop in your code.")}}var Ce=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.version="102",e.language="python",e.canRun=!0,e.canStop=!0,e.allowsContinousCompilation=!0,e.allowsPersistentArguments=!0,e.allowsMessagePassing=!0,e.acceptsJSONArgument=!0,e.allowsREPL=!0,e.experimental=!0,e.deprecated=!1,e.isReady=!1,e.isRunning=!1,e.worker=void 0,e}return Object(f["a"])(n,[{key:"preload",value:function(){_e(this.setReady.bind(this))}},{key:"setReady",value:function(e){console.i("Changing READY-State to "+e),this.isReady=e}},{key:"compileAndRun",value:function(e,t,n,o){this.worker=ke(e,t,n,o,this.setReady.bind(this))}},{key:"stop",value:function(){console.d("FORCE STOPPING"),this.worker&&this.worker.end(O["c"].$l("CodeBlocks.UserCanceled"))}},{key:"interpreter",value:function(e,t,n,o){return Object(T["a"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=this,i.abrupt("return",new Promise((function(i,a){void 0!==r.worker?(r.worker.interpreter=function(e){switch(console.log("Message: "+e),e.sub){case"did-push":t(e.incomplete);break;case"out":n(e.value);break;case"err":o(e.value);break;case"exception":e.fatal?a(e.value):o(e.value);break;case"finished":i({});break;default:console.log("Unknown Message: "+e.sub)}},r.worker.postMessage({command:"interpreter",code:e})):a("Interpreter not Running")})));case 2:case"end":return i.stop()}}),i,this)})))}}]),n}(O["c"]);Ce=Object(T["b"])([O["a"]],Ce);var we=new Ce,xe={python3:we},Ee=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.type="python",e.displayName="Python 2.7",e.versions=[pe,ye.legacyPython],e.default=ye.legacyPython,e}return Object(f["a"])(n)}(O["c"]);Ee=Object(T["b"])([O["a"]],Ee);var Te=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.type="python3",e.displayName="Python 3",e.versions=[ye.python3,xe.python3],e.default=ye.python3,e}return Object(f["a"])(n)}(O["c"]);Te=Object(T["b"])([O["a"]],Te);var Oe=[new Ee,new Te];function Ae(e,t,n,o,i,r,a,s,l){var u=[];n.blocks.filter((function(e){return e.hasCode})).forEach((function(e){return u.push(e.content)})),l(!0,u)}var $e=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.version="100",e.language="glsl",e.canRun=!0,e.canStop=!1,e.allowsContinousCompilation=!1,e.allowsPersistentArguments=!1,e.acceptsJSONArgument=!1,e.allowsMessagePassing=!1,e.allowsREPL=!1,e.deprecated=!1,e.experimental=!1,e.isReady=!0,e.isRunning=!1,e}return Object(f["a"])(n,[{key:"preload",value:function(){}},{key:"compileAndRun",value:function(e,t,n,o){var i=o.max_ms,r=o.log_callback,a=o.info_callback,s=o.err_callback,l=o.compileFailedCallback,u=o.finishedExecutionCB;o.args;return Ae(e,t,n,i,r,a,s,l,u)}}]),n}(O["c"]);$e=Object(T["b"])([O["a"]],$e);var Se=new $e,je=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.type="glsl",e.displayName="GLSL Shader",e.versions=[Se],e.default=Se,e}return Object(f["a"])(n)}(O["c"]);je=Object(T["b"])([O["a"]],je);var Fe=new je,Be=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.compilers={},e.libraries=[],e.loadedURIs=[],e.updateMappings={},e.afterLoadFinished=[],e.isLoadingLibs=!1,e}return Object(f["a"])(n,[{key:"languages",get:function(){var e=this,t=Object.keys(this.compilers).map((function(t){return e.compilers[t]})).map((function(e){return{label:e.displayName,value:e.type}})).sort((function(e,t){return e.label<t.label?-1:1}));return t}},{key:"domLibraries",get:function(){var e=this.libraries.filter((function(e){return!e.utility}));return e.map((function(e){return{label:e.displayName+" ("+e.version+")",value:e.key}}))}},{key:"register",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t.registerSingle(e)})):this.registerSingle(e)}},{key:"registerSingle",value:function(e){var t=this;this.compilers[e.type]=e,e.versions.forEach((function(e){e.registerLibs&&e.registerLibs(t)}))}},{key:"getCompiler",value:function(e){var t=this.compilers[e.languageType];if(t){if(void 0===e.version)return t.default;var n=t.versions.find((function(t){return t.version==e.version}));return void 0===n&&(n=t.default),n}}},{key:"versionsForLanguage",value:function(e){var t=this.compilers[e];return void 0===t?["none"]:t.versions.map((function(e){return e.version}))}},{key:"addUpdateMapping",value:function(e,t,n){var o="".concat(e,"-").concat(t),i="".concat(e,"-").concat(n);this.updateMappings[o]=i}},{key:"mapLibrary",value:function(e){var t=this.updateMappings[e];return void 0===t?e:t}},{key:"registerDOMLib",value:function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};this.libraries.push({key:t+"-"+n,uri:e,name:t,version:n,displayName:o,didLoad:!1,utility:i,order:r,onBuildSandboxEnv:a})}},{key:"addLoadedToSandbox",value:function(e){this.libraries.filter((function(e){return e.didLoad})).forEach((function(t){return t.onBuildSandboxEnv(e)}))}},{key:"getLibObjects",value:function(e){return this.libraries.filter((function(t){return e.indexOf(t.key)>=0}))}},{key:"urisForDOMLibs",value:function(e){var t=this.getLibObjects(e),n=t.filter((function(e){return!e.didLoad})).sort((function(e,t){return e.order<t.order?1:-1})).map((function(e){return e.uri})).reduce((function(e,t){return t.concat(e)}),[]);return n}},{key:"loadLibraries",value:function(e,t){var n=this.urisForDOMLibs(e),o=this.getLibObjects(e);this.loadURIs(n,function(){o.forEach((function(e){return e.didLoad=!0})),void 0===window.MathJax?t():MathJax.Hub.Register.StartupHook("End",(function(){t()}))}.bind(this))}},{key:"loadURIsIter",value:function(e,t){var n=this;console.log(e);var o=0,i=function(n){o++,o==e.length&&t()};e.forEach((function(e){if(n.loadedURIs.indexOf(e)>=0)i(e);else{n.loadedURIs.push(e);var t=document.createElement("script");t.src=e,console.log("[Loading Library from "+e+"]"),t.onload=function(){console.log("[Loaded "+e+"]"),i(e)},document.head.appendChild(t)}}))}},{key:"loadURIs",value:function(e,t){var n=this;if(this.isLoadingLibs)this.afterLoadFinished.push((function(){n.loadURIs(e,t)}));else{this.isLoadingLibs=!0;var o=this,i=function e(n,i){if(i>=n.length){if(t(),o.isLoadingLibs=!1,o.afterLoadFinished.length>0){var r=o.afterLoadFinished.shift();r&&r()}}else{var a=n[i];if(o.loadedURIs.indexOf(a)>=0)e(n,i+1);else{o.loadedURIs.push(a);var s=document.createElement("script");s.src=a,console.log("[Loading Library from "+a+"]"),s.onload=function(){e(n,i+1)},document.head.appendChild(s)}}};i(e,0)}}}]),n}(O["c"]);Be=Object(T["b"])([O["a"]],Be);var Re=new Be;Re.register(J),Re.register(le),Re.register(Oe),Re.register(Fe),Re.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/chart.js/3.6.0/chart.min.js"],"chart","3.6.0","Chart.JS",!1,1e3,(function(e){e.Chart=window.Chart})),Re.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/three.js/r0/three.min.js",O["c"].$CodeBlock.baseurl+"js/three.js/r0/controls/OrbitControls.js",O["c"].$CodeBlock.baseurl+"js/three.js/r0/controls/TrackballControls.js",O["c"].$CodeBlock.baseurl+"js/three.js/r0/Detector.js",O["c"].$CodeBlock.baseurl+"js/three.js/helper.r0.js"],"3js","r0","Three.JS",!1,2e3,(function(e){e.THREE=window.THREE})),Re.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/three.js/r140/three.min.js",O["c"].$CodeBlock.baseurl+"js/three.js/r140/js/controls/OrbitControls.js",O["c"].$CodeBlock.baseurl+"js/three.js/r140/js/controls/TrackballControls.js",O["c"].$CodeBlock.baseurl+"js/three.js/r140/jsm/controls/CinematicCamera.js",O["c"].$CodeBlock.baseurl+"js/three.js/r140/jsm/libs/lil-gui.module.min.js"],"3js","r140","Three.JS",!1,2e3,(function(e){e.THREE=window.THREE})),Re.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/phaser/3.54.0/phaser.min.js",O["c"].$CodeBlock.baseurl+"js/phaser/3.54.0/support.js"],"phaser","3.54","Phaser",!1,3e3,(function(e){e.Phaser=window.Phaser,e.IsometricMapGame=window.IsometricMapGame})),Re.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/d3/5.16.0/d3.v5.min.js",O["c"].$CodeBlock.baseurl+"js/d3/5.3.8/helper.js"],"d3","5.16.0","D3",!1,4210,(function(e){e.d3=window.d3})),Re.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/d3/5.3.8/d3.v5.min.js",O["c"].$CodeBlock.baseurl+"js/d3/5.3.8/helper.js"],"d3","5.3.8","D3",!1,4200,(function(e){e.d3=window.d3})),Re.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/d3/6.7.0/d3.v6.min.js"],"d3","6.7.0","D3",!1,4010,(function(e){e.d3=window.d3})),Re.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/d3/7.1.1/d3.v7.min.js"],"d3","7.1.1","D3",!1,4100,(function(e){e.d3=window.d3})),Re.addUpdateMapping("d3","5.13.4","5.16.0"),Re.addUpdateMapping("d3","6.2.0","6.7.0"),Re.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/brain.js/2.0.0-alpha/brain-browser.min.js"],"brain","2.0.0","Brain.JS",!1,5e3,(function(e){e.brain=window.brain})),Re.registerDOMLib([O["c"].$CodeBlock.baseurl+"js/tensorflow.js/2.0.0/tf.min.js"],"tf","2.0.0","TensorFlow.JS",!1,6e3,(function(e){e.tf=window.tf}));var Le=Re,Pe={prefix:'let editors=[]; $(".CodeMirror").toArray().forEach(cm =>  {if (!cm.CodeMirror.getTextArea().hasAttribute("is-editmode")) editors[cm.CodeMirror.getTextArea().id] = cm.CodeMirror}); return function(){ return {o:',postfix:"}.o}.call({})"},Me={prefix:'"use strict"; return function(){ return {o:',postfix:"}.o}.call({})"},Ie={prefix:"with(sandbox) { return function(){ return {o:",postfix:"}.o}.call({})}"},qe=function(e,t){console.error(e);var n=void 0,o=void 0;if(e.line?n=e.line:e.lineNumber&&(n=e.lineNumber),e.column?o=e.column:e.columnNumber&&(o=e.columnNumber),void 0===n){var i=e.stack.split("\n");if(i.length>1){var r=/<anonymous>:(\d+):(\d+)/gm,a=null;null!==(a=r.exec(i[1]))&&(n=Number(a[1])-1,o=Number(a[2])-1)}}return void 0!==n&&(n--,1==n&&(void 0===o&&(o=0),void 0!==t&&(o-=t.prefix.length))),{line:n,column:o,msg:e.message}};O["c"].prototype.$jsErrorParser=qe;var Ne=new WeakMap;function ze(e){var t=new Function("sandbox",e);return function(e){if(Le.addLoadedToSandbox(e),e.$=function(e){if("string"!==typeof e)return void 0===e.getAttribute?void console.error("You may only wrap DOMElements using $"):$(e);console.error("You can not use JQuerry globally from this context")},e.console=console,e.document={create$:function(e){return $(document.createElement(e))},createElement:function(e){return document.createElement(e)},getElementById:function(e){return console.error("document.getElementById is not supported. Please use scope.find('#".concat(e,"') instead"))},getElementsByTagName:function(e){return console.error("document.getElementsByTagName is not supported. Please use scope.find('".concat(e,"') instead"))},getElementsByClassName:function(e){return console.error("document.getElementsByClassName is not supported. Please use scope.find('.".concat(e,"') instead"))}},!Ne.has(e)){var n=new Proxy(e,{has:Ue,get:He});Ne.set(e,n)}return t(Ne.get(e))}}function Ue(e,t){return!0}function He(e,t){if(t!==Symbol.unscopables)return e[t]}var We=function(){function e(t,n){Object(m["a"])(this,e),this.version=n,this.err=[],this.src=void 0,this.fkt=void 0,this.obj=void 0,this.didInit=!1,this._runConfig=null,this.queuedMessages=[],this.queuedIncomingMessages=[],this.didInit=!1,this.src=t,this.obj={init:function(){console.error("FAILED INIT ATTEMPT")},update:function(){console.error("FAILED UPDATE ATTEMPT")}}}return Object(f["a"])(e,[{key:"requestsOriginalVersion",value:function(){return"100"==this.version||""==this.version||void 0===this.version}},{key:"invalidate",value:function(){this.obj=void 0}},{key:"rebuild",value:function(e){if(void 0!==e)try{this.err=[],console.i("!!! REBUILDING !!!"),this.src=e,this.requestsOriginalVersion()?this.fkt=new Function(Pe.prefix+e+Pe.postfix):"101"===this.version||"102"===this.version?this.fkt=new Function(Me.prefix+e+Me.postfix):this.fkt=ze(Ie.prefix+e+Ie.postfix),this.obj=this.fkt({}),this.dequeueIncoming()}catch(t){this.pushError(t)}else void 0!==this.fkt&&(this.obj=this.fkt({}),this.dequeueIncoming())}},{key:"pushError",value:function(e){this.err.push(qe(e))}},{key:"lazyInit",value:function(){this.didInit||(this.obj=void 0,this.rebuild(this.src),this.didInit=!0)}},{key:"addArgumentsTo",value:function(e){if(this.lazyInit(),this.obj&&!this.requestsOriginalVersion()){var t=this.obj;if(t.addArgumentsTo)try{t.addArgumentsTo(e)}catch(n){this.pushError(n)}}}},{key:"runConfig",get:function(){return this._runConfig},set:function(e){if(this._runConfig&&(this._runConfig.dequeuePostponedMessages=function(){}),this._runConfig=e,this._runConfig){var t=this;this._runConfig.dequeuePostponedMessages=function(){var e=Object(B["a"])(t.queuedMessages);t.queuedMessages=[],e.forEach((function(e){return t.doPostMessageToWorker(e.c,e.d)}))},null!==this._runConfig.postMessageFunction&&this._runConfig.dequeuePostponedMessages()}}},{key:"doPostMessageToWorker",value:function(e,t){void 0===t&&(t={}),void 0!==this._runConfig&&null!==this._runConfig&&null!==this._runConfig.postMessageFunction?(e="d-".concat(e),t.command=e,console.i("MESSAGE - Posted to Worker",e,t),this._runConfig.postMessageFunction(e,t)):(console.i("MESSAGE - Posted to Queue",e),this.queuedMessages.push({c:e,d:t}))}},{key:"didReceiveMessage",value:function(e,t){if(this.lazyInit(),this.obj&&!this.requestsOriginalVersion()){var n=this.obj;void 0===n.onMessage?(console.i("MESSAGE - Received to Queue",e),this.queuedIncomingMessages.push({c:e,d:t})):(console.i("MESSAGE - Received from Worker",e,t),n.onMessage(e,t))}else console.i("MESSAGE - Received to Queue",e),this.queuedIncomingMessages.push({c:e,d:t})}},{key:"dequeueIncoming",value:function(){var e=this;console.i("MESSAGE - Dequeue Incoming");var t=Object(B["a"])(this.queuedIncomingMessages);this.queuedIncomingMessages=[],t.forEach((function(t){return e.didReceiveMessage(t.c,t.d)}))}},{key:"beforeStart",value:function(){if(this.lazyInit(),this.obj&&!this.requestsOriginalVersion()){var e=this.obj;e.beforeStart&&(console.i("MESSAGE - beforeStart"),e.beforeStart())}}},{key:"whenFinished",value:function(e,t){if(this.lazyInit(),this.obj&&!this.requestsOriginalVersion()){var n=this.obj;n.whenFinished&&(console.i("MESSAGE - whenFinished"),n.whenFinished(e,t))}}},{key:"init",value:function(e,t,n){if(this.queuedMessages=[],this.queuedIncomingMessages=[],this.lazyInit(),console.i("MESSAGE - Reset Queue from Init"),void 0!==this.obj)try{if(console.i("!!! INIT CANVAS !!!"),this.requestsOriginalVersion()){var o=this.obj;o.init(e)}else{var i=n;i.run=n,i.postMessage=this.doPostMessageToWorker.bind(this);var r=void 0;if(void 0!==t&&0!==t.length||(t=e.parents(".codeblocks")),void 0!==t&&(r=t.find("div.runner pre.output")),void 0===r)console.error("[Internal Error] No Output Element found!"),this.pushError("[Internal Error] No Output Element found!");else{var a=this.obj;a.init(e,r,t,n)}}}catch(s){this.pushError(s)}}},{key:"reset",value:function(e){this.queuedMessages=[],this.queuedIncomingMessages=[],this.lazyInit(),console.i("MESSAGE - Reset Queue from Reset"),this.obj&&this.obj.reset&&!this.requestsOriginalVersion()&&this.obj.reset(e)}},{key:"update",value:function(e,t){if(this.lazyInit(),void 0===this.obj)return e.output;try{if(this.obj.update){if(2==this.obj.update.length||this.requestsOriginalVersion()){var n=this.obj;return"json"==e.processedOutput.type?(console.i("!!! UPDATE (org, json) !!!"),n.update(e.processedOutput.json,t)):(console.i("!!! UPDATE (org, text) !!!"),n.update(e.output,t))}var o=this.obj;return console.i("!!! UPDATE (v"+this.version+")!!!"),o.update(e.processedOutput.text,e.processedOutput.json,t,e.outputElement)}}catch(i){this.pushError(i)}return e.initialOutput}},{key:"onParseError",value:function(e,t){if(this.lazyInit(),void 0===this.obj)return!1;try{if(!this.obj.onParseError)return console.error(t),!1;this.obj.onParseError(e,t)}catch(n){return this.pushError(n),!1}return!0}}]),e}(),Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{staticStyle:{"min-height":"0"},attrs:{view:"hHh lpR fFf"}},[n("q-page-container",[n("CodeBlocks",{attrs:{blockInfo:e.blocks}})],1)],1)},Ge=[],Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"codeblocks "+e.addonClass+"  "+e.backgroundColorClass+" q-mx-sm q-mb-md",attrs:{"data-question":e.blockInfo.id,uuid:e.blockInfo.uuid}},[n("CodePanel",{directives:[{name:"show",rawName:"v-show",value:e.hasBookmark&&e.editMode,expression:"hasBookmark && editMode"}],attrs:{editMode:e.editMode,visibleLines:"auto",block:e.panelBlock}}),e.editMode?n("CodeBlocksSettings",{attrs:{options:e.options},on:{"compiler-change":e.onCompilerChange,"compiler-version-change":e.onCompilerVersionChange,"run-state-change":e.onRunStateChange,"continuous-compile-change":e.onContinousCompileStateChange,"message-passing-change":e.onMessagePassingChange,"keep-alive-change":e.onKeepAliveChange,"persistent-arguments-change":e.onPersistentArgumentsChange,"language-change":e.onLanguageChange,"character-limit-change":e.onCharacterLimitChange,"timeout-change":e.onTimeoutChange,"worker-libs-change":e.onWorkerLibChange,"dom-libs-change":e.onDomLibChange,"theme-change":e.onThemeChange,"output-parser-change":e.onOutputParserChange}}):e._e(),e._l(e.blocks,(function(t){return n("CodeBlockContainer",{key:t.id,attrs:{block:t,editMode:e.editMode},on:{"type-change":e.onTypeChange,"visible-lines-change":e.onVisibleLinesChange,"placement-change":e.onPlacementChange,"script-version-change":e.onScriptVersionChange,"move-up":e.moveUp,"move-down":e.moveDown,"remove-block":e.removeBlock,"auto-reset-change":e.onSetAutoReset,"generate-template-change":e.onSetGenerateTemplate}},[t.hasCode&&"BLOCKLY"!=t.type?n("CodeBlock",{attrs:{block:t,theme:e.themeForBlock(t),mode:e.mimeType,visibleLines:t.visibleLines,editMode:e.editMode,readonly:e.readonly,tagSet:e.activeTagSet,emitWhenTypingInViewMode:e.continuousCompile},on:{ready:e.blockBecameReady,build:e.run,"code-changed-in-view-mode":e.onViewCodeChange}}):"PLAYGROUND"==t.type?n("CodePlayground",{attrs:{block:t,editMode:e.editMode,finalOutputObject:e.finalOutputObject,theme:e.themeForBlock(t),tagSet:e.activeTagSet,eventHub:e.eventHub},on:{changeOutput:e.onPlaygroundChangedOutput,ready:e.blockBecameReady,run:e.onRunFromPlayground}}):"TEXT"==t.type?n("SimpleText",{attrs:{block:t,previewValue:t.actualContent(),editMode:e.editMode,name:"block["+t.parentID+"]["+t.id+"]",scopeUUID:t.scopeUUID,tagSet:e.activeTagSet,language:e.language},on:{ready:e.blockBecameReady},model:{value:t.content,callback:function(n){e.$set(t,"content",n)},expression:"block.content"}}):"BLOCKLY"==t.type?n("Blockly",{attrs:{block:t,mode:e.mimeType,theme:e.themeForBlock(t),editMode:e.editMode,readonly:e.readonly,tagSet:e.activeTagSet,emitWhenTypingInViewMode:e.continuousCompile,blockInfo:e.blockInfo},on:{"code-changed-in-view-mode":e.onViewCodeChange}}):e._e(),"REPL"==t.type?n("CodeREPL",{attrs:{block:t,eventHub:e.eventHub,blockInfo:e.blockInfo,isReady:e.isReady,canStop:e.canStop,showGlobalMessages:e.showGlobalMessages,globalStateMessage:e.$compilerState.globalStateMessage},on:{ready:e.blockBecameReady,run:e.run,stop:e.stop}}):e._e()],1)})),e.editMode?n("div",{staticClass:"row justify-end"},[n("div",[n("q-btn",{attrs:{push:"",color:"green"},on:{click:e.addNewBlock}},[e._v(e._s(e.$t("CodeBlocks.AddBlock"))+" "),n("q-icon",{staticClass:"q-ml-sm",attrs:{name:"library_add"}})],1)],1)]):e._e(),e.canRun?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasREPL,expression:"!hasREPL"}],class:"runner "+(e.editMode?"q-pt-lg q-mx-lg":""),attrs:{id:"runContainer","data-question":e.blockInfo.id}},[n("div",{staticClass:"row runnerState",attrs:{id:"stateBox","data-question":e.blockInfo.id}},[n("q-btn",{staticClass:"white--text",staticStyle:{"border-radius":"0px"},attrs:{id:"allow_run_button",loading:!e.isReady,disabled:!e.isReady,color:"primary",ripple:{center:!0},"data-question":e.blockInfo.id},on:{click:e.run}},[e._v(" "+e._s(e.$t("CodeBlocks.run"))+" "),n("q-icon",{attrs:{right:"",dark:"",name:"play_arrow"}}),e.editMode?n("q-tooltip",{attrs:{delay:200}},[n("span",{domProps:{innerHTML:e._s(e.$t("CodeBlocks.run_hint"))}})]):e._e()],1),n("div",{staticClass:"animated fadeIn"}),n("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.canStop,expression:"canStop"}],staticClass:"q-pl-sm"},[n("q-btn",{staticStyle:{"border-radius":"0px"},attrs:{id:"cancel_button",color:"negative",ripple:{center:!0},"data-question":e.blockInfo.id},on:{click:e.stop}},[e._v(" "+e._s(e.$t("CodeBlocks.stop"))+" "),n("q-icon",{attrs:{right:"",dark:"",name:"stop"}})],1)],1)]),n("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showGlobalMessages,expression:"showGlobalMessages"}],staticClass:"globalState col-grow",staticStyle:{"align-self":"center"}},[n("div",{attrs:{id:"message"},domProps:{innerHTML:e._s(e.$compilerState.globalStateMessage)}})])])],1),n("q-slide-transition",[e.hasOutput?n("pre",{ref:"output",staticClass:"output",attrs:{id:e.blockInfo.id+"Output"}},[n("div",{attrs:{id:"out"},domProps:{innerHTML:e._s(e.outputHTML)}})]):e._e()])],1):e._e()],2)},Ke=[],Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block-container",attrs:{"data-question":e.block.parentID,"data-nr":e.block.id,uuid:e.block.uuid}},[e.editMode?n("q-card",{class:"q-mx-none q-my-xs q-pa-none editModeBlockContainer "+e.colorClass+" "+e.bgClass},[n("q-card-section",{staticClass:"q-mb-none q-pb-sm q-pt-sm"},[n("div",{staticClass:"row q-my-none q-py-none",attrs:{dense:""}},[n("div",{staticClass:"col-xs-12 col-sm-4 col-md-4 q-my-none q-py-none"},[n("q-select",{staticStyle:{"margin-top":"-5px !important"},attrs:{options:e.types,dense:""},scopedSlots:e._u([{key:"after",fn:function(){return[n("q-btn",{attrs:{flat:"",round:"",color:"primary",icon:"info",size:"xs"},on:{click:e.showTypeInfoDialog}})]},proxy:!0}],null,!1,3671508059),model:{value:e.typeObj,callback:function(t){e.typeObj=t},expression:"typeObj"}})],1),n("div",{staticClass:"col-grow"}),n("div",{staticClass:"order-xs-first order-sm-last col-xs-12 col-sm-8 col-md-5 q-my-none q-py-none text-right"},[e.hasExtendedSettings?n("q-btn",{attrs:{icon:"settings",color:"blue-7",push:"",dense:""}},[n("q-popup-proxy",[e.canSetLineNumbers?n("div",{staticClass:"q-pa-md"},[n("div",{staticClass:"row no-wrap q-pt-none q-pb-md"},[n("div",{staticClass:"text-overline"},[e._v(" "+e._s(e.$l("CodeBlockContainer.Display"))+" ")])]),n("div",{staticClass:"row no-wrap q-pl-md"},[n("div",{staticClass:"col-7"},[n("div",{staticClass:"text-subtitle2"},[e._v(" "+e._s(e.$l("CodeBlockContainer.Lines"))+" ")]),n("div",{staticClass:"text-caption text-blue-grey-4",domProps:{innerHTML:e._s(e.$l("CodeBlockContainer.Lines_detail"))}})]),n("div",{staticClass:"col-5 q-pl-sm"},[n("q-input",{staticStyle:{width:"132px"},attrs:{rules:[e.validNumber],maxlength:"4"},model:{value:e.visibleLines,callback:function(t){e.visibleLines=t},expression:"visibleLines"}})],1)]),e.canHaveAlternativeContent?n("div",{staticClass:"row no-wrap q-pl-md"},[n("div",{staticClass:"col-7"},[n("div",{staticClass:"text-subtitle2"},[e._v(" "+e._s(e.$l("CodeBlockContainer.Prepopulate"))+" ")]),n("div",{staticClass:"text-caption text-blue-grey-4",attrs:{lines:"2"}},[e._v(" "+e._s(e.$l("CodeBlockContainer.Prepopulate_detail"))+" ")])]),n("div",{staticClass:"col-5 q-pl-sm"},[n("q-toggle",{model:{value:e.hasAltComntent,callback:function(t){e.hasAltComntent=t},expression:"hasAltComntent"}})],1)]):e._e()]):e._e(),e.isVersionedPlayground?n("div",{staticClass:"q-pa-md"},[n("div",{staticClass:"row no-wrap q-pt-none q-pb-md"},[n("div",{staticClass:"text-overline"},[e._v(" "+e._s(e.$l("CodeBlockContainer.Behaviour"))+" ")])]),n("div",{staticClass:"row no-wrap q-pl-md"},[n("div",{staticClass:"col-7"},[n("div",{staticClass:"text-subtitle2"},[e._v(" "+e._s(e.$l("CodeBlockContainer.ScriptV"))+" ")]),n("div",{staticClass:"text-caption text-blue-grey-4"},[e._v(" "+e._s(e.$l("CodeBlockContainer.ScriptV_detail"))+" ")])]),n("div",{staticClass:"col-5 q-pl-sm"},[n("q-select",{attrs:{options:e.scriptVersions},model:{value:e.scriptVersionObj,callback:function(t){e.scriptVersionObj=t},expression:"scriptVersionObj"}})],1)]),n("div",{staticClass:"row no-wrap q-pl-md"},[n("div",{staticClass:"col-7"},[n("div",{staticClass:"text-subtitle2"},[e._v(" "+e._s(e.$l("CodeBlockContainer.AutoReset"))+" ")]),n("div",{staticClass:"text-caption text-blue-grey-4"},[e._v(" "+e._s(e.$l("CodeBlockContainer.AutoReset_detail"))+" ")])]),n("div",{staticClass:"col-5 q-pl-sm"},[n("q-toggle",{model:{value:e.shouldAutoReset,callback:function(t){e.shouldAutoReset=t},expression:"shouldAutoReset"}})],1)]),n("div",{staticClass:"row no-wrap q-pl-md"},[n("div",{staticClass:"col-7"},[n("div",{staticClass:"text-subtitle2"},[e._v(" "+e._s(e.$l("CodeBlockContainer.GenerateTemplate"))+" ")]),n("div",{staticClass:"text-caption text-blue-grey-4"},[e._v(" "+e._s(e.$l("CodeBlockContainer.GenerateTemplate_detail"))+" ")])]),n("div",{staticClass:"col-5 q-pl-sm"},[n("q-toggle",{model:{value:e.shouldGenerateTemplate,callback:function(t){e.shouldGenerateTemplate=t},expression:"shouldGenerateTemplate"}})],1)])]):e._e(),e.canDefinePlacement&&e.shouldGenerateTemplate?n("div",{staticClass:"q-pa-md"},[n("div",{staticClass:"row no-wrap q-pt-none q-pb-md"},[n("div",{staticClass:"text-overline"},[e._v(" "+e._s(e.$l("CodeBlockContainer.Positioning"))+" ")])]),n("div",{staticClass:"row no-wrap q-pl-md q-pb-md"},[n("div",{staticClass:"col-7"},[n("div",{staticClass:"text-subtitle2"},[e._v(" "+e._s(e.$l("CodeBlockContainer.Width"))+" ")]),n("div",{staticClass:"text-caption text-blue-grey-4"},[e._v(" "+e._s(e.$l("CodeBlockContainer.Width_detail"))+" ")])]),n("div",{staticClass:"col-5 q-pl-sm"},[n("q-input",{attrs:{maxlength:"7",dense:""},model:{value:e.width,callback:function(t){e.width=t},expression:"width"}})],1)]),n("div",{staticClass:"row no-wrap q-pl-md q-pb-md"},[n("div",{staticClass:"col-7"},[n("div",{staticClass:"text-subtitle2"},[e._v(" "+e._s(e.$l("CodeBlockContainer.Height"))+" ")]),n("div",{staticClass:"text-caption text-blue-grey-4"},[e._v(" "+e._s(e.$l("CodeBlockContainer.Height_detail"))+" ")])]),n("div",{staticClass:"col-5 q-pl-sm"},[n("q-input",{attrs:{maxlength:"7",dense:""},model:{value:e.height,callback:function(t){e.height=t},expression:"height"}})],1)]),n("div",{staticClass:"row no-wrap q-pl-md"},[n("div",{staticClass:"col-7"},[n("div",{staticClass:"text-subtitle2"},[e._v(" "+e._s(e.$l("CodeBlockContainer.Alignment"))+" ")]),n("div",{staticClass:"text-caption text-blue-grey-4"},[e._v(" "+e._s(e.$l("CodeBlockContainer.Alignment_detail"))+" ")])]),n("div",{staticClass:"col-5 q-pl-sm"},[n("q-select",{attrs:{options:e.alignments,dense:""},model:{value:e.align,callback:function(t){e.align=t},expression:"align"}})],1)])]):e._e()])],1):e._e(),n("q-btn",{staticClass:"q-ml-md q-mr-xs",attrs:{disable:!e.canMoveUp,icon:"arrow_drop_up",push:"",dense:"",color:"orange-6",ripple:{center:!0}},on:{click:e.moveUp}}),n("q-btn",{staticClass:"q-mr-md",attrs:{disabled:!e.canMoveDown,icon:"arrow_drop_down",push:"",dense:"",color:"orange-6",ripple:{center:!0}},on:{click:e.moveDown}}),n("q-btn",{staticClass:"gt-xs q-mr-sm-sm q-mr-md-lg q-pr-sm",attrs:{label:e.$l("CodeBlockContainer.Delete"),icon:"warning",push:"",dense:"",color:"red-6",right:"",ripple:{center:!0}},on:{click:e.removeBlock}}),n("q-btn",{staticClass:"lt-sm q-mr-lg q-pr-none",attrs:{icon:"warning",push:"",dense:"",color:"red-6",right:"",ripple:{center:!0}},on:{click:e.removeBlock}}),n("q-btn",{staticStyle:{"margin-right":"-9px"},attrs:{icon:e.expanded?"expand_less":"expand_more",color:"primary",small:"",flat:"",round:""},on:{click:e.toggleExpanded}})],1)]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.serializedOptions,expression:"serializedOptions"}],staticClass:"blockoptions",attrs:{name:"block_options["+this.block.parentID+"]["+this.block.id+"]"},domProps:{value:e.serializedOptions},on:{input:function(t){t.target.composing||(e.serializedOptions=t.target.value)}}})]),n("q-slide-transition",[this.isExperimentalScriptVersion?n("q-card-section",[n("q-banner",{staticClass:"bg-orange text-white col-12 q-mt-xs q-mb-md",attrs:{rounded:"",dense:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{staticStyle:{"font-size":"3em"},attrs:{name:"whatshot"}})],1),n("q-item-section",[n("q-item-label",{attrs:{overline:""}},[e._v(" "+e._s(e.$t("CodePlayground.ExperimentalScriptVersion"))+" ")]),n("q-item-label",[e._v(" "+e._s(e.$t("CodePlayground.ExperimentalScriptVersionDesc"))+" ")])],1)],1)],1)],1):e._e()],1),n("q-slide-transition",[this.isDeprecatedScriptVersion?n("q-card-section",[n("q-banner",{staticClass:"bg-yellow-12 text-black col-12 q-mt-xs q-mb-md",attrs:{rounded:"",dense:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{staticStyle:{"font-size":"3em"},attrs:{name:"hourglass_disabled"}})],1),n("q-item-section",[n("q-item-label",{attrs:{overline:""}},[e._v(" "+e._s(e.$t("CodePlayground.DeprecatedScriptVersion"))+" ")]),n("q-item-label",[e._v(" "+e._s(e.$t("CodePlayground.DeprecatedScriptVersionDesc"))+" ")])],1)],1)],1)],1):e._e()],1),n("q-slide-transition",[n("q-card-section",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"my-0 q-pt-1 q-pb-0"},[e._t("default")],2)],1)],1):n("div",{staticClass:"ma-0 pa-0"},[e._t("default")],2)],1)},Ye=[],Xe=n("53ca"),Ze=(n("e9c4"),n("466d"),n("2541")),et=function(){function e(){Object(m["a"])(this,e)}return Object(f["a"])(e,[{key:"loadFromDatablock",value:function(e,t,n){n.width=e.getAttribute("width")?e.getAttribute("width"):t.width?t.width:"100%",n.height=e.getAttribute("height")?e.getAttribute("height"):t.height?t.height:"300px",n.align=e.getAttribute("align")?e.getAttribute("align"):t.align?t.align:"center"}}]),e}(),tt=new et,nt=function(){function e(){Object(m["a"])(this,e)}return Object(f["a"])(e,[{key:"blockTag",get:function(){return"BLOCKLY"}},{key:"loadCustomBlocks",value:function(e,t,n){var o=e.querySelectorAll("script#customblocks");if(o.length>0){var r=o[0].innerHTML?o[0].innerHTML:"{}";try{var a=new Function(Ze["e"].prepareCode(r))();a.forEach((function(e){void 0===e.JSON&&(e.JSON={type:"",message0:"",args0:[],nextStatement:null,previousStatement:null,colour:""}),void 0!==e.uuid&&""!==e.uuid||(e.uuid=i["b"].v4()),void 0===e.codeString&&void 0!==e._code&&(e.codeString=e._code.toString()),e._code=void 0})),n.blockly.blocks=a}catch(s){console.error("Error parsing Blocks JSON",s)}}}},{key:"loadToolbox",value:function(e,t,n){var o=e.getElementsByTagName("TOOLBOX");if(o.length>0){var r=o[0].innerHTML?o[0].innerHTML:"";if(""===r)n.blockly.toolbox=this.defaultToolbox;else try{var a=new Function(Ze["e"].prepareCode(r))();a.categories.forEach((function(e){void 0!==e.uuid&&""!==e.uuid||(e.uuid=i["b"].v4()),void 0===e.color&&(e.color=""),e.items.forEach((function(e){void 0!==e.uuid&&""!==e.uuid||(e.uuid=i["b"].v4())}))})),n.blockly.toolbox=a}catch(s){console.error("Error Parsing ToolboxJSON",s)}}else n.blockly.toolbox=this.defaultToolbox}},{key:"loadOverrideToolbox",value:function(e,t,n){var o=e.querySelectorAll("script#toolboxoverride");o.length>0&&(n.blockly.toolboxOverride=o[0].innerHTML?o[0].innerHTML:"",n.blockly.useOverride=o[0].hasAttribute("use")&&"false"!=o[0].getAttribute("use")&&"0"!=o[0].getAttribute("use"))}},{key:"loadCode",value:function(e,t,n){var o=e.querySelectorAll("script#content");o.length>0?n.content=o[0].innerHTML?o[0].innerHTML:"":n.content='<xml xmlns="https://developers.google.com/blockly/xml"></xml>',n.hasCode=!0}},{key:"isTrue",value:function(e){return void 0!==e&&"false"!=e&&"0"!=e}},{key:"loadFromDatablock",value:function(e,t,n,o){n.obj=null,tt.loadFromDatablock(e,t,n),n.blockly.showControls=this.isTrue(t.showControls),this.loadCustomBlocks(e,t,n),this.loadToolbox(e,t,n),this.loadOverrideToolbox(e,t,n),this.loadCode(e,t,n)}},{key:"defaultToolbox",get:function(){var e={categories:[{uuid:i["b"].v4(),name:"Logic",color:"{!PrimaryColors.Logic}",items:[{_expanded:!1,type:"controls_if",uuid:i["b"].v4()},{_expanded:!1,type:"logic_compare",uuid:i["b"].v4()},{_expanded:!1,type:"logic_operation",uuid:i["b"].v4()},{_expanded:!1,type:"logic_negate",uuid:i["b"].v4()},{_expanded:!1,type:"logic_boolean",uuid:i["b"].v4()},{_expanded:!1,type:"math_arithmetic",uuid:i["b"].v4()},{_expanded:!1,type:"lists_create_empty",uuid:i["b"].v4()}]},{uuid:i["b"].v4(),name:"Loops",color:"{!PrimaryColors.Loop}",items:[{_expanded:!1,type:"controls_repeat_ext",uuid:i["b"].v4()},{_expanded:!1,type:"controls_whileUntil",uuid:i["b"].v4()}]},{uuid:i["b"].v4(),name:"Math",color:"{!PrimaryColors.Math}",items:[{_expanded:!1,type:"math_number",uuid:i["b"].v4()},{_expanded:!1,type:"math_arithmetic",uuid:i["b"].v4()},{_expanded:!1,type:"math_single",uuid:i["b"].v4()}]},{uuid:i["b"].v4(),name:"Text",color:"{!PrimaryColors.Text}",items:[{_expanded:!1,type:"text",uuid:i["b"].v4()},{_expanded:!1,type:"text_length",uuid:i["b"].v4()},{_expanded:!1,type:"text_print",uuid:i["b"].v4()},{_expanded:!1,type:"text_join",uuid:i["b"].v4()},{_expanded:!1,type:"colour_rgb",uuid:i["b"].v4()}]},{uuid:i["b"].v4(),name:"Variables",custom:"VARIABLE",color:"{!PrimaryColors.Variable}",items:[]},{uuid:i["b"].v4(),name:"Procedures",custom:"PROCEDURE",color:"{!PrimaryColors.Procedure}",items:[]}]};return e}}]),e}(),ot=new nt,it=function(e){e[ot.blockTag]=ot},rt=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.frank="hello",e.settingsMenu=!1,e.highlighted=!1,e}return Object(f["a"])(n,[{key:"types",get:function(){return[{label:this.$l("CodeBlockContainer.Canvas"),value:h["c"].PLAYGROUND},{label:this.$l("CodeBlockContainer.Text"),value:h["c"].TEXT},{label:this.$l("CodeBlockContainer.Hidden"),value:h["c"].BLOCKHIDDEN},{label:this.$l("CodeBlockContainer.Static"),value:h["c"].BLOCKSTATIC},{label:this.$l("CodeBlockContainer.Block"),value:h["c"].BLOCK},{label:this.$l("CodeBlockContainer.Blockly"),value:h["c"].BLOCKLY},{label:this.$l("CodeBlockContainer.REPL"),value:h["c"].REPL}]}},{key:"alignments",get:function(){return[{label:this.$l("CodeBlockContainer.Start"),value:"left"},{label:this.$l("CodeBlockContainer.Center"),value:"center"},{label:this.$l("CodeBlockContainer.End"),value:"right"}]}},{key:"scriptVersions",get:function(){return[{label:this.$l("CodeBlockContainer.ScriptVersion_1"),value:"100"},{label:this.$l("CodeBlockContainer.ScriptVersion_2"),value:"101"},{label:this.$l("CodeBlockContainer.ScriptVersion_3"),value:"102"}]}},{key:"isDeprecatedScriptVersion",get:function(){return"100"===this.scriptVersion}},{key:"isExperimentalScriptVersion",get:function(){return"102"===this.scriptVersion}},{key:"validNumber",value:function(e){return"auto"==e||!isNaN(e)||"Must be a valid Number or 'auto'."}},{key:"toggleExpanded",value:function(){this.$CodeBlock.refreshAllCodeMirrors(),this.expanded=!this.expanded}},{key:"moveUp",value:function(){this.$emit("move-up",this.block.id)}},{key:"moveDown",value:function(){this.$emit("move-down",this.block.id)}},{key:"showTypeInfoDialog",value:function(){this.$q.dialog({title:this.$l("CodeBlockContainer.TypesCaption"),message:this.$l("CodeBlockContainer.Types"),html:!0,style:"width:75%"}).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))}},{key:"removeBlock",value:function(){var e=this,t=this;t.highlighted=!0,this.$q.dialog({title:this.$l("CodeBlockContainer.Confirm"),message:this.$l("CodeBlockContainer.DeleteQuestion"),html:!0,ok:{push:!0,color:"negative",icon:"warning"},cancel:{push:!0,color:"positive"},persistent:!0}).onOk((function(){e.$emit("remove-block",e.block.id)})).onCancel((function(){})).onDismiss((function(){t.highlighted=!1}))}},{key:"expanded",get:function(){return this.block.expanded},set:function(e){this.block.expanded=e}},{key:"canMoveUp",get:function(){return this.block.id>0}},{key:"canMoveDown",get:function(){return!this.block.isLast}},{key:"filteredCopy",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"this",i={};return Object.keys(e).filter((function(e){return 0!=e.indexOf("appSettings")&&0!=e.indexOf("$")&&0!=e.indexOf("_")&&(!n||"obj"!=e&&"errors"!=e&&"content"!=e&&"firstLine"!=e&&"nextLine"!=e&&"lineCount"!=e&&"hasCode"!=e&&"isLast"!=e&&"readyCount"!=e&&"noContent"!=e&&(t.block.type===h["c"].BLOCKLY||"blockly"!=e))&&"uuid"!=e&&"scopeUUID"!=e&&"scopeSelector"!=e})).forEach((function(n){var r=e[n];void 0!==r&&null!==r&&"object"===Object(Xe["a"])(r)&&(r=Array.isArray(r)?r.map((function(e,i){return t.filteredCopy(e,!1,o+"."+n+"[".concat(i,"]"))})):t.filteredCopy(r,!1,o+"."+n)),i[n]=r})),i}},{key:"serializedOptions",get:function(){return JSON.stringify(this.filteredCopy(this.block))},set:function(e){}},{key:"hasExtendedSettings",get:function(){return this.type==h["c"].PLAYGROUND||this.type==h["c"].BLOCK||this.type==h["c"].BLOCKLY}},{key:"isVersionedPlayground",get:function(){return this.type==h["c"].PLAYGROUND}},{key:"canSetLineNumbers",get:function(){return this.type==h["c"].BLOCK}},{key:"canHaveAlternativeContent",get:function(){return this.type==h["c"].BLOCK}},{key:"canDefinePlacement",get:function(){return this.type==h["c"].PLAYGROUND||this.type==h["c"].BLOCKLY}},{key:"shouldAutoReset",get:function(){return this.block.shouldAutoreset},set:function(e){this.$emit("auto-reset-change",{shouldAutoreset:e,id:this.block.id})}},{key:"shouldGenerateTemplate",get:function(){return this.block.generateTemplate},set:function(e){this.$emit("generate-template-change",{generateTemplate:e,id:this.block.id})}},{key:"scriptVersion",get:function(){return void 0===this.block||void 0===this.block.version||""==this.block.version?"100":this.block.version}},{key:"scriptVersionObj",get:function(){return O["c"].$CodeBlock.itemForValue(this.scriptVersions,this.scriptVersion)},set:function(e){this.$emit("script-version-change",{version:e.value,id:this.block.id})}},{key:"hasAltComntent",get:function(){return this.block.hasAlternativeContent},set:function(e){e!=this.block.hasAlternativeContent&&e&&this.$nextTick((function(){setTimeout((function(){$(".CodeMirror").toArray().forEach((function(e){var t=e;t.CodeMirror.refresh()}))}),200)})),this.block.hasAlternativeContent=e}},{key:"colorClass",get:function(){var e=this.type;return e==h["c"].TEXT?"text-border":e==h["c"].PLAYGROUND?"playground-border":e==h["c"].BLOCK?"block-border":e==h["c"].BLOCKHIDDEN?"block-hidden-border":e==h["c"].BLOCKSTATIC?"block-static-border":e==h["c"].REPL?"repl-border":"default-border"}},{key:"bgClass",get:function(){return this.highlighted?"highlightedCard":""}},{key:"type",get:function(){if(this.block.type==h["c"].BLOCK){if(this.block.hidden)return h["c"].BLOCKHIDDEN;if(this.block.static)return h["c"].BLOCKSTATIC}return this.block.type}},{key:"typeObj",get:function(){return O["c"].$CodeBlock.itemForValue(this.types,this.type)},set:function(e){var t=e.value,n={type:t.match(/([^-]*)/)[0],hidden:t==h["c"].BLOCKHIDDEN,static:t==h["c"].BLOCKSTATIC,id:this.block.id,hasCode:!1};n.hasCode=n.type==h["c"].BLOCK,n.type==h["c"].PLAYGROUND&&""===this.block.content&&this.editMode?"100"==this.block.scriptVersion?this.block.content="{\n    init: function(canvasElement) {\n\n    },\n    update: function(output, canvasElement) {\n\n    }\n}":this.block.content="{\n    init: function(canvasElement, outputElement, scope, runner) {\n\n    },\n    addArgumentsTo(args) {},\n    reset(canvasElement) {},\n    update: function(txt, json, canvasElement, outputElement) {\n\n    }\n}":n.type==h["c"].BLOCKLY&&0===this.block.blockly.toolbox.categories.length&&this.editMode&&(this.block.blockly.toolbox=ot.defaultToolbox),this.$emit("type-change",n)}},{key:"visibleLines",get:function(){var e=this.block.visibleLines;return"auto"==e||isNaN(e)?"auto":e},set:function(e){("auto"==e||isNaN(e))&&(e="auto"),console.log("set",e),this.$emit("visible-lines-change",{visibleLines:e,id:this.block.id})}},{key:"width",get:function(){return this.block.width},set:function(e){this.$emit("placement-change",{width:e,height:this.block.height,align:this.block.align,id:this.block.id})}},{key:"height",get:function(){return this.block.height},set:function(e){this.$emit("placement-change",{width:this.block.width,height:e,align:this.block.align,id:this.block.id})}},{key:"align",get:function(){return O["c"].$CodeBlock.itemForValue(this.alignments,this.block.align)},set:function(e){this.$emit("placement-change",{width:this.block.width,height:this.block.height,align:e.value,id:this.block.id})}}]),n}(O["c"]);Object(T["b"])([Object(O["b"])({required:!0})],rt.prototype,"block",void 0),Object(T["b"])([Object(O["b"])({default:!1})],rt.prototype,"editMode",void 0),rt=Object(T["b"])([O["a"]],rt);var at=rt,st=at,lt=(n("ab8d"),n("2877")),ut=n("f09f"),ct=n("a370"),dt=n("ddd8"),pt=n("9c40"),mt=n("7cbe"),ft=n("27f9"),ht=n("9564"),gt=n("e9c1"),vt=n("54e1"),bt=n("66e5"),Dt=n("4074"),yt=n("0016"),_t=n("0170"),kt=n("93dc"),Ct=n.n(kt),wt=Object(lt["a"])(st,Qe,Ye,!1,null,null,null),xt=wt.exports;Ct()(wt,"components",{QCard:ut["a"],QCardSection:ct["a"],QSelect:dt["a"],QBtn:pt["a"],QPopupProxy:mt["a"],QInput:ft["a"],QToggle:ht["a"],QSlideTransition:gt["a"],QBanner:vt["a"],QItem:bt["a"],QItemSection:Dt["a"],QIcon:yt["a"],QItemLabel:_t["a"]});var Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row q-pa-none q-mb-md"},[n("div",{staticClass:"col-xs-12 col-sm-12 col-md-6"},[n("q-card",{staticClass:"q-mb-sm q-mr-sm-none q-mr-md-sm"},[n("q-card-section",{staticClass:"text-overline"},[e._v(e._s(e.$t("CodeBlocksSettings.Language")))]),n("q-card-section",{staticClass:"q-ml-md"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("q-toggle",{attrs:{disabled:!e.languageHasCompiler,label:e.$t("CodeBlocksSettings.AllowExec")},model:{value:e.runCode,callback:function(t){e.runCode=t},expression:"runCode"}})],1),n("div",{staticClass:"col-12"},[n("q-toggle",{attrs:{disabled:!e.canContinousCompile,label:e.$t("CodeBlocksSettings.ContinousCompile")},model:{value:e.continuousCompile,callback:function(t){e.continuousCompile=t},expression:"continuousCompile"}})],1),n("div",{class:"col-xs-12 col-sm-"+(e.runCode?6:12)+" col-md-"+(e.runCode?8:12)+" "+(e.runCode?"q-pr-md-sm":"")},[n("q-select",{attrs:{options:e.compiledLanguages,label:e.$t("CodeBlocksSettings.Language")},model:{value:e.compilerLanguageObj,callback:function(t){e.compilerLanguageObj=t},expression:"compilerLanguageObj"}})],1),e.runCode?n("div",{staticClass:"col-xs-12 col-sm-12 col-md-6"},[n("q-select",{attrs:{options:e.compilerVersions,"stack-label":"",label:e.$t("CodeBlocksSettings.CVersion")},scopedSlots:e._u([{key:"selected",fn:function(){return[e._v(" "+e._s(e.compilerVersion)+" "),e.isDeprecated?n("q-avatar",{staticClass:"q-ml-xs",attrs:{rounded:"",size:"xs",color:"yellow","text-color":"brown-10",icon:"hourglass_disabled"}}):e._e(),e.isExperimental?n("q-avatar",{staticClass:"q-ml-xs",attrs:{rounded:"",size:"xs",color:"orange","text-color":"white",icon:"whatshot"}}):e._e()]},proxy:!0},{key:"option",fn:function(t){return[n("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[n("q-item-section",[n("q-item-label",[e._v(" "+e._s(t.opt)+" "),e.isDeprecatedVersion(e.compilerLanguage,t.opt)?n("q-avatar",{staticClass:"q-ml-xs",attrs:{rounded:"",size:"xs",color:"yellow","text-color":"brown-10",icon:"hourglass_disabled"}}):e._e(),e.isExperimentalVersion(e.compilerLanguage,t.opt)?n("q-avatar",{staticClass:"q-ml-xs",attrs:{rounded:"",size:"xs",color:"orange","text-color":"white",icon:"whatshot"}}):e._e()],1)],1)],1)]}}],null,!1,541447989),model:{value:e.compilerVersion,callback:function(t){e.compilerVersion=t},expression:"compilerVersion"}})],1):e._e(),n("q-slide-transition",[e.isExperimental?n("q-banner",{staticClass:"bg-orange text-white col-12 q-mt-xs q-mb-md",attrs:{rounded:"",dense:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{staticStyle:{"font-size":"3em"},attrs:{name:"whatshot"}})],1),n("q-item-section",[n("q-item-label",{attrs:{overline:""}},[e._v(" "+e._s(e.$t("CodeBlocksSettings.ExperimentalCompiler"))+" ")]),n("q-item-label",[e._v(" "+e._s(e.$t("CodeBlocksSettings.ExperimentalCompilerDesc"))+" ")])],1)],1)],1):e._e()],1),n("q-slide-transition",[e.isDeprecated?n("q-banner",{staticClass:"bg-yellow-12 text-black col-12 q-mt-xs q-mb-md",attrs:{rounded:"",dense:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{staticStyle:{"font-size":"3em"},attrs:{name:"hourglass_disabled"}})],1),n("q-item-section",[n("q-item-label",{attrs:{overline:""}},[e._v(" "+e._s(e.$t("CodeBlocksSettings.DeprecatedCompiler"))+" ")]),n("q-item-label",[e._v(" "+e._s(e.$t("CodeBlocksSettings.DeprecatedCompilerDesc"))+" ")])],1)],1)],1):e._e()],1),e.showMaxRuntime?n("div",{staticClass:"col-12"},[n("q-input",{attrs:{rules:[e.validNumber],label:e.$t("CodeBlocksSettings.RunTime"),maxlength:"6"},model:{value:e.maxRuntime,callback:function(t){e.maxRuntime=t},expression:"maxRuntime"}})],1):e._e(),e.runCode&&(e.accepstArguments||e.allowsMessagePassing)?n("div",{staticClass:"col-12 text-body2"},[e._v(" "+e._s(e.$t("CodeBlocksSettings.AllowArguments"))+" "),n("q-btn",{attrs:{flat:"",round:"",color:"primary",icon:"info",size:"xs"},on:{click:e.showArgsInfoDialog}})],1):e._e(),e.runCode&&e.accepstArguments?n("div",{staticClass:"col-12"},[n("q-toggle",{attrs:{disabled:!e.canPersistentArguments,label:e.$t("CodeBlocksSettings.PersistentArguments")},model:{value:e.persistentArguments,callback:function(t){e.persistentArguments=t},expression:"persistentArguments"}}),n("q-btn",{attrs:{flat:"",round:"",color:"primary",icon:"info",size:"xs"},on:{click:e.showPersistentArgsInfoDialog}})],1):e._e(),e.runCode&&e.allowsMessagePassing?n("div",{staticClass:"col-12"},[n("q-toggle",{attrs:{disabled:!e.allowsMessagePassing,label:e.$t("CodeBlocksSettings.MessagePassing")},model:{value:e.messagePassing,callback:function(t){e.messagePassing=t},expression:"messagePassing"}}),n("q-btn",{attrs:{flat:"",round:"",color:"primary",icon:"info",size:"xs"},on:{click:e.showMessagesInfoDialog}})],1):e._e(),e.runCode&&e.allowsMessagePassing?n("div",{staticClass:"col-12 q-pl-lg"},[n("q-toggle",{attrs:{disabled:!e.allowsMessagePassing||!e.messagePassing,label:e.$t("CodeBlocksSettings.KeepAlive")},model:{value:e.keepAlive,callback:function(t){e.keepAlive=t},expression:"keepAlive"}}),n("q-btn",{attrs:{flat:"",round:"",color:"primary",icon:"info",size:"xs"},on:{click:e.showAliveInfoDialog}})],1):e._e()],1)])],1)],1),n("div",{staticClass:"col-xs-12 col-sm-12 col-md-6"},[n("q-slide-transition",[e.runCode?n("q-card",{staticClass:"q-mb-sm q-mr-none"},[n("q-card-section",{staticClass:"text-overline"},[e._v(e._s(e.$t("CodeBlocksSettings.Output")))]),n("q-card-section",{staticClass:"q-ml-md"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-12 col-md-6 col-12 q-pr-md-sm"},[n("q-input",{attrs:{rules:[e.validNumber],label:e.$t("CodeBlocksSettings.MaxCharacters"),maxlength:"6"},model:{value:e.maxCharacters,callback:function(t){e.maxCharacters=t},expression:"maxCharacters"}})],1),n("div",{staticClass:"col-xs-12 col-md-6"},[n("q-select",{attrs:{options:e.outputParsers,label:e.$t("CodeBlocksSettings.Parser")},model:{value:e.outputParser,callback:function(t){e.outputParser=t},expression:"outputParser"}})],1)])])],1):e._e()],1),n("q-card",{staticClass:"q-mr-none"},[n("q-card-section",{staticClass:"text-overline"},[e._v(e._s(e.$t("CodeBlocksSettings.Themes")))]),n("q-card-section",{staticClass:"q-ml-md"},[n("div",{staticClass:"row",attrs:{dense:""}},[n("div",{staticClass:"col-xs-12 col-md-6 q-pr-md-sm"},[n("q-select",{attrs:{options:e.themes,label:e.$t("CodeBlocksSettings.TGeneral")},model:{value:e.codeTheme,callback:function(t){e.codeTheme=t},expression:"codeTheme"}})],1),n("div",{staticClass:"col-xs-12 col-md-6"},[n("q-select",{attrs:{options:e.themes,label:e.$t("CodeBlocksSettings.TSolution")},model:{value:e.solutionTheme,callback:function(t){e.solutionTheme=t},expression:"solutionTheme"}})],1)])])],1),n("q-slide-transition",[e.runCode?n("q-card",{staticClass:"q-mr-sm-none q-mt-sm"},[n("q-card-section",{staticClass:"text-overline"},[e._v(e._s(e.$t("CodeBlocksSettings.Libraries")))]),n("q-card-section",{staticClass:"q-ml-md"},[n("div",{staticClass:"row q-my-none q-py-none",attrs:{dense:""}},[n("div",{staticClass:"col-xs-12 col-sm-12 q-my-none q-py-none"},[n("q-select",{attrs:{options:e.domLibraries,multiple:"","use-chips":"","stack-label":"","deletable-chips":"",label:e.$t("CodeBlocksSettings.DomLibs")},model:{value:e.domLibrary,callback:function(t){e.domLibrary=t},expression:"domLibrary"}})],1),e.runCode&&e.workerLibraries.length>0?n("div",{staticClass:"col-xs-12 col-sm-12 q-my-none q-py-none"},[n("q-select",{attrs:{options:e.workerLibraries,multiple:"","use-chips":"","stack-label":"","deletable-chips":"",label:e.$t("CodeBlocksSettings.WorkLibs")},model:{value:e.workerLibrary,callback:function(t){e.workerLibrary=t},expression:"workerLibrary"}})],1):e._e()])])],1):e._e()],1)],1),n("div",{class:"col-xs-"+(e.options.randomizer.active,"12 q-mt-sm")},[n("RandomizerSettings",{attrs:{options:e.options}})],1),n("div",{staticClass:"col-xs-12"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.serializedOptions,expression:"serializedOptions"}],staticClass:"blocksettings",attrs:{name:"block_settings["+this.options.id+"]"},domProps:{value:e.serializedOptions},on:{input:function(t){t.target.composing||(e.serializedOptions=t.target.value)}}})])])},Tt=[],Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-card",[n("q-card-section",{staticClass:"text-overline"},[e._v(e._s(e.$t("RandomizerSettings.Caption"))+" "),n("q-toggle",{model:{value:e.options.randomizer.active,callback:function(t){e.$set(e.options.randomizer,"active",t)},expression:"options.randomizer.active"}})],1),n("q-slide-transition",[n("q-card-section",{directives:[{name:"show",rawName:"v-show",value:e.options.randomizer.active,expression:"options.randomizer.active"}],staticClass:"q-ml-md"},[n("div",{staticClass:"tagList"},[n("div",{staticClass:"text-subtitle2"},[e._v(" "+e._s(e.$t("RandomizerSettings.Available"))+" "),n("q-btn",{staticClass:"gt-xs",attrs:{color:"primary",size:"12px",flat:"",dense:"",round:"",icon:"add"},on:{click:e.addTag}})],1),n("div",{staticClass:"row q-mb-sm"},e._l(e.options.randomizer.knownTags,(function(t,o){return n("div",{key:t,class:"tagItem q-ml-sm "+e.tagClass},[n("div",{staticClass:"row no-wrap"},[n("div",{staticClass:"tagInfo col-shrink"},[n("div",{staticClass:"tagName"},[e._v(e._s(t))]),n("div",{staticClass:"tagString"},[e._v("{:"+e._s(t)+"}")])]),n("div",{staticClass:"tagAction col-4 q-pl-sm text-right"},[n("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(t){return e.removeTag(o)}}})],1)])])})),0)]),n("div",{staticClass:"tagList q-mt-lg"},[n("div",{staticClass:"text-subtitle2"},[e._v(" "+e._s(e.$t("RandomizerSettings.Sets"))+" "),n("q-btn",{staticClass:"gt-xs",attrs:{color:"primary",size:"12px",flat:"",dense:"",round:"",icon:"add"},on:{click:e.addSet}})],1),n("q-list",{staticClass:"setList"},e._l(e.options.randomizer.sets,(function(t,o){return n("q-item",{key:t.uuid},[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{attrs:{color:"primary","text-color":"white",disabled:!e.isVisible(o)}},[e._v(" "+e._s(o)+" ")])],1),n("q-item-section",[n("q-item-label",[e._v(e._s(t.title))]),n("q-item-label",{attrs:{caption:"",lines:"2"}},[n("div",{staticClass:"row q-mb-sm"},e._l(t.values,(function(t){return n("div",{key:t.name,class:"tagItem q-ml-sm "+e.tagClass},[n("div",{staticClass:"row no-wrap"},[n("div",{staticClass:"tagInfo col-shrink"},[n("div",{staticClass:"tagName"},[e._v(e._s(t.tag))]),n("div",{staticClass:"tagString"},[e._v(e._s(t.value))])])])])})),0)])],1),n("q-item-section",{attrs:{side:"",top:""}},[n("div",{staticClass:"text-grey-8 q-gutter-xs"},[n("q-icon",{staticClass:"q-mr-lg",attrs:{name:e.isCompleteSet(t)?"check":"warning",color:e.isCompleteSet(t)?"positive":"negative",size:"24px"}}),n("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:e.isVisible(o)?"visibility":"visibility_off"},on:{click:function(t){return e.setVisible(o)}}},[n("q-tooltip",{attrs:{delay:200,offset:[0,10]}},[e._v(" Use this set when running code in preview or editMode. ")])],1),n("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"edit"}},[n("RandomizerSetEditor",{attrs:{options:e.options,tagSet:e.getFullSet(t),nr:o}})],1),n("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(t){return e.removeSet(o)}}})],1)])],1)})),1)],1)])],1)],1)],1)},At=[],$t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-popup-proxy",{attrs:{"transition-show":"flip-up","transition-hide":"flip-down"},on:{"before-show":e.onShow}},[n("div",{staticClass:"q-pa-md"},[n("div",{staticClass:"row no-wrap q-pt-none q-pb-md"},[n("div",{staticClass:"text-overline"},[e._v(e._s(e.$t("RandomizerSetEditor.Caption",{nr:e.nr})))])]),e._l(e.tagSet.values,(function(t){return n("div",{key:t.tag,staticClass:"q-pl-md"},[n("q-input",{attrs:{label:t.tag},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"tag.value"}})],1)}))],2)])},St=[],jt=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"tags",get:function(){return this.tagSet.values.map((function(e){return e.tag}))}},{key:"onShow",value:function(e){var t=this;this.tagSet.values=this.tagSet.values.filter((function(e){return t.options.randomizer.knownTags.indexOf(e.tag)>=0})),this.options.randomizer.knownTags.forEach((function(e){void 0===t.tagSet.values.find((function(t){return t.tag==e}))&&t.tagSet.values.push({tag:e,value:""})}))}}]),n}(O["c"]);Object(T["b"])([Object(O["b"])({required:!0})],jt.prototype,"options",void 0),Object(T["b"])([Object(O["b"])({required:!0})],jt.prototype,"tagSet",void 0),Object(T["b"])([Object(O["b"])({required:!0})],jt.prototype,"nr",void 0),jt=Object(T["b"])([O["a"]],jt);var Ft=jt,Bt=Ft,Rt=Object(lt["a"])(Bt,$t,St,!1,null,null,null),Lt=Rt.exports;Ct()(Rt,"components",{QPopupProxy:mt["a"],QInput:ft["a"]});var Pt=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e._newTagName="",e}return Object(f["a"])(n,[{key:"tagClass",get:function(){return O["c"].$tagger.className.rnd+" tag-mark-start tag-mark-end tag-mark-shadow"}},{key:"isVisible",value:function(e){return e==this.options.randomizer.previewIndex}},{key:"setVisible",value:function(e){this.options.randomizer.previewIndex=e}},{key:"isValidTag",value:function(e){return void 0!==this.options.randomizer.knownTags.find((function(t){return t==e}))}},{key:"isCompleteSet",value:function(e){var t=this;return!(e.values.filter((function(e){return t.options.randomizer.knownTags.indexOf(e.tag)<0})).length>0)&&!(this.options.randomizer.knownTags.filter((function(t){return void 0===e.values.find((function(e){return e.tag==t}))})).length>0)}},{key:"getFullSet",value:function(e){return e}},{key:"removeSet",value:function(e){this.options.randomizer.sets.splice(e,1)}},{key:"addSet",value:function(){this.options.randomizer.sets.push({uuid:this.$uuid.v4(),values:[]})}},{key:"removeTag",value:function(e){this.options.randomizer.knownTags.splice(e,1)}},{key:"addTag",value:function(){var e=this;this.$q.dialog({title:"Create Tag",message:"This will generate a new randomizer-Tag with the below name.",html:!0,persistent:!0,prompt:{model:"tag_name",type:"text"},ok:{push:!0},cancel:{flat:!0,color:"gray"}}).onOk((function(t){if(t=t.replace(/\W/g,"_"),e.options.randomizer.knownTags.filter((function(e){return e==t})).length>0){var n=1,o=t;do{t=o+"_"+n,n++}while(e.options.randomizer.knownTags.filter((function(e){return e==t})).length>0)}e.options.randomizer.knownTags.push(t)})).onCancel((function(){})).onDismiss((function(){}))}}]),n}(O["c"]);Object(T["b"])([Object(O["b"])({required:!0})],Pt.prototype,"options",void 0),Pt=Object(T["b"])([Object(O["a"])({components:{RandomizerSetEditor:Lt}})],Pt);var Mt=Pt,It=Mt,qt=(n("5a50"),n("1c1c")),Nt=n("cb32"),zt=n("05c0"),Ut=Object(lt["a"])(It,Ot,At,!1,null,"8b99c0d6",null),Ht=Ut.exports;Ct()(Ut,"components",{QCard:ut["a"],QCardSection:ct["a"],QToggle:ht["a"],QSlideTransition:gt["a"],QBtn:pt["a"],QList:qt["a"],QItem:bt["a"],QItemSection:Dt["a"],QAvatar:Nt["a"],QItemLabel:_t["a"],QIcon:yt["a"],QTooltip:zt["a"]});var Wt=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"themes",get:function(){return[{label:"Solarized",value:"solarized light"},{label:"Solarized (dark)",value:"solarized dark"},{label:"Base16 (dark)",value:"base16-dark"},{label:"Base16 (light)",value:"base16-light"},{label:"Duotone (dark)",value:"duotone-dark"},{label:"Duotone (light)",value:"duotone-light"},{label:"XQ (dark)",value:"xq-dark"},{label:"XQ (light)",value:"xq-light"},{label:"Blackboard",value:"blackboard"},{label:"neo",value:"neo"},{label:"mbo",value:"mbo"},{label:"mdn like",value:"mdn-like"}]}},{key:"outputParsers",get:function(){return[{label:this.$l("CodeBlocksSettings.PAutomatic"),value:h["b"].AUTO},{label:this.$l("CodeBlocksSettings.PText"),value:h["b"].TEXT},{label:this.$l("CodeBlocksSettings.PJSON"),value:h["b"].JSON},{label:this.$l("CodeBlocksSettings.PData"),value:h["b"].DATA},{label:this.$l("CodeBlocksSettings.PMagic"),value:h["b"].MAGIC}]}},{key:"validNumber",value:function(e){return!isNaN(e)||"Must be a valid Number."}},{key:"serializedOptions",get:function(){var e=Object.assign({},this.options);return e.randomizer=Object.assign({},this.options.randomizer),e.randomizer.sets=this.options.randomizer.sets.map((function(e){var t={};return e.values.forEach((function(e){return t[e.tag]=e.value})),t})),JSON.stringify(e)},set:function(e){}},{key:"domLibraries",get:function(){return this.$compilerRegistry.domLibraries}},{key:"compiledLanguages",get:function(){return!1===this.options.runCode?this.languages:this.$compilerRegistry.languages}},{key:"workerLibraries",get:function(){var e=this.$compilerRegistry.getCompiler({languageType:this.compilerLanguage,version:this.compilerVersion});return void 0===e||void 0===e.libraries?[]:e.libraries.map((function(e){return{label:e.displayName,value:e.key}}))}},{key:"languages",get:function(){return this.$CodeBlock.knownLanguages()}},{key:"compilerVersions",get:function(){return this.$compilerRegistry.versionsForLanguage(this.compilerLanguage)}},{key:"isExperimentalVersion",value:function(e,t){var n=this.$compilerRegistry.getCompiler({languageType:e,version:t});return void 0!==n&&n.experimental}},{key:"isDeprecatedVersion",value:function(e,t){var n=this.$compilerRegistry.getCompiler({languageType:e,version:t});return void 0!==n&&n.deprecated}},{key:"isExperimental",get:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);return!!e&&e.experimental}},{key:"isDeprecated",get:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);return!!e&&e.deprecated}},{key:"languageHasCompiler",get:function(){if(this.runCode)return!0;var e=this.$compilerRegistry.getCompiler({languageType:this.compilerLanguage});return void 0!==e}},{key:"compilerLanguage",get:function(){return!1===this.options.runCode?this.options.language:this.options.compiler.languageType}},{key:"compilerLanguageObj",get:function(){return O["c"].$CodeBlock.itemForValue(this.compiledLanguages,this.compilerLanguage)},set:function(e){!1===this.options.runCode&&this.$emit("language-change",e.value),this.$emit("compiler-change",e.value)}},{key:"compilerVersion",get:function(){return this.options.compiler.version},set:function(e){this.$emit("compiler-version-change",e)}},{key:"runCode",get:function(){return this.options.runCode},set:function(e){this.$emit("run-state-change",e)}},{key:"maxRuntime",get:function(){return this.options.executionTimeout},set:function(e){this.$emit("timeout-change",e)}},{key:"maxCharacters",get:function(){return this.options.maxCharacters},set:function(e){this.$emit("character-limit-change",e)}},{key:"domLibrary",get:function(){var e=this;return this.options.domLibs.map((function(t){return e.domLibraries.find((function(e){return e.value==t}))})).filter((function(e){return void 0!==e}))},set:function(e){this.$emit("dom-libs-change",e.map((function(e){return e.value})))}},{key:"workerLibrary",get:function(){var e=this;return this.options.workerLibs.map((function(t){return e.workerLibraries.find((function(e){return e.value==t}))})).filter((function(e){return void 0!==e}))},set:function(e){this.$emit("worker-libs-change",e.map((function(e){return e.value})))}},{key:"solutionTheme",get:function(){return O["c"].$CodeBlock.itemForValue(this.themes,this.options.solutionTheme)},set:function(e){this.$emit("theme-change",{solution:e.value,code:this.options.codeTheme})}},{key:"codeTheme",get:function(){return O["c"].$CodeBlock.itemForValue(this.themes,this.options.codeTheme)},set:function(e){this.$emit("theme-change",{solution:this.options.solutionTheme,code:e.value})}},{key:"outputParser",get:function(){return O["c"].$CodeBlock.itemForValue(this.outputParsers,this.options.outputParser)},set:function(e){this.$emit("output-parser-change",e.value)}},{key:"continuousCompile",get:function(){return this.options.continuousCompilation},set:function(e){this.$emit("continuous-compile-change",e)}},{key:"compiler",get:function(){return this.options.compiler}},{key:"canContinousCompile",get:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);return console.d("Continuous Compile - ","can",e,!!e&&e.allowsContinousCompilation,!!e&&e.canRun),!!e&&(console.d("Continuous Compile - ","can",e.allowsContinousCompilation&&e.canRun),e.allowsContinousCompilation&&e.canRun)}},{key:"allowsMessagePassing",get:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);return!!e&&(console.d("Message Passing - ","can",e.allowsContinousCompilation&&e.canRun),e.allowsMessagePassing&&e.canRun)}},{key:"messagePassing",get:function(){return this.options.messagePassing},set:function(e){this.$emit("message-passing-change",e)}},{key:"keepAlive",get:function(){return this.options.keepAlive},set:function(e){this.$emit("keep-alive-change",e)}},{key:"showMaxRuntime",get:function(){return this.runCode&&!(this.keepAlive&&this.messagePassing)}},{key:"allowsREPL",get:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);return!!e&&(console.d("REPL - ","can",e.allowsREPL&&e.allowsMessagePassing&&e.canRun),e.allowsREPL&&e.allowsMessagePassing&&e.canRun)}},{key:"persistentArguments",get:function(){return this.options.persistentArguments},set:function(e){this.$emit("persistent-arguments-change",e)}},{key:"canPersistentArguments",get:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);return!!e&&(console.d("Persistent Arguments - ","can",e.acceptsJSONArgument&&e.allowsPersistentArguments&&e.canRun),e.acceptsJSONArgument&&e.allowsPersistentArguments&&e.canRun)}},{key:"accepstArguments",get:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);return!!e&&e.acceptsJSONArgument}},{key:"showArgsInfoDialog",value:function(){this.showInfoDialog("CodeBlocksSettings.AllowArgumentsCaption","java"==this.compiler.languageType?"CodeBlocksSettings.AllowArgumentsHintJava":"CodeBlocksSettings.AllowArgumentsHint")}},{key:"showPersistentArgsInfoDialog",value:function(){this.showInfoDialog("CodeBlocksSettings.UsePersistentArgumentsCaption","java"==this.compiler.languageType?"CodeBlocksSettings.UsePersistentArgumentsHintJava":"CodeBlocksSettings.UsePersistentArgumentsHint")}},{key:"showMessagesInfoDialog",value:function(){this.showInfoDialog("CodeBlocksSettings.AllowMessagePassingCaption","java"==this.compiler.languageType?"CodeBlocksSettings.AllowMessagePassingHintJava":"CodeBlocksSettings.AllowMessagePassingHint")}},{key:"showAliveInfoDialog",value:function(){this.showInfoDialog("CodeBlocksSettings.KeepAliveCaption","java"==this.compiler.languageType?"CodeBlocksSettings.KeepAliveHintJava":"CodeBlocksSettings.KeepAliveHint")}},{key:"showInfoDialog",value:function(e,t){this.$q.dialog({title:this.$l(e),message:this.$l(t),html:!0,style:"width:75%"}).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))}}]),n}(O["c"]);Object(T["b"])([Object(O["b"])({required:!0})],Wt.prototype,"options",void 0),Wt=Object(T["b"])([Object(O["a"])({components:{RandomizerSettings:Ht}})],Wt);var Vt=Wt,Gt=Vt,Jt=(n("b0c7"),Object(lt["a"])(Gt,Et,Tt,!1,null,"6ab62092",null)),Kt=Jt.exports;Ct()(Jt,"components",{QCard:ut["a"],QCardSection:ct["a"],QToggle:ht["a"],QSelect:dt["a"],QAvatar:Nt["a"],QItem:bt["a"],QItemSection:Dt["a"],QItemLabel:_t["a"],QSlideTransition:gt["a"],QBanner:vt["a"],QIcon:yt["a"],QInput:ft["a"],QBtn:pt["a"]});var Qt=n("800b"),Yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}],staticClass:"blocksEditorPanelContainer",style:"width:"+e.width+"px"},[n("div",{directives:[{name:"show",rawName:"v-show",value:null!==e.block,expression:"block !== null"}],staticClass:"blocksEditorPanelLeft"},[n("q-btn",{staticClass:"expander",attrs:{icon:e.expanded?"chevron_right":"chevron_left",size:"sm",unelevated:"",align:"center",color:"blue-grey-4"},on:{click:e.onExpandClick}}),n("CodeBlock",{attrs:{block:e.saveBlock,theme:e.themeForBlock(e.block),mode:"",visibleLines:e.visibleLinesNow,editMode:!0,muteReadyState:!0,isBookmarkPanel:!0,namePrefix:"panel_"},on:{"code-changed-in-edit-mode":e.onCodeChange}})],1)])},Xt=[],Zt=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.expanded=!1,e}return Object(f["a"])(n,[{key:"saveBlock",get:function(){if(null!==this.block&&void 0!==this.block&&null!==this.block.content&&void 0!==this.block.content)return this.block;var e={hasCode:!1,type:h["c"].BLOCKSTATIC,content:"",alternativeContent:"",noContent:!0,id:-1,uuid:"",parentID:-2,expanded:!0,codeExpanded:h["a"].AUTO,obj:null,version:"",readyCount:0,errors:[],visibleLines:"auto",hasAlternativeContent:!1,shouldAutoreset:!1,generateTemplate:!0,firstLine:1,actualContent:"",actualAltContent:"",width:"100%",height:"200px",align:"center",readonly:!0,static:!0,hidden:!1,themeForCodeBlock:"",lineCountHint:-0,getThemeForBlock:function(e){return""},blockly:{_blockErrors:[],useOverride:!1,toolbox:{categories:[]},showControls:!1,toolboxOverride:"",blocks:[]}};return e}},{key:"visibleLinesNow",get:function(){return"auto"===this.visibleLines?"auto":this.visibleLines<=2?2:this.visibleLines}},{key:"onCodeChange",value:function(){}},{key:"width",get:function(){return this.expanded?2*this.panelWidth:this.panelWidth}},{key:"onExpandClick",value:function(){this.expanded=!this.expanded}},{key:"themeForBlock",value:function(e){return null===e||void 0===e?"":e.themeForCodeBlock}}]),n}(O["c"]);Object(T["b"])([Object(O["b"])({default:!1})],Zt.prototype,"editMode",void 0),Object(T["b"])([Object(O["b"])({default:"auto"})],Zt.prototype,"visibleLines",void 0),Object(T["b"])([Object(O["b"])({required:!0})],Zt.prototype,"block",void 0),Object(T["b"])([Object(O["b"])({default:400})],Zt.prototype,"panelWidth",void 0),Zt=Object(T["b"])([Object(O["a"])({components:{CodeBlock:Qt["a"]}})],Zt);var en=Zt,tn=en,nn=(n("e3d5"),Object(lt["a"])(tn,Yt,Xt,!1,null,"30d18f94",null)),on=nn.exports;Ct()(nn,"components",{QBtn:pt["a"]});var rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("PlaygroundCanvas",{key:e.runCount,ref:"playgroundContainer",attrs:{output:e.finalOutputObject.initialOutput,obj:e.block.obj,block:e.block,eventHub:e.eventHub,tagSet:e.tagSet,"data-question":e.block.parentID,runner:e.emitRun},on:{"canvas-change":e.onCanvasChange,"did-init":e.onDidInit}}),n("div",{staticClass:"row justify-end"},[e.editMode?n("q-btn-group",{staticClass:"q-mb-sm",attrs:{rounded:""}},[n("q-btn",{attrs:{color:e.isExpandedAuto?"primary":"blue-grey-4",small:"",label:"Auto",icon:"video_label"},on:{click:e.setExpandedAuto}}),n("q-btn",{attrs:{color:e.isExpandedLarge?"primary":"blue-grey-4",small:"",label:"Large",icon:"call_to_action"},on:{click:e.setExpandedLarge}}),n("q-btn",{attrs:{color:e.isExpandedTiny?"primary":"blue-grey-4",small:"",label:"Small",icon:"visibility_off"},on:{click:e.setExpandedTiny}})],1):e._e()],1),n("q-slide-transition",[e.editMode?n("CodeBlock",{attrs:{block:e.block,theme:e.options.theme,mode:e.options.mode,visibleLines:e.visibleLinesNow,editMode:this.editMode,muteReadyState:!0},on:{"code-changed-in-edit-mode":e.onCodeChange}}):e._e()],1)],1)},an=[],sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row ma-0 pa-0 block-playground",attrs:{"data-question":e.block.parentID,"data-nr":e.block.id}},[e.block.generateTemplate?n("div",{class:"col-12 text-"+e.block.align},[n("div",{ref:"innerPlaygroundContainer",staticClass:"playground",style:"width:"+e.block.width+";height:"+e.block.height,attrs:{"data-question":e.block.parentID,"data-nr":e.block.id}},[e._v(" "+e._s(e.output)+" ")])]):e._e()])},ln=[],un=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.output="",e}return Object(f["a"])(n,[{key:"canvas",get:function(){return this.$refs.innerPlaygroundContainer}},{key:"whenMounted",value:function(){var e=this;this.obj&&(console.d("Will Init",this.canvas,$(this.canvas).css("background-color")),this.$compilerRegistry.loadLibraries(this.block.domLibs,(function(){e.$nextTick((function(){e.$nextTick((function(){e.obj.rebuild(),e.obj.init($(e.canvas),e.block.scope,e.runner),e.$emit("did-init",e.canvas)}))}))})))}},{key:"mounted",value:function(){this.eventHub?this.eventHub.$on("all-mounted",this.whenMounted):this.whenMounted(),this.$emit("canvas-change",this.canvas)}},{key:"beforeDestroy",value:function(){this.eventHub&&this.eventHub.$off("all-mounted")}}]),n}(O["c"]);Object(T["b"])([Object(O["b"])()],un.prototype,"output",void 0),Object(T["b"])([Object(O["b"])({required:!0})],un.prototype,"obj",void 0),Object(T["b"])([Object(O["b"])({required:!0})],un.prototype,"block",void 0),Object(T["b"])([Object(O["b"])({required:!0})],un.prototype,"eventHub",void 0),Object(T["b"])([Object(O["b"])({default:function(){}})],un.prototype,"runner",void 0),Object(T["b"])([Object(O["b"])()],un.prototype,"tagSet",void 0),un=Object(T["b"])([O["a"]],un);var cn=un,dn=cn,pn=(n("3193"),Object(lt["a"])(dn,sn,ln,!1,null,"00103082",null)),mn=pn.exports,fn=n("879e"),hn=(O["c"].extend(mn),function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.isPreparingRun=!1,e.lastRun=new Date,e.runCount=0,e.canvas=void 0,e.needsCodeRebuild=!1,e.initAndRebuildErrors=[],e}return Object(f["a"])(n,[{key:"originalMode",get:function(){return null!==this.block.obj&&this.block.obj.requestsOriginalVersion()}},{key:"options",get:function(){return{mode:this.$CodeBlock.mimeType("javascript"),theme:this.theme,lineNumbers:!0,line:!0,tabSize:4,indentUnit:4,autoCloseBrackets:!0,readOnly:!this.editMode,firstLineNumber:1,gutters:["diagnostics","CodeMirror-linenumbers"]}}},{key:"visibleLinesNow",get:function(){return this.block.codeExpanded==h["a"].TINY?"2.4":this.block.codeExpanded==h["a"].LARGE?"33.4":"auto"}},{key:"created",value:function(){this.eventHub.$on("before-run",this.resetBeforeRun),this.eventHub.$on("render-diagnostics",this.updateErrors)}},{key:"mounted",value:function(){var e=this.block&&this.block.obj&&this.block.obj.err.length>0;e&&this.updateErrors(),this.eventHub.$on("output-updated",this.onFinalOutputObject)}},{key:"beforeDestroy",value:function(){this.eventHub.$off("before-run",this.resetBeforeRun),this.eventHub.$off("render-diagnostics",this.updateErrors),this.eventHub.$off("output-updated",this.onFinalOutputObject)}},{key:"isExpandedLarge",get:function(){return this.block.codeExpanded==h["a"].LARGE}},{key:"isExpandedTiny",get:function(){return this.block.codeExpanded==h["a"].TINY}},{key:"isExpandedAuto",get:function(){return this.block.codeExpanded==h["a"].AUTO}},{key:"setExpandedLarge",value:function(){this.setExpanded(h["a"].LARGE)}},{key:"setExpandedTiny",value:function(){this.setExpanded(h["a"].TINY)}},{key:"setExpandedAuto",value:function(){this.setExpanded(h["a"].AUTO)}},{key:"setExpanded",value:function(e){this.block.codeExpanded=e,this.block.codeExpanded!=h["a"].TINY&&this.$CodeBlock.refreshAllCodeMirrors()}},{key:"updateErrors",value:function(){var e=this;return this.block.errors=[],null!==this.block.obj&&(this.block.obj.err=this.block.obj.err.concat(this.initAndRebuildErrors),this.block.obj.err.forEach((function(t){var n={start:{line:t.line,column:t.column},end:{line:t.line,column:t.column+1},message:t.msg,severity:O["c"].$SEVERITY_ERROR};void 0===t.line?(n.start={line:1,column:-1},n.end={line:1,column:-1}):void 0===t.column&&(n.start={line:t.line,column:-1},n.end={line:t.line,column:-1}),e.block.errors.push(n)})),!!(this.block.obj.err.length>0&&this.editMode)&&(this.needsCodeRebuild=!0,!0))}},{key:"resetBeforeRun",value:function(){var e=this,t=this.editMode&&(this.needsCodeRebuild||void 0!==this.tagSet),n=t,o=!1;if(this.block&&this.block.obj)if(this.block.shouldAutoreset||t)void 0!==this.canvas?console.log("Will Re-Initialize",this.canvas,$(this.canvas).css("background-color")):console.log("Will Re-Initialize","Without Canvas"),this.lastRun=new Date,this.runCount++,n=!0,o=!0;else{var i=this;this.$nextTick((function(){null!==i.block.obj&&void 0!==i.canvas&&i.block.obj.reset($(i.canvas)),i.updateErrors()}))}if(t){if(this.initAndRebuildErrors=[],null!=this.block.obj&&(this.block.obj.rebuild(this.block.actualContent()),this.updateErrors()))return this.initAndRebuildErrors=this.block.obj.err,void this.block.obj.invalidate();n=!0}if(n){this.initAndRebuildErrors=[];var r=function(){if(console.i("!!! DO INIT !!!"),null!==e.block.obj){var t=$(e.canvas),n=e.block.scope;return e.block.obj.init(t,n,e.emitRun),!e.updateErrors()||(e.initAndRebuildErrors=e.block.obj.err,e.block.obj.invalidate(),!1)}return!1};if(o)this.$nextTick(r);else if(!r())return}}},{key:"emitRun",value:function(){this.$emit("run",this.block)}},{key:"onCanvasChange",value:function(e){this.canvas=e,this.editMode&&this.updateErrors()}},{key:"onCodeChange",value:function(e){this.editMode&&(this.needsCodeRebuild=!0)}},{key:"onDidInit",value:function(){this.updateErrors()}},{key:"onFinalOutputObject",value:function(e){var t=e.output;if(console.d("onFinalOutputObject",e,this.block.obj),null!==this.block.obj){this.block.obj.err=[];try{if(null!=e.parseError){if(!this.block.obj.onParseError(t,e.parseError)&&this.editMode){var n=t;void 0!==e.parseError.parsedString&&(n=e.parseError.parsedString),n=n.replace(/</g,"&lt;"),this.$q.dialog({title:this.$l("CodePlayground.InvalidJson"),message:'<span class="text-caption jsonErrTitle">'+this.$t("CodePlayground.Output")+'</span><div class="jsonErrObj">'+n+'</div>\n<span class="text-caption jsonErrTitle">'+this.$t("CodePlayground.Message")+'</span><div class="jsonErr">'+e.parseError+"</div>",html:!0}).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))}if(this.updateErrors())return}var o=this;this.$nextTick((function(){if(console.d("Ticked",o.block.obj,o.canvas),null!==o.block.obj&&void 0!==o.canvas){var t=o.block.obj.update(e,$(o.canvas));if(o.updateErrors())return;void 0===t&&"text"!=e.processedOutput.type&&(o.originalMode||(t=e.processedOutput.text)),o.originalMode&&"string"!==typeof t&&(t=""),void 0!==t&&o.$emit("changeOutput",t)}}))}catch(i){console.error(i)}this.block.obj.err.length>0&&(this.editMode?this.updateErrors():console.error(this.block.obj.err))}}}]),n}(fn["a"]));Object(T["b"])([Object(O["b"])({required:!0})],hn.prototype,"finalOutputObject",void 0),Object(T["b"])([Object(O["b"])({required:!0,validator:function(e){return!!e.obj}})],hn.prototype,"block",void 0),Object(T["b"])([Object(O["b"])({default:!1})],hn.prototype,"editMode",void 0),Object(T["b"])([Object(O["b"])({default:"auto"})],hn.prototype,"visibleLines",void 0),Object(T["b"])([Object(O["b"])({default:"base16-dark"})],hn.prototype,"theme",void 0),Object(T["b"])([Object(O["b"])({required:!0})],hn.prototype,"eventHub",void 0),Object(T["b"])([Object(O["b"])()],hn.prototype,"tagSet",void 0),hn=Object(T["b"])([Object(O["a"])({components:{PlaygroundCanvas:mn,CodeBlock:Qt["a"]}})],hn);var gn=hn,vn=gn,bn=(n("6602"),n("d5a0"),n("e7a9")),Dn=Object(lt["a"])(vn,rn,an,!1,null,"d49c09c2",null),yn=Dn.exports;Ct()(Dn,"components",{QBtnGroup:bn["a"],QBtn:pt["a"],QSlideTransition:gt["a"]});var _n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"codeblock block-"+e.typeName},[e.allowsREPL&&e.canStartREPL?n("div",{staticClass:"row runnerState",attrs:{id:"stateBox","data-question":e.blockInfo.id}},[n("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isRunning,expression:"!isRunning"}],staticClass:"white--text q-pr-sm",staticStyle:{"border-radius":"0px"},attrs:{id:"allow_run_button",loading:!e.isReady,disabled:!e.isReady,color:"primary",ripple:{center:!0},"data-question":e.blockInfo.id},on:{click:e.emitRun}},[e._v(" "+e._s(e.$t("CodeBlocks.start"))+" "),n("q-icon",{attrs:{right:"",dark:"",name:"play_arrow"}})],1),n("div",{staticClass:"animated fadeIn"}),n("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.canStop,expression:"canStop"}],staticClass:"q-pl-0"},[n("q-btn",{staticStyle:{"border-radius":"0px"},attrs:{id:"cancel_button",color:"negative",ripple:{center:!0},"data-question":e.blockInfo.id},on:{click:e.emitStop}},[e._v(" "+e._s(e.$t("CodeBlocks.stop"))+" "),n("q-icon",{attrs:{right:"",dark:"",name:"stop"}})],1)],1)]),n("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showGlobalMessages,expression:"showGlobalMessages"}],staticClass:"globalState col-grow",staticStyle:{"align-self":"center"}},[n("div",{attrs:{id:"message"},domProps:{innerHTML:e._s(e.globalStateMessage)}})])])],1):e._e(),n("transition",{attrs:{appear:"","enter-active-class":"animated fadeInup","leave-active-class":"animated fadeOutDown"}},[e.isRunning?e._e():n("div",{staticClass:"q-mt-md"},[n("q-banner",{staticClass:"bg-warning",attrs:{"inline-actions":""},scopedSlots:e._u([{key:"action",fn:function(){return[e.isReady&&!e.canStop?n("q-btn",{attrs:{flat:"",color:"white"},on:{click:e.emitRun}},[e._v(" "+e._s(e.$t("CodeBlocks.start"))+" "),n("q-icon",{attrs:{right:"",dark:"",name:"play_arrow"}})],1):e._e()]},proxy:!0}],null,!1,3640785926)},[e._v(" Interpreter is not yet Ready. You may need to start it first. ")])],1)]),n("Terminal",{directives:[{name:"show",rawName:"v-show",value:e.allowsREPL&&e.canStartREPL,expression:"allowsREPL && canStartREPL"}],attrs:{"console-sign":"$","allow-arbitrary":"",height:"500px",blockInfo:e.blockInfo,eventHub:e.eventHub},on:{run:e.emitRun,stop:e.emitStop}}),e.allowsREPL?e._e():n("div",{staticClass:"q-mt-md"},[e._v(" The current language does not support a REPL-Element ")]),e.canStartREPL?e._e():n("div",{staticClass:"q-mt-md"},[e._v(" Unable to start REPL-Environment. (Code execution, message passing and keep-alive need to be enabled) ")])],1)},kn=[],Cn=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},wn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-terminal-wrapper"},[n("div",{staticClass:"basicterm",attrs:{id:"terminal"}})])}],xn=n("b85c"),En=(n("d9d0"),n("1157")),Tn=n.n(En);function On(e){return new Promise((function(t){return setTimeout(t,e)}))}var An=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"compiler",get:function(){return this.blockInfo.compiler}},{key:"welcomeMessage",get:function(){var e=this.$compilerRegistry.getCompiler(this.compiler),t="";return void 0!==e&&(t=e.language),"{*_*} Interactive ".concat(t," Shell\n------------------------------")}},{key:"emitRun",value:function(){void 0!==this.term&&this.clear(),this.$emit("run")}},{key:"emitStop",value:function(){this.$emit("stop")}},{key:"clear",value:function(){void 0!==this.term&&(this.term.clear(),this.term.echo(this.welcomeMessage))}},{key:"mounted",value:function(){var e=this,t=this.$compilerRegistry.getCompiler(this.compiler),n="python"===t.language?"py> ":">>> ",o="... ";function i(){return Object(T["a"])(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.term.ready,e.term.ready=new Promise((function(e){return n=e})),t.next=4,o;case 4:return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))}function r(r){return Object(T["a"])(this,void 0,void 0,regeneratorRuntime.mark((function a(){var s,l,u,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,i();case 2:s=a.sent,a.prev=3,e.term.pause(),l=Object(xn["a"])(r.split("\n")),a.prev=6,l.s();case 8:if((u=l.n()).done){a.next=34;break}if(c=u.value,a.prev=10,".stop"!==c){a.next=14;break}return e.emitStop(),a.abrupt("return");case 14:if(".restart"!==c){a.next=21;break}return e.emitStop(),e.clear(),a.next=19,On(1e3);case 19:return e.emitRun(),a.abrupt("return");case 21:if(".clear"!==c){a.next=24;break}return e.term.clear(),a.abrupt("return");case 24:return e.term.set_prompt(o),a.next=27,t.interpreter(c,(function(t){e.term.set_prompt(t?o:n)}),(function(t){e.term.echo(t,{newline:!1})}),(function(t){e.term.error(t)}));case 27:a.next=32;break;case 29:a.prev=29,a.t0=a["catch"](10),e.term.error(a.t0);case 32:a.next=8;break;case 34:a.next=39;break;case 36:a.prev=36,a.t1=a["catch"](6),l.e(a.t1);case 39:return a.prev=39,l.f(),a.finish(39);case 42:return a.prev=42,e.term.resume(),a.next=46,On(10);case 46:return s(),a.finish(42);case 48:case"end":return a.stop()}}),a,null,[[3,,42,48],[6,36,39,42],[10,29]])})))}var a=Tn()("#terminal",".vue-terminal-wrapper");e.term=a.terminal(r,{greetings:e.welcomeMessage,name:"codeblocks_repl",height:this.height,prompt:n}),e.term.ready=Promise.resolve(),this.eventHub&&(this.eventHub.$on("console-log",(function(t){return e.term.echo(t)})),this.eventHub.$on("console-err",(function(t){return e.term.error(t)})),this.eventHub.$on("clicked-run",(function(){return e.clear()})))}},{key:"beforeDestroy",value:function(){this.eventHub&&(this.eventHub.$off("console-log"),this.eventHub.$off("console-err"),this.eventHub.$off("clicked-run"))}}]),n}(O["c"]);Object(T["b"])([Object(O["b"])({default:"250px"})],An.prototype,"height",void 0),Object(T["b"])([Object(O["b"])({required:!0})],An.prototype,"blockInfo",void 0),Object(T["b"])([Object(O["b"])({required:!0})],An.prototype,"eventHub",void 0),An=Object(T["b"])([O["a"]],An);var $n=An,Sn=$n,jn=(n("0070"),Object(lt["a"])(Sn,Cn,wn,!1,null,null,null)),Fn=jn.exports,Bn=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"hasContent",get:function(){return!1}},{key:"isRunning",get:function(){return this.canStop}},{key:"canStartREPL",get:function(){return this.blockInfo.runCode&&this.blockInfo.messagePassing&&this.blockInfo.keepAlive}},{key:"allowsREPL",get:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);return void 0!==e&&e.allowsREPL}},{key:"compiler",get:function(){return this.blockInfo.compiler}},{key:"typeName",get:function(){var e=this.block.type.toLowerCase();return this.block.hidden&&(e+="-hidden"),this.block.static&&(e+="-static"),e}},{key:"readyWhenMounted",get:function(){return!1}},{key:"terminal",get:function(){return this.$refs.terminal}},{key:"emitRun",value:function(){this.$emit("run",this.block)}},{key:"emitStop",value:function(){this.$emit("stop",this.block)}},{key:"mounted",value:function(){this.eventHub?this.eventHub.$on("all-mounted",this.whenMounted):this.whenMounted();var e=this.$compilerRegistry.getCompiler(this.compiler);this.waitReady(e)}},{key:"beforeDestroy",value:function(){this.eventHub&&this.eventHub.$off("all-mounted"),this.whenBlockIsDestroyed()}},{key:"waitReady",value:function(e){void 0===e||e.isReady?this.whenBlockIsReady():setTimeout(this.waitReady.bind(this,e),500)}},{key:"whenMounted",value:function(){this.emitRun()}}]),n}(fn["a"]);Object(T["b"])([Object(O["b"])({required:!0})],Bn.prototype,"eventHub",void 0),Object(T["b"])([Object(O["b"])({required:!0})],Bn.prototype,"blockInfo",void 0),Object(T["b"])([Object(O["b"])({required:!0})],Bn.prototype,"isReady",void 0),Object(T["b"])([Object(O["b"])({required:!0})],Bn.prototype,"canStop",void 0),Object(T["b"])([Object(O["b"])({required:!0})],Bn.prototype,"showGlobalMessages",void 0),Object(T["b"])([Object(O["b"])({required:!0})],Bn.prototype,"globalStateMessage",void 0),Bn=Object(T["b"])([Object(O["a"])({components:{Terminal:Fn}})],Bn);var Rn=Bn,Ln=Rn,Pn=Object(lt["a"])(Ln,_n,kn,!1,null,null,null),Mn=Pn.exports;Ct()(Pn,"components",{QBtn:pt["a"],QIcon:yt["a"],QBanner:vt["a"]});var In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.editMode?n("TipTap",{staticClass:"editor q-my-3",attrs:{value:e.value,name:e.name,language:e.language,scopUUID:e.scopeUUID,editMode:e.editMode},on:{input:e.updatedContentDefered}}):n("div",{directives:[{name:"highlight",rawName:"v-highlight",value:e.language,expression:"language"}],domProps:{innerHTML:e._s(e.previewValue)}})],1)},qn=[],Nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row q-ma-0 q-pa-0"},[n("div",{staticClass:"col-xs-12 col-md-6 q-px-sm"},[n("q-input",{ref:"editBox",staticClass:"plain accqstXmlInput noRTEditor",attrs:{type:"textarea",autogrow:"",filled:"",name:e.name,label:"HTML Source","background-color":"blue-grey darken-3"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1),n("div",{staticClass:"col-xs-12 col-md-6 q-px-sm"},[n("div",{staticClass:"q-field__label no-pointer-events ellipsis text-caption wysiwyg"},[e._v(" Preview ")]),n("div",{directives:[{name:"highlight",rawName:"v-highlight",value:e.language,expression:"language"},{name:"tagged",rawName:"v-tagged",value:e.scopeUUID,expression:"scopeUUID"}],domProps:{innerHTML:e._s(e.text)}})])])},zn=[],Un=(n("b0c0"),function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"text",get:function(){return this.value},set:function(e){this.updatedContent(e)}},{key:"updatedContent",value:function(e){this.$emit("input",e)}},{key:"replaceTemplateTags",value:function(e){this.editMode&&e.scopeUUID==this.scopeUUID&&this.updatedContent(O["c"].$tagger.replaceTemplateTagInString(this.text,e.name,e.newValue))}},{key:"mounted",value:function(){var e=this.$refs.editBox;e.$el.querySelectorAll("textarea[name]").forEach((function(e){e.className=(e.className+" accqstXmlInput noRTEditor").trim()})),O["c"].$tagger.$on("replace-template-tag",this.replaceTemplateTags)}},{key:"beforeDestroy",value:function(){O["c"].$tagger.$off("replace-template-tag",this.replaceTemplateTags)}}]),n}(O["c"]));Object(T["b"])([Object(O["b"])({default:""})],Un.prototype,"value",void 0),Object(T["b"])([Object(O["b"])({default:""})],Un.prototype,"name",void 0),Object(T["b"])([Object(O["b"])({default:""})],Un.prototype,"scopeUUID",void 0),Object(T["b"])([Object(O["b"])({default:!1})],Un.prototype,"editMode",void 0),Object(T["b"])([Object(O["b"])({default:"javascript"})],Un.prototype,"language",void 0),Un=Object(T["b"])([O["a"]],Un);var Hn=Un,Wn=Hn,Vn=(n("a999"),n("8572")),Gn=Object(lt["a"])(Wn,Nn,zn,!1,null,"5a368702",null),Jn=Gn.exports;Ct()(Gn,"components",{QInput:ft["a"],QField:Vn["a"]});var Kn=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.textUpdateTimer=null,e.textUpdateStartTime=0,e}return Object(f["a"])(n,[{key:"updatedContentDefered",value:function(e){var t=this;if(this.editMode){var n=(new Date).getTime();null!==this.textUpdateTimer?(clearTimeout(this.textUpdateTimer),this.textUpdateTimer=null):this.textUpdateStartTime=n;var o=function(){t.textUpdateTimer=null,t.updatedContent(e)};n-this.textUpdateStartTime>"800"?o():this.textUpdateTimer=setTimeout((function(){o()}),"150")}else this.updatedContent(e)}},{key:"updatedContent",value:function(e){this.$emit("input",e)}}]),n}(fn["a"]);Object(T["b"])([Object(O["b"])()],Kn.prototype,"language",void 0),Object(T["b"])([Object(O["b"])({default:""})],Kn.prototype,"value",void 0),Object(T["b"])([Object(O["b"])({default:""})],Kn.prototype,"name",void 0),Object(T["b"])([Object(O["b"])({default:""})],Kn.prototype,"scopeUUID",void 0),Object(T["b"])([Object(O["b"])({default:!1})],Kn.prototype,"editMode",void 0),Object(T["b"])([Object(O["b"])({default:""})],Kn.prototype,"previewValue",void 0),Kn=Object(T["b"])([Object(O["a"])({components:{TipTap:Jn}})],Kn);var Qn=Kn,Yn=Qn,Xn=Object(lt["a"])(Yn,In,qn,!1,null,"fead5814",null),Zn=Xn.exports;function eo(e){var t=/^@(bold|italic|em)?(red|green|blue|cyan|magenta|yellow|orange|gray|#[\da-f]{6}|#[\da-f]{8}):(.*)/gim;return e.split("\n").map((function(n,o){var i;if(null!==(i=t.exec(e))){var r="";"gray"===i[2]?r='style="color:silver"':void 0!==i[2]&&(r='style="color:'.concat(i[2],'"')),n="bold"===i[1]?"<b ".concat(r,">").concat(i[3],"</b>"):"italic"===i[1]||"em"===i[1]?"<em ".concat(r,">").concat(i[3],"</em>"):"<span ".concat(r,">").concat(i[3],"</span>")}return n})).join("\n")}var to=function(){return n.e("chunk-2e9fb724").then(n.bind(null,"c3c6"))},no=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.didInitialize=!1,e.outputHTML="",e.output="",e.sansoutput="",e.didClip=!1,e._finalOutputObject=null,e.eventHub=new O["c"],e.didRunOnce=!1,e.bookmarkedBlock=null,e.triggerRecompileWhenFinished=!1,e.continuousCodeUpdateTimer=null,e}return Object(f["a"])(n,[{key:"continuousCompile",get:function(){if(this.editMode)return!1;var e=this.$compilerRegistry.getCompiler(this.compiler);return!!e&&e.allowsContinousCompilation}},{key:"finalOutputObject",get:function(){return null===this._finalOutputObject||void 0===this._finalOutputObject?{initialOutput:"",output:"",processedOutput:{type:"text",text:"",json:void 0},sansoutput:"",outputElement:$(this.outputElement)}:this._finalOutputObject}},{key:"options",get:function(){return{language:this.language,compiler:this.compiler,executionTimeout:this.executionTimeout,maxCharacters:this.maxCharacters,runCode:this.runCode,domLibs:this.domLibraries,workerLibs:this.workerLibraries,id:this.blockInfo.id,codeTheme:this.codeTheme,solutionTheme:this.solutionTheme,outputParser:this.outputParser,randomizer:this.blockInfo.randomizer,continuousCompilation:this.blockInfo.continuousCompilation,persistentArguments:this.blockInfo.persistentArguments,messagePassing:this.blockInfo.messagePassing,keepAlive:this.blockInfo.keepAlive}}},{key:"blocks",get:function(){return this.blockInfo.blocks}},{key:"language",get:function(){return this.blockInfo.language}},{key:"blockid",get:function(){return this.blockInfo.id}},{key:"executionTimeout",get:function(){return this.blockInfo.executionTimeout}},{key:"maxCharacters",get:function(){return this.blockInfo.maxCharacters}},{key:"compiler",get:function(){return this.blockInfo.compiler}},{key:"runCode",get:function(){return this.blockInfo.runCode}},{key:"domLibraries",get:function(){return this.blockInfo.domLibs}},{key:"workerLibraries",get:function(){return this.blockInfo.workerLibs}},{key:"solutionTheme",get:function(){return this.blockInfo.solutionTheme}},{key:"codeTheme",get:function(){return this.blockInfo.codeTheme}},{key:"readonly",get:function(){return this.blockInfo.readonly}},{key:"outputParser",get:function(){return this.blockInfo.outputParser}},{key:"editMode",get:function(){return!1}},{key:"hasOutput",get:function(){return void 0!==this.outputHTML&&""!=this.outputHTML}},{key:"mimeType",get:function(){return this.$CodeBlock.mimeType(this.language)}},{key:"isReady",get:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);return!!e&&(this.didInitialize&&e.isReady&&!e.isRunning&&!this.$compilerState.runButtonForceHide)}},{key:"canRun",get:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);return!!e&&(e.canRun&&this.runCode)}},{key:"randomizerActive",get:function(){return this.blockInfo.randomizer.active}},{key:"activeTagSet",get:function(){if(this.randomizerActive)return this.tagSet(this.blockInfo.randomizer.previewIndex)}},{key:"completeSource",get:function(){return this.blocks.filter((function(e){return e.hasCode})).map((function(e){return e.actualContent()})).reduce((function(e,t){return e+"\n"+t}),"")}},{key:"showGlobalMessages",get:function(){return!this.$compilerState.globalStateHidden}},{key:"playgrounds",get:function(){return this.blocks.filter((function(e){return"PLAYGROUND"==e.type}))}},{key:"outputElement",get:function(){return this.$refs.output}},{key:"addonClass",get:function(){var e="";return this.editMode&&(e+="editmode "),this.readonly&&(e+="block-readonly "),e}},{key:"backgroundColorClass",get:function(){return this.editMode?"blue-grey darken-4":""}},{key:"blockBecameReady",value:function(){var e=this,t=this.blockInfo.blocks.map((function(e){return e.readyCount})).reduce((function(e,t){return e+t}),0);t==this.blockInfo.blocks.length&&this.$nextTick((function(){e.eventHub.$emit("all-mounted",{})})),console.d("Ready",t,this.blockInfo.blocks.length)}},{key:"tagSet",value:function(e){return this.blockInfo.randomizer.sets[e]}},{key:"themeForBlock",value:function(e){return e.themeForCodeBlock}},{key:"blockById",value:function(e){return this.blocks.find((function(t){return t.id==e}))}},{key:"onTypeChange",value:function(e){}},{key:"onVisibleLinesChange",value:function(e){}},{key:"onPlacementChange",value:function(e){}},{key:"onScriptVersionChange",value:function(e){}},{key:"onSetAutoReset",value:function(e){}},{key:"onSetGenerateTemplate",value:function(e){}},{key:"onCompilerChange",value:function(e){}},{key:"onCompilerVersionChange",value:function(e){}},{key:"onRunStateChange",value:function(e){}},{key:"onContinousCompileStateChange",value:function(e){}},{key:"onMessagePassingChange",value:function(e){}},{key:"onKeepAliveChange",value:function(e){}},{key:"onPersistentArgumentsChange",value:function(e){}},{key:"onLanguageChange",value:function(e){}},{key:"onCharacterLimitChange",value:function(e){}},{key:"onTimeoutChange",value:function(e){}},{key:"onWorkerLibChange",value:function(e){}},{key:"onDomLibChange",value:function(e){}},{key:"onThemeChange",value:function(e){}},{key:"onOutputParserChange",value:function(e){}},{key:"moveUp",value:function(e){}},{key:"moveDown",value:function(e){}},{key:"removeBlock",value:function(e){}},{key:"addNewBlock",value:function(){}},{key:"onPlaygroundChangedOutput",value:function(e){void 0!==e&&this.output!=e&&(this.output=e.replaceAllPoly("<","&lt;").replaceAllPoly(">","&gt;"),this.maxCharacters>0&&this.output.length>this.maxCharacters?(this.outputHTML=eo(this.output.substr(0,this.maxCharacters)),this.outputHTML+=this.$CodeBlock.format_info("Info: Output too long. Removed all following Characters. \n<b>...</b>\n\n")):this.outputHTML=eo(this.output),this.outputHTML+=this.sansoutput)}},{key:"resetOutput",value:function(){this.output="",this.sansoutput="",this.didClip=!1,this.outputHTML=""}},{key:"log",value:function(e){var t;(this.output+=e,e=e.replaceAllPoly("<","&lt;").replaceAllPoly(">","&gt;"),this.didClip)||(this.maxCharacters>0&&this.output.length>this.maxCharacters?(t=this.$CodeBlock.format_info("Info: Output too long. Removed all following Characters. \n<b>...</b>\n\n"),this.didClip=!0):t=eo(e),this.outputHTML+=t,this.eventHub.$emit("console-log",t))}},{key:"logError",value:function(e){e=e.replaceAllPoly("<","&lt;").replaceAllPoly(">","&gt;"),this.eventHub.$emit("console-err",e),e=this.$CodeBlock.format_error(e),this.sansoutput+=e,this.outputHTML+=e}},{key:"logInfo",value:function(e){e=e.replaceAllPoly("<","&lt;").replaceAllPoly(">","&gt;"),this.eventHub.$emit("console-nfo",e),e=this.$CodeBlock.format_info(e),this.sansoutput+=e,this.outputHTML+=e}},{key:"processDiagnostics",value:function(e){e.start.line;this.blocks.forEach((function(t){if(t.hasCode){var n=t.firstLine,o=t.nextLine-1;e.start.line>=n&&e.start.line<=o&&t.errors.push(e)}}))}},{key:"clearDiagnostics",value:function(){this.blocks.forEach((function(e){return e.errors=[]})),this.eventHub.$emit("render-diagnostics",{})}},{key:"loadLibraries",value:function(e){this.$compilerRegistry.loadLibraries(this.domLibraries,e)}},{key:"finishedExecution",value:function(e,t,n){var o=void 0,i={type:"text",json:void 0,text:e};if(void 0!==e&&this.playgrounds.length>0)try{i=this.$CodeBlock.processMixedOutput(e,this.outputParser,void 0,n)}catch(r){o=r}this._finalOutputObject={initialOutput:e,output:e,processedOutput:i,sansoutput:this.sansoutput,parseError:o,outputElement:$(this.$refs.output)},this.eventHub.$emit("output-updated",this._finalOutputObject),this.onRunFinished()}},{key:"hasREPL",get:function(){return this.blocks.filter((function(e){return e.type===h["c"].REPL})).length>0}},{key:"canStop",get:function(){return!this.isReady&&this.didRunOnce}},{key:"stop",value:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);void 0!==e&&void 0!==e.stop&&e.stop()}},{key:"run",value:function(){var e=this,t=this.$compilerRegistry.getCompiler(this.compiler);if(void 0===t)return!1;this.$compilerState.setAllRunButtons(!1),this.resetOutput(),this.eventHub.$emit("clicked-run"),this.clearDiagnostics();var n=this;return this.loadLibraries((function(){n.eventHub.$emit("before-run",{}),console.d("compileAndRun"),n.didRunOnce=!0,n.$nextTick((function(){var o={};t.acceptsJSONArgument&&(o=e.blockInfo.initArgsForLanguage(),e.blocks.forEach((function(e){e.obj&&(console.i("!!! ADD ARGUMENTS TO !!!"),e.obj.addArgumentsTo(o))})));var i={max_ms:n.executionTimeout,log_callback:n.log.bind(e),info_callback:n.logInfo.bind(e),err_callback:n.logError.bind(e),compileFailedCallback:n.processDiagnostics.bind(e),finishedExecutionCB:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(console.i("returnState:",a,o),!t)return n.$compilerState.hideGlobalState(),void n.$compilerState.setAllRunButtons(!0);var s=n.finishedExecution(r||n.output,n.sansoutput,i.resultData);return void 0!==a&&(e.blockInfo.persistentArguments?(console.i("Store Default State",a),e.blockInfo.storeDefaultArgs(a)):e.blockInfo.clearDefaultArgs()),n.$compilerState.hideGlobalState(),n.$compilerState.setAllRunButtons(!0),s},args:o,didReceiveMessage:function(t,n){console.i("MESSAGE - Received",t),e.blocks.forEach((function(e){e.obj&&e.obj.didReceiveMessage(t,n)}))},postMessageFunction:null,dequeuePostponedMessages:function(){},allowMessagePassing:t.allowsMessagePassing&&n.options.messagePassing,keepAlive:t.allowsMessagePassing&&n.options.messagePassing&&n.options.keepAlive,withREPL:t.allowsMessagePassing&&n.options.messagePassing&&n.options.keepAlive&&e.hasREPL,beforeStartHandler:function(){e.blocks.forEach((function(e){console.d("MESSAGE - Before Start"),e.obj&&e.obj.beforeStart()}))},whenFinishedHandler:function(t){e.blocks.forEach((function(e){console.d("MESSAGE - When Finished"),e.obj&&e.obj.whenFinished(t,i.resultData)}))},resultData:void 0};i.keepAlive&&e.blocks.forEach((function(e){e.obj&&(e.obj.runConfig=i)})),t.compileAndRun(""+n.blockid,n.completeSource,n,i)}))})),!0}},{key:"onkey",value:function(e){if(this.editMode&&(e.ctrlKey||e.metaKey)&&("w"===e.key||"j"===e.key))return this.run(),e.preventDefault(),!1}},{key:"mounted",value:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);e&&e.preload();var t=this;this.loadLibraries((function(){t.eventHub.$emit("initialized-libraries",{})})),this.didInitialize=!0,this.editMode&&window.addEventListener("keydown",this.onkey,!1),O["c"].$GlobalEventHub.$on("bookmark-block",this.onBookmarkBlock)}},{key:"beforeDestroy",value:function(){window.removeEventListener("keydown",this.onkey),O["c"].$GlobalEventHub.$off("bookmark-block")}},{key:"hasBookmark",get:function(){return null!==this.bookmarkedBlock&&this.editMode}},{key:"panelBlock",get:function(){return this.bookmarkedBlock}},{key:"onBookmarkBlock",value:function(e){console.i("Bookmark",e),this.blockInfo.uuid==e.uuid&&(this.bookmarkedBlock=e.block)}},{key:"onViewCodeChange",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(t||this.blockInfo.continuousCompilation)&&(null!==this.continuousCodeUpdateTimer&&(clearTimeout(this.continuousCodeUpdateTimer),this.continuousCodeUpdateTimer=null),this.continuousCodeUpdateTimer=setTimeout((function(){var t=e.$compilerRegistry.getCompiler(e.compiler);console.d("Continuous Compile - ",t),t&&t.allowsContinousCompilation&&(!t.isRunning&&t.isReady?(console.d("Continuous Compile - ","RUN"),e.run()):(console.d("Continuous Compile - ","DEFER"),e.triggerRecompileWhenFinished=!0))}),"800"))}},{key:"onRunFinished",value:function(){this.didRunOnce=!1,this.triggerRecompileWhenFinished&&(console.d("Continuous Compile - ","RE-RUN"),this.triggerRecompileWhenFinished=!1,this.onViewCodeChange())}},{key:"onRunFromPlayground",value:function(){var e=this.$compilerRegistry.getCompiler(this.compiler);e&&e.canRun&&!this.editMode&&e.allowsContinousCompilation&&this.onViewCodeChange(!0)}}]),n}(O["c"]);Object(T["b"])([Object(O["b"])({required:!0})],no.prototype,"blockInfo",void 0),no=Object(T["b"])([Object(O["a"])({components:{CodeBlockContainer:xt,CodeBlocksSettings:Kt,CodeBlock:Qt["a"],CodePlayground:yn,SimpleText:Zn,Blockly:to,CodePanel:on,CodeREPL:Mn}})],no);var oo=no,io=oo,ro=(n("7a59"),Object(lt["a"])(io,Je,Ke,!1,null,null,null)),ao=ro.exports;Ct()(ro,"components",{QBtn:pt["a"],QIcon:yt["a"],QTooltip:zt["a"],QSlideTransition:gt["a"]});var so={name:"App",props:["blocks"],components:{CodeBlocks:ao},data:function(){return{}},computed:{}},lo=so,uo=(n("cf25"),n("4d5a")),co=n("09e3"),po=Object(lt["a"])(lo,Ve,Ge,!1,null,null,null),mo=po.exports;Ct()(po,"components",{QLayout:uo["a"],QPageContainer:co["a"]});var fo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{staticStyle:{"min-height":"0"},attrs:{view:"hHh lpR fFf"}},[n("q-page-container",[n("CodeBlocksEditor",{attrs:{blockInfo:e.blocks}})],1)],1)},ho=[],go=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"editMode",get:function(){return!0}},{key:"onTypeChange",value:function(e){var t=this.blockById(e.id);void 0!==t&&(t.type=e.type,t.hidden=e.hidden,t.static=e.static,t.hasCode=e.hasCode)}},{key:"onVisibleLinesChange",value:function(e){var t=this.blockById(e.id);void 0!==t&&("auto"!=e.visibleLines&&isNaN(e.visibleLines)?t.visibleLines="auto":t.visibleLines=e.visibleLines)}},{key:"onPlacementChange",value:function(e){var t=this.blockById(e.id);void 0!==t&&(t.width=e.width,t.height=e.height,t.align=e.align)}},{key:"onCompilerChange",value:function(e){var t=this.$compilerRegistry.getCompiler({languageType:e});void 0!==t&&(console.log("Selected Compiler",t,e,this.blockInfo.compiler),this.blockInfo.compiler.languageType=e,this.blockInfo.compiler.version=t.version,this.blockInfo.language=t.language,console.log("PRELOADING"),t.preload())}},{key:"onCompilerVersionChange",value:function(e){console.log("Selected Version",e,this.blockInfo.compiler.languageType);var t=this.$compilerRegistry.getCompiler({languageType:this.blockInfo.compiler.languageType,version:e});this.blockInfo.compiler.version=e,void 0!==t&&(this.blockInfo.language=t.language,console.log("PRELOADING"),t.preload())}},{key:"onRunStateChange",value:function(e){this.blockInfo.runCode=e}},{key:"onContinousCompileStateChange",value:function(e){this.blockInfo.continuousCompilation=e}},{key:"onMessagePassingChange",value:function(e){this.blockInfo.messagePassing=e}},{key:"onKeepAliveChange",value:function(e){this.blockInfo.keepAlive=e}},{key:"onPersistentArgumentsChange",value:function(e){!1===e&&this.blockInfo.clearDefaultArgs(),this.blockInfo.persistentArguments=e}},{key:"onLanguageChange",value:function(e){this.blockInfo.language=e}},{key:"onCharacterLimitChange",value:function(e){this.blockInfo.maxCharacters=e}},{key:"onTimeoutChange",value:function(e){this.blockInfo.executionTimeout=e}},{key:"onWorkerLibChange",value:function(e){this.blockInfo.workerLibs=e}},{key:"onDomLibChange",value:function(e){this.blockInfo.domLibs=e}},{key:"onScriptVersionChange",value:function(e){var t=this.blockById(e.id);void 0!==t&&(t.version=e.version,t.obj&&(t.obj.version=e.version))}},{key:"onSetAutoReset",value:function(e){var t=this.blockById(e.id);void 0!==t&&(t.shouldAutoreset=e.shouldAutoreset)}},{key:"onSetGenerateTemplate",value:function(e){var t=this.blockById(e.id);void 0!==t&&(t.generateTemplate=e.generateTemplate)}},{key:"onThemeChange",value:function(e){this.blockInfo.solutionTheme=e.solution,this.blockInfo.codeTheme=e.code}},{key:"moveUp",value:function(e){this.blockInfo.moveUp(e)}},{key:"moveDown",value:function(e){this.blockInfo.moveDown(e)}},{key:"addNewBlock",value:function(){this.blockInfo.addNewBlock()}},{key:"removeBlock",value:function(e){this.blockInfo.removeBlock(e)}},{key:"onOutputParserChange",value:function(e){this.blockInfo.outputParser=e}}]),n}(ao);go=Object(T["b"])([O["a"]],go);var vo,bo,Do=go,yo=Do,_o=Object(lt["a"])(yo,vo,bo,!1,null,null,null),ko=_o.exports,Co={name:"AppEditor",props:["blocks"],components:{CodeBlocksEditor:ko},data:function(){return{}},computed:{}},wo=Co,xo=(n("a571"),Object(lt["a"])(wo,fo,ho,!1,null,null,null)),Eo=xo.exports;Ct()(xo,"components",{QLayout:uo["a"],QPageContainer:co["a"]});var To=function(){function e(){Object(m["a"])(this,e)}return Object(f["a"])(e,[{key:"blockTag",get:function(){return"BLOCK"}},{key:"loadFromDatablock",value:function(e,t,n,o){var i=e.getElementsByTagName("ALTERNATIVE"),r=e.getElementsByTagName("CODE");r.length>0&&(n.content=r[0].textContent?r[0].textContent:""),i.length>0&&(n.hasAlternativeContent=!0,n.alternativeContent=i[0].textContent,!o&&n.noContent&&(n.content=n.alternativeContent?n.alternativeContent:"")),n.hasCode=!0}}]),e}(),Oo=new To,Ao=function(e){e[Oo.blockTag]=Oo},$o=function(){function e(){Object(m["a"])(this,e)}return Object(f["a"])(e,[{key:"blockTag",get:function(){return"PLAYGROUND"}},{key:"loadFromDatablock",value:function(e,t,n,o){n.obj=null,tt.loadFromDatablock(e,t,n),n.version=e.getAttribute("data-version")?e.getAttribute("data-version"):n.version}}]),e}(),So=new $o,jo=function(e){e[So.blockTag]=So},Fo=function(){function e(){Object(m["a"])(this,e)}return Object(f["a"])(e,[{key:"blockTag",get:function(){return"REPL"}},{key:"loadFromDatablock",value:function(e,t,n,o){}}]),e}(),Bo=new Fo,Ro=function(e){e[Bo.blockTag]=Bo},Lo={};Ao(Lo),it(Lo),jo(Lo),Ro(Lo),O["c"].prototype.$compilerRegistry=Re;var Po=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"actualContent",value:function(){return this.appSettings.randomizer.active?O["c"].$tagger.replaceRandomTagsInString(this.content,this.appSettings.randomizer.sets[this.appSettings.randomizer.previewIndex]):this.content}},{key:"recreateScriptObject",value:function(){if(this.type===h["c"].PLAYGROUND){console.i("recreateScriptObject");var e=new We(this.actualContent(),this.version);this.obj=e,console.i("Block Rebuild",this.obj,this.uuid)}}},{key:"created",value:function(){this.recreateScriptObject()}},{key:"getThemeForBlock",value:function(e){return e.static||e.readonly||e.hidden?this.appSettings.codeTheme:this.appSettings.solutionTheme}},{key:"themeForCodeBlock",get:function(){return this.static||this.readonly||this.hidden?this.appSettings.codeTheme:this.appSettings.solutionTheme}},{key:"isLast",get:function(){return this.id==this.appSettings.blocks.length-1}},{key:"firstLine",get:function(){return 0===this.id?1:this.appSettings.blocks[this.id-1].nextLine}},{key:"lineCount",get:function(){if(!this.hasCode)return 0;if(this.lineCountHint>=0)return this.lineCountHint;var e=0;return this.content.replace(/\n/,(function(t){return e++,t})),e}},{key:"nextLine",get:function(){return this.hasCode?this.firstLine+this.lineCount:this.firstLine}},{key:"domLibs",get:function(){return this.appSettings.domLibs}},{key:"scriptVersion",get:function(){return this.version}},{key:"onTypeChanged",value:function(e,t){e!=t&&this.recreateScriptObject()}},{key:"scope",get:function(){return this.scopeSelector?$(this.scopeSelector):$('.codeblocks[uuid="'.concat(this.appSettings.uuid,'"]'))}}]),n}(O["c"]);function Mo(e){return void 0!==e&&"false"!=e&&"0"!=e}Object(T["b"])([Object(O["d"])("type")],Po.prototype,"onTypeChanged",null),Po=Object(T["b"])([O["a"]],Po);var Io=!1,qo=function(){function e(t){var n=this;if(Object(m["a"])(this,e),this.shadowRoot=void 0,Io){t.outerHTML;var o=t.parentElement,r=document.createElement("DIV");o.replaceChild(r,t);var a=r.attachShadow({mode:"open"});this.shadowRoot=a,a.innerHTML="",$("style").each((function(e,t){var n=document.createElement("STYLE");n.innerHTML=t.innerHTML,a.appendChild(n)})),$("link[shadow]").each((function(e,t){a.appendChild(t.cloneNode())})),a.appendChild(t),this.element=t}else this.shadowRoot=void 0,this.element=t;var s=t.dataset,l={id:-1,editMode:"CODEBLOCKSEDITOR"==t.tagName||t.hasAttribute("codeblockseditor"),runCode:!1,language:"javascript",compiler:{languageType:"javascript",version:"101"},randomizer:{active:!1,previewIndex:0,knownTags:[],sets:[]},domLibs:[],workerLibs:[],blocks:[],outputParser:h["b"].AUTO,readonly:!1,solutionTheme:"solarized light",codeTheme:"xq-light",uuid:"is-set-below",executionTimeout:5e3,maxCharacters:1e3,continuousCompilation:Mo(s.continuousCompilation),messagePassing:Mo(s.messagePassing),keepAlive:Mo(s.keepAlive),persistentArguments:Mo(s.persistentArguments),shadowRoot:this.shadowRoot};if(void 0!==s.randomizerActive&&(l.randomizer.active=Mo(s.randomizerActive)),void 0!==s.randomizerPreviewIndex&&(l.randomizer.previewIndex=Number(s.randomizerPreviewIndex)),void 0!==s.randomizerKnownTags&&(l.randomizer.knownTags=JSON.parse(s.randomizerKnownTags)),void 0!==s.randomizerSets&&(l.randomizer.sets=JSON.parse(s.randomizerSets).map((function(e,t){var n={uuid:i["b"].v4(),values:[]};return Object.keys(e).forEach((function(t){var o={tag:t,value:e[t]};n.values.push(o)})),n}))),void 0!==s.question&&(l.id=Number(s.question)),void 0!==s.compiler){var u={languageType:s.compiler,version:s.compilerVersion};l.compiler=u;var c=Re.getCompiler(l.compiler);void 0===c?(l.runCode=!1,l.language=l.compiler.languageType):(l.runCode=Mo(s.runCode),l.language=c.language,l.compiler.version=c.version)}void 0!==s.domLibs&&(l.domLibs=JSON.parse(s.domLibs).map((function(e){return Le.mapLibrary(e)}))),void 0!==s.readonly&&(l.editMode?l.readonly=!1:l.readonly=Mo(s.readonly)),void 0!==s.workerLibs&&(l.workerLibs=JSON.parse(s.workerLibs)),t.hasAttribute("uuid")?l.uuid=t.getAttribute("uuid"):(l.uuid=i["b"].v4(),t.setAttribute("uuid",l.uuid)),void 0!==s.executionTimeout&&(l.executionTimeout=Number(s.executionTimeout)),void 0!==s.maxCharacters&&(l.maxCharacters=Number(s.maxCharacters)),void 0!==s.scopeUUID&&(l.scopeUUID=s.scopeUUID),void 0!==s.scopeSelector&&(l.scopeSelector=s.scopeSelector),void 0!==s.outputParser&&(l.outputParser=s.outputParser),void 0!==s.solutionTheme&&(l.solutionTheme=s.solutionTheme),void 0!==s.codeTheme&&(l.codeTheme=s.codeTheme),t.querySelectorAll("*").forEach((function(e){var o,r=e;if(r.parentElement==t){var a=r.dataset,s=r.getAttribute("as");null!==s&&(a.as=s.trim().toUpperCase());var u={as:a.as?h["c"][a.as]:void 0,hasCode:!1,version:"101",type:r.tagName,content:r.textContent?r.textContent:"",alternativeContent:null,hasAlternativeContent:!1,id:l.blocks.length,uuid:i["b"].v4(),parentID:l.id,width:"100%",height:"200px",align:"center",readyCount:0,obj:null,lineCountHint:-1,blockly:{showControls:!1,useOverride:!1,toolbox:{categories:[]},toolboxOverride:"",blocks:[],_blockErrors:[]},errors:[],readonly:Mo(a.readonly),static:Mo(a.static),hidden:Mo(a.hidden),visibleLines:void 0===a.visibleLines||"auto"==(null===(o=a.visibleLines)||void 0===o?void 0:o.trim().toLowerCase())?"auto":Number(a.visibleLines),shouldAutoreset:Mo(a.shouldAutoreset),generateTemplate:"false"!=a.generateTemplate&&"0"!=a.generateTemplate,expanded:void 0===a.expanded||"false"!=a.expanded&&"0"!=a.expanded,codeExpanded:h["a"].AUTO,noContent:Mo(a.noContent),scopeUUID:a.scopeUUID,scopeSelector:a.scopeSelector};if(void 0!==a.codeExpanded&&("TINY"==a.codeExpanded.toUpperCase()||"false"==a.codeExpanded||"0"==a.codeExpanded?u.codeExpanded=h["a"].TINY:"LARGE"!=a.codeExpanded.toUpperCase()&&"2"!=a.codeExpanded||(u.codeExpanded=h["a"].LARGE)),!l.editMode&&u.noContent&&(u.content=""),void 0===a.alternativeContent||u.static||u.hidden?u.hasAlternativeContent=!1:(u.alternativeContent=a.alternativeContent,u.hasAlternativeContent=!0,!l.editMode&&u.noContent&&(u.content=u.alternativeContent)),"TEXT"!=u.type){console.log("BL",u.type,u.as),u.as&&(u.type=u.as);var c=Lo[u.type];if(console.d("LOADER",c,Lo,u.type,u.as),void 0===c)return void console.i("Skipping",u.type,u.as);c.loadFromDatablock(r,a,u,l.editMode)}l.blocks.push(n.constructBlock(l,u))}})),this.data=l,console.d("DATA",l)}return Object(f["a"])(e,[{key:"constructBlock",value:function(e,t){return t.type===h["c"].PLAYGROUND&&(""!=t.content&&void 0!==t.content&&null!==t.content||(t.content="{}")),new Po({data:function(){return Object.assign(Object.assign({},t),{appSettings:e})}})}},{key:"instantiateVue",value:function(){var e=this.data,t=this;new O["c"]({i18n:A["a"],render:function(n){var o=function(n){Object(x["a"])(r,n);var o=Object(E["a"])(r);function r(){return Object(m["a"])(this,r),o.apply(this,arguments)}return Object(f["a"])(r,[{key:"initArgsForLanguage",value:function(){return console.d("Constructing args for",this.language,this.defaultArgs),void 0===this.defaultArgs?"java"===this.language?[]:{}:this.defaultArgs}},{key:"storeDefaultArgs",value:function(e){this.defaultArgs=e}},{key:"clearDefaultArgs",value:function(){this.defaultArgs=void 0}},{key:"swap",value:function(e,t){var n=this.blocks[e];this.blocks[e]=this.blocks[t],this.blocks[t]=n,this.blocks[e].id=e,this.blocks[t].id=t}},{key:"moveUp",value:function(e){e<=0||this.swap(e-1,e)}},{key:"moveDown",value:function(e){e>=this.blocks.length-1||this.swap(e,e+1)}},{key:"removeBlock",value:function(t){e.blocks.splice(t,1);for(var n=t;n<e.blocks.length;n++)e.blocks[n].id=n}},{key:"addNewBlock",value:function(){var n={noContent:!1,alternativeContent:null,hasCode:!0,type:h["c"].BLOCK,content:"",id:e.blocks.length,uuid:i["b"].v4(),parentID:e.id,expanded:!0,codeExpanded:h["a"].AUTO,width:"100%",height:"200px",align:"center",obj:null,readonly:!1,static:!0,hidden:!1,version:"101",readyCount:0,errors:[],scopeUUID:e.scopeUUID,scopeSelector:e.scopeSelector,visibleLines:10,hasAlternativeContent:!1,shouldAutoreset:!1,generateTemplate:!0,blockly:{showControls:!1,useOverride:!1,toolboxOverride:"",toolbox:{categories:[]},blocks:[],_blockErrors:[]},lineCountHint:-1};e.blocks.push(t.constructBlock(e,n))}}]),r}(O["c"]);o=Object(T["b"])([Object(O["a"])({data:function(){return e}})],o);var r={props:{language:e.language,id:e.id,blocks:new o}};return n(e.editMode?Eo:mo,r)}}).$mount(this.element)}}]),e}(),No=function(e){Object(x["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"mount",value:function(){this.forEach((function(e){return e.instantiateVue()}))}}]),n}(Object(F["a"])(Array)),zo={find:function(e){void 0===e&&(e=document);var t=e.querySelectorAll("codeblocks, codeblockseditor, div[codeblocks], div[codeblockseditor]"),n=new No;return t.forEach((function(e){var t=new qo(e),o=t.data.scopeSelector?document.querySelector(t.data.scopeSelector):void 0;void 0!==o&&null!==o||(o=e),O["c"].$hljs.$vue.processElements(o),t.data.editMode&&(O["c"].$tagger.processElements(o),t.data.scopeSelector="[uuid=".concat(o.getAttribute("uuid"),"]"),t.data.scopeUUID=o.getAttribute("uuid")?o.getAttribute("uuid"):void 0,t.data.blocks.forEach((function(e){e.scopeUUID=t.data.scopeUUID,e.scopeSelector=t.data.scopeSelector?t.data.scopeSelector:"[uuid=".concat(e.scopeUUID,"]")}))),n.push(t)})),n}};String.prototype.replaceAllPoly=function(e,t){var n=this;return n.replace(new RegExp(e,"g"),t)},String.prototype.replaceRec=function(e,t){var n=this.replace(e,t);return n==this?n:n.replaceRec(e,t)},console.d=function(){},console.i=function(){},o["a"].config.productionTip=!1,zo.find(document).mount(),window.mountInElement=function(e){o["a"].$hljs.$vue.processElements(e),o["a"].$tagger.processElements(e),zo.find(e).mount()},window.mountCodeBlocks=function(e){return zo.find(e).mount()}},cf25:function(e,t,n){"use strict";n("e273")},d2ab:function(e,t,n){},d5a0:function(e,t,n){"use strict";n("8f52")},d8af:function(e,t,n){},d9d0:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof=__webpack_require__("7037").default;__webpack_require__("ac1f"),__webpack_require__("00b4"),__webpack_require__("d3b7"),__webpack_require__("25f0"),__webpack_require__("a3a2"),__webpack_require__("b680"),__webpack_require__("fb6a"),__webpack_require__("a15b"),__webpack_require__("a434"),__webpack_require__("d9e2"),__webpack_require__("d81d"),__webpack_require__("4ec9"),__webpack_require__("3ca3"),__webpack_require__("ddb0"),__webpack_require__("159b"),__webpack_require__("1276"),__webpack_require__("498a"),__webpack_require__("a9e3"),__webpack_require__("466d"),__webpack_require__("2c3e"),__webpack_require__("4d63"),__webpack_require__("c607"),__webpack_require__("5319"),__webpack_require__("b0c0"),__webpack_require__("7db0"),__webpack_require__("4de4"),__webpack_require__("e439"),__webpack_require__("b64b"),__webpack_require__("99af"),__webpack_require__("e9c4"),__webpack_require__("a4d3"),__webpack_require__("e01a"),__webpack_require__("d28b"),__webpack_require__("2351"),__webpack_require__("2a1b"),__webpack_require__("80e0"),__webpack_require__("6b9e"),__webpack_require__("841c"),__webpack_require__("33d1"),__webpack_require__("ea98"),__webpack_require__("130f"),__webpack_require__("2b3d"),__webpack_require__("9861"),
/**@license
 *       __ _____                     ________                              __
 *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 *           \/              /____/                              version 2.31.1
 *
 * This file is part of jQuery Terminal. https://terminal.jcubic.pl
 *
 * Copyright (c) 2010-2021 Jakub T. Jankiewicz <https://jcubic.pl/me>
 * Released under the MIT license
 *
 * Contains:
 *
 * Storage plugin Distributed under the MIT License
 * modified to work from Data URIs that block storage and cookies in Chrome
 * Copyright (c) 2010 Dave Schindler
 *
 * jQuery Timers licenced with the WTFPL
 * <http://jquery.offput.ca/timers/>
 *
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 *
 * jQuery Caret
 * Copyright (c) 2009, Gideon Sireling
 * 3 clause BSD License
 *
 * sprintf.js
 * Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
 * licensed under 3 clause BSD license
 *
 * debounce function from Lodash
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * The MIT License
 *
 * emoji regex v9.0.0 by Mathias Bynens
 * MIT license
 *
 * broken image by Sophia Bai from the Noun Project (CC-BY)
 *
 * Date: Thu, 30 Dec 2021 10:56:33 +0000
 */function(e){var t=function e(){return e.cache.hasOwnProperty(arguments[0])||(e.cache[arguments[0]]=e.parse(arguments[0])),e.format.call(null,e.cache[arguments[0]],arguments)};t.format=function(e,n){var r,a,s,l,u,c,d,p=1,m=e.length,f="",h=[];for(a=0;a<m;a++)if(f=o(e[a]),"string"===f)h.push(e[a]);else if("array"===f){if(l=e[a],l[2])for(r=n[p],s=0;s<l[2].length;s++){if(!r.hasOwnProperty(l[2][s]))throw t('[sprintf] property "%s" does not exist',l[2][s]);r=r[l[2][s]]}else r=l[1]?n[l[1]]:n[p++];if(/[^s]/.test(l[8])&&"number"!==o(r))throw t("[sprintf] expecting number but found %s",o(r));switch(l[8]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":r=parseInt(r,10);break;case"e":r=l[7]?r.toExponential(l[7]):r.toExponential();break;case"f":r=l[7]?parseFloat(r).toFixed(l[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r=String(r))&&l[7]?r.slice(0,l[7]):r;break;case"u":r>>>=0;break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase();break}r=/[def]/.test(l[8])&&l[3]&&r>=0?" +"+r:r,c=l[4]?"0"===l[4]?"0":l[4].charAt(1):" ",d=l[6]-String(r).length,u=l[6]?i(c,d):"",h.push(l[5]?r+u:u+r)}return h.join("")},t.cache={},t.parse=function(e){var t=e,n=[],o=[],i=0;while(t){if(null!==(n=/^[^\x25]+/.exec(t)))o.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))o.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){i|=1;var r=[],a=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw"[sprintf] huh?";r.push(s[1]);while(""!==(a=a.slice(s[0].length)))if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))r.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw"[sprintf] huh?";r.push(s[1])}n[2]=r}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";o.push(n)}t=t.slice(n[0].length)}return o};var n=function(e,n,o){return o=n.slice(0),o.splice(0,0,e),t.apply(null,o)};function o(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}e.sprintf=t,e.vsprintf=n}("undefined"!==typeof global?global:self||window),function(e,t){var n;if("undefined"!==typeof window)n=window;else if("undefined"!==typeof self)n=self;else{if("undefined"===typeof global)throw new Error("Unknow context");n=global}__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("1157"),__webpack_require__("f445")],__WEBPACK_AMD_DEFINE_RESULT__=function(t,o){return e(t,o,n),t}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__===t||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}((function($,wcwidth,root,undefined){"use strict";function debug(e){0}function DelayQueue(){var e=$.Callbacks(),t=!1;this.resolve=function(){e.fire(),t=!0},this.add=function(n){t?n():e.add(n)}}$.omap=function(e,t){var n={};return $.each(e,(function(o,i){n[o]=t.call(e,o,i)})),n},$.fn.text_length=function(){return this.map((function(){return $(this).text().length})).get().reduce((function(e,t){return e+t}),0)};var Clone={clone_object:function(e){var t={};if("object"===_typeof(e)){if($.isArray(e))return this.clone_array(e);if(null===e)return e;for(var n in e)$.isArray(e[n])?t[n]=this.clone_array(e[n]):"object"===_typeof(e[n])?t[n]=this.clone_object(e[n]):t[n]=e[n]}return t},clone_array:function(e){if(!is_function(Array.prototype.map))throw new Error("Your browser don't support ES5 array map use es5-shim");return e.slice(0).map(function(e){return"object"===_typeof(e)?this.clone_object(e):e}.bind(this))}},clone=function(e){return Clone.clone_object(e)},localStorage;"Map"in root&&!("clear"in Map.prototype)&&(Map.prototype.clear=function(){this.forEach((function(e,t,n){n.delete(t)}))}),function(){var e=function(){try{var e="test",t=window.localStorage;return t.setItem(e,"1"),t.removeItem(e),!0}catch(n){return!1}},t=function(){try{return document.cookie.split(";"),!0}catch(e){return!1}},n=e();function o(e,t){var n;if("string"===typeof e&&"string"===typeof t)return localStorage[e]=t,!0;if("object"===_typeof(e)&&"undefined"===typeof t){for(n in e)e.hasOwnProperty(n)&&(localStorage[n]=e[n]);return!0}return!1}function i(e,t){var n,o,i;if(n=new Date,n.setTime(n.getTime()+31536e6),o="; expires="+n.toGMTString(),"string"===typeof e&&"string"===typeof t)return document.cookie=e+"="+t+o+"; path=/",!0;if("object"===_typeof(e)&&"undefined"===typeof t){for(i in e)e.hasOwnProperty(i)&&(document.cookie=i+"="+e[i]+o+"; path=/");return!0}return!1}function r(e){return localStorage[e]}function a(e){var t,n,o,i;for(t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){i=n[o];while(" "===i.charAt(0))i=i.slice(1,i.length);if(0===i.indexOf(t))return i.slice(t.length,i.length)}return null}function s(e){return delete localStorage[e]}function l(e){return i(e,"",-1)}t()||n?(n&&(localStorage=window.localStorage),$.extend({Storage:{set:n?o:i,get:n?r:a,remove:n?s:l}})):(localStorage={},$.extend({Storage:{set:o,get:r,remove:s}}))}();var debounce=function(){var e="Expected a function";function t(e){var t=_typeof(e);return null!=e&&("object"==t||"function"==t)}function n(){return Date.now()}return function(o,i,r){var a,s,l,u,c,d,p=Math.max,m=Math.min,f=0,h=!1,g=!1,v=!0;if("function"!=typeof o)throw new TypeError(e);function b(e){var t=a,n=s;return a=s=undefined,f=e,u=o.apply(n,t),u}function D(e){return f=e,c=setTimeout(k,i),h?b(e):u}function y(e){var t=e-d,n=e-f,o=i-t;return g?m(o,l-n):o}function _(e){var t=e-d,n=e-f;return d===undefined||t>=i||t<0||g&&n>=l}function k(){var e=n();if(_(e))return C(e);c=setTimeout(k,y(e))}function C(e){return c=undefined,v&&a?b(e):(a=s=undefined,u)}function w(){c!==undefined&&clearTimeout(c),f=0,a=d=s=c=undefined}function x(){return c===undefined?u:C(n())}function E(){var e=n(),t=_(e);if(a=arguments,s=this,d=e,t){if(c===undefined)return D(d);if(g)return c=setTimeout(k,i),b(d)}return c===undefined&&(c=setTimeout(k,i)),u}return i=i||0,t(r)&&(h=!!r.leading,g="maxWait"in r,l=g?p(r.maxWait||0,i):l,v="trailing"in r?!!r.trailing:v),E.cancel=w,E.flush=x,E}}(),jQuery=$;function make_callback_plugin(e){var t=$.extend({init:$.noop,destroy:$.noop,name:"event"},e);return function(e,n){var o=0===arguments.length,i="unbind"===arguments[0];if(!o&&!i&&!is_function(e))throw new Error('Invalid argument, it need to a function or string "unbind" or no arguments.');i&&(e=is_function(arguments[1])?arguments[1]:null);var r="callbacks_"+t.name;return this.each((function(){var a,s=$(this);function l(e){a.fireWith(s,[e])}o||i?(a=s.data(r),o?a&&a.fire():(e&&a?(a.remove(e),a.has()||(a=null)):a=null,a||(s.removeData(r),t.destroy.call(this,l,n)))):s.data(r)?$(this).data(r).add(e):(a=$.Callbacks(),a.add(e),s.data(r,a),t.init.call(this,l,n))}))}}function jquery_resolve(e){var t=jQuery.Deferred();return t.resolve(e),t.promise()}function unpromise(e,t,n){if(e!==undefined){if(is_function(e.catch)&&e.catch(n),is_function(e.done))return e.done(t);if(is_function(e.then))return e.then(t);if(e instanceof Array){var o=e.filter((function(e){return e&&(is_function(e.done)||is_function(e.then))}));if(o.length){var i=$.when.apply($,e).then((function(){return t([].slice.call(arguments))}));return is_function(e.catch)&&i.catch(n),i}}return t(e)}}(function(e){jQuery.fn.extend({everyTime:function(e,t,n,o,i){return this.each((function(){jQuery.timer.add(this,e,t,n,o,i)}))},oneTime:function(e,t,n){return this.each((function(){jQuery.timer.add(this,e,t,n,1)}))},stopTime:function(e,t){return this.each((function(){jQuery.timer.remove(this,e,t)}))}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(e){if(e===undefined||null===e)return null;var t=this.regex.exec(jQuery.trim(e.toString()));if(t[2]){var n=parseInt(t[1],10),o=this.powers[t[2]]||1;return n*o}return e},add:function(e,t,n,o,i,r){var a=0;if(jQuery.isFunction(n)&&(i||(i=o),o=n,n=t),t=jQuery.timer.timeParse(t),!("number"!==typeof t||isNaN(t)||t<=0)){i&&i.constructor!==Number&&(r=!!i,i=0),i=i||0,r=r||!1,e.$timers||(e.$timers={}),e.$timers[n]||(e.$timers[n]={}),o.$timerID=o.$timerID||this.guid++;var s=function t(){r&&t.inProgress||(t.inProgress=!0,(++a>i&&0!==i||!1===o.call(e,a))&&jQuery.timer.remove(e,n,o),t.inProgress=!1)};s.$timerID=o.$timerID,e.$timers[n][o.$timerID]||(e.$timers[n][o.$timerID]=setInterval(s,t)),this.global[n]||(this.global[n]=[]),this.global[n].push(e)}},remove:function(e,t,n){var o,i=e.$timers;if(i){if(t){if(i[t]){if(n)n.$timerID&&(clearInterval(i[t][n.$timerID]),delete i[t][n.$timerID]);else for(var r in i[t])i[t].hasOwnProperty(r)&&(clearInterval(i[t][r]),delete i[t][r]);for(o in i[t])if(i[t].hasOwnProperty(o))break;o||(o=null,delete i[t])}}else for(var a in i)i.hasOwnProperty(a)&&this.remove(e,a,n);for(o in i)if(i.hasOwnProperty(o))break;o||(e.$timers=null)}}}}),/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&e(window).one("unload",(function(){var e=jQuery.timer.global;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t],o=n.length;while(--o)jQuery.timer.remove(n[o],t)}}))})(jQuery),function(e){if(String.prototype.split.toString().match(/\[native/)){var t,n=String.prototype.split,o=/()??/.exec("")[1]===e;t=function(t,i,r){if("[object RegExp]"!==Object.prototype.toString.call(i))return n.call(t,i,r);var a,s,l,u,c=[],d=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),p=0;i=new RegExp(i.source,d+"g"),t+="",o||(a=new RegExp("^"+i.source+"$(?!\\s)",d)),r=r===e?-1>>>0:r>>>0;while(s=i.exec(t)){if(l=s.index+s[0].length,l>p&&(c.push(t.slice(p,s.index)),!o&&s.length>1&&s[0].replace(a,(function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)})),s.length>1&&s.index<t.length&&Array.prototype.push.apply(c,s.slice(1)),u=s[0].length,p=l,c.length>=r))break;i.lastIndex===s.index&&i.lastIndex++}return p===t.length?!u&&i.test("")||c.push(""):c.push(t.slice(p)),c.length>r?c.slice(0,r):c},String.prototype.split=function(e,n){return t(this,e,n)}}}(),$.fn.caret=function(e){var t=this[0],n="true"===t.contentEditable;if(0===arguments.length){if(window.getSelection){if(n){this.is(":focus")||t.focus();var o=window.getSelection().getRangeAt(0),i=o.cloneRange();return i.selectNodeContents(t),i.setEnd(o.endContainer,o.endOffset),i.toString().length}return t.selectionStart}if(document.selection){if(t.focus(),n){o=document.selection.createRange(),i=document.body.createTextRange();return i.moveToElementText(t),i.setEndPoint("EndToEnd",o),i.text.length}e=0;var r=t.createTextRange(),a=(i=document.selection.createRange().duplicate(),i.getBookmark());r.moveToBookmark(a);while(0!==r.moveStart("character",-1))e++;return e}return 0}if(-1===e&&(e=this[n?"text":"val"]().length),window.getSelection)if(n){this.is(":focus")||t.focus();var s=window.getSelection();s.collapse(s.focusNode,e)}else t.setSelectionRange(e,e);else if(document.body.createTextRange){r=document.body.createTextRange();r.moveToElementText(t),r.moveStart("character",e),r.collapse(!0),r.select()}return n||this.is(":focus")||t.focus(),e},$.fn.resizer=make_callback_plugin({name:"resize",init:function(e,t){var n,o=$.extend({prefix:""},t),i=$(this),r=!0;if(i.is("body"))$(window).on("resize.resizer",e);else if(window.ResizeObserver)n=new ResizeObserver((function(){r||e(),r=!1})),n.observe(this),i.data("observer",n);else{var a=$("<iframe/>").addClass(o.prefix+"resizer").appendTo(this)[0];$(a.contentWindow).on("resize",e)}},destroy:function(){var e=$(this);if(window.ResizeObserver){var t=e.data("observer");t&&(t.unobserve(this),e.removeData("observer"))}else{var n=e.find('> iframe[class$="resizer"]');n.length?($(n[0].contentWindow).off("resize").remove(),n.remove()):e.is("body")&&$(window).off("resize.resizer")}}}),$.fn.touch_scroll=make_callback_plugin({name:"touch",init:function(e){var t,n;$(this).on("touchstart.scroll",(function(e){e=e.originalEvent,"a"!==e.target.tagName.toLowerCase()&&1===e.touches.length&&(n=t=e.touches[0])})).on("touchmove.scroll",(function(o){if(o=o.originalEvent,t&&1===o.touches.length){var i=o.touches[0],r=e({origin:t,previous:n,current:i});!1===r&&o.preventDefault(),n=i}})).on("touchend.scroll",(function(){(t||n)&&(t=n=null)}))},destroy:function(){$(this).off("touchstart.scroll touchmove.scroll touchend.scroll")}}),$.fn.is_fully_in_viewport=function(){function e(e,t){var n=e.getBoundingClientRect(),o=t[0].getBoundingClientRect(),i=n.top-o.top,r=n.bottom-o.top,a=t.height();return r>0&&i<=a}return root.IntersectionObserver?function(e){var t=this[0],n=jQuery.Deferred(),o=new root.IntersectionObserver((function(e){n.resolve(e[0].isIntersecting&&1===e[0].ratio),o.unobserve(t)}),{root:e[0]});return o.observe(t),n.promise()}:function(t){return jquery_resolve(e(this[0],t))}}();var entity_re=/(&(?:[a-z\d]+|#\d+|#x[a-f\d]+);)/i,combine_chr_re=/(.(?:[\u0300-\u036F]|[\u1AB0-\u1abE]|[\u1DC0-\u1DF9]|[\u1DFB-\u1DFF]|[\u20D0-\u20F0]|[\uFE20-\uFE2F])+)/,astral_symbols_re=/([\uD800-\uDBFF][\uDC00-\uDFFF])/,emoji_re=/(\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD]))/,mobile_re=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,tablet_re=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,format_split_re=/(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\](?:[^\]\\]*(?:\\\\)*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,format_parts_re=/\[\[((?:-?[@!gbiuso])*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]\\]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]+)\]?/gi,format_re=/\[\[((?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,format_exist_re=/\[\[((?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,format_full_re=/^(\[\[(?:(?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\])([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)(\])$/i,format_begin_re=/(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\])/i,format_start_re=/^(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\])/i,format_end_re=/\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\]?$/i,self_closing_re=/^(?:\[\[)?[^;]*@[^;]*;/,color_re=/^(?:#([0-9a-f]{3}|[0-9a-f]{4}|[0-9a-f]{6}|[0-9a-f]{8})|rgba?\([^)]+\)|hsla?\([^)]+\))$/i,url_re=/(\b(?:file|ftp|https?):\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'\\<>\][)])+)/gi,url_nf_re=/\b(?![^"\s[\]]*])(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'\\<>\][)])+)/gi,email_re=/((([^<>('")[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g,url_full_re=/^(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\\\][)])+)$/gi,email_full_re=/^((([^<>('")[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))$/g,command_re=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimsuy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,extended_command_re=/^\s*((terminal|cmd)::([a-z_]+)\(([\s\S]*)\))\s*$/,format_exec_split_re=/(\[\[(?:-?[@!gbiuso])*;[^\]]+\](?:\\[[\]]|[^\]])*\]|\[\[[\s\S]+?\]\])/,format_exec_re=/(\[\[[\s\S]+?\]\])/,float_re=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,re_re=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimsuy]*)$/,string_re=/("(?:[^"\\]|\\(?:\\\\)*"|\\\\)*"|'(?:[^'\\]|\\(?:\\\\)*'|\\\\)*'|`(?:[^`\\]|\\(?:\\\\)*`|\\\\)*`)/,unclosed_strings_re=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./,broken_image='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14"><title id="title2">rounded</title><path id="terminal-broken-image" d="m 14,10 h 2 v 1 a 3,3 0 0 1 -3,3 H 3 A 3,3 0 0 1 0,11 H 4.5 A 1.00012,1.00012 0 0 0 5.207,10.707 L 6.5,9.414 7.793,10.707 a 0.99963,0.99963 0 0 0 1.41406,0 l 2.36719,-2.36719 1.80127,1.44092 A 0.99807,0.99807 0 0 0 14,10 Z M 16,3 V 8 H 14.35059 L 12.12451,6.21924 A 0.99846,0.99846 0 0 0 10.793,6.293 L 8.5,8.586 7.207,7.293 a 0.99962,0.99962 0 0 0 -1.41406,0 L 4.08594,9 H 0 V 3 A 3,3 0 0 1 3,0 h 10 a 3,3 0 0 1 3,3 z M 6,4.5 A 1.5,1.5 0 1 0 4.5,6 1.5,1.5 0 0 0 6,4.5 Z" /></svg>',use_broken_image='<svg class="terminal-broken-image" role="presentation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#terminal-broken-image"/></svg>',animation_supported=function(){if("undefined"===typeof document)return!1;var e=!1,t="Webkit Moz O ms Khtml".split(" "),n=document.createElement("div");if(n.style.animationName&&(e=!0),!1===e)for(var o=0;o<t.length;o++){var i=t[o]+"AnimationName";if(n.style[i]!==undefined){e=!0;break}}return n=null,e}(),agent=(root.navigator||window.navigator).userAgent,is_IE=/MSIE|Trident/.test(agent)||/rv:11.0/i.test(agent),is_IEMobile=/IEMobile/.test(agent),is_ch_unit_supported=function(){if(is_IE&&!is_IEMobile)return!1;if("undefined"===typeof document)return!0;var e=document.createElement("div");return e.style.width="1ch","1ch"===e.style.width}(),is_css_variables_supported=root.CSS&&root.CSS.supports&&root.CSS.supports("--fake-var",0),is_android=-1!==navigator.userAgent.toLowerCase().indexOf("android"),is_key_native=function(){if(!("KeyboardEvent"in root)||!("key"in root.KeyboardEvent.prototype))return!1;var e=root.KeyboardEvent.prototype,t=Object.getOwnPropertyDescriptor(e,"key").get;return!!t.toString().match(/\[native code\]/)}(),is_browser=function(){try{return this===window}catch(e){return!1}}(),is_mobile=function(e){var t=!1;return(mobile_re.test(e)||tablet_re.test(e.substr(0,4)))&&(t=!0),"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||t}(navigator.userAgent||navigator.vendor||root.opera),ch_unit_bug=!1;function css(e,t,n){if(e instanceof $.fn.init)e.each((function(){css(this,t,n)}));else if($.isPlainObject(t))Object.keys(t).forEach((function(n){e.style.setProperty(n,t[n])}));else{if("undefined"===typeof n)return e.style.getPropertyValue(t);e.style.setProperty(t,n)}}function a11y_hide(e){e.attr({role:"presentation","aria-hidden":"true"})}is_browser&&$((function(){function e(e){return e[0].getBoundingClientRect().width}var t='<span style="font-family: monospace;visibility:hidden;',n=$(t+'width:1ch;overflow: hidden">&nbsp;</span>');n.appendTo("body");var o=$(t+'">&nbsp;</span>').appendTo("body");ch_unit_bug=Math.abs(e(n)-e(o))>1e-4,n.remove(),o.remove()}));var excepctions=[];function alert_exception(e,t){arguments[0]instanceof $.terminal.Exception&&(e=arguments[0].type,t=arguments[0]);var n=(e?e+": ":"")+exception_message(t);-1===excepctions.indexOf(n)&&(excepctions.push(n),setTimeout((function(){throw t}),0))}function generate_id(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return e=("000"+e.toString(36)).slice(-3),t=("000"+t.toString(36)).slice(-3),e+t}function scrollbar_event(e,t){var n=t.offset().left;return t.outerWidth()<=e.clientX-n}function exception_message(e){return"string"===typeof e?e:"string"===typeof e.fileName?e.fileName+": "+e.message:e.message}function Cycle(){var e=[].slice.call(arguments),t=0;$.extend(this,{get:function(){return e},index:function(){return t},rotate:function(n,o){if(o===undefined)o=t;else if(o===t)return;if(!n){var i=e.filter((function(e){return"undefined"!==typeof e}));if(!i.length)return}if(e.length)return 1===e.length?e[0]:(t===e.length-1?t=0:++t,"undefined"!==typeof e[t]?e[t]:this.rotate(!0,o))},length:function(){return e.length},remove:function(t){delete e[t]},set:function(n){for(var o=e.length;o--;)if(e[o]===n)return void(t=o);this.append(n),t=e.length-1},front:function(){if(e.length){var n=t,o=!1;while(!e[n])if(n++,n>e.length){if(o)break;n=0,o=!0}return e[n]}},map:function(t){return e.map((function(e,n){return"undefined"!==typeof e?t(e,n):null})).filter(Boolean)},forEach:function(t){return e.forEach((function(e,n){"undefined"!==typeof e&&t(e,n)}))},append:function(t){e.push(t)}})}function Stack(e){var t=is_array(e)?e:e?[e]:[];$.extend(this,{data:function(){return t},map:function(e){return $.map(t,e)},size:function(){return t.length},pop:function(){if(0===t.length)return null;var e=t[t.length-1];return t=t.slice(0,t.length-1),e},push:function(e){return t=t.concat([e]),e},top:function(){return t.length>0?t[t.length-1]:null},clone:function(){return new Stack(t.slice(0))}})}function WorkerCache(e){var t=$.extend({validation:$.noop,action:$.noop,onCache:$.noop},e);this._onCache=t.onCache.bind(this),this._action=t.action.bind(this),this._validation=t.validation.bind(this),"Map"in root&&(this._cache=new Map)}function History(e,t,n){var o,i=!0,r="";"string"===typeof e&&""!==e&&(r=e+"_"),r+="commands",n?o=[]:(o=$.Storage.get(r),o=o?JSON.parse(o):[]);var a=o.length-1;$.extend(this,{append:function(e){i&&o[o.length-1]!==e&&(o.push(e),t&&o.length>t&&(o=o.slice(-t)),a=o.length-1,n||$.Storage.set(r,JSON.stringify(o)))},set:function(e){is_array(e)&&(o=e,n||$.Storage.set(r,JSON.stringify(o)))},data:function(){return o},reset:function(){a=o.length-1},last:function(){return o[o.length-1]},end:function(){return a===o.length-1},position:function(){return a},current:function(){return o[a]},next:function(){var e=a;if(a<o.length-1&&++a,e!==a)return o[a]},previous:function(){var e=a;if(a>0&&--a,e!==a)return o[a]},clear:function(){o=[],this.purge()},enabled:function(){return i},enable:function(){i=!0},purge:function(){n||$.Storage.remove(r)},disable:function(){i=!1},toggle:function(e){i="undefined"===typeof e?!i:e}})}function OutputLines(e){this._settings=e,this._lines=[],this._snapshot=[]}function FormatBuffer(e){this._options=e,"Map"in root&&(this._format_cache=new Map),this._output_buffer=[]}function with_prompt(e,t,n){function o(e){var n=$.terminal.escape_brackets("[ERR]> ");t("[[;red;]"+n+"]"),alert_exception("Prompt",e)}switch(_typeof(e)){case"string":t(e);break;case"function":try{var i=e.call(n,(function(e){t(e)}));"string"===typeof i&&t(i),i&&i.then&&i.then(t).catch(o)}catch(r){o(r)}break}}WorkerCache.prototype.validate=function(e){var t=this._validation(e),n=t===undefined||!0===t;return n||this._cache.clear(),n},WorkerCache.prototype.get=function(e){return this._cache?this.validate(e)&&this._cache.has(e)?(t=this._cache.get(e),this._onCache({cache:t}),t):(t=this._action(e),this._cache.set(e,t),t):this._action(e);var t},OutputLines.prototype.make_snapshot=function(e){this._snapshot.push(e)},OutputLines.prototype.get_partial=function(){var e=this._snapshot[this._snapshot.length-1];return e},OutputLines.prototype.update_snapshot=function(e,t){this._snapshot[e]=t},OutputLines.prototype.limit_snapshot=function(e){this._snapshot=this._snapshot.slice(e)},OutputLines.prototype.clear_snapshot=function(){this._snapshot=[]},OutputLines.prototype.get_snapshot=function(){return this._snapshot.reduce((function(e,t){return e.concat(t)}),[]).join("\n")},OutputLines.prototype.join=function(){var e=[].slice.call(arguments);return e.some(is_function)?function(){return e.reduce((function(e,t){return is_function(e)&&(e=e()),is_function(t)&&(t=t()),is_promise(e)||is_promise(t)?$.when(e,t).then((function(e,t){return e+t})):t}))}:e.some(is_promise)?e.reduce((function(e,t){return $.when(e,t).then((function(e,t){return e+t}))})):e.join("")},OutputLines.prototype.import=function(e){this._lines=e},OutputLines.prototype.push=function(e){var t=e[0],n=e[1];if(this.has_newline())this._lines.push(e);else{var o=this.last_line();o[0]=this.join(o[0],t),o[1].newline=n.newline}},OutputLines.prototype.clear=function(e){this._lines.forEach((function(t,n){var o=t[1];is_function(o.onClear)&&o.onClear.call(self,e(n))})),this._lines=[],this._snapshot=[]},OutputLines.prototype.data=function(){return this._lines},OutputLines.prototype.has_newline=function(){return 0===this._lines.length||this.last_line()[1].newline},OutputLines.prototype.last_line=function(){var e=this._lines.length;return this._lines[e-1]},OutputLines.prototype.update=function(e,t,n){if(null!==t)return this._lines[e][0]=t,n&&(this._lines[e][1]=$.extend(this._lines[e][1],n)),this._lines[e][1];this._lines.splice(e,1)},OutputLines.prototype.length=function(){return this._lines.length},OutputLines.prototype.valid_index=function(e){return!!this._lines[e]},OutputLines.prototype.render=function(e,t){var n=this._settings(),o=[];if(this._snapshot=[],n.outputLimit>=0){var i;i=0===n.outputLimit?e:n.outputLimit,this._lines.forEach((function(e,t){var n=e[0],i=e[1];o.push({value:n,index:t,options:i})}));var r=o.length-i-1;o=o.slice(r)}else o=this._lines.map((function(e,t){return{value:e[0],index:t,options:e[1]}}));return t(o)},FormatBuffer.NEW_LINE=1,FormatBuffer.prototype.format=function(e,t,n){var o=this._format_cache&&this._settings.useCache;if(o){var i=JSON.stringify([e,this._settings]);if(this._format_cache.has(i))return this._format_cache.get(i)}var r={line:$.terminal.format(e,this._settings),raw:n,newline:t};return o&&this._format_cache.set(i,r),r},FormatBuffer.prototype.empty=function(){return!this._output_buffer.length},FormatBuffer.prototype.append=function(e,t,n,o){if(this._settings=$.extend({useCache:!0},this._options(n)),this._output_buffer.push(FormatBuffer.NEW_LINE),e instanceof Array)for(var i=o.split("\n"),r=0,a=e.length;r<a;++r)if(""===e[r]||"\r"===e[r])this._output_buffer.push({line:"",raw:""});else{var s=this.format(e[r],r===a-1,i[r]);this._output_buffer.push(s)}else n.raw?this._output_buffer.push({line:e,raw:o}):this._output_buffer.push(this.format(e,!1,o));this._output_buffer.push({finalize:n.finalize,index:t,newline:n.newline})},FormatBuffer.prototype.clear_cache=function(){this._format_cache&&this._format_cache.clear()},FormatBuffer.prototype.output=function(){return this._output_buffer.slice()},FormatBuffer.prototype.is_empty=function(){return!this._output_buffer.length},FormatBuffer.prototype.clear=function(){this._output_buffer=[]},FormatBuffer.prototype.forEach=function(e){var t=0;while(t<this._output_buffer.length){var n=this._output_buffer[t++];n===FormatBuffer.NEW_LINE?e():e(n)}},FormatBuffer.prototype.flush=function(e){this.forEach(e),this.clear()};var cmd_index=0;$.cmd={defaults:{mask:!1,caseSensitiveSearch:!0,historySize:60,prompt:"> ",enabled:!0,history:!0,onPositionChange:$.noop,onCommandChange:$.noop,inputStyle:"textarea",mobileDelete:is_mobile,onPaste:$.noop,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,mobileIngoreAutoSpace:[],repeatTimeoutKeys:[],tabindex:1,tabs:4}},$.fn.cmd=function(e){var t=$.extend({},$.cmd.defaults,e);function n(e){return t.mobileIngoreAutoSpace.length&&-1!==t.mobileIngoreAutoSpace.indexOf(e)&&is_android}var o=this,i=o.data("cmd");if(i)return i;var r=cmd_index++;o.addClass("cmd");var a=$('<div class="cmd-wrapper"/>').appendTo(o);a.append('<span class="cmd-prompt"></span>'),a.append('<div class="cmd-cursor-line"><span></span><span class="cmd-cursor"><span data-text class="end"><span>&nbsp;</span></span></span><span></span></div>');var s,l,u,c,d,p,m=a.find(".cmd-cursor-line");a11y_hide(m),is_mobile?(s=function(){var e,n=$('<div class="cmd-editable" contenteditable="plaintext-only" spellcheck="false"/>').attr({autocapitalize:"off",autocorrect:"off",spellcheck:"false",tabindex:t.tabindex}).insertAfter(o);n.on("focus",(function(){o.enable()})).on("blur",(function(){o.disable()}));var i={$node:n,val:function(e){if("undefined"===typeof e)return n.text();n.html(e)},reset:function(){clearTimeout(e),e=setTimeout((function(){n.css({top:"",bottom:""})}),400)},focus:function(){css(n[0],{top:"calc(var(--terminal-scroll, 0) * 1px)"}),i.reset()},blur:function(){n.css({top:"100%",bottom:0}).blur(),window.getSelection().removeAllRanges(),i.reset()}};return i}(),o.addClass("cmd-mobile")):(s=function(){var e=generate_id(),n=$("<textarea>").attr({autocapitalize:"off",spellcheck:"false",id:e,tabindex:t.tabindex}).addClass("cmd-clipboard").appendTo(o);return n.before('<label class="visually-hidden" for="'+e+'">Clipbard textarea for jQuery Terminal</label>'),{$node:n,val:function(e){return"undefined"===typeof e?n.val():n.val(e)}}}(),s.val(" ")),t.width&&o.width(t.width);var f,h,g,v,b,D,y,_,k,C=0,w=o.find(".cmd-prompt"),x=!1,E="",T=null,O="",A="",S=0,j=0,F=o.find(".cmd-cursor"),B=0,R="￿",L=/\uFFFF$/,P=/^\uFFFF$/;function M(e){var t=$(e.target);if(t.is("span,img,a"))return t=t.closest("[data-text]"),t.index()+t.parent("span").prevAll().find("[data-text]").length+t.closest('[role="presentation"]').prevUntil(".cmd-prompt").find("[data-text]").length;if(t.is('div[role="presentation"]')){var n=!t.next().length;return t.find("[data-text]").length+t.prevUntil(".cmd-prompt").find("[data-text]").length-(n?0:1)}}var I={SPACEBAR:" ",UP:"ArrowUP",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight",DEL:"Delete",MULTIPLY:"*",DIVIDE:"/",SUBTRACT:"-",ADD:"+"};function q(e){var t=e.key.toUpperCase();return I[t]?I[t]:t}function N(e){if(e.key){var t=q(e).toUpperCase();if("CONTROL"===t)return"CTRL";var n=[];return e.ctrlKey&&n.push("CTRL"),e.metaKey&&"META"!==t&&n.push("META"),e.shiftKey&&"SHIFT"!==t&&n.push("SHIFT"),e.altKey&&"ALT"!==t&&n.push("ALT"),n.length&&" "===t&&(t="SPACEBAR"),e.key&&n.push(t),n.join("+")}}var z,U={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};for(z=1;z<25;z++)U[111+z]="F"+z;var H="";for(z=65;z<91;z++)H=String.fromCharCode(z),U[z]=[H.toLowerCase(),H.toUpperCase()];var W,V={};Object.keys(U).forEach((function(e){is_array(U[e])?U[e].forEach((function(t){V[t.toUpperCase()]=e})):V[U[e].toUpperCase()]=e}));var G={"ALT+D":J({clipboard:!0}),"HOLD+ALT+D":J({clipboard:!0,hold:!0}),"HOLD+DELETE":J({clipboard:!1,hold:!0}),"HOLD+SHIFT+DELETE":J({clipboard:!1,hold:!0}),ENTER:function(){y&&O&&!t.mask&&(is_function(t.historyFilter)&&t.historyFilter(O)||t.historyFilter instanceof RegExp&&O.match(t.historyFilter)||!t.historyFilter)&&y.append(O);var e,n=O;return s.$node.blur(),y.reset(),Ke="",He=!0,t.commands&&(e=t.commands.call(o,n)),is_function(v)&&(e&&is_function(e.then)?e.then(Be):Be()),o.set(""),s.val(""),s.$node.focus(),!1},"SHIFT+ENTER":function(){return o.insert("\n"),!0},BACKSPACE:ae,"SHIFT+BACKSPACE":ae,TAB:function(){o.insert("\t")},"CTRL+D":function(){return o["delete"](1),!1},DELETE:function(){return o["delete"](1),!0},"HOLD+ARROWUP":ie,ARROWUP:ie,"CTRL+ARROWUP":Z,"CTRL+P":Z,ARROWDOWN:re,"HOLD+ARROWDOWN":re,"CTRL+N":ee,"CTRL+ARROWDOWN":ee,ARROWLEFT:se,"HOLD+ARROWLEFT":debounce(se,10),"CTRL+B":se,"CTRL+ARROWLEFT":function(){var e=S-1,t=0;" "===O[e]&&--e;for(var n=e;n>0;--n){if(" "===O[n]&&" "!==O[n+1]){t=n+1;break}if("\n"===O[n]&&"\n"!==O[n+1]){t=n;break}}o.position(t)},"CTRL+R":function(){return x?be(!0):(h=v,ge(),g=O,o.set(""),je(),x=!0),!1},"CTRL+G":function(){if(x)return v=h,Be(),o.set(g),je(),x=!1,E="",!1},ARROWRIGHT:le,"HOLD+ARROWRIGHT":debounce(le,10),"CTRL+F":le,"CTRL+ARROWRIGHT":function(){" "===O[S]&&++S;var e=/\S[\n\s]{2,}|[\n\s]+\S?/,t=O.slice(S).match(e);!t||t[0].match(/^\s+$/)?o.position(bare_text(O).length):" "!==t[0][0]?S+=t.index+1:(S+=t.index+t[0].length-1," "!==t[0][t[0].length-1]&&--S),je()},F12:Q,END:ce(!0),"CTRL+END":ce(),"CTRL+E":ce(),HOME:ue(!0),"CTRL+HOME":ue(),"CTRL+A":ue(),"SHIFT+INSERT":Y,"CTRL+SHIFT+T":Q,"CTRL+W":K({clipboard:!0,hold:!1}),"HOLD+BACKSPACE":K({clipboard:!1,hold:!0}),"HOLD+SHIFT+BACKSPACE":K({clipboard:!1,hold:!0}),"CTRL+H":function(){return""!==O&&S>0&&o["delete"](-1),!1},"CTRL+X":Q,"CTRL+C":function(){return""===get_selected_html()},"CTRL+T":Q,"CTRL+Y":function(){""!==A&&o.insert(A)},"CTRL+V":Y,"META+V":Y,"CTRL+K":function(){var e=text(O).length;return e>S&&(A=o["delete"](e-S),text_to_clipboard(s.$node,A)),!1},"CTRL+U":function(){return""!==O&&0!==S&&(A=o["delete"](-S),text_to_clipboard(s.$node,A)),!1},"CTRL+TAB":function(){return!1},"META+`":Q,"META+R":Q,"META+L":Q};function J(e){return e=e||{},e.hold&&!t.mobileDelete?function(){return o["delete"](1),!1}:function(){var t=/ *[^ ]+ *(?= )|[^ ]+$/,n=O.slice(S),i=n.match(t);return i&&(A=i[0],e.clipboard&&text_to_clipboard(s.$node,A)),o.set(O.slice(0,S)+O.slice(S).replace(t,""),!0),!1}}function K(e){return e=e||{},e.hold&&!t.mobileDelete?function(){o["delete"](-1)}:function(){if(""!==O&&0!==S){var t=O.slice(0,S).match(/([^ ]* *$)/);t[0].length&&(A=o["delete"](-t[0].length),e.clipboard&&text_to_clipboard(s.$node,A))}return!1}}function Q(){return!0}function Y(){return s.val(""),B=0,o.isenabled()&&!s.$node.is(":focus")&&s.$node.trigger("focus",[!0]),s.$node.one("input",X),!0}function X(){function e(){s.val(O),me()}function n(t){o.insert(t),e()}B++>0||o.isenabled()&&o.oneTime(100,(function(){var i=s.val().replace(/\r/g,"");if(is_function(t.onPaste)){var r=t.onPaste.call(o,{target:o,text:i});if(r!==undefined)return void(r&&is_function(r.then||r.done)?(r.then||r.done).call(r,n):"string"===typeof r?n(r):!1===r&&e())}n(i)}))}function Z(){return Me?(g=O,o.set(y.current())):o.set(y.previous()),Me=!1,!1}function ee(){return y.end()?(Me=!0,o.set(g)):o.set(y.next()),!1}function te(e){return e.match(/\n/)}function ne(e,t){var n=e.split("\n").map((function(e){return $.terminal.length(e)}));t&&(n[0]+=t);var o=n.filter((function(e){return e>=l}));return!!o.length}function oe(e){var t=c,n=$.terminal.split_equal(t+e,l),o=new RegExp("^"+$.terminal.escape_regex(t));return n=n.map($.terminal.unescape_brackets),n[0]=n[0].replace(o,""),n}function ie(){var e=we(O);e=$.terminal.strip(e);var t=$.terminal.substring(e,0,S),n=o.column(),i=o.find(".cmd-cursor-line"),r=i.prevUntil("span").length;if(1===r&&n<=f)return o.position(0),!1;if(0===r)return Z();if(te(t)||ne(t,f)){var a=i.prev(),s=a.is(".cmd-end-line"),l=oe(e);a=l[r-1];var u,c=l[r].substring(n).length;return c>0?(u=n,r-1===0&&(u-=f),u=n+a.substring(u).length,s&&++u):u=n+1,o.position(-u,!0),!1}return Z()}function re(){var e=we(O);e=$.terminal.strip(e);var t=$.terminal.substring(e,S);if(te(t)||ne(t)){var n=oe(e),i=o.column(),r=o.find(".cmd-cursor-line"),a=r.prevUntil("span"),s=a.length,l=r.is(".cmd-end-line"),u=r.next().is(".cmd-end-line"),c=n[s+1];if(!c)return ee();var d,p=n[s].substring(i).length;return 0===p?(d=c.length,u&&d++):(d=Math.min(i,c.length)+p,0===s&&(d+=f),l&&(d+=1)),o.position(d,!0),!1}return ee()}function ae(){x?(E=E.slice(0,-1),ge()):""!==O&&S>0&&o["delete"](-1),o.oneTime(1,(function(){He=!0}))}function se(){S>0&&o.position(-1,!0)}function le(){return S<bare_text(O).length&&o.position(1,!0),!1}function ue(e){function t(){o.position(0)}return e?function(){if(O.match(/\n/)){var e=O.substring(0,o.position());o.position(e.lastIndexOf("\n")+1)}else t()}:t}function ce(e){function t(){o.position(text(O).length)}return e?function(){if(O.match(/\n/))for(var e=O.split("\n"),n=o.position(),i=0,r=0;r<e.length;++r)if(i+=e[r].length,i>n)return void o.position(i+r);t()}:t}function de(){var e=s.$node,t=e.is(":focus");b?o.oneTime(10,(function(){!e.is(":focus")&&b&&e.trigger("focus",[!0])})):t&&!b&&e.trigger("blur",[!0])}function pe(){if(animation_supported){var e=window.getComputedStyle(F[0]),t=e.getPropertyValue("--animation");t=t.replace(/^\s*|\s*$/g,"");var n=o.attr("class");if(n.match(/-animation/)&&(n=n.replace(/[a-z]+-animation/g,"")),t&&!t.match(/blink/)){var i=t.replace(/terminal-/,"")+"-animation";n.match(i)||(n+=" "+i)}n=n.replace(/\s+/g," "),n!==o.attr("class").replace(/\s+/g," ")&&o.attr("class",n)}}function me(e){o.isenabled()&&o.oneTime(10,(function(){is_mobile||s.val()===O||e||s.val(" "+O),b&&o.oneTime(10,(function(){try{var e=is_mobile?S:S+1;s.$node.caret()!==e&&s.$node.caret(e)}catch(t){}}))}))}if(animation_supported&&!is_android)_=function(e){e?F.addClass("cmd-blink"):F.removeClass("cmd-blink")},k=function(){var e=F.clone();e.insertBefore(F),F.remove(),F=e};else{var fe=!1;_=function(e){e&&!fe?(fe=!0,F.addClass("cmd-inverted cmd-blink"),o.everyTime(500,"blink",he)):fe&&!e&&(fe=!1,o.stopTime("blink",he),F.removeClass("cmd-inverted cmd-blink"))},k=function(){_(!1),_(!0)}}function he(){F.toggleClass("cmd-inverted")}function ge(){v="(reverse-i-search)`"+E+"': ",Be()}function ve(){v=h,x=!1,T=null,E=""}function be(e){var n,i,r=y.data(),a=r.length;if(e&&T>0&&(a-=T),E.length>0)for(var s=E.length;s>0;s--){i=$.terminal.escape_regex(E.slice(0,s)),n=t.caseSensitiveSearch?new RegExp(i):new RegExp(i,"i");for(var l=a;l--;)if(n.test(r[l]))return T=r.length-l,o.position(r[l].indexOf(i)),o.set(r[l],!0),je(),void(E.length!==s&&(E=E.slice(0,s),ge()))}E=""}function De(){var e=o.find(".cmd-prompt"),t=e.html();e.html("<span>&nbsp;</span>");var n=e.find("span")[0].getBoundingClientRect().width;return e.html(t),n}function ye(e){var t=o.width();return Math.floor(t/e)}function _e(e){function t(e){return $.terminal.split_equal(e,l)}function n(e){var t=[];return e.forEach((function(n,o){$.terminal.strip(n).match(P)?(t[o]=!1,o>0&&(t[o-1]+=R)):t[o]=e[o]})),t.filter((function(e){return!1!==e}))}var o,i=w.find(".cmd-line");o=i.length?i.nextUntil(".cmd-line").text():w.text(),o=$.terminal.escape_brackets(o);var r,a=new RegExp("^"+$.terminal.escape_regex(o));if(e.match(/\n/)){for(var s=e.split("\n"),u=l-f-1,c=0;c<s.length-1;++c)s[c]+=R;for(strlen(s[0])>u?(r=t(o+s[0]),r[0]=r[0].replace(a,""),r=n(r)):r=[s[0]],c=1;c<s.length;++c)if(strlen(s[c])>l){var d=t(s[c]);c<s.length-1&&(d=n(d)),r=r.concat(d)}else r.push(s[c])}else r=t(o+e,l),r[0]=r[0].replace(a,"");if(r.length>1){var p=$.terminal.length(r[r.length-1]);p===l&&r.push("")}return r}var ke=new WorkerCache({validation:function(e){var t=!1;return this._previous_value&&this._previous_value!==e||this._cols&&this._cols!==l||(t=!0),this._previous_value=e,this._cols=l,t},action:_e});function Ce(e){return ke.get(e)}function we(e,n){try{e=$.terminal.escape_formatting(e);var o=$.extend({},t,{unixFormattingEscapeBrackets:!0,position:S,command:!0}),i=$.terminal.apply_formatters(e,o),r=$.terminal.normalize(i[0]),a=$.terminal.length(r);return n||(j=i[1],j>a&&(j=a)),r}catch(s){return alert_exception("[Formatting]",s.stack),e}}function xe(e,n){var o=$.terminal.encode(Ee(e),{tabs:t.tabs,before:n});return $.terminal.format(o,{charWidth:t.charWidth,allowedAttributes:t.allowedAttributes||[]})}function Ee(e){return $.terminal.partition(e).join("")}function Te(e,t){return $.terminal.length(e,t)}function Oe(e){return strlen(text(e))>l-f-1||e.match(/\n/)}function Ae(e,t,n){return $.terminal.substring(e,t,n)}function $e(e){return!!$.terminal.is_formatting(e)&&e.replace(format_parts_re,"$4").match(/^emoji /)}var Se,je=function(){var e=F.prev(),n=F.next(),i=F.parent();function r(t,o){var r=t.match(L);r&&(t=t.replace(L," ")),i.toggleClass("cmd-end-line",!!r);var a,s=!1,l=$.extend({prompt:"",last:!1},o),d=l.position,p=Te(t),m=l.prompt;if(d===p)e.html(xe(t)),a="&nbsp;",c(),n.html("");else if(0===d)e.html(""),a=Ae(t,0,1),F.html(xe(a)),n.html(xe(Ae(t,1),m+a));else{var f=$.terminal.substring(t,0,d);e.html(xe(f,m)),a=Ae(t,d,d+1);var h=(m+f).replace(/^.*\t/,"");F.html(xe(a,h)),d===p-1?(s=!0,n.html("")):(a.match(/\t/)?h="":h+=a,n.html(xe(Ae(t,d+1),h)))}if(ch_unit_bug)if("undefined"!==typeof wcwidth){var g=strlen(text(a));1===g&&$e(a)&&(g=2),F.width(u*g)}else F.width(u);F.toggleClass("cmd-end-line",s),pe();var v=$.terminal.length(F.text());if(v>1){var b=F.find("[data-text]")[0];b.style.setProperty("--length",v)}k()}function l(e,t){var n=e.match(L),o='<div role="presentation" aria-hidden="true"';return n&&(e=e.replace(L," "),o+=' class="cmd-end-line"'),o+=">"+xe(e,t||"")+"</div>",o}function c(){F.html('<span data-text class="end"><span>&nbsp;<span></span>')}function p(e){var t=i;$.each(e,(function(e,n){t=$(l(n)).insertAfter(t)}))}function m(e){$.each(e,(function(e,t){i.before(l(t,0===e?d:""))}))}return function(){var u;switch(_typeof(t.mask)){case"boolean":u=t.mask?O.replace(/./g,"*"):O;break;case"string":u=O.replace(/./g,t.mask);break}var f,h,g=we(u);if(f=Te(g)===text(u).length?S:j,a.css({display:"none"}),a.find("div:not(.cmd-cursor-line)").remove(),e.html(""),Oe(g)){var v=g.match(/\t/g),b=g;v&&(g=g.replace(/\t/g,"\0\0\0\0"));var D=Ce(g);v&&(D=$.map(D,(function(e){return e.replace(/\x00\x00\x00\x00/g,"\t")})));var y=Te(D[0]);if(0===y&&1===D.length);else if(f<y)r(D[0],{length:D.length,position:f,prompt:d}),p(D.slice(1));else if(f===y)i.before(l(D[0],d)),r(D[1]||"",{length:D.length,position:0,last:D.length<=2}),D.length>2&&p(D.slice(2));else{var _=D.slice(-1)[0],k=Te(b),C=k-f,w=Te(_),x=0;if(-1===C&&(C=0),C<=w)m(D.slice(0,-1)),x=w===C?0:w-C,r(_,{length:D.length,position:x,last:!0});else{var E,T;for(x=f,h=0;h<D.length;++h){var A=$.terminal.length(D[h]);if(!(x>A))break;x-=A}if(T=D[h],E=h,x===Te(T)&&(x=0,T=D[++E],T===undefined)){var F=$.terminal.defaults.strings.redrawError;throw new Error(F)}r(T,{length:D.length,position:x}),m(D.slice(0,E)),p(D.slice(E+1))}}o.find(".cmd-cursor-line ~ div:last-of-type").append("<span></span>")}else""===g?(e.html(""),c(),n.html("")):r(g,{length:1,position:f});var B=i.prevUntil(".cmd-prompt").length;is_css_variables_supported?o[0].style.setProperty("--cursor-line",B):s.$node.css("top",14*B+"px"),a.css({display:""})}}(),Fe=function(){function e(e,n){var o=$.extend({},t,{position:n,command:!0});return $.terminal.apply_formatters(e,o)[1]}function n(t,n,o){var i=e(o,n);if(i===t){var r=e(o,n+1);return r>t?0:1}return i<t?1:-1}return function(e,t){if(0===t)return 0;e=bare_text(e);var o=e.length,i=$.terminal.escape_brackets(O),r=binary_search(0,o,t,n,[i]),a=$.terminal.split_characters(e);if(o>a.length)for(var s=0,l=0;l<a.length;++l)if(s+=a[l].length,s>=r)return s;return r}}(),Be=function(){function e(e){if(!e)return p=0,f=p+C,e;var n=$.terminal.split_equal(e,l).map((function(e){return $.terminal.have_formatting(e)?$.terminal.format_split(e).map((function(e){return $.terminal.is_formatting(e)?e:"[[;;]"+$.terminal.escape_brackets(e)+"]"})).join(""):"[[;;]"+$.terminal.escape_brackets(e)+"]"})),o={charWidth:t.charWidth};d=n[n.length-1];var i=$.terminal.encode(n[n.length-1],{tabs:t.tabs}),r=$.terminal.format(i,o);return p=strlen(text(i)),f=p+C,n.slice(0,-1).map((function(e){return e=$.terminal.encode(e,{tabs:t.tabs}),'<span class="cmd-line">'+$.terminal.format(e,o)+"</span>"})).concat([r]).join("\n")}function n(t){t&&(t=$.terminal.apply_formatters(t,{prompt:!0}),t=$.terminal.normalize(t),t=crlf(t));var n=e(t);if(c=t,n=n||$.terminal.format("[[;;]​]"),w.html()!==n){w.html(n);var o=w.find("> span span");s.$node.attr("data-cmd-prompt",w.text()),is_ch_unit_supported&&(w.hide(),o.each((function(){var e=$(this),t=strlen(e.text());0===t?e.css("width",1):e.css("width",t+"ch")})),w.show())}}return function(){Se&&Se.set&&(Se.set=$.noop,Se=null);var e=Se={set:n};with_prompt(v,(function(t){e.set(t)}),o)}}();function Re(){is_function(t.onCommandChange)&&t.onCommandChange.call(o,O)}$.extend(o,{option:function(e,n){return"undefined"===typeof n?t[e]:(t[e]=n,o)},name:function(e){if(e!==undefined){D=e;var n=y&&y.enabled()||!y;return y=new History(D,t.historySize,"memory"===t.history),n||y.disable(),o}return D},purge:function(){return y.clear(),o},history:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return y})),delete:function(e,t){var n,i;return 0===e?"":(e<0?S>0&&(n=O.slice(0,S).slice(e),i=bare_text(O),i=i.slice(0,S+e)+i.slice(S,i.length),t||o.position(S+e)):""!==O&&(i=text(O),S<i.length&&(n=i.slice(S).slice(0,e),i=i.slice(0,S)+i.slice(S+e,i.length))),n&&(O=i),je(),me(),Re(),n)},set:function(e,t,n){return e!==undefined&&(O=e,t||o.position(bare_text(O).length),je(),me(),n||Re()),o},keymap:function(e,t){function n(e,t){var n=G[e];return is_function(n)&&(n=n.bind(o)),function(e){return t.call(o,e,n)}}if(null===e)return W=G,o;if("undefined"===typeof e)return W;if("string"!==typeof e)return W=$.extend({},W||G,$.omap(e||{},n)),o;if("undefined"===typeof t){if(W[e])return W[e];if(G[e])return G[e]}else W[e]=n(e,t)},insert:function(e,t){var n=bare_text(O),i=bare_text(e).length;return S===n.length?e=n+e:0===S?e+=n:e=n.slice(0,S)+e+n.slice(S),O=e,t||o.position(i,!0,!0),me(),je(),Re(),o},get:function(){return O},commands:function(e){return e?(t.commands=e,o):e},destroy:function(){return ot.unbind("keypress.cmd",it),ot.unbind("keydown.cmd",tt),ot.unbind("input.cmd",lt),o.stopTime("blink",he),o.find(".cmd-wrapper").remove(),o.find(".cmd-prompt, .cmd-clipboard, .cmd-editable").remove(),o.removeClass("cmd").removeData("cmd").off(".cmd"),o},column:function(e){var t=O.substring(0,S);if(0===S||!O.length)return 0;var n=/\n?([^\n]*)$/,o=t.match(n),i=o[1].length;return te(t)||!e&&!ne(t,f)||(i+=f),0===i?i:(i%=l,0===i?l:i)},line:function(){var e=O.substring(0,S);return 0!==S&&O.length?e.split(/\n/).length-1:0},__set_prompt_margin:function(e){C=e,f=p+C},prompt:function(e){if(!0===e)return c;if(e===undefined)return v;var t=e!==v;if("string"!==typeof e&&"function"!==typeof e)throw new Error("prompt must be a function or string");return v=e,t&&(Be(),je()),o},kill_text:function(){return A},position:function(e,n,i){if("number"===typeof e){var r=S,a=bare_text(O).length;return n?S+=e:S=e<0?0:e>a?a:e,r!==S&&(je(),!i&&is_function(t.onPositionChange)&&t.onPositionChange(S,j),me(!0)),o}return S},refresh:function(){return Be(),je(),me(!0),o},display_position:function(e,t){if(e===undefined)return j;var n,i=we($.terminal.escape_formatting(O),!0),r=Te(i),a=bare_text(O).length;if(n=t?j+e:e>r?r:e,r===a)return j=n,o.position(n);if(r===n)return j=n,o.position(a);var s=Fe(O,n);return-1!==s&&(j=n,o.position(s)),o},visible:function(){var e=o.visible;return function(){return e.apply(o,[]),je(),Be(),o}}(),show:function(){var e=o.show;return function(){return e.apply(o,[]),je(),Be(),o}}(),resize:function(e){var t;return u=De(),t="number"===typeof e?e:ye(u),l===t&&!0!==arguments[0]||(l=t,je(),Be()),o},invoke_key:function(e){b||warn('invoke_key("'+e+'") called on disabled terminal');var t=e.toUpperCase().split("+"),n=t.pop(),i=-1!==t.indexOf("CTRL"),r=-1!==t.indexOf("SHIFT"),a=-1!==t.indexOf("ALT"),s=-1!==t.indexOf("META"),l=$.Event("keydown",{ctrlKey:i,shiftKey:r,altKey:a,metaKey:s,which:V[n],key:n}),u=$(document.documentElement||window);return u.trigger(l),l=$.Event("keypress"),l.key=n,l.which=l.keyCode=0,u.trigger(l),o},clip:function(){return s},enable:function(e){if(!b){b=!0,o.addClass("enabled");try{s.$node.is(":focus")||s.$node.focus(),s.$node.caret(S)}catch(t){}_(!0),!e&&is_function(v)&&Be(),pe(),me()}return de(),o},isenabled:function(){return b},disable:function(e){return b=!1,o.removeClass("enabled"),_(!1),e||de(),o},mask:function(e){return"undefined"===typeof e?t.mask:(t.mask=e,je(),o)}}),o.name(t.name||t.prompt||""),!1!==t.prompt&&(v=t.prompt,Be()),!0===t.enabled&&o.enable(),u=De(),l=ye(u),t.history||y.disable();var Le,Pe,Me=!0,Ie=!1,qe=!1,Ne=!1,ze=!1,Ue=!1,He=!0,We=!1,Ve=!1,Ge=!1,Je=!1,Ke="";function Qe(e){return"BACKSPACE"===e.key.toUpperCase()||8===e.which}function Ye(e){return e.key&&1===e.key.length&&!e.ctrlKey}function Xe(e){var n=["HOLD+SHIFT+BACKSPACE","HOLD+BACKSPACE"];return-1!==n.indexOf(e)&&t.mobileDelete||-1!==t.repeatTimeoutKeys.indexOf(e)}function Ze(e){return 35===e.which||36===e.which||37===e.which||38===e.which||39===e.which||40===e.which||13===e.which||27===e.which}var et=!1;function tt(e){var i;debug('keydown "'+e.key+'" '+e.fake+" "+e.which),Ve="process"===(e.key||"").toLowerCase()||0===e.which,qe=ze&&Ne&&!Qe(e);try{e.fake||(Ne=Ye(e),Ue="unidentified"===String(e.key).toLowerCase(),We=Qe(e))}catch(a){}if("Unidentified"!==e.key){e.fake||-1!==["meta","os"].indexOf(e.key.toLowerCase())||(He=!1),ze=!0,s.$node.off("input",X);var r=N(e);if(is_function(t.keydown)&&(e.key=q(e),i=t.keydown.call(o,e),i!==undefined))return i||(Le=!0),i;if(r!==Pe&&nt(),b||"CTRL+C"===r&&is_terminal_selected(o)){if(Ge){if(Pe=r,r="HOLD+"+r,Je)return;t.holdRepeatTimeout>0&&Xe(r)&&(Je=!0,o.oneTime(t.holdRepeatTimeout,"delay",(function(){Je=!1})))}else o.oneTime(t.holdTimeout,"hold",(function(){Ge=!0})),Pe=r;if(!e.fake&&is_android){if(et)return nt(),et=!1,!1;n(r)?et=!0:n(Pe)&&(et=!1)}if(k(),Le=-1!==["CTRL+V","META+V"].indexOf(r),"enter"===r.toLowerCase()&&(Me=!0),x&&Ze(e))ve(),Be(),27===e.which&&o.set(""),je(),13===e.which&&tt.call(this,e);else{if(!is_function(W[r]))return e.altKey?void 0:void(Ie=!1);if(i=W[r](e),!0===i)return;if(i!==undefined)return i}}}else He=!0}function nt(){o.stopTime("hold"),o.stopTime("delay"),Je=Ge=!1}var ot=$(document.documentElement||window);function it(e){var n;if(debug('keypress "'+e.key+'" '+e.fake),nt(),e.fake||(ze=!1),(!e.ctrlKey&&!e.metaKey||e.altKey)&&!Ie){if(is_function(t.keypress)&&(n=t.keypress.call(o,e),n!==undefined))return n||(Le=!0),n;if(b){if(e.fake)return;var i;if(is_key_native){i=e.key;var r=i.toUpperCase();I[r]&&(i=I[r])}if(i&&!Ue||(i=String.fromCharCode(e.which)),$.inArray(e.which,[13,0,8])>-1){if(123===e.keyCode)return;return!1}!i||!(!e.ctrlKey||e.ctrlKey&&e.ctrlKey)||e.altKey&&100===e.which&&!e.altKey||qe||(x?(E+=i,be(),ge()):1===i.length&&o.insert(i))}}}function rt(e,t,n){var o=$.Event(e);o.which=n,o.key=t,o.fake=!0,ot.trigger(o)}o.keymap(t.keymap||{});var at=!1;function st(){Ke=O,Le=!1,He=!0}function lt(){debug("input "+He+" || "+Ve+" (("+ze+" || "+qe+") && !"+Le+" && ("+Ne+" || "+Ue+") && !"+We+")");var e=s.val();if(is_mobile||(e=e.replace(/^ /,"")),He||Ve||(ze||qe)&&!Le&&(Ne||Ue)&&!We){if(e&&e===O)return is_android&&He&&rt("keydown","Enter",13),void st();var t=S;if(He){var i=Ke;We=i.slice(0,i.length-1).length===e.length}if(at)return at=!1,void s.val(O);if(x)E=e,be(),ge();else{var r=e.slice(S);if(1===r.length||We){var a,l=get_next_character(r);if(n(l)&&(at=!0),He)a=We?8:r.toUpperCase().charCodeAt(0),rt("keydown",We?"Backspace":r,a);ze&&!We&&rt("keypress",l,r.charCodeAt(0))}if(We)return void(Ke=O);if(Le)return void(Le=!1);o.set(e)}We?o.position(t-1):o.position(t+Math.abs(e.length-Ke.length))}st()}return ot.bind("keypress.cmd",it),ot.bind("keydown.cmd",tt),ot.bind("keyup.cmd",nt),ot.bind("input.cmd",lt),function(){if(is_mobile)return $(o[0]).add(s.$node).on("touchstart.cmd",(function(){o.isenabled()?s.blur():s.focus()})),void o.disable();var e=!1,n=0;o.on("mousedown.cmd",(function(){e=!0})).on("mouseup.cmd",(function(i){function a(){var e=$(i.target),t=e.is(".cmd-prompt");!t&&u&&""===get_selected_html()&&b&&(e.is(".cmd")?o.position(text(O).length):o.display_position(M(i))),n=0}var s;if(s=i.originalEvent===undefined?i.button:i.originalEvent.button,0===s&&""===get_selected_html()){var l="click_"+r;if(1===++n){var u=e;b?0===t.clickTimeout?a():o.oneTime(t.clickTimeout,l,a):n=0}else o.stopTime(l),n=0}e=!1}))}(),o.data("cmd",o),"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout((function(){throw new Error("key event property not supported try https://github.com/inexorabletash/polyfill/blob/master/keyboard.js")}),0),o};var strlen=function(){return"undefined"===typeof wcwidth?function(e){return e=e.replace(/\u200B/g,""),$.terminal.length(e)}:wcwidth}();function count_selfclosing_formatting(e){var t=0;if($.terminal.have_formatting(e)){var n=new RegExp(format_parts_re.source,"i");$.terminal.format_split(e).forEach((function(e){if($.terminal.is_formatting(e)){var o=e.match(n);o&&o[1].match(/@/)&&""===o[6]&&t++}}))}return t}var entities={"&amp;":"&","&lt;":"<","&gt;":">","&Agrave;":"À","&Aacute;":"Á","&Acirc;":"Â","&Atilde;":"Ã","&Auml;":"Ä","&Aring;":"Å","&AElig;":"Æ","&Ccedil;":"Ç","&Egrave;":"È","&Eacute;":"É","&Ecirc;":"Ê","&Euml;":"Ë","&Igrave;":"Ì","&Iacute;":"Í","&Icirc;":"Î","&Iuml;":"Ï","&ETH;":"Ð","&Ntilde;":"Ñ","&Ograve;":"Ò","&Oacute;":"Ó","&Ocirc;":"Ô","&Otilde;":"Õ","&Ouml;":"Ö","&Oslash;":"Ø","&Ugrave;":"Ù","&Uacute;":"Ú","&Ucirc;":"Û","&Uuml;":"Ü","&Yacute;":"Ý","&THORN;":"Þ","&szlig;":"ß","&agrave;":"à","&aacute;":"á","&acirc;":"â","&atilde;":"ã","&auml;":"ä","&aring;":"å","&aelig;":"æ","&ccedil;":"ç","&egrave;":"è","&eacute;":"é","&ecirc;":"ê","&euml;":"ë","&igrave;":"ì","&iacute;":"í","&icirc;":"î","&iuml;":"ï","&eth;":"ð","&ntilde;":"ñ","&ograve;":"ò","&oacute;":"ó","&ocirc;":"ô","&otilde;":"õ","&ouml;":"ö","&oslash;":"ø","&ugrave;":"ù","&uacute;":"ú","&ucirc;":"û","&uuml;":"ü","&yacute;":"ý","&thorn;":"þ","&yuml;":"ÿ","&nbsp;":" ","&iexcl;":"¡","&cent;":"¢","&pound;":"£","&curren;":"¤","&yen;":"¥","&brvbar;":"¦","&sect;":"§","&uml;":"¨","&copy;":"©","&ordf;":"ª","&laquo;":"«","&not;":"¬","&shy;":"­","&reg;":"®","&macr;":"¯","&deg;":"°","&plusmn;":"±","&sup2;":"²","&sup3;":"³","&acute;":"´","&micro;":"µ","&para;":"¶","&cedil;":"¸","&sup1;":"¹","&ordm;":"º","&raquo;":"»","&frac14;":"¼","&frac12;":"½","&frac34;":"¾","&iquest;":"¿","&times;":"×","&divide;":"÷","&forall;":"∀","&part;":"∂","&exist;":"∃","&empty;":"∅","&nabla;":"∇","&isin;":"∈","&notin;":"∉","&ni;":"∋","&prod;":"∏","&sum;":"∑","&minus;":"−","&lowast;":"∗","&radic;":"√","&prop;":"∝","&infin;":"∞","&ang;":"∠","&and;":"∧","&or;":"∨","&cap;":"∩","&cup;":"∪","&int;":"∫","&there4;":"∴","&sim;":"∼","&cong;":"≅","&asymp;":"≈","&ne;":"≠","&equiv;":"≡","&le;":"≤","&ge;":"≥","&sub;":"⊂","&sup;":"⊃","&nsub;":"⊄","&sube;":"⊆","&supe;":"⊇","&oplus;":"⊕","&otimes;":"⊗","&perp;":"⊥","&sdot;":"⋅","&Alpha;":"Α","&Beta;":"Β","&Gamma;":"Γ","&Delta;":"Δ","&Epsilon;":"Ε","&Zeta;":"Ζ","&Eta;":"Η","&Theta;":"Θ","&Iota;":"Ι","&Kappa;":"Κ","&Lambda;":"Λ","&Mu;":"Μ","&Nu;":"Ν","&Xi;":"Ξ","&Omicron;":"Ο","&Pi;":"Π","&Rho;":"Ρ","&Sigma;":"Σ","&Tau;":"Τ","&Upsilon;":"Υ","&Phi;":"Φ","&Chi;":"Χ","&Psi;":"Ψ","&Omega;":"Ω","&alpha;":"α","&beta;":"β","&gamma;":"γ","&delta;":"δ","&epsilon;":"ε","&zeta;":"ζ","&eta;":"η","&theta;":"θ","&iota;":"ι","&kappa;":"κ","&lambda;":"λ","&mu;":"μ","&nu;":"ν","&xi;":"ξ","&omicron;":"ο","&pi;":"π","&rho;":"ρ","&sigmaf;":"ς","&sigma;":"σ","&tau;":"τ","&upsilon;":"υ","&phi;":"φ","&chi;":"χ","&psi;":"ψ","&omega;":"ω","&thetasym;":"ϑ","&upsih;":"ϒ","&piv;":"ϖ","&OElig;":"Œ","&oelig;":"œ","&Scaron;":"Š","&scaron;":"š","&Yuml;":"Ÿ","&fnof;":"ƒ","&circ;":"ˆ","&tilde;":"˜","&ensp;":" ","&emsp;":" ","&thinsp;":" ","&zwnj;":"‌","&zwj;":"‍","&lrm;":"‎","&rlm;":"‏","&ndash;":"–","&mdash;":"—","&lsquo;":"‘","&rsquo;":"’","&sbquo;":"‚","&ldquo;":"“","&rdquo;":"”","&bdquo;":"„","&dagger;":"†","&Dagger;":"‡","&bull;":"•","&hellip;":"…","&permil;":"‰","&prime;":"′","&Prime;":"″","&lsaquo;":"‹","&rsaquo;":"›","&oline;":"‾","&euro;":"€","&trade;":"™","&larr;":"←","&uarr;":"↑","&rarr;":"→","&darr;":"↓","&harr;":"↔","&crarr;":"↵","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋","&loz;":"◊","&spades;":"♠","&clubs;":"♣","&hearts;":"♥","&diams;":"♦"};function render_entities(e){return e.replace(/&#(x?)([0-9]+);/g,(function(e,t,n){return n=parseInt(n,t?16:10),String.fromCharCode(n)})).replace(/(&[^;]+;)/g,(function(e,t){return entities[t]||t}))}function bare_text(e){return e.match(/&/)?render_entities(safe(e)):e}function text(e){return bare_text($.terminal.strip(e))}function safe(e){return e.match(/[<>&]/)?e.replace(/&(?![^;]+;)/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"):e}function crlf(e){return e.replace(/\r/g,"")}function char_len(e){return entity_re.test(e)?1:e.length}function make_re_fn(e){return function(t){var n=t.match(e);if(starts_with(n))return n[1]}}function starts_with(e){return e&&0===e.index}function make_next_char_fun(e){var t=[];return[entity_re,emoji_re,combine_chr_re].forEach((function(n){e.match(n)&&t.push(make_re_fn(n))})),e.match(astral_symbols_re)&&t.push((function(e){var t=e.match(astral_symbols_re);if(starts_with(t)){var n=e.match(combine_chr_re);return n&&1===n.index?e.slice(0,3):t[1]}})),function(e){for(var n=0;n<t.length;++n){var o=t[n],i=o(e);if(i)return i}return e[0]}}function get_next_character(e){var t=e.match(entity_re);if(starts_with(t))return t[1];var n=e.match(combine_chr_re);if(starts_with(n))return n[1];var o=e.match(emoji_re);if(starts_with(o))return o[1];if(e.charCodeAt(0)<255)return e[0];var i=e.match(astral_symbols_re);return starts_with(i)?(n=e.match(combine_chr_re),n&&1===n.index?e.slice(0,3):e.slice(0,2)):e[0]}function normalize_position(e,t){if(0===t)return t;e=$.terminal.strip(e);var n=$.terminal.split_characters(e).reduce((function(e,n){if("number"===typeof e)return e;var o=e.length+char_len(n);return o>=t?e.position+1:{position:e.position+1,length:o}}),{position:0,length:0});return"number"===typeof n?n:n.position}function char_width_prop(e,t){return 0===e?"width: 1px":is_ch_unit_supported?"width: "+e+"ch":is_css_variables_supported?"--length: "+e:t.charWidth?"width: "+t.charWidth*e+"px":""}function extra_css(e,t){if("undefined"!==typeof wcwidth){var n=bare_text(e),o=strlen(n);if(o>1&&o!==$.terminal.length(n))return char_width_prop(o,t)}return""}function wide_characters(e,t){if("undefined"!==typeof wcwidth){var n=bare_text(e),o=$.terminal.split_characters(n);if(1===o.length)return e;var i=o.map((function(e){return{len:strlen(e),chr:e}})).reduce((function(e,t){var n=e[e.length-1];return n?n.len!==t.len?e.concat([{sum:t.len,len:t.len,specs:[t]}]):(e.pop(),e.concat([{sum:n.sum+t.len,len:n.len,specs:n.specs.concat(t)}])):[{sum:t.len,specs:[t],len:t.len}]}),[]);return i.map((function(e){if(1===e.len)return r(e);var n=char_width_prop(e.sum,t);return e.sum!==o.length&&n.length?e.specs.length>1?a(n,e.specs.map((function(e){return a(char_width_prop(e.len),e.chr)})).join("")):a(n,r(e)):"<span>"+r(e)+"</span>"})).join("")}function r(e){return e.specs.map((function(e){return e.chr})).join("")}function a(e,t){return'<span style="'+e+'">'+t+"</span>"}return e}function binary_search(e,t,n,o,i){var r=t-e,a=e+Math.floor(r/2),s=[n,a].concat(i),l=o.apply(null,s);return 0===l?a:l>0&&r>1?binary_search(a,t,n,o,i):l<0&&r>1?binary_search(e,a,n,o,i):-1}function is_terminal_selected(e){if(is_function(window.getSelection)){var t=window.getSelection();if(t.toString()){var n=t.getRangeAt(0).startContainer.parentNode,o=$(n).closest(".terminal");return o.length&&(e&&o.find(".cmd").is(e)||!e)}}}function get_selected_html(){var e="";if(is_function(window.getSelection)){var t=window.getSelection();if(t.rangeCount){for(var n=document.createElement("div"),o=0,i=t.rangeCount;o<i;++o)n.appendChild(t.getRangeAt(o).cloneContents());e=n.innerHTML}}return e}function with_selection(e){var t="",n=[];if(is_function(window.getSelection)){var o=window.getSelection();if(o.rangeCount){for(var i=document.createElement("div"),r=0,a=o.rangeCount;r<a;++r){var s=o.getRangeAt(r).cloneRange();n.push(s),i.appendChild(s.cloneContents())}t=i.innerHTML}}return e(t),n.length&&(o.removeAllRanges(),n.forEach((function(e){o.addRange(e)}))),""!==t}function process_selected_line(){var e=$(this),t=e.text();return e.hasClass("cmd-end-line")&&(t+="\n"),t}function process_div(e){return $(e).find("> div, > span").map(process_selected_line).get().join("\n").replace(/\n$/,"")}function process_selected_html(e){var t,n="",o=$("<div>"+e+"</div>");e.match(/<\/div>/)&&(t=o.find("div[data-index]").map((function(){return process_div(this)})).get().join("\n"),!t&&e.match(/style="width: 100%;?"/)&&(t=process_div(o)),n=t);var i=o.find(".cmd-prompt");i.length&&(n.length&&(n+="\n"),n+=i.text());var r=o.find('[role="presentation"]');return r.length&&(n+=r.map(process_selected_line).get().join("")),!n.length&&e&&(n=o.text()),n.replace(/\xA0/g," ")}var support_copy=function(){return"undefined"!==typeof document&&(!!is_function(document.queryCommandSupported)&&document.queryCommandSupported("copy"))}(),text_to_clipboard;text_to_clipboard=support_copy?function(e,t){var n=e.val(),o=e.is(":focus"),i=e.caret();if(window.navigator&&window.navigator.clipboard)navigator.clipboard.writeText(t);else if(o)e.val(t).focus(),e[0].select(),document.execCommand("copy"),e.val(n),e.caret(i);else{var r=$("<textarea/>").css({position:"fixed",top:0,left:0}).appendTo("body");r.val(t).focus(),r[0].select(),document.execCommand("copy"),r.blur(),r.remove()}return!0}:$.noop;var get_textarea_selection=function(){function e(){return""}if("undefined"===typeof document)return e;var t=document.createElement("textarea"),n="selectionStart"in t;return t=null,n?function(e){var t=e.selectionEnd-e.selectionStart;return e.value.substr(e.selectionStart,t)}:document.selection?function(){var e=document.selection.createRange();return e.text()}:e}();function clear_textarea_selection(e){e.selectionStart=e.selectionEnd=0}function common_string(e,t,n){if(!t.length)return"";for(var o=string_case(e),i=[],r=e.length;r<t[0].length;++r){for(var a=!1,s=t[0].charAt(r),l=s.toLowerCase(),u=1;u<t.length;++u){a=!0;var c=t[u].charAt(r),d=c.toLowerCase();if(s!==c){if(n||"mixed"===o){a=!1;break}if(l!==d){a=!1;break}if("lower"===o)s=s.toLowerCase();else{if("upper"!==o){a=!1;break}s=s.toUpperCase()}}}if(!a)break;i.push(s)}return e+i.join("")}function trigger_terminal_change(e){terminals.forEach((function(t){t.settings().onTerminalChange.call(t,e)}))}var select=function(){if(root.getSelection){var e=root.getSelection();return e.setBaseAndExtent?function(e,t){var n=root.getSelection();n.setBaseAndExtent(e,0,t,1)}:function(e,t){var n=root.getSelection(),o=document.createRange();o.setStart(e,0),o.setEnd(t,t.childNodes.length),n.removeAllRanges(),n.addRange(o)}}return $.noop}();function process_command(e,t){var n=e.trim(),o=n.match(command_re)||[];if(o.length){var i=o.shift(),r=$.map(o,(function(e){return e.match(/^["']/)?(e=e.replace(/\n/g,"\\u0000\\u0000\\u0000\\u0000"),e=t(e),e.replace(/\x00\x00\x00\x00/g,"\n")):t(e)})),a=$.map(o,(function(e){var t=e.match(/^(['"`]).*\1$/);return t&&t[1]||""})),s=n.slice(i.length).trim();return{command:e,name:i,args:r,args_quotes:a,rest:s}}return{command:e,name:"",args:[],args_quotes:[],rest:""}}$.terminal={version:"2.31.1",date:"Thu, 30 Dec 2021 10:56:33 +0000",color_names:["transparent","currentcolor","black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","rebeccapurple"],Cycle:Cycle,History:History,Stack:Stack,valid_color:function(e){return!!e.match(color_re)||-1!==$.inArray(e.toLowerCase(),$.terminal.color_names)},unclosed_strings:function(e){return!!e.match(unclosed_strings_re)},escape_regex:function(e){if("string"===typeof e){var t=/([-\\^$[\]()+{}?*.|])/g;return e.replace(t,"\\$1")}},have_formatting:function(e){return"string"===typeof e&&!!e.match(format_exist_re)},is_formatting:function(e){return"string"===typeof e&&!!e.match(format_full_re)},is_extended_command:function(e){return"string"===typeof e&&e.match(format_exec_re)&&!$.terminal.is_formatting(e)},each_extended_command:function(e,t){var n=e.split(format_exec_split_re);return $.map(n,(function(e){if($.terminal.is_extended_command(e)){var n=e.replace(/^\[\[|\]\]$/g,"");return t(n)||""}return e})).join("")},format_split:function(e){return e.split(format_split_re).filter(Boolean)},tracking_replace:function(e,t,n,o){if(!(t instanceof RegExp))throw new Error("tracking_replace: Second argument need to be RegExp");function i(e,t,n){return e.slice(t,n)}function r(e){return $.terminal.strip(e).length}var a,s,l,u="",c=0,d=o;t.lastIndex=0;while(a=t.exec(e)){if(t.global){var p=r(i(e,0,t.lastIndex));l=p-r(a[0])}else l=a.index,p=l+r(a[0]);if(c<l&&(u+=i(e,c,l)),c=p,s="function"===typeof n?n.apply(null,a):n.replace(/\$(\$|\d)/g,(function(e,t){return"$"===t?"$":a[t]})),u+=s,l<o){var m=r(s);m+=count_selfclosing_formatting(s),p<o?d=Math.max(0,d+m-r(a[0])):d+=m-(o-l)}if(!t.global)break}return c<r(e)&&(u+=i(e,c)),e===u?[e,o]:[u,d]},iterate_formatting:function(e,t){function n(t){return"&nbsp;"===e.slice(t-6,t)||e.slice(t-1,t).match(/\s/)}function o(t){return e.slice(t).match(entity_re)}function i(t){return"["===e[t]&&"["===e[t+1]}function r(t){return"\\"!==e[t-1]&&"\\"===e[t]&&"]"===e[t+1]}function a(t){return x&&("]"!==e[t]||!f)&&!E}var s=make_next_char_fun(e);function l(){var e=s(w);return e.length>1&&$.terminal.length(w)>1?e.length-1:0}function u(){return n(C)&&(x||E)&&(-1===b&&m!==C||-1!==b)}var c=!1;function d(){return c=C===e.length-1&&!c||h&&!!w.match(/^.]$/),c}for(var p,m,f=$.terminal.have_formatting(e),h="",g=!1,v=0,b=-1,D=-1,y=0,_=0,k=/(&[^;]+);$/,C=0;C<e.length;C++){var w=e.slice(C);p=w.match(format_start_re),p?(h=p[1],g=!1):h?"]"===e[C]&&(g?(h="",g=!1):g=!0):g=!0;var x=h&&g||!h,E=i(C);u()&&(b=C,D=v);var T=e[C].match(/[[\]]/);if(_=0,x)if("&"===e[C]){if(p=o(C),p){C+=p[1].length-2;continue}++v,++y}else r(C)?(++v,++y,_=1,C+=1):T&&f||(++v,++y);if(a(C)){2===strlen(e[C])&&y++;var O=s(w),A=O.length;";"===O&&(p=e.slice(0,C+1).match(k),p&&(_=p[1].length,A=_+1));var S={last:d(),count:v,index:C-_,formatting:h,length:y,text:g,size:A,space:b,space_count:D},j=t(S);if(!1===j)break;if(j&&(j.count!==undefined&&(v=j.count),j.length!==undefined&&(y=j.length),j.space!==undefined&&(m=b,b=j.space),j.index!==undefined)){C=j.index;continue}}else C!==e.length-1||c||t({last:!0,count:v+1,index:C,formatting:h,length:0,text:g,space:b});g&&(C+=l())}},partition:function(e){if(!$.terminal.have_formatting(e)){var t=$.terminal.split_characters(e);return t.map(o)}var n=[];function o(e){return e.match(/\\$/)&&(e+="\\"),"[[;;]"+e+"]"}function i(e){return $.terminal.is_formatting(e)?e.match(/\\]$/)&&(e=e.replace(/\\]/g,"\\\\]")):e=o(e),e}return $.terminal.iterate_formatting(e,(function(t){if(t.text){var o=[];t.formatting&&o.push(t.formatting),o.push(e.substring(t.index,t.index+t.size)),t.formatting&&o.push("]"),n.push(i(o.join("")))}})),n},substring:function(e,t,n){var o=$.terminal.split_characters(e);if(!o.slice(t,n).length)return"";if(!$.terminal.have_formatting(e))return o.slice(t,n).join("");var i,r,a=0,s="",l="",u=1;return $.terminal.iterate_formatting(e,(function(e){t&&e.count===t+1&&(a=e.index,e.formatting&&(s=e.formatting)),n&&e.count===n&&(l=e.formatting,r=e.index,u=e.size),e.count===n+1&&(i=e.index,e.formatting&&(i=r+u))})),t&&!a?"":(i===undefined&&(i=e.length),e=s+e.slice(a,i),l&&(e=e.replace(/(\[\[^\]]+)?\]$/,""),e+="]"),e)},normalize:function(e){return e=e.replace(format_re,(function(e,t,n){if(t.match(self_closing_re)&&""===n)return"[["+t+"] ]";if(""===n)return"";function o(e){return e.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ")}t=o(t);var i=t.match(/;/g).length;if(i>=4){var r=t.split(/;/),a=r.slice(0,4).join(";"),s=r.slice(4).join(";");return"[["+a+";"+(s||n)+"]"+n+"]"}return 2===i?i=";;":3===i&&(i=";"),t+=i+o(n),"[["+t+"]"+n+"]"})),$.terminal.amp(e)},split_equal:function(e,t,n){for(var o="",i=[],r=$.terminal.normalize(e).split(/\n/g),a=0,s=r.length;a<s;++a)if(""!==r[a]){var l,u=r[a],c=make_next_char_fun(u),d=0,p=u.length,m=!!u.match(/\[\[[^\]]+\](?:[^\][]|\\\])+\]$/);$.terminal.iterate_formatting(u,(function(e){var r,a;if(e.length>=t||e.last||e.length===t-1&&2===strlen(u[e.index+1])){var s=!1;if(n&&-1!==e.space){var f=text(u).substring(e.space_count);f=f.slice(0,t).trim();var h=strlen(f);(f.match(/\s/)||h<t)&&(s=!0)}var g,v=e.index+e.size;if(m&&(v+=1),n&&-1!==e.space&&v!==p&&s?(l=u.slice(d,e.space),g=e.space-1):(a=u.slice(e.index),r=c(a),l=u.slice(d,e.index)+r,e.last&&m&&"]"!==r&&(l+="]"),g=e.index+r.length-1),n&&(l=l.replace(/^(&nbsp;|\s)+|(&nbsp;|\s)+$/g,"")),d=(g||e.index)+1,o){var b=l.match(/^[^\]]*\]/);l=o+l,b&&(o="")}var D=l.match(format_re);if(D){var y=D[D.length-1];"]"!==y[y.length-1]?(o=y.match(format_begin_re)[1],l+="]"):l.match(format_end_re)&&(l=l.replace(format_end_re,""),o=y.match(format_begin_re)[1])}return i.push(l),{index:g,length:0,space:-1}}}))}else i.push("");return i},amp:function(e){return e.replace(/&(?!#[0-9]+;|#x[0-9a-f]+;|[a-z]+;)/gi,"&amp;")},encode:function(e,t){var n=$.extend({tabs:4,before:""},t);return $.terminal.amp(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").split("\n").map((function(e){var t=e.split(/((?:\[\[[^\]]+\])?\t(?:\])?)/);return t=t.filter(Boolean),t.map((function(e,o){return e.match(/\t/)?e.replace(/\t([^\t]*)$/,(function(e,i){if(0!==o&&t[o-1].match(/\t\]?$/)){var r=new Array(n.tabs+1).join("&nbsp;");return r+i}var a=t.slice(o-1,o).join("");n.before&&o<=1&&(a=n.before+a);var s=$.terminal.length(a),l=n.tabs-s%n.tabs;return 0===l&&(l=4),new Array(l+1).join("&nbsp;")+i})):e})).join("")})).join("\n")},nested_formatting:function(e){if(!$.terminal.have_formatting(e))return e;var t=[],n=/((?:\[\[(?:[^\][]|\\\])+\])?(?:[^\][]|\\\])*\]?)/,o=/\[\[([^\][]+)\][\s\S]*/,i=/^\[\[([^;]*);([^;]*);([^\]]*)\]/,r=3,a=5;function s(e,t,n){return n.indexOf(e)===t}function l(e,t){return e=u(e),t?$.extend(t,e):e}function u(e){var t={};return e.split(/\s*;\s*/).forEach((function(e){var n=e.split(":").map((function(e){return e.trim()})),o=n[0],i=n[1];t[o]=i})),t}function c(e){var t=e.slice();return e[a]&&(t[a]=p(e[a])),e[r]&&(t[r]=m(e[r])),t[0]=d(e[0]),t.join(";")}function d(e){var t=e.filter((function(e){return"-"===e[0]})).map((function(e){return e[1]}));return e.filter((function(e){return-1===t.indexOf(e)&&-1===t.indexOf(e[1])})).join("")}function p(e){return JSON.stringify(e,(function(e,t){return"style"===e?f(t):t}))}function m(e){return e.filter(s).join(" ")}function f(e){return Object.keys(e).map((function(t){return t+":"+e[t]})).join(";")}function h(e){function t(e){n[a]||(n[a]={});try{var t=JSON.parse(e);if(t.style){var o=t.style,i=n[a].style;t.style=l(o,i),n[a]=$.extend(t,n[a],{style:l(o,i)})}else n[a]=$.extend(t,n[a])}catch(r){warn("Invalid JSON "+e)}}var n=[[],"",""];if(!e.length)return n;for(var o=e.length;o--;){var i=e[o].split(";");if(i.length>5){var s=i.slice(5).join(";");i=i.slice(0,5).concat(s)}var u=i[0].split(/(-?[@!gbiuso])/g).filter(Boolean);u.forEach((function(e){-1===n[0].indexOf(e)&&n[0].push(e)}));for(var d=1;d<i.length;++d){var p=i[d].trim();if(p)if(d===r){n[r]||(n[r]=[]);var m=p.split(/\s+/);n[r]=n[r].concat(m)}else d===a?t(p):n[d]||(n[d]=p)}}return c(n)}return e.split(n).filter(Boolean).map((function(e){var n;if(e.match(/^\[\[/)&&!$.terminal.is_extended_command(e)){var r=e.replace(o,"$1"),a=$.terminal.is_formatting(e);e=e.replace(i,""),t.push(r),n=$.terminal.nested_formatting.__inherit__?h(t):r,a?t.pop():e+="]",e="[["+n+"]"+e}else{var s=!1;e.match(/\]/)&&(s=!0),t.length&&(n=$.terminal.nested_formatting.__inherit__?h(t):t[t.length-1],e="[["+n+"]"+e),s?t.pop():t.length&&(e+="]")}return e})).join("")},escape_formatting:function(e){return $.terminal.escape_brackets(e)},apply_formatters:function(e,t){if(""===e)return t&&"number"===typeof t.position?["",t.position]:"";function n(e,t,n,o){e.__no_warn__||$.terminal.length(n)===$.terminal.length(o)||warn("Your formatter["+t+"] change length of the string, you should use [regex, replacement] formatter or function  that return [replacement, position] instead")}function o(e){if(!t||!e)return!0;var n=["echo","command","prompt"],o=n.some((function(t){return!0===e[t]}));if(!o)return!0;for(var i=n.length;i--;){var r=n[i];if(!0===e[r]&&!0===t[r])return!0}return!1}t=t||{};var i,r=t.formatters||$.terminal.defaults.formatters,a=0;function s(e,o){var i=$.extend({},t,{position:o[1]}),r=e(o[0],i);return"string"===typeof r?(n(e,a-1,r,o[0]),"string"===typeof r?[r,i.position]:o):is_array(r)&&2===r.length?r:o}i="number"===typeof t.position?[e,t.position]:[e,0];try{var l=r.reduce((function(e,t){if(a++,"function"===typeof t&&t.__meta__)return s(t,e);var n,i=0,r=!1,l=$.terminal.format_split(e[0]),u=l.map((function(n){var a,l=text(n).length;e[1]<i+l&&!r?(a=e[1]-i,r=!0):a=r?-1:e[1];var u,c=i;if(i+=l,$.terminal.is_formatting(n))return r?[n,a]:[n,-1];if(is_array(t)){var d=t[2]||{};if(u=[n,a<0?0:a],u[0].match(t[0])&&o(t[2]))if(d.loop)while(u[0].match(t[0]))u=$.terminal.tracking_replace(u[0],t[0],t[1],u[1]);else u=$.terminal.tracking_replace(u[0],t[0],t[1],u[1]);if(a<0)return[u[0],-1]}else"function"===typeof t&&(u=s(t,[n,a]));if("undefined"!==typeof u){-1!==u[1]&&(u[1]+=c);text(u[0]).length;return u}return[n,-1]})),c=u.filter((function(e){return-1!==e[1]}))[0],d=u.map((function(e){return e[0]})).join("");n="undefined"===typeof c?e[1]:c[1];var p=text(d).length;if(p+=count_selfclosing_formatting(d),n>p&&(n=p),d===e[0])return e;var m=$.terminal.strip(e[0]),f=$.terminal.strip(d);return m===f?[d,e[1]]:[d,n]}),i);if("number"===typeof t.position){var u=$.terminal.strip(l[0]).length;if($.terminal.length(l[0])<u){var c=l[1];c=normalize_position(l[0],c);var d=$.terminal.length(l[0]);c>d&&(c=d),l[1]=c}return l}return l[0]}catch(m){var p="Error in formatter ["+(a-1)+"]";throw r.splice(a-1),new $.terminal.Exception("formatting",p,m.stack)}},format:function(e,t){var n=$.extend({},{linksNoReferrer:!1,linksNoFollow:!1,allowedAttributes:[],charWidth:undefined,escape:!0,anyLinks:!1},t||{});function o(e){return e.length&&n.allowedAttributes.length?e.filter((function(e){if("data-text"===e)return!1;for(var t=!1,o=n.allowedAttributes,i=0;i<o.length;++i)if(o[i]instanceof RegExp){if(o[i].test(e)){t=!0;break}}else if(o[i]===e){t=!0;break}return t})):[]}function i(e,t){return""===e?t:e.replace(/&#93;/g,"]").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function r(e){if(e){var t=o(Object.keys(e));if(t.length)return" "+t.map((function(t){var n=e[t].replace(/"/g,"&quot;");return t+'="'+n+'"'})).join(" ")}return""}function a(){var e=["noopener"];return n.linksNoReferrer&&e.unshift("noreferrer"),n.linksNoFollow&&e.unshift("nofollow"),e}function s(e){return e.match(/^\.{1,2}\//)||e.match(/^\//)||!(e.match(/\//)||e.match(/^[^:]+:/))}function l(e){return function(t){if(n.anyLinks)return!0;var o=e(t);return o||warn("Invalid URL "+t+" only http(s) ftp and Path are allowed"),o}}var u=l((function(e){return e.match(/^((https?|file|ftp):\/\/|\.{0,2}\/)/)||s(e)})),c=l((function(e){return e.match(/^(https?:|file:|blob:|data:)/)||s(e)}));function d(e,t,o,s,l,d,p){function m(e){var t;return e.match(email_re)?t='<a href="mailto:'+e+'"':(u(e)||(e=""),t='<a target="_blank"',e&&(t+=' href="'+e+'"'),t+=' rel="'+a().join(" ")+'"'),t}function f(e){var t="<img";return c(e)&&(t+=' src="'+e+'"',p&&(t+=' alt="'+p+'"')),t}var h;if(d.match(/;/))try{var g=d.split(";"),v=g.slice(1).join(";").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">");v.match(/^\s*\{[^}]*\}\s*$/)&&(h=JSON.parse(v),d=g[0])}catch(C){}if(""===p&&!t.match(/@/))return"";p=safe(p),p=p.replace(/\\\]/g,"&#93;"),n.escape&&(p=p.replace(/\\\\/g,"\\"));var b="";-1!==t.indexOf("b")&&(b+="font-weight:bold;");var D=[];-1!==t.indexOf("u")&&D.push("underline"),-1!==t.indexOf("s")&&D.push("line-through"),-1!==t.indexOf("o")&&D.push("overline"),D.length&&(b+="text-decoration:"+D.join(" ")+";"),-1!==t.indexOf("i")&&(b+="font-style:italic;"),$.terminal.valid_color(o)&&(b+=["color:"+o,"--color:"+o,"--original-color:"+o].join(";")+";",-1!==t.indexOf("!")&&(b+="--link-color:"+o+";"),-1!==t.indexOf("g")&&(b+="text-shadow:0 0 5px "+o+";")),$.terminal.valid_color(s)&&(b+=["background-color:"+s,"--background:"+s].join(";")+";");var y,_=i(d,p),k=extra_css(p,n);return k&&(p=wide_characters(p,n),b+=k),y=-1!==t.indexOf("!")?m(_):-1!==t.indexOf("@")?f(_):"<span",h&&h.style&&(h.style=b+h.style,b=""),y+=r(h),""!==b&&(y+=' style="'+b+'"'),""!==l&&(y+=' class="'+l+'"'),-1!==t.indexOf("!")?y+=" data-text>"+p+"</a>":-1!==t.indexOf("@")?y+=" data-text/>":y+=' data-text="'+_+'"><span>'+p+"</span></span>",y}if("string"===typeof e){var p=$.terminal.format_split(e);return e=$.map(p,(function(e){if(""===e)return e;if($.terminal.is_formatting(e))return e=e.replace(/\[\[[^\]]+\]/,(function(e){return e.replace(/&nbsp;/g," ")})),e.replace(format_parts_re,d);e=safe(e),e=e.replace(/\\\]/,"&#93;");var t,o=i(e),r=extra_css(e,n);return r.length?(e=wide_characters(e,n),t='<span style="'+r+'"'):t="<span",t+' data-text="'+o+'">'+e+"</span>"})).join(""),e.replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""},escape_brackets:function(e){return e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;").replace(/\\/g,"&#92;")},unescape_brackets:function(e){return e.replace(/&#91;/g,"[").replace(/&#93;/g,"]").replace(/&#92;/g,"\\")},length:function(e,t){return e?$.terminal.split_characters(t?e:text(e)).length:0},split_characters:function(e){var t=[],n=make_next_char_fun(e);while(e.length){var o=n(e);e=e.slice(o.length),t.push(o)}return t},columns:function(e,t,n){var o=e.map((function(e){return $.terminal.strip(e)})),i=o.map((function(e){return strlen(e)}));"undefined"===typeof n&&(n=4);var r=Math.max.apply(null,i)+n,a=Math.floor(t/r)-1;if(a<1)return e.join("\n");for(var s=[],l=0,u=e.length;l<u;l+=a){var c=e.slice(l,l+a),d=c.pop();s.push(c.reduce((function(e,t){var n=$.terminal.strip(t),o=new Array(r-n.length+1).join(" ");return e.push(t+o),e}),[]).join("")+d)}return s.join("\n")},strip:function(e){return $.terminal.have_formatting(e)?$.terminal.format_split(e).map((function(e){return $.terminal.is_formatting(e)?(e=e.replace(format_parts_re,"$6"),e.replace(/\\([[\]])/g,(function(e,t){return t}))):e})).join(""):e},active:function(){return terminals.front()},last_id:function(){var e=terminals.length();return e-1},parse_argument:function(e,t){function n(e){return e.split(string_re).map((function(e){if(e.match(/^['"`]/)){if('""'===e||"''"===e||"``"===e)return"";var t=e[0],n=new RegExp("(\\\\\\\\(?:\\\\\\\\)*)"+t,"g");e=e.replace(n,"$1").replace(/^[`'"]|[`'"]$/g,""),"'"===t&&(e=e.replace(/"/g,'\\"'))}return e='"'+e+'"',JSON.parse(e)})).join("")}if(!1===t)return"'"===e[0]&&"'"===e[e.length-1]?e.replace(/^'|'$/g,""):"`"===e[0]&&"`"===e[e.length-1]?e.replace(/^`|`$/g,""):'"'===e[0]&&'"'===e[e.length-1]?e.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):e.match(/\/.*\/[gimy]*$/)?e:e.match(/['"`]]/)?n(e):e.replace(/\\ /g," ");if("true"===e)return!0;if("false"===e)return!1;var o=e.match(re_re);return o?new RegExp(o[1],o[2]):e.match(/['"`]/)?n(e):e.match(/^-?[0-9]+$/)?parseInt(e,10):e.match(float_re)?parseFloat(e):e.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(e){return $.map(e.match(command_re)||[],$.terminal.parse_argument)},split_arguments:function(e){return $.map(e.match(command_re)||[],(function(e){return $.terminal.parse_argument(e,!1)}))},parse_command:function(e){return process_command(e,$.terminal.parse_argument)},split_command:function(e){return process_command(e,(function(e){return $.terminal.parse_argument(e,!1)}))},parse_options:function e(t,n){var o=$.extend({},{boolean:[]},n);if("string"===typeof t)return e($.terminal.split_arguments(t),n);var i={_:[]};function r(e){this.value=e}var a=t.reduce((function(e,t){var n="string"===typeof t?t:"";if(n.match(/^--?[^-]/)&&e instanceof r&&(i[e.value]=!0),n.match(/^--[^-]/)){var a=n.replace(/^--/,"");if(-1===o.boolean.indexOf(a))return new r(a);i[a]=!0}else if(n.match(/^-[^-]/)){var s=n.replace(/^-/,"").split("");if(-1===o.boolean.indexOf(s.slice(-1)[0]))var l=s.pop();if(s.forEach((function(e){i[e]=!0})),l)return new r(l)}else e instanceof r?i[e.value]=t:t&&i._.push(t);return null}),null);return a instanceof r&&(i[a.value]=!0),i},extended_command:function extended_command(term,string,options){var settings=$.extend({invokeMethods:!1},options),deferred=new $.Deferred;try{change_hash=!1;var m=string.match(extended_command_re);if(!m)return term.exec(string,!0).done((function(){change_hash=!0}));if(settings.invokeMethods){string=m[1];var obj="terminal"===m[2]?term:term.cmd(),fn=m[3];try{var args=eval("["+m[4]+"]");if(obj[fn]){var ret=obj[fn].apply(term,args);if(ret&&ret.then)return ret}else term.error("Unknow function "+fn);deferred.resolve()}catch(e){term.error("Invalid invocation in "+$.terminal.escape_brackets(string)),deferred.reject()}}else warn("To invoke terminal or cmd methods you need to enable invokeMethods option"),deferred.reject()}catch(e){deferred.reject()}return deferred.promise()},iterator:function(e){function t(e){return $.terminal.is_formatting(e)&&e.match(/\]\\\]/)&&(e=e.replace(/\]\\\]/g,"]\\\\]")),e}if("function"===typeof Symbol&&"symbol"===_typeof(Symbol.iterator)){var n=$.terminal.length(e),o=0,i={};return i[Symbol.iterator]=function(){return{next:function(){if(o<n){var i=$.terminal.substring(e,o,o+1);return o++,{value:t(i)}}return{done:!0}}}},i}},formatter:new function(){try{this[Symbol.split]=function(e){return $.terminal.format_split(e)},this[Symbol.match]=function(e){return e.match(format_re)},this[Symbol.replace]=function(e,t){return e.replace(format_parts_re,t)},this[Symbol.search]=function(e){return e.search(format_re)}}catch(e){}},new_formatter:function(e){for(var t=$.terminal.defaults.formatters,n=0;n<t.length;++n)if(t[n]===$.terminal.nested_formatting)return void t.splice(n,0,e);t.push(e)}},$.terminal.Exception=function(e,t,n){1===arguments.length?(this.message=arguments[0],this.type="TERMINAL"):(this.type=e,this.message=t,n&&(this.stack=n))},$.terminal.Exception.prototype=new Error,$.terminal.Exception.prototype.toString=function(){return this.message+"\n"+this.stack},$.fn.visible=function(){return this.css("visibility","visible")},$.fn.hidden=function(){return this.css("visibility","hidden")};var warnings=[];function warn(e){e="[jQuery Terminal] "+e,-1===warnings.indexOf(e)&&(warnings.push(e),console?console.warn?console.warn(e):console.log&&console.log(e):setTimeout((function(){throw new Error("WARN: "+e)}),0))}var ids={};function terminal_ready(e){return!!(e.closest("body").length&&e.is(":visible")&&e.find(".cmd-prompt").length)}function get_char_size(e){var t;if(terminal_ready(e)){var n=e.find(".cmd-prompt").clone().css({visiblity:"hidden",position:"absolute"});n.appendTo(e.find(".cmd")).html("&nbsp;"),t=n[0].getBoundingClientRect(),n.remove()}else{var o=$('<div class="terminal terminal-temp"><div class="terminal-wrapper"><div class="terminal-output"><div><div class="terminal-line" style="float: left"><span>&nbsp;</span></div></div></div></div>').appendTo("body");if(o.addClass(e.attr("class")).attr("id",e.attr("id")),e){var i=e.attr("style");i&&(i=i.split(/\s*;\s*/).filter((function(e){return!e.match(/display\s*:\s*none/i)})).join(";"),o.attr("style",i))}t=o.find(".terminal-line")[0].getBoundingClientRect()}var r={width:t.width,height:t.height};return o&&o.remove(),r}function get_num_chars(e,t){var n=e.find(".terminal-fill").width(),o=Math.floor(n/t.width);return o||1e3}function get_num_rows(e,t){var n=e.find(".terminal-fill").height();return Math.floor(n/t.height)}function all(e,t){var n=e.filter((function(e){return e[t]()===e}));return n.length===e.length}function string_case(e){var t=e.split("");return all(t,"toLowerCase")?"lower":all(t,"toUpperCase")?"upper":"mixed"}function same_case(e){return"mixed"!==string_case(e)}function is_function(e){return"function"===get_type(e)}function is_object(e){return e&&"object"===_typeof(e)}function is_promise(e){return is_object(e)&&is_function(e.then||e.done)}function is_deferred(e){return is_promise(e)&&is_function(e.promise)}function is_array(e){return Array.isArray(e)}function get_type(e){return"function"===typeof e?"function":null===e?e+"":Array.isArray(e)?"array":"object"===_typeof(e)?"object":_typeof(e)}$.jrpc=function(e,t,n,o,i){var r,a=new $.Deferred;function s(e){return $.isNumeric(e.id)&&("undefined"!==typeof e.result||"undefined"!==typeof e.error)}r=$.isPlainObject(e)?e:{url:e,method:t,params:n,success:o,error:i},ids[r.url]=ids[r.url]||0;var l={jsonrpc:"2.0",method:r.method,params:r.params,id:++ids[r.url]};return $.ajax({url:r.url,beforeSend:function(e,t){is_function(r.request)&&r.request(e,l),t.data=JSON.stringify(l)},success:function(e,t,n){var o,i=n.getResponseHeader("Content-Type");i.match(/(application|text)\/json/)||warn("Response Content-Type is neither application/json nor text/json");try{o=JSON.parse(e)}catch(l){if(!r.error)throw new $.terminal.Exception("JSON","Invalid JSON",l.stack);return r.error(n,"Invalid JSON",l),void a.reject({message:"Invalid JSON",response:e})}is_function(r.response)&&r.response(n,o),s(o)||"system.describe"===r.method?(r.success&&r.success(o,t,n),a.resolve(o)):(r.error&&r.error(n,"Invalid JSON-RPC"),a.reject({message:"Invalid JSON-RPC",response:e}))},error:r.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"}),a.promise()},$.rpc=function(e,t,n){var o=new $.Deferred;function i(e){e.error?o.reject(e.error):o.resolve(e.result)}function r(e,t,n){o.reject({message:n})}return $.jrpc(e,t,n,i,r),o.promise()},Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var version_set=!$.terminal.version.match(/^\{\{/),copyright="Copyright (c) 2011-2021 Jakub T. Jankiewicz <https://jcubic.pl/me>",version_string=version_set?" v. "+$.terminal.version:" ",reg=new RegExp(" {"+version_string.length+"}$"),name_ver="jQuery Terminal Emulator"+(version_set?version_string:""),signatures=[["jQuery Terminal","(c) 2011-2021 jcubic"],[name_ver,copyright.replace(/^Copyright | *<.*>/g,"")],[name_ver,copyright.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/_/_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(reg," ")+version_string,copyright],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(reg,"")+version_string,copyright]];$.terminal.nested_formatting.__meta__=!0,$.terminal.nested_formatting.__inherit__=!0,$.terminal.nested_formatting.__no_warn__=!0,$.terminal.defaults={prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,tabindex:1,invokeMethods:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,mousewheel:null,touchscroll:null,memory:!1,cancelableAjax:!0,processArguments:!0,execAnimation:!1,execAnimationDelay:100,linksNoReferrer:!1,useCache:!0,anyLinks:!1,linksNoFollow:!1,processRPCResponse:null,completionEscape:!0,onCommandChange:null,mobileDelete:is_mobile,onPositionChange:null,convertLinks:!0,extra:{},tabs:4,historySize:60,scrollObject:null,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[$.terminal.nested_formatting],unixFormatting:{escapeBrackets:!1,ansiParser:{},ansiArt:!1},onAjaxError:null,pasteImage:!0,scrollBottomOffset:20,wordAutocomplete:!0,caseSensitiveAutocomplete:!0,caseSensitiveSearch:!0,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,repeatTimeoutKeys:[],mobileIngoreAutoSpace:[],request:$.noop,response:$.noop,describe:"procs",onRPCError:null,keymap:null,doubleTab:null,doubleTabEchoCommand:!1,completion:!1,onInit:$.noop,onClear:$.noop,onBlur:$.noop,onFocus:$.noop,onTerminalChange:$.noop,onExit:$.noop,onPush:$.noop,onPop:$.noop,keypress:$.noop,keydown:$.noop,renderHandler:null,onAfterRedraw:$.noop,onEchoCommand:$.noop,onPaste:$.noop,onFlush:$.noop,onBeforeCommand:null,onAfterCommand:null,onBeforeEcho:null,onAfterEcho:null,onBeforeLogin:null,onAfterLogout:null,onBeforeLogout:null,allowedAttributes:["title",/^aria-/,"id",/^data-/],strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong username or password try again!",wrongPassword:"Wrong username or password!",ajaxAbortError:"Error while aborting ajax call!",wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:"Sorry, but terminal said that you use invalid selector!",invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveLoop:"Recursive loop in echo detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",invalidStrings:"Command %s have unclosed strings",defunctTerminal:"You can't call method on terminal that was destroyed"}};var requests=[],terminals=new Cycle,_save_state=[],hash_commands,change_hash=!1,fire_hash_change=!0,first_instance=!0;$.fn.terminal=function(e,t){function n(e){e&&(this.storage={}),this.set=function(t,n){e?this.storage[t]=n:$.Storage.set(t,n)},this.get=function(t){return e?this.storage[t]:$.Storage.get(t)},this.remove=function(t){e?delete this.storage[t]:$.Storage.remove(t)}}function o(e){if($.terminal.unclosed_strings(e)){var t=$.terminal.escape_brackets(e),n=sprintf(ie().invalidStrings,"`"+t+"`");throw new $.terminal.Exception(n)}return is_function(Be.processArguments)?process_command(e,Be.processArguments):Be.processArguments?$.terminal.parse_command(e):$.terminal.split_command(e)}function i(e,t){if($.terminal.Animation&&e instanceof $.terminal.Animation)return e.start(ae),!1;if(is_function(Be.renderHandler)){var n=Be.renderHandler.call(ae,e,t,ae);return!1!==n&&("string"===typeof n||u(n)||is_promise(n)?n:e)}return e}function r(e){var t=e.data("index"),n=He[t],o=n[1];is_function(o.unmount)&&o.unmount.call(ae,e)}function a(e,t){if(u(e)){var n=$.extend({},t,{raw:!0,finalize:function(n){n.find(".terminal-render-item").replaceWith(e),t&&is_function(t.finalize)&&t.finalize(n,ae)}});return['<div class="terminal-render-item"/>',n]}}function s(e,t){var n=a(e,t);if(n)return ae.echo.apply(ae,n),!0}function l(e){return pe.find("[data-index="+e+"]")}function u(e){return e instanceof $.fn.init||e instanceof Element}function c(e){e=i(e),!1!==e&&(s(e)||("string"===typeof e?ae.echo(e):is_array(e)?ae.echo($.map(e,(function(e){return JSON.stringify(e)})).join(" ")):"object"===_typeof(e)?ae.echo(JSON.stringify(e)):ae.echo(e)))}function d(e,t){var n=/(.*):([0-9]+):([0-9]+)$/,o=e.match(n);o&&(ae.pause(Be.softPause),$.get(o[1],(function(e){var n=o[1],i=e.split("\n"),r=+o[2]-1,a=r>2?r-2:0,s=i.slice(a,r+3).map((function(e,n){var o="["+(r+n-1)+"]: ",i=t-o.length-4;return e.length>i&&(e=e.substring(0,i)+"..."),(r>2?2===n:n===r)&&(e="[[;#f00;]"+$.terminal.escape_brackets(e)+"]"),o+e})).filter(Boolean).join("\n");s.length&&(ae.echo("[[b;white;]"+n+"]"),ae.echo(s).resume())}),"text"))}function p(e){if(is_function(Be.onRPCError))Be.onRPCError.call(ae,e);else if(ae.error("&#91;RPC&#93; "+e.message),e.error&&e.error.message){e=e.error;var t="\t"+e.message;e.file&&(t+=' in file "'+e.file.replace(/.*\//,"")+'"'),e.at&&(t+=" at line "+e.at),ae.error(t)}}function m(e,t){var n=function(t,n){ae.pause(Be.softPause),$.jrpc({url:e,method:t,params:n,request:function(e,t){try{Be.request.call(ae,e,t,ae)}catch(n){D(n,"USER")}},response:function(e,t){try{Be.response.call(ae,e,t,ae)}catch(n){D(n,"USER")}},success:function(e){e.error?p(e.error):is_function(Be.processRPCResponse)?Be.processRPCResponse.call(ae,e.result,ae):null!==e.result&&c(e.result),ae.resume()},error:h})};return function(e,i){if(""!==e){try{e=o(e)}catch(a){return void D(a,"TERMINAL (get_processed_command)")}if(t&&"help"!==e.name){var r=i.token(!0);r?n(e.name,[r].concat(e.args)):i.error("&#91;AUTH&#93; "+ie().noTokenError)}else n(e.name,e.args)}}}function f(e,t,n,i){return function(r,a){if(""!==r){var s;try{s=o(r)}catch(d){return void(is_function(Be.exception)?Be.exception(d,ae):ae.error("Error: "+(d.message||d)))}var l=e[s.name],u=get_type(l);if("function"===u){if(!t||l.length===s.args.length)return l.apply(ae,s.args);ae.error("&#91;Arity&#93; "+sprintf(ie().wrongArity,s.name,l.length,s.args.length))}else if("object"===u||"string"===u){var c=[];"object"===u&&(c=Object.keys(l),l=f(l,t,n)),a.push(l,{prompt:s.name+"> ",name:s.name,completion:"object"===u?c:undefined})}else is_function(i)?i(r,ae):is_function(Be.onCommandNotFound)?Be.onCommandNotFound.call(ae,r,ae):a.error(sprintf(ie().commandNotFound,s.name))}}}function h(e,t,n){ae.resume(),is_function(Be.onAjaxError)?Be.onAjaxError.call(ae,e,t,n):"abort"!==t&&ae.error("&#91;AJAX&#93; "+t+" - "+ie().serverResponse+":\n"+$.terminal.escape_brackets(e.responseText))}function g(e,t,n){function o(e){e.error?p(e.error):is_function(Be.processRPCResponse)?Be.processRPCResponse.call(ae,e.result,ae):c(e.result),ae.resume()}function i(e,t){try{Be.request.call(ae,e,t,ae)}catch(n){D(n,"USER")}}function r(e,t){try{Be.response.call(ae,e,t,ae)}catch(n){D(n,"USER")}}function a(a){var s=a;if(!1!==Be.describe&&""!==Be.describe&&Be.describe.split(".").forEach((function(e){s=s[e]})),s&&s.length){var l={};$.each(s,(function(n,a){$.isPlainObject(a)&&"string"===typeof a.name&&(l[a.name]=function(){var n=t&&"help"!==a.name,s=Array.prototype.slice.call(arguments),l=s.length+(n?1:0);if(Be.checkArity&&a.params&&a.params.length!==l)ae.error("&#91;Arity&#93; "+sprintf(ie().wrongArity,a.name,a.params.length,l));else{if(ae.pause(Be.softPause),n){var u=ae.token(!0);u?s=[u].concat(s):ae.error("&#91;AUTH&#93; "+ie().noTokenError)}$.jrpc({url:e,method:a.name,params:s,request:i,response:r,success:o,error:h})}})}));var u="string"===typeof t?t:"login";l.help=l.help||function(e){if("undefined"===typeof e){var n=s.map((function(e){return e.name})).join(", ")+", help";ae.echo("Available commands: "+n)}else{var o=!1;if($.each(s,(function(n,i){if(i.name===e){o=!0;var r="";if(r+="[[bu;;]"+i.name+"]",i.params){var a=i.params;t&&i.name!==u&&(a=a.slice(1)),r+=" "+a.join(" ")}return i.help&&(r+="\n"+i.help),ae.echo(r),!1}})),!o)if("help"===e)ae.echo("[[bu;;]help] [method]\ndisplay help for the method or list of methods if not specified");else{var i="Method `"+e+"' not found ";ae.error(i)}}},n(l)}else n(null)}return $.jrpc({url:e,method:"system.describe",params:[],success:a,request:i,response:r,error:function(){n(null)}})}function v(e,t,n){n=n||$.noop;var o,i,r=get_type(e),a={},s=0;if("array"===r)o={},function e(n,r){if(n.length){var a=n[0],l=n.slice(1),u=get_type(a);"string"===u?(ae.pause(Be.softPause),!1===Be.describe?(1===++s?i=m(a,t):ae.error(ie().oneRPCWithIgnore),e(l,r)):g(a,t,(function(n){n?$.extend(o,n):1===++s?i=m(a,t):ae.error(ie().oneRPCWithIgnore),ae.resume(),e(l,r)}))):"function"===u?(i?ae.error(ie().oneInterpreterFunction):i=a,e(l,r)):"object"===u&&($.extend(o,a),e(l,r))}else r()}(e,(function(){n({interpreter:f(o,!1,t,i&&i.bind(ae)),completion:Object.keys(o)})}));else if("string"===r)!1===Be.describe?(o={interpreter:m(e,t)},$.isArray(Be.completion)&&(o.completion=Be.completion),n(o)):(ae.pause(Be.softPause),g(e,t,(function(o){o?(a.interpreter=f(o,!1,t),a.completion=Object.keys(o)):a.interpreter=m(e,t),n(a),ae.resume()})));else if("object"===r)n({interpreter:f(e,Be.checkArity,t),completion:Object.keys(e)});else{if("undefined"===r)e=$.noop;else if("function"!==r){var l=r+" is invalid interpreter value";throw new $.terminal.Exception(l)}n({interpreter:e,completion:Be.completion})}}function b(e,t){var n="boolean"===get_type(t)?"login":t;return function(t,o,i){ae.pause(Be.softPause),$.jrpc({url:e,method:n,params:[t,o],request:function(e,t){try{Be.request.call(ae,e,t,ae)}catch(n){D(n,"USER")}},response:function(e,t){try{Be.response.call(ae,e,t,ae)}catch(n){D(n,"USER")}},success:function(e){!e.error&&e.result?i(e.result):i(null),ae.resume()},error:h})}}function D(e,t,n){is_function(Be.exceptionHandler)?Be.exceptionHandler.call(ae,e,t):(ae.exception(e,t),n||setTimeout((function(){throw e}),0))}function y(e){function t(e,t,n,o,i,r,a){function s(e,a){return"[["+[t+(e||""),n,o,i,a||r].join(";")+"]"}function l(e){return"]"+s("!",e)+e+"]"+s()}if(!t.match(/!/)){var u=a.match(email_full_re)||a.match(url_full_re);if(u)return s("!",u[1])+a+"]";if(a.match(email_re)||a.match(url_nf_re)){var c=a.replace(email_re,l).replace(url_nf_re,l);return s("",r)+c+"]"}}return e}function n(e){return e.replace(email_re,"[[!;;]$1]").replace(url_nf_re,"[[!;;]$1]")}return $.terminal.have_formatting(e)?$.terminal.format_split(e).map((function(e){return $.terminal.is_formatting(e)?e.replace(format_parts_re,t):n(e)})).join(""):n(e)}function _(e,t){return(strlen(text(e))>t.cols||e.match(/\n/))&&(!0===Be.wrap&&t.wrap===undefined||!1===Be.wrap&&!0===t.wrap)}var k;function C(e,t,n){return n.exec||t.options.clear_exec?$.terminal.each_extended_command(e,(function(e){if(n.exec){t.options.exec=!1,t.options.clear_exec=!0;var o=e.trim();de&&de===o?(de="",ae.error(ie().recursiveLoop)):(de=o,$.terminal.extended_command(ae,e,{invokeMethods:n.invokeMethods}).then((function(){de=""})))}})):e}function w(e){try{var t=!is_function(e.value),n=$.extend({exec:!0,raw:!1,finalize:$.noop,useCache:t,invokeMethods:!1,formatters:!0,convertLinks:Be.convertLinks},e.options||{}),o=rt(e.value);if(o&&is_function(o.then))return o.then((function(t){w($.extend(e,{value:t,options:n}))}));if(""!==o){if(!n.raw){if(Be.useCache&&n.useCache){var i=o;if(k&&k.has(i)){var r=k.get(i);return Ue.append(r.input,e.index,n,r.raw),!0}}if(n.formatters)try{o=$.terminal.apply_formatters(o,$.extend(Be,{echo:!0}))}catch(d){D(d,"FORMATTING")}if(o=C(o,e,n),""===o)return;n.convertLinks&&(o=y(o));var a,s=o;o=crlf($.terminal.normalize(o)),o=$.terminal.encode(o,{tabs:Be.tabs});var l=n.cols=ae.cols();if(_(o,n)){var u=n.keepWords;a=$.terminal.split_equal(o,l,u)}else o.match(/\n/)&&(a=o.split(/\n/))}}else s="";var c=a||o;k&&i&&t&&k.set(i,{input:c,raw:s}),Ue.append(c,e.index,n,s)}catch(d){Ue.clear(),is_function(Be.exceptionHandler)?Be.exceptionHandler.call(ae,d,"TERMINAL"):alert_exception("[Internal Exception(process_line)]",d)}return!0}function x(e){if(e=$.extend({},{update:!1,scroll:!0},e||{}),!e.update){Me.resize(me);var t=pe.empty().detach()}try{Ue.clear(),unpromise(He.render(ae.rows(),(function(e){return e.map((function(e){return w(e)}))})),(function(){ae.flush(e),e.update||Me.before(t),N("onAfterRedraw")}))}catch(n){is_function(Be.exceptionHandler)?Be.exceptionHandler.call(ae,n,"TERMINAL (redraw)"):alert_exception("[redraw]",n)}}function E(){if(Be.outputLimit>=0){var e;e=0===Be.outputLimit?ae.rows():Be.outputLimit;var t=pe.find("> div > div");if(t.length+1>e){var n=t.length-e+1,o=t.slice(0,n),i=o.parent();o.remove(),i.each((function(){var e=$(this);e.is(":empty")&&(r(e),e.remove())})),He.limit_snapshot(n)}}}function T(){if(Be.greetings===undefined)ae.echo(ae.signature,{finalize:a11y_hide,formatters:!1});else if(Be.greetings){var e=_typeof(Be.greetings);"string"===e?ae.echo(Be.greetings):"function"===e?ae.echo((function(){try{return Be.greetings.call(ae,ae.echo)}catch(e){Be.greetings=null,D(e,"greetings")}})):ae.error(ie().wrongGreetings)}}function O(e){"undefined"===typeof e&&(e=ae.get_command());var t=Me.prompt(!0),n=Me.mask();switch(_typeof(n)){case"string":e=e.replace(/./g,n);break;case"boolean":e=n?e.replace(/./g,Be.maskChar):$.terminal.escape_formatting(e);break}var o={exec:!1,formatters:!1,finalize:function(t){a11y_hide(t.addClass("terminal-command")),N("onEchoCommand",[t,e])}};e=$.terminal.apply_formatters(e,{command:!0}),ae.echo(t+e,o)}function A(){return et.outerWidth()!==ae.outerWidth()}function S(e){var t=terminals.get()[e[0]];if(!t)throw new $.terminal.Exception(ie().invalidTerminalId);var n=e[1];if(_save_state[n])t.import_view(_save_state[n]);else{change_hash=!1;var o=e[2];o&&t.exec(o).done((function(){change_hash=!0,_save_state[n]=t.export_view()}))}}function j(e){return function(t){ae.error("["+e+"] "+(t.message||t)).resume()}}function F(){change_hash&&(fire_hash_change=!1,location.hash="#"+JSON.stringify(hash_commands),setTimeout((function(){fire_hash_change=!0}),100))}"Map"in root&&(k=new Map);var B=!0,R=[];function L(e,t,n){function o(){(Be.historyState||Be.execHash&&n)&&(_save_state.length?ae.save_state(null):ae.save_state())}function i(){n||(change_hash=!0,Be.historyState&&ae.save_state(e,!1),change_hash=p)}function r(){d.resolve(),N("onAfterCommand",[e])}function a(e){"undefined"!==typeof e&&c(e),r(),ae.resume()}function s(e){return is_function(e.done||e.then)&&Te}function l(){var t=u.interpreter.call(ae,e,ae);if(i(),t){we||(s(t)?Je=!0:ae.pause(Be.softPause)),we=!1;var n=j("Command");return is_function(t.done||t.then)?unpromise(t,a,n):$.when(t).done(a).catch(n)}return Je?R.push((function(){r()})):r(),d.promise()}B&&(B=!1,o());try{if(!1===N("onBeforeCommand",[e]))return;n?(de=e.trim(),ce=$.terminal.split_command(de)):ce=$.terminal.split_command(e),G()||n&&(is_function(Be.historyFilter)&&Be.historyFilter(e)||e.match(Be.historyFilter))&&Me.history().append(e);var u=Pe.top();!t&&Be.echoCommand&&O(e);var d=new $.Deferred,p=change_hash;if(e.match(/^\s*login\s*$/)&&ae.token(!0))i(),ae.level()>1?ae.logout(!0):ae.logout(),r();else if(Be.exit&&e.match(/^\s*exit\s*$/)&&!Se){i();var m=ae.level();(1===m&&ae.get_token()||m>1)&&(ae.get_token(!0)&&ae.set_token(undefined,!0),ae.pop()),r()}else if(Be.clear&&e.match(/^\s*clear\s*$/)&&!Se)i(),ae.clear(),r();else{var f=l();if(f)return f}return d.promise()}catch(h){if(D(h,"USER",n),ae.resume(),n)throw h}}function P(){!1!==N("onBeforeLogout",[],!0)&&(M(),N("onAfterlogout",[],!0),ae.login(Xe,!0,V))}function M(){var e=ae.prefix_name(!0)+"_";We.remove(e+"token"),We.remove(e+"login")}function I(e){var t=ae.prefix_name()+"_interpreters",n=We.get(t);n=n?JSON.parse(n):[],-1===$.inArray(e,n)&&(n.push(e),We.set(t,JSON.stringify(n)))}function q(e){var t=Pe.top(),n=ae.prefix_name(!0);G()||I(n);var o=ae.login_name(!0);Me.name(n+(o?"_"+o:""));var i=t.prompt;is_function(i)&&(i=at(i)),i!==Me.prompt()&&(is_function(t.prompt)&&Me.prompt(""),Me.prompt(t.prompt)),"undefined"!==typeof t.history&&ae.history().toggle(t.history),$.isPlainObject(t.keymap)&&Me.keymap(null).keymap($.extend({},lt,$.omap(t.keymap,(function(e,t){return function(){var e=[].slice.call(arguments);try{return t.apply(ae,e)}catch(n){D(n,"USER KEYMAP")}}})))),Me.set(""),Oe.resolve(),!e&&is_function(t.onStart)&&t.onStart.call(ae,ae)}function N(e,t,n){t=(t||[]).concat([ae]);var o=Pe&&Pe.top();if(o&&is_function(o[e])&&!n)try{return o[e].apply(ae,t)}catch(i){delete o[e],D(i,e)}else if(is_function(Be[e]))try{return Be[e].apply(ae,t)}catch(i){Be[e]=null,D(i,e)}}var z=function(){function e(e){if(!e)try{return ae.scroll_to(ae.find(".cmd-cursor-line")),!0}catch(t){return!0}}return"undefined"!==typeof global&&"function"===typeof global.it?e:debounce(e,100,{leading:!0,trailing:!1})}();function U(){var e=ae.find(".cmd-cursor-line");return e.is_fully_in_viewport(ae).then(z)}function H(e){if("undefined"!==typeof history&&history.replaceState){var t="#"+JSON.stringify(e),n=location.href.replace(/#.*$/,t);history.replaceState(null,"",n)}}function W(){if(fire_hash_change&&Be.execHash)try{if(location.hash){var e=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(e))}else hash_commands=[];hash_commands.length?S(hash_commands[hash_commands.length-1]):_save_state[0]&&ae.import_view(_save_state[0])}catch(t){D(t,"TERMINAL")}}function V(){function e(){je=$.noop,!t&&ae.enabled()&&ae.resume(!0)}q(),T(),He.length&&(ye.length?$.when.apply($,ye).then(ae.refresh):ae.refresh());var t=!1;if(is_function(Be.onInit)){var n;je=function(){t=!0};try{n=Be.onInit.call(ae,ae)}catch(o){D(o,"OnInit")}finally{is_promise(n)?n.then(e).catch((function(t){D(t,"OnInit"),e()})):e()}}first_instance&&(first_instance=!1,$(window).on("hashchange",W))}function G(){return Se||!1!==Me.mask()}function J(e){var t,n=Pe.top();if(is_function(n.keydown)){if(t=n.keydown.call(ae,e,ae),t!==undefined)return t}else if(is_function(Be.keydown)&&(t=Be.keydown.call(ae,e,ae),t!==undefined))return t}var K={"CTRL+D":function(e,t){return Se||(""===Me.get()?Pe.size()>1||is_function(Xe)?ae.pop(""):ae.resume():t()),!1},"CTRL+C":function(){return with_selection((function(e){if(""===e){var t=ae.get_command(),n=ae.get_position();t=t.slice(0,n)+"^C"+t.slice(n+2),O(t),ae.set_command("")}else{var o=ae.find("textarea");text_to_clipboard(o,process_selected_html(e))}})),!1},"CTRL+L":function(){return ae.clear(),!1},TAB:function(e,t){var n,o,i=Pe.top();function r(e){e=e.slice(),ae.before_cursor(!1).match(/\s/)||(Be.clear&&-1===$.inArray("clear",e)&&e.push("clear"),Be.exit&&-1===$.inArray("exit",e)&&e.push("exit")),ae.complete(e,{echo:!0,word:Be.wordAutocomplete,escape:Be.completionEscape,caseSensitive:o,echoCommand:Be.doubleTabEchoCommand,doubleTab:Be.doubleTab})}if(o="undefined"!==typeof i.caseSensitiveAutocomplete?i.caseSensitiveAutocomplete:Be.caseSensitiveAutocomplete,n=Be.completion&&"boolean"!==get_type(Be.completion)&&i.completion===undefined?Be.completion:i.completion,"settings"===n&&(n=Be.completion),n)switch(get_type(n)){case"function":var a=ae.before_cursor(Be.wordAutocomplete);if(3===n.length){var s=new Error(ie().comletionParameters);return D(s,"USER"),!1}var l=n.call(ae,a,r);unpromise(l,r,j("Completion"));break;case"array":r(n);break;default:throw new $.terminal.Exception(ie().invalidCompletion)}else t();return!1},"CTRL+V":function(e,t){return t(e),ae.oneTime(200,(function(){ae.scroll_to_bottom()})),!0},"CTRL+TAB":function(){if(terminals.length()>1)return ae.focus(!1),!1},PAGEDOWN:function(){ae.scroll(ae.height())},PAGEUP:function(){ae.scroll(-ae.height())}};function Q(e){var t,n;if(Te)return!1;if(ae.enabled()){if(ae.paused()){if(!Be.pauseEvents&&(t=J(e),t!==undefined))return t;if(68===e.which&&e.ctrlKey){if(Be.pauseEvents&&(t=J(e),t!==undefined))return t;if(requests.length){for(n=requests.length;n--;){var o=requests[n];if(4!==o.readyState)try{o.abort()}catch(i){is_function(Be.exceptionHandler)?Be.exceptionHandler.call(ae,e,"AJAX ABORT"):ae.error(ie().ajaxAbortError)}}requests=[]}ae.resume()}return!1}if(t=J(e),t!==undefined)return t;9!==e.which&&(ke=0)}}function Y(e){var t=Pe.top();if(Ve&&(!Je||!Be.pauseEvents)){if(is_function(t.keypress))return t.keypress.call(ae,e,ae);if(is_function(Be.keypress))return Be.keypress.call(ae,e,ae)}}function X(e){return function(t,n){var o=$.terminal.apply_formatters(t);Te=!0;var i=ae.get_prompt(),r=0,a=$.terminal.length(o);if(t.length>0){var s="";n.prompt?s=n.prompt:ae.set_prompt("");var l=ae.is_bottom(),u=setInterval((function(){var c=$.terminal.substring(o,r,r+1);s+=c,ae.set_prompt(s),"\n"===c&&l&&ae.scroll_to_bottom(),r++,r===a&&(clearInterval(u),setTimeout((function(){e(t,i,n),Te=!1}),n.delay))}),n.delay)}}}var Z=X((function(e,t,n){ae.set_prompt(e),n.finalize()})),ee=X((function(e,t,n){ae.set_prompt(t),ae.echo(e,$.extend({},n,{typing:!1}))})),te=function(){var e=X((function(e,t,n){ae.set_prompt(t),with_prompt(t,(function(t){ae.echo(t+e,$.extend({},n,{typing:!1}))}),ae)}));return function(t,n,o){return e(n,$.extend({},o,{prompt:t}))}}();function ne(e,t,n){return function(o,i){var r=new $.Deferred;return Ae((function(){var a=$.extend({typing:!1,delay:Be.execAnimationDelay},i);if(a.typing){if("string"!==typeof o)return r.reject(e+": Typing animation require string");if("number"!==typeof a.delay||isNaN(a.delay))return r.reject(e+": Invalid argument, delay need to be a number");var s=ae.typing(e,a.delay,o,a);s.then((function(){r.resolve()}))}else t(o,a);is_function(n)&&n(o,a)})),i&&i.typing?r.promise():ae}}function oe(e){return function(t){e.add(t)}}function ie(){return $.extend({},$.terminal.defaults.strings,Be&&Be.strings||{})}var re,ae=this;if(this.length>1)return this.each((function(){$.fn.terminal.call($(this),e,$.extend({name:ae.selector},t))}));if(ae.is("body,html")){if(ae.hasClass("full-screen-terminal")){var se=ae.find("> .terminal").data("terminal");if(se)return se}re=ae,ae=$("<div/>").appendTo("body"),$("body").addClass("full-screen-terminal")}else if(ae.data("terminal"))return ae.data("terminal");var le=$.omap({id:function(){return Ce},clear:function(){return!1!==N("onClear")&&(Ue.clear(),He.clear((function(e){return l(e)})),pe[0].innerHTML="",ae.prop({scrollTop:0})),ae},export_view:function(){var e=N("onExport");return e=e||{},$.extend({},{focus:Ve,mask:Me.mask(),prompt:ae.get_prompt(),command:ae.get_command(),position:Me.position(),lines:clone(He.data()),interpreters:Pe.clone(),history:Me.history().data},e)},import_view:function(e){if(Se)throw new Error(sprintf(ie().notWhileLogin,"import_view"));return N("onImport",[e]),Ae((function(){ae.set_prompt(e.prompt),ae.set_command(e.command),Me.position(e.position),Me.mask(e.mask),e.focus&&ae.focus(),He.import(clone(e.lines).filter((function(e){return e[0]}))),e.interpreters instanceof Stack&&(Pe=e.interpreters),Be.importHistory&&Me.history().set(e.history),x()})),ae},save_state:function(e,t,n){if("undefined"!==typeof n?_save_state[n]=ae.export_view():_save_state.push(ae.export_view()),$.isArray(hash_commands)||(hash_commands=[]),e!==undefined&&!t){var o=[Ce,_save_state.length-1,e];hash_commands.push(o),F()}return ae},exec:function(e,t,n){function o(t){var n=L(e,t,!0);unpromise(n,(function(){ce=null,r.resolve()}),(function(){ce=null,r.reject()}))}t&&"object"===_typeof(t)&&(n=t,t=null);var i=$.extend({deferred:null,silent:!1,typing:!1,delay:Be.execAnimationDelay},n);null===t&&(t=i.silent),is_deferred(i.deferred)||(i.deferred=new $.Deferred);var r=i.deferred;return $e((function(){if($.isArray(e))(function o(){var i=e.shift();i?ae.exec(i,t,n).done(o):r.resolve()})();else if(Je)Fe.push([e,t,i]);else if(i.typing&&!t){var a=i.delay;Je=!0;var s=ae.typing("enter",a,e,{delay:a});s.then((function(){Je=!1,o(!0)})),r.then((function(){Je=!1}))}else o(t)})),r.promise()},autologin:function(e,t,n){return ae.trigger("terminal.autologin",[e,t,n]),ae},login:function(e,t,n,o){if(xe.push([].slice.call(arguments)),Se)throw new Error(sprintf(ie().notWhileLogin,"login"));if(!is_function(e))throw new Error(ie().loginIsNotAFunction);if(Se=!0,ae.token()&&1===ae.level()&&!Ke)Se=!1,ae.logout(!0);else if(ae.token(!0)&&ae.login_name(!0))return Se=!1,is_function(n)&&n(),ae;function i(){while(ae.level()>r)ae.pop(undefined,!0);Be.history&&Me.history().enable()}Be.history&&Me.history().disable();var r=ae.level();function a(e,r,a){if(r){i();var s=ae.prefix_name(!0)+"_";We.set(s+"token",r),We.set(s+"login",e),Se=!1,N("onAfterLogin",[e,r]),is_function(n)&&n()}else t?(a||ae.error(ie().wrongPasswordTryAgain),ae.pop(undefined,!0).set_mask(!1)):(Se=!1,a||ae.error(ie().wrongPassword),ae.pop(undefined,!0).pop(undefined,!0)),is_function(o)&&o();ae.paused()&&ae.resume(),ae.off("terminal.autologin")}return ae.on("terminal.autologin",(function(e,t,n,o){!1!==N("onBeforeLogin",[t,n])&&a(t,n,o)})),ae.push((function(t){ae.set_mask(Be.maskChar).push((function(n){try{if(!1===N("onBeforeLogin",[t,n]))return void i();ae.pause();var r=e.call(ae,t,n,(function(e,n){a(t,e,n)}));r&&is_function(r.then||r.done)&&(r.then||r.done).call(r,(function(e){a(t,e)})).catch((function(e){ae.pop(undefined,!0).pop(undefined,!0),ae.error(e.message),is_function(o)&&o(),ae.paused()&&ae.resume(),ae.off("terminal.autologin")}))}catch(s){D(s,"AUTH")}}),{prompt:ie().password+": ",name:"password"})}),{prompt:ie().login+": ",name:"login"}),ae},settings:function(){return Be},before_cursor:function(e){var t,n=Me.position(),o=Me.get().slice(0,n),i=o.split(" ");if(e)if(1===i.length)t=i[0];else{var r=o.match(/(\\?")/g),a=r?r.filter((function(e){return!e.match(/^\\/)})).length:0;r=o.match(/'/g);var s=r?r.length:0;if(s%2===1)t=o.match(/('[^']*)$/)[0];else if(a%2===1)t=o.match(/("(?:[^"]|\\")*)$/)[0];else for(t=i[i.length-1],tt=i.length-1;tt>0;tt--){var l=i[tt-1];if("\\"!==l[l.length-1])break;t=i[tt-1]+" "+t}}else t=o;return t},complete:function(e,t){t=$.extend({word:!0,echo:!1,escape:!0,echoCommand:!1,caseSensitive:!0,doubleTab:null},t||{});var n=t.caseSensitive,o=ae.before_cursor(t.word).replace(/\\"/g,'"'),i=!1;if(t.word&&(o.match(/^"/)?i='"':o.match(/^'/)&&(i="'"),i&&(o=o.replace(/^["']/,""))),ke%2===0)he=ae.before_cursor(t.word);else{var r=ae.before_cursor(t.word);if(r!==he)return}var a=$.terminal.escape_regex(o);function s(e){return'"'===i&&(e=e.replace(/"/g,'\\"')),!i&&t.escape&&(e=e.replace(/(["'() ])/g,"\\$1")),e}function l(){for(var i=[],r=e.length;r--;)if(e[r].match(/\n/)&&t.word&&warn("If you use commands with newlines you should use word option for complete or wordAutocomplete terminal option"),c.test(e[r])){var a=s(e[r]);!n&&same_case(a)&&(o.toLowerCase()===o?a=a.toLowerCase():o.toUpperCase()===o&&(a=a.toUpperCase())),i.push(a)}return i}t.escape&&(a=a.replace(/(\\+)(["'() ])/g,(function(e,t,n){return n.match(/[()]/)?t+"\\?\\"+n:t+"?"+n})));var u=n?"":"i",c=new RegExp("^"+a,u),d=l();function p(e,t){var n=ae.get_command(),o=ae.get_position(),r=new RegExp("^"+e,"i"),a=n.slice(0,o),s=n.slice(o),l=t.replace(r,"")+(i||"");ae.set_command(a+l+s),ae.set_position((a+l).length)}if(1===d.length)return t.escape?p(a,d[0]):ae.insert(d[0].replace(c,"")+(i||"")),he=ae.before_cursor(t.word),!0;if(d.length>1)if(++ke>=2){if(ke=0,t.echo){if(is_function(t.doubleTab)){t.echoCommand&&O();var m=t.doubleTab.call(ae,o,d,O);return"undefined"===typeof m||m}if(!1!==t.doubleTab){O();var f=d.slice().reverse().join("\t\t");ae.echo($.terminal.escape_brackets(f),{keepWords:!0,formatters:!1})}return!0}}else{var h=common_string(s(o),d,n);if(h)return p(a,h),he=ae.before_cursor(t.word),!0}},commands:function(){return Pe.top().interpreter},set_interpreter:function(e,t){var n=$.Deferred();function o(){ae.pause(Be.softPause),v(e,t,(function(e){ae.resume();var t=Pe.top();$.extend(t,e),q(!0),n.resolve()}))}return is_function(t)?ae.login(t,!0,o):"string"===get_type(e)&&t?ae.login(b(e,t),!0,o):o(),n.promise()},greetings:function(){return T(),ae},paused:function(){return Je},pause:function(e){return $e((function(){je(),Je=!0,Me.disable(e||is_android),e||Me.find(".cmd-prompt").hidden(),N("onPause")})),ae},resume:function(e){return $e((function(){Je=!1,Ve&&terminals.front()===ae&&Me.enable(e),Me.find(".cmd-prompt").visible();var t=Fe;Fe=[];for(var n=0;n<t.length;++n)ae.exec.apply(ae,t[n]);ae.trigger("resume");var o=R.shift();o&&o(),ae.scroll_to_bottom(),N("onResume")})),ae},cols:function(){return Be.numChars?Be.numChars:(me&&1e3!==me||(me=get_num_chars(ae,Re)),me)},rows:function(){return Be.numRows?Be.numRows:(fe||(fe=get_num_rows(ae,Re)),fe)},history:function(){return Me.history()},geometry:function(){var e=window.getComputedStyle(ae[0]);function t(t){return parseInt(e.getPropertyValue("padding-"+t),10)||0}var n=t("left"),o=t("right"),i=t("top"),r=t("bottom");return{terminal:{padding:{left:n,right:o,top:i,bottom:r},width:be+n+o,height:De+i+r},char:Re,cols:this.cols(),rows:this.rows()}},history_state:function(e){function t(){Be.historyState=!0,_save_state.length?terminals.length()>1&&ae.save_state(null):ae.save_state()}return e?"undefined"===typeof window.setImmediate?setTimeout(t,0):setImmediate(t):Be.historyState=!1,ae},clear_history_state:function(){return hash_commands=[],_save_state=[],ae},next:function(){if(1===terminals.length())return ae;terminals.front().disable();var e=terminals.rotate().enable(),t=e.offset().top-50;$("html,body").animate({scrollTop:t},500);try{trigger_terminal_change(e)}catch(n){D(n,"onTerminalChange")}return e},focus:function(e,t){return $e((function(){if(1===terminals.length())!1===e?ae.disable(t):ae.enable(t);else if(!1===e)ae.next();else{var n=terminals.front();if(n!==ae&&(terminals.forEach((function(e){e!==ae&&e.enabled()&&e.disable(t)})),!t))try{trigger_terminal_change(ae)}catch(o){D(o,"onTerminalChange")}terminals.set(ae),ae.enable(t)}})),ae},freeze:function(e){return Ae((function(){e?(ae.disable(),Ge=!0):(Ge=!1,ae.enable())})),ae},frozen:function(){return Ge},enable:function(e){return Ve||Ge||(me===undefined&&ae.resize(),$e((function(){var t;e||Ve||N("onFocus"),(!e&&t===undefined||e)&&(Ve=!0,ae.paused()||Me.enable(!0))}))),ae},clear_cache:"Map"in root?function(){return Ue.clear_cache(),k.clear(),ae}:function(){return ae},disable:function(e){return $e((function(){var t;!e&&Ve&&(t=N("onBlur")),(!e&&t===undefined||e)&&(Ve=!1,Me.disable())})),ae},enabled:function(){return Ve},signature:function(){for(var e=ae.cols(),t=signatures.length;t--;){var n=signatures[t].map((function(e){return e.length}));if(Math.max.apply(null,n)<=e)return signatures[t].join("\n")+"\n"}return""},version:function(){return $.terminal.version},cmd:function(){return Me},get_command:function(){return Me.get()},enter:ne("enter",O),set_command:function(e,t){return Ae((function(){"string"!==typeof e&&(e=JSON.stringify(e)),Me.set(e,undefined,t)})),ae},set_position:function(e,t){return Ae((function(){Me.position(e,t)})),ae},get_position:function(){return Me.position()},insert:function(e,t){if("string"===typeof e)return Ae((function(){var n=ae.is_bottom();Me.insert(e,t),(Be.scrollOnEcho||n)&&ae.scroll_to_bottom()})),ae;throw new Error(sprintf(ie().notAString,"insert"))},set_prompt:ne("prompt",(function(e){is_function(e)?Me.prompt((function(t){return e.call(ae,t,ae)})):Me.prompt(e)}),(function(e){Pe.top().prompt=e})),get_prompt:function(){return Pe.top().prompt},set_mask:function(e){return Ae((function(){Me.mask(!0===e?Be.maskChar:e)})),ae},get_output:function(e){return e?He.data():He.get_snapshot()},resize:function(e,t){if(ae.is(":visible")){if(e&&t&&(ae.width(e),ae.height(t)),e=ae.width(),t=ae.height(),"undefined"!==typeof Be.numChars||"undefined"!==typeof Be.numRows)return Me.resize(Be.numChars),ae.refresh(),void N("onResize");var n=get_num_chars(ae,Re),o=get_num_rows(ae,Re);n===me&&o===fe||(ae.clear_cache(),me=n,fe=o,Me.resize(me),ae.refresh(),N("onResize"))}else ae.stopTime("resize"),ae.oneTime(500,"resize",(function(){ae.resize(e,t)}));return ae},refresh:function(){return 0!==Re.width&&ae[0].style.setProperty("--char-width",Re.width),ae.clear_cache(),he&&Me.resize(),x({scroll:!1,update:!0}),ae},flush:function(e){return e=$.extend({},{update:!1,scroll:!0},e||{}),Ae((function(){try{if(Ue.is_empty())return ae;var t,n,o=ae.is_bottom(),i=Be.scrollOnEcho&&e.scroll||o,r=!0,a=!1,s=$();e.update||(s=ae.find(".partial"),n=He.get_partial()),Ue.flush((function(o){if(o)if(is_function(o.finalize)){if(i&&t.find("img").on("load",(function(){ae.scroll_to_bottom()})),e.update){He.update_snapshot(o.index,n);var l="> div[data-index="+o.index+"]",u=pe.find(l);u.html()!==t.html()&&u.replaceWith(t)}else t.appendTo(pe),s.length||He.make_snapshot(n);t.attr("data-index",o.index),a=!o.newline,t.toggleClass("partial",a),a&&(s=t),o.finalize(t)}else{var c,d=o.line;"string"===typeof o.raw&&(a?n[n.length-1]+=o.raw:n.push(o.raw)),a?(c=t.children().last().append(d),a=!1):(c=$("<div/>").html(d),o.newline&&c.addClass("cmd-end-line"),t.append(c)),c.css("width","100%")}else s.length?r&&(r=!1,a=!0,t=s):(t=$("<div/>"),n=[])}));var l,u=ae.find(".cmd-prompt"),c=ae.find(".cmd");if(s=ae.find(".partial"),0===s.length)u.css("margin-left",0),c.css("top",0),Me.__set_prompt_margin(0),l=ae.find(".terminal-output div:last-child div:last-child"),"inline-block"===l.css("display")&&l.css({width:"100%",display:""});else{l=s.children().last(),l.css({width:"",display:"inline-block"});var d=l[0].getBoundingClientRect(),p=d.width;u.css("margin-left",p),c.css("top",-d.height);var m=ae.geometry().char.width,f=Math.round(p/m);Me.__set_prompt_margin(f)}E(),N("onFlush");var h=ae.find(".cmd-cursor"),g=ae.find(".cmd").offset(),v=ae.offset();setTimeout((function(){css(ae[0],{"--terminal-height":ae.height(),"--terminal-x":g.left-v.left,"--terminal-y":g.top-v.top,"--terminal-scroll":ae.prop("scrollTop")}),h.hide(),setTimeout((function(){h.show()}),0)}),0),i&&ae.scroll_to_bottom()}catch(b){if(is_function(Be.exceptionHandler))try{Be.exceptionHandler.call(ae,b,"TERMINAL (Flush)")}catch(D){Be.exceptionHandler=$.noop,alert_exception("[exceptionHandler]",D)}else alert_exception("[Flush]",b)}finally{Ue.clear()}})),ae},update:function(e,t,n){return Ae((function(){if(e<0&&(e=He.length()+e),He.valid_index(e))if(null===t)He.update(e,null),pe.find("[data-index="+e+"]").remove();else{if(t=i(t,{update:!0,line:e}),!1===t)return ae;unpromise(t,(function(t){var o=a(t,n);o&&(t=o[0],n=o[1]),n=He.update(e,t,n);var i=w({value:t,index:e,options:n});unpromise(i,(function(){ae.flush({scroll:!1,update:!0})}))}))}else ae.error("Invalid line number "+e)})),ae},remove_line:function(e){return ae.update(e,null)},last_index:function(){return He.length()-1},echo:function(e,t){var n=arguments.length>0,o=new $.Deferred;function r(e){try{var r,a=$.extend({flush:!0,exec:!0,raw:Be.raw,finalize:$.noop,unmount:$.noop,delay:Be.execAnimationDelay,ansi:!1,typing:!1,keepWords:!1,invokeMethods:Be.invokeMethods,onClear:null,formatters:!0,allowedAttributes:Be.allowedAttributes,newline:!0},t||{});if(function(e){a.finalize=function(t){a.raw&&t.addClass("raw"),a.ansi&&t.addClass("ansi");try{is_function(e)&&e.call(ae,t);var n=t.find("img");n.each((function(){var e=$(this),t=new Image;t.onerror=function(){e.replaceWith(use_broken_image)},t.src=this.src}))}catch(o){D(o,"USER:echo(finalize)"),e=null}}}(a.finalize),a.flush&&(Ue.empty()||ae.flush()),!1===N("onBeforeEcho",[e]))return;if(a.typing){if("string"!==typeof e)return o.reject("echo: Typing animation require string or promise that resolve to string");if("number"!==typeof a.delay||isNaN(a.delay))return o.reject("echo: Invalid argument, delay need to be a number");var l=ae.typing("echo",a.delay,e,a);return void l.then((function(){o.resolve()}))}if("function"===typeof e)r=e.bind(ae);else if("undefined"===typeof e)r=n?String(e):"";else{var u=i(e,{});if(!1===u)return ae;r=u}is_promise(r)&&(_e=!0),unpromise(r,(function(t){if(s(t,a))return ae;var n=He.length(),o=He.has_newline();o||n--,a.newline||"\n"!==t[t.length-1]||(t=t.slice(0,-1),a.newline=!0);var i=w({value:t,options:a,index:n});is_promise(i)&&(_e=!0),He.push([t,a]),unpromise(i,(function(){a.flush&&(ae.flush(),N("onAfterEcho",[e])),_e=!1;var t=ye;ye=[];for(var n=0;n<t.length;++n)ae.echo.apply(ae,t[n])}))}))}catch(c){is_function(Be.exceptionHandler)?Be.exceptionHandler.call(ae,c,"TERMINAL (echo)"):alert_exception("[Terminal.echo]",c)}}return _e?ye.push([e,t]):r(e),t&&t.typing?o.promise():ae},typing:function(e,t,n,o){var i,r,a=new $.Deferred;function s(){a.resolve(),is_function(r)&&r.apply(ae,arguments)}return"object"===_typeof(o)?(r=o.finalize||$.noop,i=$.extend({},o,{delay:t,finalize:s})):(r=o||$.noop,i={delay:t,finalize:s}),Ae((function(){["prompt","echo","enter"].indexOf(e)>=0?"prompt"===e?Z(n,i):"echo"===e?ee(n,i):"enter"===e&&with_prompt(ae.get_prompt(),(function(e){te(e,n,i)}),ae):a.reject("Invalid type only `echo` and `prompt` are supported")})),a.promise()},error:function(e,t){function n(e){"string"!==typeof e&&(e=String(e));var t=$.terminal.escape_brackets(e).replace(/\\$/,"&#92;").replace(url_re,"]$1[[;;;terminal-error]");return"[[;;;terminal-error]"+t+"]"}return t=$.extend({},t,{raw:!1,formatters:!1}),"function"===typeof e?ae.echo((function(){return n(e.call(ae))}),t):e&&e.then?(e.then((function(e){ae.echo(n(e))})).catch(j("Echo Error")),ae):ae.echo(n(e),t)},exception:function(e,t){var n=exception_message(e);if(t&&(n="&#91;"+t+"&#93;: "+n),n&&ae.error(n,{finalize:function(e){e.addClass("terminal-exception terminal-message")},keepWords:!0}),"string"===typeof e.fileName&&(ae.pause(Be.softPause),$.get(e.fileName,(function(t){var n=e.lineNumber-1,o=t.split("\n")[n];o&&ae.error("["+e.lineNumber+"]: "+o),ae.resume()}),"text")),e.stack){var o=$.terminal.escape_brackets(e.stack),i=o.split(/\n/g).map((function(e){return"[[;;;terminal-error]"+e.replace(url_re,(function(e){return"]"+e+"[[;;;terminal-error]"}))+"]"})).join("\n");ae.echo(i,{finalize:function(e){e.addClass("terminal-exception terminal-stack-trace")},formatters:!1})}return ae},scroll:function(e){var t;return e=Math.round(e),ae.prop,e>ae.prop("scrollTop")&&e>0&&ae.prop("scrollTop",0),t=ae.prop("scrollTop"),ae.scrollTop(t+e),ae},logout:function(e){if(Se)throw new Error(sprintf(ie().notWhileLogin,"logout"));return Ae((function(){if(e){var t=xe.pop();ae.set_token(undefined,!0),ae.login.apply(ae,t)}else if(1===Pe.size()&&ae.token())ae.logout(!0);else while(Pe.size()>1)ae.token()?ae.logout(!0).pop().pop():ae.pop()})),ae},token:function(e){return We.get(ae.prefix_name(e)+"_token")},set_token:function(e,t){var n=ae.prefix_name(t)+"_token";return"undefined"===typeof e?We.remove(n):We.set(n,e),ae},get_token:function(e){return ae.token(e)},login_name:function(e){return We.get(ae.prefix_name(e)+"_login")},name:function(){return Pe.top().name},prefix_name:function(e){var t=(Be.name?Be.name+"_":"")+Ce;if(e&&Pe.size()>1){var n=Pe.map((function(e){return e.name||""})).slice(1).join("_");n&&(t+="_"+n)}return t},read:function(e,t,n){var o;if(o="object"===_typeof(arguments[1])?$.extend({typing:!1,delay:Be.execAnimationDelay,success:$.noop,cancel:$.noop},arguments[1]):{typing:!1,success:t||$.noop,cancel:n||$.noop},o.typing){var i=ae.get_prompt();return o.typing=!1,ae.typing("prompt",o.delay,e).then((function(){return ae.set_prompt(i).read(e,o)}))}we=!0;var r=jQuery.Deferred(),a=!1;return ae.push((function(e){a=!0,r.resolve(e),is_function(o.success)&&o.success(e),ae.pop(),Be.history&&Me.history().enable()}),{name:"read",history:!1,prompt:e||"",onExit:function(){a||(r.reject(),is_function(o.cancel)&&o.cancel())}}),Be.history&&Me.history().disable(),r.promise()},push:function(e,t){return $e((function(){t=t||{};var n={infiniteLogin:!1},o=$.extend({},n,t);!o.name&&ce&&(o.name=ce.name),o.prompt===undefined&&(o.prompt=(o.name||">")+" ");var i=Pe.top();i&&(i.mask=Me.mask());var r=Je;function a(){N("onPush",[i,Pe.top()]),q()}v(e,t.login,(function(t){if(Pe.push($.extend({},t,o)),!0===o.completion&&($.isArray(t.completion)?Pe.top().completion=t.completion:t.completion||(Pe.top().completion=!1)),o.login){var n,i=get_type(o.login);"function"===i?(n=o.infiniteLogin?$.noop:ae.pop,ae.login(o.login,o.infiniteLogin,a,n)):("string"===get_type(e)&&"string"===i||"boolean"===i)&&(n=o.infiniteLogin?$.noop:ae.pop,ae.login(b(e,o.login),o.infiniteLogin,a,n))}else a();!r&&ae.enabled()&&ae.resume()}))})),ae},pop:function(e,t){e!==undefined&&O(e);var n,o=ae.token(!0);if(1===Pe.size())n=Pe.top(),Be.login?(t||N("onPop",[n,null]),P(),N("onExit")):ae.error(ie().canExitError);else{o&&M();var i=Pe.pop();if(n=Pe.top(),q(),ae.set_mask(n.mask),t||N("onPop",[i,n]),Se&&ae.get_prompt()!==ie().login+": "&&(Se=!1),is_function(i.onExit))try{i.onExit.call(ae,ae)}catch(r){i.onExit=$.noop,D(r,"onExit")}}return ae},option:function(e,t){if("undefined"===typeof t){if("string"===typeof e)return Be[e];"object"===_typeof(e)&&$.each(e,(function(e,t){Be[e]=t}))}else Be[e]=t,e.match(/^num(Chars|Rows)$/)&&x();return ae},invoke_key:function(e){return Me.invoke_key(e),ae},keymap:function(e,t){if(0===arguments.length)return Me.keymap();if("undefined"===typeof t){if("string"===typeof e)return Me.keymap(e);$.isPlainObject(e)&&(e=$.extend({},lt,$.omap(e||{},(function(e,t){return lt[e]?function(n,o){return t.call(ae,n,(function(){return lt[e](n,o)}))}:t.bind(ae)}))),Me.keymap(null).keymap(e))}else if("function"===typeof t){var n=e;lt[n]?Me.keymap(n,(function(e,o){return t.call(ae,e,(function(){return lt[n](e,o)}))})):Me.keymap(n,t.bind(ae))}},level:function(){return Pe.size()},reset:function(){return Ae((function(){ae.clear();while(Pe.size()>1)Pe.pop();V()})),ae},purge:function(){return Ae((function(){var e=ae.prefix_name()+"_",t=We.get(e+"interpreters");t&&$.each(JSON.parse(t),(function(e,t){We.remove(t+"_commands"),We.remove(t+"_token"),We.remove(t+"_login")})),Me.purge(),We.remove(e+"interpreters")})),ae},destroy:function(){return Ae((function(){Me.destroy().remove(),ae.resizer("unbind"),ae.touch_scroll("unbind"),Ze.resizer("unbind").remove(),$(document).unbind(".terminal_"+ae.id()),$(window).unbind(".terminal_"+ae.id()),ae.unbind("click wheel mousewheel mousedown mouseup"),ae.removeData("terminal").removeClass("terminal").unbind(".terminal"),Be.width&&ae.css("width",""),Be.height&&ae.css("height",""),$(window).off("blur",it).off("focus",ot),ae.find(".terminal-fill, .terminal-font").remove(),ae.stopTime(),terminals.remove(Ce),qe&&(qe.unobserve?qe.unobserve(ae[0]):clearInterval(qe));var e=ae.find(".terminal-scroll-marker");if(ve&&ve.unobserve(e[0]),e.remove(),Ne&&Ne.disconnect(),terminals.length()||$(window).off("hashchange"),is_mobile&&ae.off(["touchstart.terminal","touchmove.terminal","touchend.terminal"].join(" ")),pe.remove(),Qe.remove(),re){var t=$(re);"full-screen-terminal"===t.attr("class")?t.removeAttr("class"):t.removeClass("full-screen-terminal"),ae.remove()}ze=!0})),ae},scroll_to:function(e){var t=ae.scrollTop()-ae.offset().top+$(e).offset().top;return ae.scrollTop(t),ae},scroll_to_bottom:function(){var e;return e=ae.prop?ae.prop("scrollHeight"):ae.attr("scrollHeight"),ae.scrollTop(e),ae},is_bottom:function(){if(-1===Be.scrollBottomOffset)return!1;if("boolean"===typeof ge)return ge;var e,t,n;e=ae[0].scrollHeight,t=ae[0].scrollTop,n=ae[0].offsetHeight;var o=e-Be.scrollBottomOffset;return t+n>o},duplicate:function(){var e=$(ae);return $.extend(e,le)},get_output_buffer:function(e){var t=$.extend({html:!1},e),n=[],o=!1;return Ue.forEach((function(e){var i;if(e)if(is_function(e.finalize))o=!e.newline;else if(i=t.html?e.line:e.raw,o){var r=n.length-1;n[r]+=i}else n.push(i)})),t.html?n.map((function(e){return"<div>"+e+"</div>"})).join("\n"):n.join("\n")},clear_buffer:function(){return Ue.clear(),ae}},(function(e,t){return function(){if(ze&&!Be.exceptionHandler)throw new $.terminal.Exception(ie().defunctTerminal);try{return t.apply(ae,[].slice.apply(arguments))}catch(n){if("exec"!==e&&"resume"!==e&&D(n,n.type||"TERMINAL",!0),!Be.exceptionHandler)throw n}}}));if($.extend(ae,le),0===ae.length){var ue=sprintf(ie().invalidSelector);throw new $.terminal.Exception(ue)}ae.data("terminal",ae);var ce,de,pe,me,fe,he,ge,ve,be,De,ye=[],_e=!1,ke=0,Ce=terminals.length(),we=!1,xe=new Stack,Ee=new DelayQueue,Te=!1,Oe=new DelayQueue,Ae=oe(Oe),$e=oe(Ee),Se=!1,je=$.noop,Fe=[],Be=$.extend({},$.terminal.defaults,{name:ae.selector,exit:!!(t&&t.login||!t)},t||{});"number"===typeof Be.width&&ae.width(Be.width),"number"===typeof Be.height&&ae.height(Be.height);var Re=get_char_size(ae),Le=!terminal_ready(ae);delete Be.formatters;var Pe,Me,Ie,qe,Ne,ze=!1,Ue=new FormatBuffer((function(e){return{linksNoReferrer:Be.linksNoReferrer,linksNoFollow:Be.linksNoFollow,anyLinks:Be.anyLinks,charWidth:Re.width,useCache:Be.useCache,escape:!1,allowedAttributes:e.allowedAttributes||[]}})),He=new OutputLines((function(){return Be})),We=new n(Be.memory),Ve=Be.enabled,Ge=!1,Je=!1,Ke=!0;!0===Be.ignoreSystemDescribe&&(Be.describe=!1),$(document).bind("ajaxSend.terminal_"+ae.id(),(function(e,t){requests.push(t)}));var Qe=$('<div class="terminal-wrapper"/>').appendTo(ae);$(broken_image).hide().appendTo(Qe);var Ye,Xe,Ze=$('<div class="terminal-font">&nbsp;</div>').appendTo(ae),et=$('<div class="terminal-fill"/>').appendTo(ae);if(pe=$("<div>").addClass("terminal-output").attr("role","log").appendTo(Qe),ae.addClass("terminal"),Be.login&&!1===N("onBeforeLogin")&&(Ke=!1),"string"===typeof e)Ye=e;else if(is_array(e))for(var tt=0,nt=e.length;tt<nt;++tt)if("string"===typeof e[tt]){Ye=e[tt];break}function ot(){Ie&&(ae.focus(),ae.scroll_to_bottom())}function it(){Ie=Ve,ae.disable().find(".cmd textarea").trigger("blur",[!0])}function rt(e){if(is_function(e)&&(e=e()),e&&is_function(e.then))return e.then(rt);if("string"!==get_type(e))if(is_function(Be.parseObject)){var t=Be.parseObject(e);"string"===get_type(t)&&(e=t)}else e=is_array(e)?$.terminal.columns(e,ae.cols(),Be.tabs):String(e);return e}function at(e){if(e.proxy)return e;var t=function(t){return e.call(ae,t,ae)};return t.proxy=!0,t}function st(e){function t(e,t){return-1!==e.type.indexOf(t)}function n(e){ae.echo('<img src="'+e+'"/>',{raw:!0})}function o(e){var t=window.URL||window.webkitURL;return t.createObjectURL(e)}function i(e,t){if(t)e instanceof Blob?n(o(e)):"string"===typeof e&&(e.match(/^(data:|blob:)/)?n(e):ae.insert(e));else{var r={target:ae};"string"===typeof e?r.text=e:e instanceof Blob&&(r.image=o(e));var a=N("onPaste",[r]);if(a){if(is_function(a.then||a.done))return(a.then||a.done).call(a,(function(e){i(e,!0)}));i(a,!0)}else!1!==a&&i(r.image||r.text,!0)}}if(e=e.originalEvent,e.clipboardData&&ae.enabled()){var r=e.clipboardData.items;if(r)for(var a=0;a<r.length;a++)if(t(r[a],"image")&&Be.pasteImage){var s=r[a].getAsFile();i(s)}else t(r[a],"text/plain")&&r[a].getAsString((function(e){i(e.replace(/\r/g,""))}));else if(e.clipboardData.getData){var l=e.clipboardData.getData("text/plain");i(l.replace(/\r/g,""))}return!1}}is_function(Be.login)?Xe=Be.login:!Ye||"string"!==typeof Be.login&&!0!==Be.login||(Xe=b(Ye,Be.login)),terminals.append(ae),$(document).on("paste.terminal_"+ae.id(),st);var lt=$.extend({},K,$.omap(Be.keymap||{},(function(e,t){return K[e]?function(n,o){return t.call(ae,n,(function(){return K[e](n,o)}))}:t.bind(ae)})));return v(e,Be.login,(function(e){(Be.completion&&"boolean"!==typeof Be.completion||!Be.completion)&&(e.completion="settings");var t=Be.prompt;function n(e){if(!is_mobile&&(e=e.originalEvent,e)){var t=document.elementFromPoint(e.clientX,e.clientY);!$(t).closest(".terminal").length&&ae.enabled()&&ae.disable()}}is_function(t)&&(t=at(t)),Pe=new Stack($.extend({},Be.extra,{name:Be.name,prompt:t,keypress:Be.keypress,keydown:Be.keydown,resize:Be.onResize,greetings:Be.greetings,mousewheel:Be.mousewheel,history:Be.history,keymap:lt},e)),Me=$("<div/>").appendTo(Qe).cmd({tabindex:Be.tabindex,mobileDelete:Be.mobileDelete,mobileIngoreAutoSpace:Be.mobileIngoreAutoSpace,prompt:!Xe&&t,history:Be.memory?"memory":Be.history,historyFilter:Be.historyFilter,historySize:Be.historySize,caseSensitiveSearch:Be.caseSensitiveSearch,onPaste:Be.onPaste,width:"100%",enabled:!1,charWidth:Re.width,keydown:Q,keymap:lt,clickTimeout:Be.clickTimeout,holdTimeout:Be.holdTimeout,holdRepeatTimeout:Be.holdRepeatTimeout,repeatTimeoutKeys:Be.repeatTimeoutKeys,allowedAttributes:Be.allowedAttributes,keypress:Y,tabs:Be.tabs,onPositionChange:function(){var e=[].slice.call(arguments);U(),N("onPositionChange",e)},onCommandChange:function(e){be!==et.width()&&ae.resizer(),N("onCommandChange",[e]),U()},commands:L}),ae.oneTime(100,(function(){$(document).bind("click.terminal_"+ae.id(),n).bind("contextmenu.terminal_"+ae.id(),n)}));var o,i=$(window);(document.addEventListener("resume",(function(){ae.disable()})),is_mobile)?function(){var e,t,n;ae.addClass("terminal-mobile");var o,i=3,r=Me.clip(),a=200;r.$node.off("touchstart.cmd"),ae.on("touchstart.terminal",(function(t){if(t=t.originalEvent,window.touch_event=t,"a"!==t.target.tagName.toLowerCase()&&!Ge&&1===t.touches.length){n=ae.enabled();var i=t.touches[0];e={x:i.clientX,y:i.clientY},o=setTimeout((function(){e=null}),a)}})).on("touchmove.terminal",(function(n){if(1===n.touches.length&&e){var o=n.touches[0],r=Math.abs(o.clientX-e.x),a=Math.abs(o.clientY-e.y);(r>i||a>i)&&(t=!0)}})).on("touchend.terminal",(function(){e&&(clearTimeout(o),t||(n?(r.blur(),ae.disable()):(r.focus(),ae.focus()))),t=!1,e=null}))}():(i.on("focus.terminal_"+ae.id(),ot).on("blur.terminal_"+ae.id(),it),function(){var e,t=0,n="click_"+ae.id(),i=ae.find(".cmd textarea");function r(){if(e.is(".terminal")||e.is(".terminal-wrapper")){var t=ae.get_command().length;ae.set_position(t)}else e.closest(".cmd-prompt").length&&ae.set_position(0);i.is(":focus")||i.focus(),a()}function a(){t=0,e=null}var s=".terminal-output textarea,.terminal-output input";ae.mousedown((function(t){scrollbar_event(t,et)||(e=$(t.target))})).mouseup((function(){if(o)o=!1;else{if(e&&e.closest(s).length)Ve&&ae.disable();else if(""===get_selected_html()&&e)if(1===++t){if(!Ge){if(Ve){var i=Be.clickTimeout;return void ae.oneTime(i,n,r)}ae.focus(),ae.scroll_to_bottom()}}else ae.stopTime(n);a()}})).dblclick((function(){a(),ae.stopTime(n)}))}(),function(){var e,t=Me.clip().$node;function n(e){return"mousedown"===e.type&&2===e.buttons||"contextmenu"===e.type}e="oncontextmenu"in window?"contextmenu.terminal":"mousedown.terminal",ae.on(e,(function(e){if(o=""===get_selected_html()&&n(e),o){var i=$(e.target);if(i.is("img,value,audio,object,canvas,a"))return;ae.enabled()||ae.enable();var r=Me.offset(),a=Me[0].getBoundingClientRect(),s=ae.offset(),l=s.top-r.top,u=Math.max(e.pageY-r.top-20,l),c=e.pageX-r.left-20,d=56,p=70,m=ae[0].getBoundingClientRect(),f=et.outerWidth(),h=u+a.top+d;h=h-m.height-m.top;var g=c+a.left+p;g=g-f-m.left,h>0&&(d-=Math.ceil(h)),g>0&&(p-=Math.ceil(g)),t.attr("style",["left:"+c+"px !important","top:"+u+"px !important","width:"+p+"px !important","height:"+d+"px !important"].join(";")),t.is(":focus")||t.focus(),ae.stopTime("textarea"),ae.oneTime(100,"textarea",(function(){var e={left:"",top:"",width:"",height:""};if(!is_css_variables_supported){var n=ae.find(".cmd .cmd-cursor-line").prevUntil(".cmd-prompt").length;e.top=14*n+"px"}t.css(e)})),ae.stopTime("selection"),ae.everyTime(20,"selection",(function(){t[0].selection!==t[0].value&&get_textarea_selection(t[0])&&(clear_textarea_selection(t[0]),select(ae.find(".terminal-output")[0],ae.find(".cmd div:last-of-type")[0]),ae.stopTime("selection"))}))}}))}(),ae.on("scroll",(function(){var e=ae.find("textarea"),t=ae[0].getBoundingClientRect(),n=ae[0].scrollHeight,o=ae.scrollTop(),i=n-(o+t.height);0===i?e.css("top",""):e.css("top",-i)})));function r(){var e=Re.width;Re=get_char_size(ae),e!==Re.width&&Me.option("charWidth",Re.width).refresh()}function a(){if(ae.is(":visible")){var e=et.width(),t=et.height();Le&&(Le=!terminal_ready(ae),r()),De===t&&be===e||ae.resize(),De=t,be=e}}function s(){var e={prefix:"terminal-"};ae.resizer("unbind").resizer(a,e),Ze.resizer("unbind").resizer((function(){r(),ae.resize()}),e)}function l(e){ge=1===e[0].intersectionRatio}function u(){if(window.IntersectionObserver){var e=$('<div class="terminal-scroll-marker"/>').appendTo(ae),t=e;-1!==Be.scrollBottomOffset&&(t=$("<div/>").css({height:Be.scrollBottomOffset}).appendTo(e)),ve=new IntersectionObserver(l,{root:ae[0]}),ve.observe(t[0])}}function c(){qe&&(qe.unobserve?qe.unobserve(ae[0]):clearInterval(qe));var e=ae.enabled(),t=ae.is(":visible");function n(){ae.is(":visible")&&!t?(t=!0,s(),r(),a(),e&&ae.enable(),Qe.css("visibility","")):t&&!ae.is(":visible")&&(t=!1,e=$.terminal.active()===ae&&ae.enabled(),ae.disable(),Qe.css("visibility","hidden"))}e&&!t&&ae.disable(),t?s():Qe.css("visibility","hidden"),window.IntersectionObserver&&"fixed"!==ae.css("position")?(qe=new IntersectionObserver(n,{root:null}),qe.observe(ae[0])):qe=setInterval(n,100)}ae.on("click","a",(function(e){var t=$(this);if(t.closest(".terminal-exception").length){var n=t.attr("href");n.match(/:[0-9]+$/)&&(e.preventDefault(),d(n,ae.cols()))}Ve&&ae.find(".cmd textarea").focus()})),a(),u(),ae.is(":visible")&&s();var p=!!ae.closest("body").length,m=window.MutationObserver||window.WebKitMutationObserver;function f(e,t){var n=terminals.get()[e[0]],o=$.Deferred();if(n&&Ce===n.id())return e[2]?Je?(R.push((function(){return n.exec(e[2],t).done((function(){n.save_state(e[2],!0,e[1]),o.resolve()}))})),o.promise()):n.exec(e[2],t).done((function(){n.save_state(e[2],!0,e[1])})):(o.resolve(),o.promise())}m&&(Ne=new m((function(){ae.closest("body").length?(p||(ae.scroll_to_bottom(),c(),a()),p=!0):p&&(p=!1)})),Ne.observe(document.body,{childList:!0})),p&&c(),Ee.resolve(),Ve&&ae.is(":visible")&&!is_mobile?ae.focus(undefined,!0):ae.disable(),is_function(Xe)?ae.login(Xe,!0,V):V(),Be.execHash&&location.hash?setTimeout((function(){try{var e=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(e)),e.match(/\[/)||H(hash_commands);var t=0,n={typing:Be.execAnimation,delay:Be.execAnimationDelay};(function e(){var o=hash_commands[t++];o?f(o,n).done(e):change_hash=!0})()}catch(o){}})):change_hash=!0,function(){var e=!1;function t(t,n){if(!e){var o,i=Pe.top();if(is_function(i.mousewheel)?o=i.mousewheel(t,n,ae):is_function(Be.mousewheel)&&(o=Be.mousewheel(t,n,ae)),!0===o)return;if(!A()&&!1!==o||t.ctrlKey||(t.stopPropagation(),t.preventDefault()),!1===o)return!1;n>0?ae.scroll(-40):ae.scroll(40)}}if($(document).bind("keydown.terminal_"+ae.id(),(function(t){t.shiftKey&&(e=!0)})).bind("keyup.terminal_"+ae.id(),(function(t){(t.shiftKey||16===t.which)&&(e=!1)})),$.event.special.mousewheel)ae.on("mousewheel",t);else{var n,o=document.createElement("div");n="onwheel"in o?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",o=null,ae.on(n,(function(e){var o;o="mousewheel"===n?-1/40*e.originalEvent.wheelDelta:e.originalEvent.deltaY||e.originalEvent.detail,t(e,-o)}))}ae.touch_scroll((function(e){var t,n=e.current.clientY-e.previous.clientY,o=Pe.top();if(is_function(o.touchscroll)?t=o.touchscroll(e,n,ae):is_function(Be.touchscroll)&&(t=Be.touchscroll(e,n,ae)),css(ae[0],{"--terminal-scroll":ae.prop("scrollTop")}),!0!==t)return!1}))}()})),ae}}))}).call(this,__webpack_require__("c8ba"))},e273:function(e,t,n){},e3d5:function(e,t,n){"use strict";n("f3df")},e740:function(e,t,n){},ea5a:function(e,t,n){},edd4:function(e){e.exports=JSON.parse('{"Dismiss":"Dismiss","CodeBlock":{"Initial_Content":"Initial Content"},"CodeBlockContainer":{"Display":"Display","Lines":"Lines","Lines_detail":"Number of Visible lines or <b>auto</b>.","Prepopulate":"Prepopulate Answer","Prepopulate_detail":"Define content that is displayed in a new answer.","Behaviour":"Behaviour","ScriptV":"Script Version","ScriptV_detail":"API-Version for the Playground.","AutoReset":"Auto Reset","AutoReset_detail":"Recreate Playground-Object for each run","GenerateTemplate":"Create Canvas","GenerateTemplate_detail":"Create a Canvas-Element for this Playground","Positioning":"Positioning","Width":"Width","Width_detail":"CSS Property for the canvas-width.","Height":"Height","Height_detail":"CSS Property for the canvas-height.","Alignment":"Alignment","Alignment_detail":"Horizontal Positioning of the canvas.","Delete":"Delete","Start":"Start","Center":"Center","End":"End","ScriptVersion_1":"1.0 (original)","ScriptVersion_2":"2.0 (since 2020)","ScriptVersion_3":"3.0 (experimental)","Canvas":"Playground","Text":"Plain Text","Hidden":"Code (Hidden)","Static":"Code (Static)","Block":"Solution","Blockly":"Blockly (Experimental!!!)","REPL":"Interactive Terminal","Confirm":"Confirm","DeleteQuestion":"Do you really want to delete the <span class=\'highlightedCard sample\'>highlighted</span> Block?","TypesCaption":"Block-Types","Types":"The final Question is assembled using the following blocks. You my use the following block types:<ul><li><b>Plain Text</b>: Regular Text that is displayd as you Type it without any Syntax Highlighting. You may use <b>[code][/code]</b> and <b>[hl][/hl]</b> as a markup for inline source-code</li><li><b>Code (Static)</b>: read-only Source Code with Syntax highlighting. The content is used to assemble the final Program.</li><li><b>Code (Hidden)</b>: This Source Code is delivered to the client browser but invisible to the students. You may use this type for boiler-plate code you need for processing. The content is used to assemble the final Program.</li><li><b>Solution</b>: Source Code with Syntax highlighting. Should contain the best solution. The content is used to assemble the final Program.</li><li><b>Playgournd</b>: Enables you to execute predfined Code in th DOM. For example for a 2D-drawing area to visualize the results produced by the studen. The code you specify (for Version 2.0) <b> has to return a JavaScript Object</b> providing an <ul><li><code>init(canvasElement, outputElement, scope)</code> and</li><li><code>update(txt, json, canvasElement, outputElement)</code></li></ul> method.</li></ul>"},"CodeBlocks":{"run_hint":"Press <code>Ctrl</code>+<code>W</code> or <code>Ctrl</code>+<code>J</code> when in a code box to run code.","run":"Run","start":"Start","stop":"Stop","AddBlock":"Add new Block","UserCanceled":"Stopped By User"},"CodeBlocksSettings":{"Language":"Language","AllowExec":"Allow Code Execution","CVersion":"Version","RunTime":"Max. Runtime in ms.","Output":"Output","MaxCharacters":"Max. Output Characters","ExperimentalCompiler":"Experimental Language","ExperimentalCompilerDesc":"This language version is experimental. The properties and behaviour of this version might changen in the next update. You should not use this version for production.","DeprecatedCompiler":"Deprecated Language","DeprecatedCompilerDesc":"This language version is deprecated and will be removed in upcoming updates. Please upgrade your project to a later version.","Parser":"Output Parser","Themes":"Themes","TGeneral":"General Theme","TSolution":"Solution Theme","Libraries":"Libraries","DomLibs":"DOM-Libraries","WorkLibs":"Worker-Libraries","PAutomatic":"Automatisch","PText":"Text Passthrough","PJSON":"JSON","PMagic":"Text+JSON (seperated by \'\\\\n\\\\n&lt;JSON>\\\\n\')","PData":"Text+Data (send using \'CodeBlocks.postResult(data)\')","NumberErr":"Muss ein gültiger Zahlenwert sein","ContinousCompile":"Automatic Execution (while typing)","PersistentArguments":"Persistente Arguments (between calls)","MessagePassing":"Message exchange between DOM and Worker","KeepAlive":"Keep Worker alive after main Finishes","AllowArguments":"Supports Runtime-Arguments","AllowArgumentsCaption":"Send Runtime-Arguments","AllowArgumentsHint":"Using <code>addArgumentsTo(args)</code> in your <b>Playground</b> you can add data to the passed argument-object. The object is available in the worker-code as a variable named <code>args</code>.","AllowArgumentsHintJava":"Using <code>addArgumentsTo(args)</code> in your <b>Playground</b> you can push strings to the passed arguments-array. The array is passed to <code>args</code>-parameter of the <code>main</code>-Method.","UsePersistentArgumentsCaption":"Persistente Arguments","UsePersistentArgumentsHint":"When set, the <args>args</args>-Value passed to <code>addArgumentsTo(args)</code> will contain the values written to <code>args</code> by the worker-code in the last run. If not set, the method will allways receiv an empty object.","UsePersistentArgumentsHintJava":"When set, the <args>args</args>-Value passed to <code>addArgumentsTo(args)</code> will contain the values written to <code>args</code> by the java-code in the last run. If not set, the method will allways receiv an empty array.","AllowMessagePassingCaption":"Message exchange","AllowMessagePassingHint":"<b style=color:red>[EXPERIMENTAL]</b> When enabled, worker and DOM can exchange messages.<br><b>Canvas-Code:</b><ul><li><code>onMessage(cmd, data)</code>: Receives messages from the worker</li><li><code>runner.postMessage(cmd, data)</code>: sends a message to the worker. The runner instance is passed to your <code>init</code>-method.</li></ul><b>Worker-Code:</b><ul><li><code>CodeBlocks.startReceivingEvents((request) => {})</code>: the handler receives messages sent from the DOM</li><li><code>CodeBlocks.postMessage(cmd, data)</code>: sends a message to the DOM-Code.</li></ul>","AllowMessagePassingHintJava":"<b style=color:red>[EXPERIMENTAL]</b> When enabled, worker and DOM can exchange messages.<br><b>Canvas-Code:</b><ul><li><code>onMessage(cmd, data)</code>: Receives messages from the worker</li><li><code>runner.postMessage(cmd, data)</code>: sends a message to the worker. The runner instance is passed to your <code>init</code>-method.</li></ul><b>Worker-Code:</b><ul><li><code>CodeBlocks.startReceivingEvents((CodeBlocksBaseMessage request) -> {})</code>: the handler receives messages sent from the DOM</li><li><code>CodeBlocks.postMessage(String cmd, Object data)</code>: sends a message to the DOM-Code.</li></ul>","KeepAliveCaption":"Keep Worker alive","KeepAliveHint":"<b style=color:red>[EXPERIMENTAL]</b> Workers are not automatically terminated when the student code finishes.<br><br>The worker is stopped by using the <em>Stop</em>-Button or by reaching the maximum execution time. Student-Code can also terminate the worker (and itself) by calling <code>process.exit(0)</code>.<br><br>The <code>whenFinished(args)</code>-Method in your <b>Playground</b> is called as soon as the student code finishes, which may be before the worker is terminated.","KeepAliveHintJava":"<b style=color:red>[EXPERIMENTAL]</b> Workers are not automatically terminated when the students <code>main</code>-Method finishes.<br><br>The worker is stopped by using the <em>Stop</em>-Button or by reaching the maximum execution time. Student-Code can also terminate the worker (and itself) by calling <code>System.exit(0)</code>.<br><br>The <code>whenFinished(args)</code>-Method in your <b>Playground</b> is called as soon as the <code>main</code>-Method finishes, which may be before the worker is terminated."},"CodePlayground":{"InvalidJson":"Output is not a valid JSON-Object","Output":"Output:","Message":"Message:","ExperimentalScriptVersion":"Experimental Scripting Version","ExperimentalScriptVersionDesc":"This scripting version is experimental. The properties and behaviour of this version might changen in the next update. You should not use this version for production.","DeprecatedScriptVersion":"Deprecated Scripting Version","DeprecatedScriptVersionDesc":"This scripting version is deprecated and will be removed in upcoming updates. Please upgrade your project to a later version."},"Tagger":{"ConfirmRepl":"Confirm Tag Replacement","ConfirmReplMsg":"Do you really want to replace <b>all</b> occurrences of {name} with the value below?"},"RandomizerSetEditor":{"Caption":"Edit Set {nr}"},"RandomizerSettings":{"Caption":"Randomizer","Available":"Available Tags","Sets":"Defined Sets"},"Blockly":{"CodePreviewLabel":"Code Preview","CodePreviewCaption":"The source-code generated by the above sequence","RAWToolboxLabel":"RAW Toolbox Definition","RAWToolboxCaption":"The raw XML-Definition of your toolbox","CustomBlocksLabel":"Custom Blocks","CustomBlocksCaption":"Create and manage Custom Blocks","ToolboxLabel":"Customize Toolbox","ToolboxCaption":"Manage Categories and the general look of your toolbox","ToolboxCategories":"Categories","ToolboxItems":"Blocks","Properties":"Properties","UseCustomToolbox":"Define Customized Toolbox XML","BlockTypeNames":{"controls_if":"controls_if","logic_compare":"logic_compare","logic_operation":"logic_operation","logic_negate":"logic_negate","logic_boolean":"logic_boolean","logic_null":"logic_null","logic_ternary":"logic_ternary","controls_repeat_ext":"controls_repeat_ext","controls_whileUntil":"controls_whileUntil","controls_for":"controls_for","controls_forEach":"controls_forEach","controls_flow_statements":"controls_flow_statements","math_number":"math_number","math_arithmetic":"math_arithmetic","math_single":"math_single","math_trig":"math_trig","math_constant":"math_constant","math_number_property":"math_number_property","math_round":"math_round","math_on_list":"math_on_list","math_modulo":"math_modulo","math_constrain":"math_constrain","math_random_int":"math_random_int","math_random_float":"math_random_float","text":"text","text_join":"text_join","text_append":"text_append","text_length":"text_length","text_isEmpty":"text_isEmpty","text_indexOf":"text_indexOf","variables_get":"variables_get","text_charAt":"text_charAt","text_getSubstring":"text_getSubstring","text_changeCase":"text_changeCase","text_trim":"text_trim","text_print":"text_print","text_prompt_ext":"text_prompt_ext","lists_create_with":"lists_create_with","lists_repeat":"lists_repeat","lists_length":"lists_length","lists_isEmpty":"lists_isEmpty","lists_indexOf":"lists_indexOf","lists_getIndex":"lists_getIndex","lists_setIndex":"lists_setIndex","lists_getSublist":"lists_getSublist","lists_split":"lists_split","lists_sort":"lists_sort","colour_picker":"colour_picker","colour_random":"colour_random","colour_rgb":"colour_rgb","colour_blend":"colour_blend"}}}')},f3df:function(e,t,n){},fe0b:function(e,t,n){"use strict";var o=n("bee2"),i=n("d4ec"),r=n("262e"),a=n("2caf"),s=(n("ac1f"),n("1276"),n("d3b7"),n("159b"),n("ddb0"),n("466d"),n("25f0"),n("2b0e")),l=n("a925"),u=document.getElementsByTagName("html")[0].getAttribute("lang");function c(){var e=n("49f8"),t={};return e.keys().forEach((function(n){var o=n.match(/([A-Za-z0-9-_]+)\./i);if(o&&o.length>1){var i=o[1];t[i]=e(n)}})),t}null!==u&&(u=u.split("-",2)[0]),s["a"].use(l["a"]);var d=function(e){Object(r["a"])(n,e);var t=Object(a["a"])(n);function n(e){var o;return Object(i["a"])(this,n),o=t.call(this,e),o.$v=l["a"],o}return Object(o["a"])(n)}(l["a"]),p=new d({locale:u||"en",fallbackLocale:"en",messages:c()});t["a"]=p,s["a"].prototype.$l=function(e,t){var n=p.t(e,t);return n.toString()},s["a"].$l=s["a"].prototype.$l}});
//# sourceMappingURL=app.js.map