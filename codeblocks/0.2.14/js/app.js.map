{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Terminal.vue?d9cd","webpack:///./src/lib/BlocklyHelper.ts","webpack:///./src/components/CodeBlockButton.vue?86c3","webpack:///./src/components/PlaygroundCanvas.vue?6195","webpack:///./src/components/ErrorTip.vue?97bb","webpack:///./src/locales sync [A-Za-z0-9-_,\\s]+\\.json$/","webpack:///./src/components/RandomizerSettings.vue?53b8","webpack:///./src/lib/glsl/glsl.js","webpack:///./src/components/CodeBlocksSettings.vue?08ae","webpack:///./src/components/CodePlayground.vue?4066","webpack:///./src/lib/ICompilerRegistry.ts","webpack:///./src/components/CodeBlocks.vue?730d","webpack:///./src/components/CodeBlock.vue?bd8e","webpack:///./src/components/ErrorTip.vue?06c2","webpack:///./src/components/ErrorTip.vue?ae25","webpack:///./src/components/ErrorTip.vue?9de3","webpack:///./src/components/ErrorTip.vue?cdc8","webpack:///./src/components/CodeBlockButton.vue?4ac2","webpack:///./src/components/CodeBlockButton.vue?8dde","webpack:///./src/components/CodeBlockButton.vue?3b91","webpack:///./src/components/CodeBlockButton.vue?5062","webpack:///./src/components/CodeBlock.vue?2089","webpack:///./src/components/CodeBlock.vue?f7f2","webpack:///./src/components/CodeBlock.vue?4831","webpack:///./src/components/CodePanel.vue?e16d","webpack:///./src/components/BaseBlock.vue?b9c1","webpack:///./src/components/BaseBlock.vue","webpack:///./src/components/BaseBlock.vue?2d8c","webpack:///./src/lib/ICodeBlocks.ts","webpack:///./src/components/DataBlock.vue?66ce","webpack:///./src/AppEditor.vue?6f5a","webpack:///./src/components/TipTap.vue?5d31","webpack:///./src/components/CodeBlockContainer.vue?5810","webpack:///./src/lib/IBlocklyHelper.ts","webpack:///./src/plugins/uuid.ts","webpack:///./src/plugins/quasar.ts","webpack:///./src/plugins/codemirror.ts","webpack:///./src/plugins/codeBlocks.ts","webpack:///./src/plugins/compilerState.ts","webpack:///./src/plugins/highlight.ts","webpack:///./src/plugins/tagger.ts","webpack:///./src/compiler/doppio.v001.js","webpack:///./src/compiler/teavm.v100.ts","webpack:///./src/compiler/teavm.v101.ts","webpack:///./src/compiler/java.ts","webpack:///./src/compiler/javascript.v100.ts","webpack:///./src/compiler/javascript.v101.ts","webpack:///./src/compiler/javascript.v102.ts","webpack:///./src/compiler/javascript.ts","webpack:///./src/compiler/python.v100.ts","webpack:///./src/compiler/python.v101.ts","webpack:///./src/compiler/python.v102.ts","webpack:///./src/compiler/python.ts","webpack:///./src/compiler/glsl.v100.ts","webpack:///./src/compiler/glsl.ts","webpack:///./src/lib/CompilerRegistry.ts","webpack:///./src/lib/scriptBlock.ts","webpack:///./src/App.vue?02cb","webpack:///./src/components/CodeBlocks.vue?12e9","webpack:///./src/components/CodeBlockContainer.vue?437f","webpack:///./src/lib/BlockloadManagers/PositioningManager.ts","webpack:///./src/lib/BlockloadManagers/BlocklyManager.ts","webpack:///./src/components/CodeBlockContainer.vue?2263","webpack:///./src/components/CodeBlockContainer.vue?e345","webpack:///./src/components/CodeBlockContainer.vue?c445","webpack:///./src/components/CodeBlocksSettings.vue?19b0","webpack:///./src/components/RandomizerSettings.vue?2fb7","webpack:///./src/components/RandomizerSetEditor.vue?e9c9","webpack:///./src/components/RandomizerSetEditor.vue?8956","webpack:///./src/components/RandomizerSetEditor.vue?515c","webpack:///./src/components/RandomizerSetEditor.vue","webpack:///./src/components/RandomizerSettings.vue?ec21","webpack:///./src/components/RandomizerSettings.vue?17b7","webpack:///./src/components/RandomizerSettings.vue?d205","webpack:///./src/components/CodeBlocksSettings.vue?dd5d","webpack:///./src/components/CodeBlocksSettings.vue?d44b","webpack:///./src/components/CodeBlocksSettings.vue?da51","webpack:///./src/components/CodePanel.vue?8c0b","webpack:///./src/components/CodePanel.vue?8d00","webpack:///./src/components/CodePanel.vue?2070","webpack:///./src/components/CodePanel.vue?4ef9","webpack:///./src/components/CodePlayground.vue?c925","webpack:///./src/components/PlaygroundCanvas.vue?1203","webpack:///./src/components/PlaygroundCanvas.vue?3d8f","webpack:///./src/components/PlaygroundCanvas.vue?53fd","webpack:///./src/components/PlaygroundCanvas.vue?ce4c","webpack:///./src/components/CodePlayground.vue?6377","webpack:///./src/components/CodePlayground.vue?9969","webpack:///./src/components/CodePlayground.vue?32a7","webpack:///./src/components/CodeREPL.vue?fd97","webpack:///./src/components/Terminal.vue?5cf0","webpack:///./src/components/Terminal.vue?a698","webpack:///./src/components/Terminal.vue?2dfc","webpack:///./src/components/Terminal.vue?064a","webpack:///./src/components/CodeREPL.vue?40f0","webpack:///./src/components/CodeREPL.vue?df8e","webpack:///./src/components/CodeREPL.vue","webpack:///./src/components/SimpleText.vue?0129","webpack:///./src/components/TipTap.vue?51ff","webpack:///./src/components/TipTap.vue?f154","webpack:///./src/components/TipTap.vue?041e","webpack:///./src/components/TipTap.vue?fbce","webpack:///./src/components/SimpleText.vue?b0a8","webpack:///./src/components/SimpleText.vue?d8f3","webpack:///./src/components/SimpleText.vue","webpack:///./src/components/DataBlock.vue?5b92","webpack:///./src/components/DataBlock.vue?0da6","webpack:///./src/components/DataBlock.vue?4e1b","webpack:///./src/components/DataBlock.vue?6b7a","webpack:///./src/components/CodeBlocks.vue?bdc4","webpack:///./src/components/CodeBlocks.vue?f12a","webpack:///./src/components/CodeBlocks.vue?73e2","webpack:///src/App.vue","webpack:///./src/App.vue?099c","webpack:///./src/App.vue?7d8b","webpack:///./src/AppEditor.vue?c892","webpack:///./src/components/CodeBlocksEditor.vue?ed7f","webpack:///./src/components/CodeBlocksEditor.vue","webpack:///./src/components/CodeBlocksEditor.vue?6cf9","webpack:///src/AppEditor.vue","webpack:///./src/AppEditor.vue?1c67","webpack:///./src/AppEditor.vue?6d6f","webpack:///./src/lib/BlockloadManagers/BlockManager.ts","webpack:///./src/lib/BlockloadManagers/PlaygroundManager.ts","webpack:///./src/lib/BlockloadManagers/DataManager.ts","webpack:///./src/lib/BlockloadManagers/REPLManager.ts","webpack:///./src/lib/codeBlocksManager.ts","webpack:///./src/main.ts","webpack:///./src/components/CodeBlock.vue?961a","webpack:///./src/App.vue?40d9","webpack:///./src/components/CodePlayground.vue?7cfb","webpack:///./src/lib/jquery.terminal.js","webpack:///./src/components/DataBlock.vue?bcec","webpack:///./src/plugins/i18n.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","ColorThemeSelection","label","ColorHues","PredefinedBlockTypes","keys","map","ret","$l","ColorSelection","ColorSelectionWithNone","blockStyles","colour_blocks","colourPrimary","Colour","colourSecondary","colourTertiary","hat","list_blocks","List","logic_blocks","Logic","loop_blocks","Loop","math_blocks","Math","procedure_blocks","Procedure","text_blocks","Text","variable_blocks","Variable","variable_dynamic_blocks","Variable_dynamic","hat_blocks","categoryStyles","colour_category","colour","list_category","logic_category","loop_category","math_category","procedure_category","text_category","variable_category","variable_dynamic_category","BlocklyHelper","a","items","item","serializeToolboxItem","join","res","color","custom","this","serializeToolboxItems","serializeToolboxCategory","toolbox","catCount","categories","serializeToolboxCategories","cat","bl","cp","JSON","toHTMLColor","stringify","getBlockDescription","bls","xml","replace","cc","codeUndefines","Blockly","prepareBlocklyCode","codeString","_code","Function","$CodeBlock","itemForValue","forEach","cl","toColor","blocklyHelper","webpackContext","req","id","webpackContextResolve","mod","require","define","CodeMirror","words","str","obj","split","defineMode","config","parserConfig","curPunc","indentUnit","statementIndentUnit","dontAlignCalls","keywords","builtin","blockKeywords","atoms","hooks","multiLineStrings","indentStatements","isOperatorChar","tokenBase","stream","state","ch","next","tokenize","tokenString","test","eatWhile","eat","tokenComment","skipToEnd","cur","current","propertyIsEnumerable","quote","escaped","end","maybeEnd","Context","indented","column","align","prev","pushContext","col","indent","context","popContext","startState","basecolumn","startOfLine","token","ctx","sol","indentation","eatSpace","style","textAfter","Pass","firstChar","charAt","closing","electricChars","blockCommentStart","blockCommentEnd","lineComment","fold","cppHook","skipTo","eol","def","mimes","add","prop","helperType","registerHelper","defineMIME","modeProps","ErrorSeverity","render","_vm","_h","$createElement","_c","_self","class","typeName","directives","rawName","expression","attrs","block","isBookmarkPanel","ref","boxClass","options","namePrefix","parentID","on","onCodeReady","onCodeFocus","onCodeChangeDefered","onCodeKeyHandle","staticClass","_v","_s","$t","altCode","altOptions","onAltCodeReady","onAltCodeFocus","onAltCodeChangeDefered","_e","staticRenderFns","severityClass","severityIcon","_l","iconForSeverity","severity","classForSeverity","component","QIcon","QTooltip","iconName","onClick","bookmarked","uuid","appSettings","$GlobalEventHub","$emit","bookmarkMe","$on","onBookmark","$off","required","default","QBtn","ErrorTipCtor","extend","codeUpdateTimer","codeUpdateStartTime","continuousCodeUpdateTimer","codeNeedsTagUpdate","altCodeUpdateTimer","altCodeUpdateStartTime","canBookmark","editMode","codemirror","allMarks","getDoc","getAllMarks","className","$tagger","rnd","templ","clear","altcodemirror","clearGutter","editor","display","input","textarea","codeBox","$el","querySelectorAll","el","trim","$","text","content","iliasTypeNr","updateDiagnosticDisplay","onCodeChange","whenBlockIsReady","altBox","$nextTick","onAltCodeChange","alternativeContent","updateTagDisplay","updateHeight","newCode","now","Date","getTime","doIt","lineCountHint","doc","size","firstLineNumber","firstLine","tb","querySelector","emitWhenTypingInViewMode","indexOf","arguments","didAddText","keyCode","visibleLines","static","setSize","round","max","scopeUUID","replaceTemplateTagInString","newValue","randomizer","active","clearTagMarkers","getMarkers","markText","start","inclusiveLeft","inclusiveRight","title","startStyle","endStyle","hookClick","val","errors","clearErrorDisplay","first","line","info","lineInfo","element","gutterMarkers","$component","setGutterMarker","propsData","$mount","$refs","hasAlternativeContent","tagSet","hidden","readonly","toLowerCase","actualContent","theme","lineNumbers","tabSize","autoCloseBrackets","readOnly","gutters","refresh","readyWhenMounted","buildIt","log","addKeyMap","cMirror","Tab","execCommand","replaceTemplateTags","BaseBlock","validator","b","components","CodeBlockButton","muteReadyState","readyCount","whenBlockIsDestroyed","KnownBlockTypes","CodeOutputTypes","CodeExpansionType","BlockPrimaryColors","BlockSecondaryColors","BlockTertiaryColors","BlockOutputTypes","BlockSequenceTypes","BlockArgumentTypes","KnownBlocklyTypes","use","plugins","Dialog","animations","lang","set","mimeTypesForLanguage","mime","displayName","css","fortran","glsl","html","java","javascript","perl","php","python","loadSettings","scope","baseurl","settings","opt","outputObject","magicString","resultData","Array","isArray","json","idx","DATA","AUTO","MAGIC","substr","pString","parse","ee","parsedString","too","language","k","sort","refreshAllCodeMirrorsSync","find","globalState","SEVERITY_ERROR","SEVERITY_WARNING","Warning","$SEVERITY_ERROR","$SEVERITY_WARNING","$compilerState","globalStateHidden","globalStateMessage","runButtonForceHide","methods","hideGlobalState","displayGlobalState","setAllRunButtons","what","configure","useBR","registerLanguage","reg_hl","reg_code","$vue","processElements","inLang","elements","hasAttribute","processElement","processElementSimple","txt","innerHTML","m1","m2","m3","m4","m5","highlight","highlightAuto","MathJax","Hub","Register","StartupHook","highlightAll","highlightElement","hljs","$hljs","directive","binding","componentUpdated","randomAndTemplateTag","lines","markers","regex","RegExp","exec","index","lastIndex","marker","h","$uuid","v4","calle","processString","m0","tags","inTag","innerText","onclick","clickFunction","values","tagEl","$q","dialog","i18n","persistent","prompt","model","ok","icon","cancel","onOk","replaceTemplateTag","onCancel","onDismiss","me","self","highlighted","javaRunOverhead","runJavaWorker","questionID","callingCodeBlocks","max_ms","log_callback","info_callback","err_callback","compileFailedCallback","finishedExecutionCB","forceReload","exp","match","worker","Worker","Vue","timer","addEventListener","stdout","stderr","postMessage","cmd","terminate","JavaExec","setRunButton","showMessage","msg","enabled","singleton","loadedlibs","version","canRun","canStop","allowsContinousCompilation","allowsPersistentArguments","allowsMessagePassing","acceptsJSONArgument","allowsREPL","didPreload","requestedPreload","isReady","isRunning","preload","triggerResourceLoad","lock","initialize","initFileSystems","reroutStdStreams","ready","compileAndRun","args","runCreate","created","teaVMRunOverhead","experimental","deprecated","teaworker","sessionCompileListener","sessionID","sessionWorker","createTeaWorker","whenReady","command","mainClass","url","executionFinished","booted","compilerTimeout","time","replaceRec","getMainClass","regexpMainClass","myListener","phase","lineNumber","startLineNumber","startColumn","endLineNumber","endColumn","kind","humanReadable","runTimeout","removeEventListener","status","runListener","workerrun","runStart","javaCompiler_V100","keepAlive","didReceiveMessage","postMessageFunction","wr","dequeuePostponedMessages","whenFinishedHandler","beforeStartHandler","messagePosting","allowMessagePassing","javaCompiler_V101","versions","JavaCompilers","runJavaScriptWorker","not_allowed_keywords","prefixCode","postfixCode","URL","createObjectURL","Blob","testTimeout","testTimeoutIntern","onmessage","lineno","colno","javascriptCompiler_V100","startTime","performance","triggerTimeout","startExecution","willStartExecution","workerLibraries","$compilerRegistry","loadLibraries","libraries","compilerRegistry","registerDOMLib","javascriptCompiler_V101","javascriptCompiler_V102","JavascriptCompilers","runPythonWorker","prog","maxRuntime","logCallback","infoCallback","errCallback","finishCallback","replaceAllPoly","pyInp","messageData","pyProg","maxMS","stdOut","pythonCompiler_V100","legacy","spareWorker","runningWorker","pythonCompiler_V101","pythonLegacyCompiler_V101","legacyPython","python3","getWorker","setReady","interpreter","names","withREPL","onStateChange","onLog","onError","sub","incomplete","fatal","pythonCompiler_V102","PythonCompilers","runGLSLWorker","outputData","blocks","filter","hasCode","v100","GLSLCompilers","compilers","loadedURIs","updateMappings","afterLoadFinished","isLoadingLibs","langs","libs","utility","registerSingle","v","registerLibs","compilerInfo","cmps","languageType","oldVersion","newVersion","oldName","newName","loadedName","uri","order","onBuildSandboxEnv","didLoad","sandbox","domLibs","getLibObjects","uris","reduce","concat","domLibraries","whenLoaded","urisForDOMLibs","dlibs","loadURIs","loadCount","u","loadLib","register","Chart","THREE","lil","Phaser","IsometricMapGame","d3","addUpdateMapping","brain","tf","legacyCodeTemplate","prefix","postfix","v101CodeTemplate","v102CodeTemplate","jsErrorParser","columnNumber","stack","Number","$jsErrorParser","sandboxProxies","WeakMap","compileCode","addLoadedToSandbox","oldRequestAnimationFrame","requestAnimationFrame","callback","jQuery","Map","String","create$","createTextNode","getElementById","getElementsByClassName","devicePixelRatio","has","sandboxProxy","Proxy","unscopables","fkt","didInit","_runConfig","queuedMessages","queuedIncomingMessages","RESOURCES","init","update","requestsOriginalVersion","dequeueIncoming","pushError","rebuild","lazyInit","addArgumentsTo","cfg","doPostMessageToWorker","onMessage","beforeStart","whenFinished","addBlockDataFromBlocks","addBlockDataFromBlock","addBlockData","canvasElement","setupDOM","outputElement","parents","runner","getResources","requests","array","fetch","response","blob","arrayBuffer","_runInit","catch","arunner","run","reset","output","processedOutput","initialOutput","parseError","onParseError","staticStyle","addonClass","backgroundColorClass","blockInfo","hasBookmark","panelBlock","onCompilerChange","onCompilerVersionChange","onRunStateChange","onContinousCompileStateChange","onMessagePassingChange","onKeepAliveChange","onPersistentArgumentsChange","onLanguageChange","onCharacterLimitChange","onTimeoutChange","onWorkerLibChange","onDomLibChange","onThemeChange","onOutputParserChange","onTypeChange","onVisibleLinesChange","onPlacementChange","onScriptVersionChange","moveUp","moveDown","removeBlock","onSetAutoReset","onReloadResources","onSetGenerateTemplate","onChangeOrder","themeForBlock","mimeType","activeTagSet","continuousCompile","blockBecameReady","onViewCodeChange","finalOutputObject","eventHub","onPlaygroundChangedOutput","onRunFromPlayground","$$v","$set","showGlobalMessages","stop","addNewBlock","hasREPL","center","domProps","outputHTML","colorClass","bgClass","types","scopedSlots","_u","fn","showTypeInfoDialog","proxy","typeObj","validNumber","hasAltComntent","scriptVersions","scriptVersionObj","shouldAutoReset","shouldReloadResources","shouldGenerateTemplate","canDefinePlacement","width","height","alignments","canMoveUp","positions","canMoveDown","expanded","toggleExpanded","$event","composing","serializedOptions","_t","inBlock","positioninLoadManager","customBlocks","arr","prepareCode","message0","args0","nextStatement","previousStatement","toString","blockly","toolboxInput","toolboxStr","defaultToolbox","toolboxOverride","useOverride","codes","loadFromDatablock","showControls","isTrue","loadCustomBlocks","loadToolbox","loadOverrideToolbox","loadCode","_expanded","blocklyLoader","loaders","blockTag","frank","settingsMenu","PLAYGROUND","TEXT","BLOCKHIDDEN","BLOCKSTATIC","BLOCK","BLOCKLY","REPL","scriptVersion","isNaN","refreshAllCodeMirrors","newID","isLast","objIn","extended","path","nr","filteredCopy","shouldAutoreset","generateTemplate","toArray","cm","QCard","QCardSection","QSelect","QPopupProxy","QInput","QToggle","QSlideTransition","QBanner","QItem","QItemSection","QItemLabel","languageHasCompiler","runCode","canContinousCompile","compiledLanguages","compilerLanguageObj","compilerVersions","compilerVersion","_g","_b","itemProps","itemEvents","isDeprecatedVersion","compilerLanguage","isExperimentalVersion","accepstArguments","showArgsInfoDialog","canPersistentArguments","persistentArguments","showPersistentArgsInfoDialog","messagePassing","showMessagesInfoDialog","showAliveInfoDialog","maxCharacters","outputParsers","outputParser","themes","codeTheme","solutionTheme","domLibrary","workerLibrary","addTag","tagClass","removeTag","addSet","isVisible","isCompleteSet","setVisible","getFullSet","removeSet","onShow","knownTags","_newTagName","previewIndex","sets","flat","ct","odata","RandomizerSetEditor","QList","QAvatar","languages","getCompiler","knownLanguages","versionsForLanguage","cmp","compiler","executionTimeout","vv","workerLibs","solution","continuousCompilation","showInfoDialog","RandomizerSettings","onExpandClick","saveBlock","visibleLinesNow","noContent","codeExpanded","actualAltContent","themeForCodeBlock","getThemeForBlock","_blockErrors","panelWidth","CodeBlock","runCount","emitRun","onCanvasChange","onDidInit","isExpandedAuto","setExpandedAuto","isExpandedLarge","setExpandedLarge","isExpandedTiny","setExpandedTiny","innerPlaygroundContainer","canvas","resetResources","resetBlockData","whenMounted","isPreparingRun","lastRun","needsCodeRebuild","initAndRebuildErrors","TINY","LARGE","resetBeforeRun","updateErrors","hasErrors","onFinalOutputObject","setExpanded","rebuildCode","reInitCode","onNextTick","invalidate","doInit","can","jStr","originalMode","PlaygroundCanvas","QBtnGroup","canStartREPL","emitStop","_m","sleep","term","echo","welcomeMessage","ps1","ps2","unlock","pause","set_prompt","newline","resume","terminal","greetings","waitReady","Terminal","updatedContentDefered","previewValue","updatedContent","eb","editBox","QField","textUpdateTimer","textUpdateStartTime","newVal","TipTap","onUploadJson","openJson","onUploadPlain","openPlain","onUploadImage","openImage","uploader","validateFileType","processor","action","files","fl","ext","pop","knownTextExtensions","fr","FileReader","click","onUpload","startsWith","readAsDataURL","fileName","addImageURL","readAsText","loadPlain","loadJson","addToContent","img","formatOutput","didInitialize","sansoutput","didClip","_finalOutputObject","didRunOnce","bookmarkedBlock","triggerRecompileWhenFinished","randomizerActive","nfo","newOutput","format_info","formatedText","format_error","last","nextLine","infoErrorOutput","processed","playgrounds","processMixedOutput","onRunFinished","resetOutput","clearDiagnostics","_args","initArgsForLanguage","runOptions","logInfo","logError","processDiagnostics","success","overrideOutput","returnState","finishedExecution","storeDefaultArgs","clearDefaultArgs","runConfig","blockid","completeSource","ctrlKey","metaKey","preventDefault","onkey","onBookmarkBlock","forceRun","CodeBlockContainer","CodeBlocksSettings","CodePlayground","SimpleText","CodePanel","CodeREPL","DataBlock","QLayout","QPageContainer","blockById","changeOrder","alts","textContent","blockLoader","playgroundLoader","dataLoader","REPLLoader","replaceRandomTagsInString","so","dataObj","recreateScriptObject","lineCount","newType","oldType","scopeSelector","useShadowDOM","shadowRoot","outerHTML","parent","parentElement","rewrap","replaceChild","shadow","attachShadow","each","st","link","cloneNode","inData","dataset","tagName","randomizerPreviewIndex","randomizerKnownTags","randomizerSets","question","cInfo","mapLibrary","blIn","as","toUpperCase","loader","constructBlock","MainBlock","defaultArgs","id1","id2","swap","props","AppEditor","App","instantiateVue","CodeBlocksManager","allCodeBlockParents","cbm","search","replacement","pattern","newstr","productionTip","mount","mountInElement","mountCodeBlocks","sprintf","cache","format","parse_tree","argv","arg","pad","pad_character","pad_length","cursor","tree_length","node_type","get_type","fromCharCode","parseInt","toExponential","parseFloat","toFixed","str_repeat","fmt","_fmt","arg_names","field_list","replacement_field","field_match","vsprintf","_argv","variable","multiplier","global","factory","root","jquery","wcwidth","debug","DelayQueue","callbacks","Callbacks","resolved","fire","omap","text_length","Clone","clone_object","tmp","clone_array","is_function","clone","localStorage","delete","hasLS","testKey","storage","setItem","removeItem","hasCookies","cookie","isLS","wls","wc","dt","setTime","toGMTString","rls","rc","nn","ca","dls","dc","Storage","remove","debounce","FUNC_ERROR_TEXT","isObject","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","nativeMax","nativeMin","min","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","flush","debounced","isInvoking","make_callback_plugin","factory_settings","noop","destroy","trigger","unbind","data_name","$this","handler","fireWith","removeData","jquery_resolve","defer","Deferred","unpromise","done","when","everyTime","interval","times","belay","oneTime","stopTime","guid","powers","timeParse","num","mult","counter","isFunction","constructor","$timers","$timerID","inProgress","setInterval","timers","clearInterval","_fn","lab","navigator","userAgent","one","els","undef","nativeSplit","compliantExecNpcg","separator","limit","separator2","lastLength","flags","ignoreCase","multiline","sticky","lastLastIndex","source","caret","pos","isContentEditable","contentEditable","getSelection","is","focus","range1","getRangeAt","range2","cloneRange","selectNodeContents","setEnd","endContainer","endOffset","selectionStart","selection","createRange","body","createTextRange","moveToElementText","setEndPoint","range","bookmark","duplicate","getBookmark","moveToBookmark","moveStart","collapse","focusNode","setSelectionRange","select","resizer","ResizeObserver","observe","iframe","addClass","appendTo","contentWindow","observer","unobserve","off","touch_scroll","origin","previous","originalEvent","touches","is_fully_in_viewport","is_visible","node","container","box","getBoundingClientRect","viewport","top","bottom","IntersectionObserver","item_observer","entries","isIntersecting","ratio","entity_re","combine_chr_re","astral_symbols_re","emoji_re","mobile_re","tablet_re","format_split_re","format_parts_re","format_re","format_exist_re","format_full_re","format_begin_re","format_start_re","format_end_re","self_closing_re","color_re","url_re","url_nf_re","email_re","url_full_re","email_full_re","command_re","extended_command_re","format_exec_split_re","format_exec_re","float_re","re_re","string_re","unclosed_strings_re","broken_image","use_broken_image","animation_supported","animation","domPrefixes","elm","animationName","agent","is_IE","is_IEMobile","is_ch_unit_supported","div","is_css_variables_supported","CSS","supports","is_android","is_key_native","KeyboardEvent","proto","getOwnPropertyDescriptor","is_browser","is_mobile","check","platform","maxTouchPoints","vendor","opera","ch_unit_bug","isPlainObject","setProperty","getPropertyValue","a11y_hide","attr","role","base","space","abs","excepctions","alert_exception","Exception","exception_message","generate_id","firstPart","random","secondPart","scrollbar_event","left","offset","outerWidth","clientX","Cycle","rotate","skip","defined","append","front","restart","Boolean","Stack","is_array","WorkerCache","validation","onCache","_onCache","_action","_validation","_cache","History","memory","storage_key","new_data","position","old","purge","enable","disable","toggle","OutputLines","_settings","_lines","_snapshot","FormatBuffer","_options","_format_cache","_output_buffer","with_prompt","escape_brackets","string","validate","valid","make_snapshot","snapshot","get_partial","update_snapshot","limit_snapshot","clear_snapshot","get_snapshot","acc","some","is_promise","import","has_newline","last_line","onClear","len","valid_index","cols","lines_to_show","outputLimit","pivot","NEW_LINE","raw","use_cache","useCache","empty","raw_lines","formatted","finalize","clear_cache","is_empty","cmd_index","defaults","mask","caseSensitiveSearch","historySize","history","onPositionChange","onCommandChange","inputStyle","mobileDelete","onPaste","clickTimeout","holdTimeout","holdRepeatTimeout","mobileIngoreAutoSpace","repeatTimeoutKeys","tabindex","tabs","mobile_ignore_key","maybe_data","wrapper","clip","num_chars","char_width","last_rendered_prompt","prompt_last_line","just_prompt_len","cursor_line","$node","autocapitalize","autocorrect","spellcheck","insertAfter","blur","removeAllRanges","before","prompt_len","backup_prompt","last_command","restart_animation","extra_prompt_margin","prompt_node","reverse_search","rev_search_str","reverse_search_position","kill_text","formatted_position","paste_count","line_marker","line_marker_re","empty_marker_re","get_char_pos","closest","prevAll","prevUntil","key_mapping","ie_key_fix","get_key","combo","shiftKey","altKey","keycodes","3","6","8","9","12","13","16","17","18","19","20","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","48","49","50","51","52","53","54","55","56","57","91","93","144","145","181","182","183","186","187","188","189","190","191","192","219","220","221","222","224","225","246","247","248","249","250","251","letter","keymap","reversed_keycodes","which","default_keymap","delete_forward","clipboard","hold","historyFilter","prev_command","no_keydown","commands","draw_prompt","insert","backspace_key","up_arrow","prev_history","down_arrow","next_history","reverse_history_search","draw_reverse_prompt","redraw","right","re","bare_text","return_true","home","paste_event","delete_backward","get_selected_html","text_to_clipboard","substring","isenabled","paste","fix_textarea","first_up_history","have_newlines","have_wrapping","lengths","wrap","simple_split_command_line","split_equal","escape_regex","unescape_brackets","formatting","strip","splitted","diff","left_over","after","$line","ending","next_broken","lastIndexOf","sum","mobile_focus","$clip","fix_cursor","getComputedStyle","_class","position_only","removeClass","new_cursor","insertBefore","animating","blink","toggleClass","clear_reverse_state","save_string","history_data","get_char_width","$prompt","get_num_chars","floor","process_cmd_line","skip_empty","nextUntil","first_len","strlen","cmd_line_worker","_previous_value","_cols","split_command_line","skip_formatted_position","escape_formatting","format_options","unixFormattingEscapeBrackets","apply_formatters","normalize","encoded","encode","charWidth","allowedAttributes","partition","is_multiline","is_emoji_formatting","is_formatting","prev_prompt_data","draw_cursor_line","end_line","cursor_end_line","empty_cursor","before_str","c_before","cursor_len","lines_after","last_ins","lines_before","original_string","from_last","last_len","new_pos","line_index","current_len","strings","redrawError","in_line","find_position","make_guess","opts","search_pos","guess","next_guess","codepoint_len","binary_search","chars","split_characters","format_prompt","have_formatting","format_split","encoded_last_line","crlf","spans","hide","show","fire_change_command","option","stay","removed","silent","new_keymap","original","bare_command","keypress_event","keydown_event","input_event","include_prompt","__set_prompt_margin","user_prompt","should_redraw","relative","display_position","new_formatted_pos","command_len","visible","resize","new_num_chars","invoke_key","shortcut","warn","ctrl","alt","meta","Event","documentElement","new_mask","skip_insert","prev_key","skip_keypress","dead_key","single_key","no_keypress","no_key","backspace","process","hold_pause","is_backspace","is_single","is_delay_key","specials","clear_reverse_search_key","skip_keydown","fake","exception","keydown","clear_hold","is_terminal_selected","keypress","normalized","inArray","chr","skip_input","finalize_input_event","keycode","get_next_character","charCodeAt","was_down","count","$target","is_prompt","down","button","count_selfclosing_formatting","entities","render_entities","_","hex","entity","safe","char_len","make_re_fn","starts_with","make_next_char_fun","tests","match_entity","match_combo","match_emoji","astral_match","normalize_position","char_width_prop","extra_css","bare","wide_characters","specs","spec","make_string","compare_fn","more_args","mid","startContainer","sel","rangeCount","cloneContents","with_selection","ranges","addRange","process_selected_line","$self","hasClass","process_div","process_selected_html","$html","$cmd_lines","support_copy","queryCommandSupported","$textarea","had_focus","writeText","$text","get_textarea_selection","selectionEnd","clear_textarea_selection","common_string","matchCase","string_case","candidate","candidateLower","currentLower","trigger_terminal_change","terminals","onTerminalChange","setBaseAndExtent","setStart","childNodes","process_command","quotes","rest","args_quotes","date","color_names","valid_color","unclosed_strings","special","is_extended_command","each_extended_command","parts","tracking_replace","rex","rep_string","new_string","new_position","last_index","c0","rep_len","iterate_formatting","is_space","is_open_formatting","is_escape_bracket","is_text","not_formatting","opening","next_iteration","char","is_next_space","prev_space","is_last","in_text","space_count","re_ent","braket","start_index","end_index","prev_index","start_formatting","end_formatting","semicolons","amp","keep_words","prev_format","first_index","line_length","last_bracket","can_break","stripped","text_len","new_index","after_index","closed_formatting","matched","sp","nested_formatting","class_i","attrs_i","unique","update_style","new_style","old_style","parse_style","stringify_formatting","stringify_attrs","stringify_class","stringify_styles","ignore","stringify_style","klass","get_inherit_style","update_attrs","new_attrs","classes","__inherit__","test_lengths","formatter","__no_warn__","should_format","have_any","formatters","apply_function_formatter","__meta__","found_position","partials","this_len","length_before","loop","position_partial","partial","linksNoReferrer","linksNoFollow","escape","anyLinks","filter_attr_names","allowed","filters","clean_data","add_attrs","rel_attr","unshift","is_path","with_url_validation","valid_href","valid_src","background","data_text","pre_process_link","pre_process_image","style_str","text_decoration","extra","columns","no_formatting","column_limit","whole","bracket","last_id","parse_argument","strict","parse_string","parse_arguments","split_arguments","parse_command","split_command","parse_options","boolean","single","extended_command","invokeMethods","deferred","change_hash","eval","iterator","replacer","new_formatter","warnings","ids","terminal_ready","get_char_size","rect","visiblity","temp","char_size","get_num_rows","same","same_case","is_object","is_deferred","jrpc","method","params","validJSONRPC","isNumeric","ajax","beforeSend","jxhr","jqXHR","content_type","getResponseHeader","contentType","dataType","async","rpc","version_set","copyright","version_string","reg","name_ver","signatures","exit","maskChar","checkArity","exceptionHandler","pauseEvents","softPause","mousewheel","touchscroll","cancelableAjax","processArguments","execAnimation","execAnimationDelay","processRPCResponse","completionEscape","convertLinks","scrollObject","historyState","importHistory","echoCommand","scrollOnEcho","login","unixFormatting","escapeBrackets","ansiParser","ansiArt","onAjaxError","pasteImage","scrollBottomOffset","wordAutocomplete","caseSensitiveAutocomplete","describe","onRPCError","doubleTab","doubleTabEchoCommand","completion","onInit","onBlur","onFocus","onExit","onPush","onPop","renderHandler","onAfterRedraw","onEchoCommand","onFlush","onBeforeCommand","onAfterCommand","onBeforeEcho","onAfterEcho","onBeforeLogin","onAfterLogout","onBeforeLogout","comletionParameters","wrongPasswordTryAgain","wrongPassword","ajaxAbortError","wrongArity","commandNotFound","oneRPCWithIgnore","oneInterpreterFunction","loginFunctionMissing","noTokenError","serverResponse","wrongGreetings","notWhileLogin","loginIsNotAFunction","canExitError","invalidCompletion","invalidSelector","invalidTerminalId","password","recursiveLoop","notAString","invalidStrings","defunctTerminal","save_state","hash_commands","fire_hash_change","first_instance","init_interpreter","StorageHelper","get_processed_command","preprocess_value","Animation","is_node","unmount","prepare_render","replaceWith","get_node","Element","display_object","print_line","url_spec","file","display_json_rpc_error","at","make_basic_json_rpc","auth","display_exception","ajax_error","make_object_interpreter","arity","fallback","user_command","onCommandNotFound","xhr","responseText","make_json_rpc_object","jrpc_success","jrpc_request","jrpc_response","procs","field","interpreter_object","proc","args_len","help","found","make_interpreter","user_intrp","fn_interpreter","rpc_count","recur","interpreters","new_obj","make_json_rpc_login","user","passwd","links","linkify","should_wrap","line_cache","process_extended_commands","line_settings","clear_exec","prev_exec_cmd","process_line","stringify_value","buffer","raw_string","keepWords","scroll","command_line","detached_output","detach","rows","fire_event","limit_lines","$lines","for_remove","show_greetings","signature","echo_command","get_command","have_scrollbar","fill","restore_state","command_idx","import_view","export_view","make_label_error","maybe_update_hash","location","hash","first_command","resume_callbacks","init_state","execHash","before_async_exec","saved_change_hash","after_exec","is_animation_promise","invoke","force_awake","paused","ghost","level","logout","in_login","get_token","set_token","global_logout","clear_loging_storage","global_login_fn","prefix_name","maybe_append_name","interpreter_name","prepare_top_interpreter","login_name","context_callback_proxy","terminal_init_keymap","fun","init_queue","onStart","skip_local","scroll_to_view","scroll_to","it","make_cursor_visible","replace_hash","replaceState","new_hash","hashchange","decodeURIComponent","onPause","was_paused","echo_delay","user_key_down","get_position","set_command","orignal","caseSensitive","before_cursor","complete","word","scroll_to_bottom","key_down","readyState","abort","tab_count","key_press","typed","finish_typing_fn","formattted","get_prompt","char_i","new_prompt","is_bottom","delay","typed_prompt","typed_message","typing","typed_enter","helper","with_typing","else_fn","finalize_fn","when_ready","locals","queue","body_terminal","selector","public_api","terminal_id","scrollTop","user_export","view","ignore_hash","exec_settings","cmd_ready","delayed_commands","autologin","infinite","logins","popUserPass","login_callback","set_mask","pass","cmd_strings","double_quotes","single_quote","prev_string","sensitive","matched_strings","slash","pre","post","to_insert","set_position","reverse","common","set_interpreter","overwrite_interpreter","numChars","numRows","num_rows","geometry","padding","old_width","old_height","history_state","setImmediate","clear_history_state","x","animate","freeze","frozen","enter","get_output","new_num_rows","appending_to_partial","children","last_row","cmd_prompt","cmd_outer","last_row_rect","partial_width","prompt_margin","cmd_cursor","self_offset","e1","e2","remove_line","arg_defined","ansi","$images","Image","echo_promise","last_newline","finish","trace","amount","local","local_name","intrp","read","infiniteLogin","push_settings","object_or_name","font_resizer","blur_terminal","focus_terminal","visibility_observer","scroll_marker","is_bottom_observer","mutation_observer","disconnect","$body","removeAttr","defunct","elem","scrollHeight","is_bottom_detected","scroll_height","scroll_top","offsetHeight","copy","get_output_buffer","clear_buffer","command_queue","need_char_size_recalculate","old_enabled","ignoreSystemDescribe","base_interpreter","parseObject","is_type","echo_image","image","data_uri","webkitURL","ignoreEvents","clipboardData","getAsFile","getAsString","getData","elementFromPoint","clientY","onResize","was_ctx_event","$win","move","SENSITIVITY","HOLD_TIME","touch_event","point","y","diff_x","diff_y","ignore_elements","mousedown","mouseup","dblclick","event_name","is_context_event","buttons","cmd_offset","cmd_rect","top_limit","pageY","pageX","content_width","diff_h","diff_w","ceil","calculate_char_size","create_resizers","bottom_detect","intersections","intersectionRatio","create_bottom_detect","observe_visibility","was_enabled","visibility_checker","in_dom","MutationObsrv","MutationObserver","WebKitMutationObserver","exec_spec","childList","delta","stopPropagation","onmousewheel","wheelDelta","deltaY","detail","loadLocaleMessages","locales","messages","locale","I18n","$v","fallbackLocale"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-2e9fb724\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"Customizing/global/plugins/Modules/TestQuestionPool/Questions/assCodeQuestion/codeblocks/0.2.14/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=style&index=0&lang=css&\"","import Vue from 'vue'\nimport '../styles/blockly.styl' \n\nimport {\n    IBlocklyToolbox,\n    IBlocklyToolboxItem,\n    IBlocklyToolboxCategory,\n    BlockPrimaryColors,\n    KnownBlocklyTypes,\n    BlockArgumentTypes,\n    IBlockDefinition,\n    IBlockLine,\n    IBlockArgument,\n    BlockSecondaryColors,\n    BlockTertiaryColors,\n} from '@/lib/IBlocklyHelper'\nimport { IListItemData } from './ICompilerRegistry'\n\nexport const ColorThemeSelection: IListItemData[] = [\n    { label: 'Colors', value: '{!PrimaryColors.Colour}' },\n    { label: 'Arrays', value: '{!PrimaryColors.List}' },\n    { label: 'Logic', value: '{!PrimaryColors.Logic}' },\n    { label: 'Loops', value: '{!PrimaryColors.Loop}' },\n    { label: 'Math', value: '{!PrimaryColors.Math}' },\n    { label: 'Procedures', value: '{!PrimaryColors.Procedure}' },\n    { label: 'String', value: '{!PrimaryColors.Text}' },\n    { label: 'Variables', value: '{!PrimaryColors.Variable}' },\n    { label: 'Variables (dynamic)', value: '{!PrimaryColors.Variable_dynamic}' },\n]\n\nexport const ColorHues: IListItemData[] = [\n    { label: '0', value: '0' },\n    { label: '15', value: '15' },\n    { label: '30', value: '30' },\n    { label: '45', value: '45' },\n    { label: '60', value: '60' },\n    { label: '75', value: '75' },\n    { label: '90', value: '90' },\n    { label: '105', value: '105' },\n    { label: '120', value: '120' },\n    { label: '135', value: '135' },\n    { label: '150', value: '150' },\n    { label: '165', value: '165' },\n    { label: '180', value: '180' },\n    { label: '195', value: '195' },\n    { label: '210', value: '210' },\n    { label: '225', value: '225' },\n    { label: '240', value: '240' },\n    { label: '255', value: '255' },\n    { label: '270', value: '270' },\n    { label: '285', value: '285' },\n    { label: '300', value: '300' },\n    { label: '315', value: '315' },\n    { label: '330', value: '330' },\n    { label: '345', value: '345' },\n]\n\nexport const PredefinedBlockTypes: IListItemData[] = Object.keys(KnownBlocklyTypes).map((key) => {\n    const ret: IListItemData = {\n        label: Vue.$l(`Blockly.BlockTypeNames.${key}`),\n        value: KnownBlocklyTypes[key],\n    }\n    return ret\n})\n\nexport const ColorSelection: IListItemData[] = [...ColorThemeSelection, ...ColorHues]\n\nexport const ColorSelectionWithNone: IListItemData[] = [\n    { label: 'None', value: '' },\n    ...ColorSelection,\n]\n\nexport const PredefinedArgumentTypes: IListItemData[] = Object.keys(BlockArgumentTypes).map(\n    (key) => {\n        const ret: IListItemData = {\n            label: Vue.$l(`Blockly.ArgumentTypeNames.${key}`),\n            value: key,\n        }\n        return ret\n    }\n)\n\nexport const blockStyles = {\n    colour_blocks: {\n        colourPrimary: BlockPrimaryColors.Colour,\n        colourSecondary: BlockSecondaryColors.Colour,\n        colourTertiary: BlockTertiaryColors.Colour,\n        hat:'cap',\n    },\n    list_blocks: {\n        colourPrimary: BlockPrimaryColors.List,\n        colourSecondary: BlockSecondaryColors.List,\n        colourTertiary: BlockTertiaryColors.List,\n        hat:'cap',\n    },\n    logic_blocks: {\n        colourPrimary: BlockPrimaryColors.Logic,\n        colourSecondary: BlockSecondaryColors.Logic,\n        colourTertiary: BlockTertiaryColors.Logic,\n        hat:'cap',\n    },\n    loop_blocks: {\n        colourPrimary: BlockPrimaryColors.Loop,\n        colourSecondary: BlockSecondaryColors.Loop,\n        colourTertiary: BlockTertiaryColors.Loop,\n        hat:'cap',\n    },\n    math_blocks: {\n        colourPrimary: BlockPrimaryColors.Math,\n        colourSecondary: BlockSecondaryColors.Math,\n        colourTertiary: BlockTertiaryColors.Math,\n        hat:'cap',\n    },\n    procedure_blocks: {\n        colourPrimary: BlockPrimaryColors.Procedure,\n        colourSecondary: BlockSecondaryColors.Procedure,\n        colourTertiary: BlockTertiaryColors.Procedure,\n        hat:'cap',\n    },\n    text_blocks: {\n        colourPrimary: BlockPrimaryColors.Text,\n        colourSecondary: BlockSecondaryColors.Text,\n        colourTertiary: BlockTertiaryColors.Text,\n        hat:'cap',\n    },\n    variable_blocks: {\n        colourPrimary: BlockPrimaryColors.Variable,\n        colourSecondary: BlockSecondaryColors.Variable,\n        colourTertiary: BlockTertiaryColors.Variable,\n        hat:'cap',\n    },\n    variable_dynamic_blocks: {\n        colourPrimary: BlockPrimaryColors.Variable_dynamic,\n        colourSecondary: BlockSecondaryColors.Variable_dynamic,\n        colourTertiary: BlockTertiaryColors.Variable_dynamic,\n        hat:'cap',\n    },\n    hat_blocks: {\n        colourPrimary: '330',\n        colourSecondary: '330',\n        colourTertiary: '330',\n        hat: 'cap',\n    },\n}\n\nexport const categoryStyles = {\n    colour_category: { colour: blockStyles.colour_blocks.colourPrimary },\n    list_category: { colour: blockStyles.list_blocks.colourPrimary },\n    logic_category: { colour: blockStyles.logic_blocks.colourPrimary },\n    loop_category: { colour: blockStyles.loop_blocks.colourPrimary },\n    math_category: { colour: blockStyles.math_blocks.colourPrimary },\n    procedure_category: { colour: blockStyles.procedure_blocks.colourPrimary },\n    text_category: { colour: blockStyles.text_blocks.colourPrimary },\n    variable_category: { colour: blockStyles.variable_blocks.colourPrimary },\n    variable_dynamic_category: {\n        colour: blockStyles.variable_dynamic_blocks.colourPrimary,\n    },\n}\n\n//export const theme = new Blockly.Theme('CodeBlocks', blockStyles as any, categoryStyles)\n\nexport class BlocklyHelper {\n    \n    public toArgumentDescription(a: BlockArgumentTypes) {\n        const n = Vue.$l(`Blockly.ArgumentTypeNames.${a}`)\n        return n ? `${n} (${a})` : a\n    }\n    private serializeToolboxItem(i: IBlocklyToolboxItem): string {\n        return `<block type=\"${i.type}\"></block>`\n    }\n    private serializeToolboxItems(items: IBlocklyToolboxItem[]): string {\n        return items.map((item) => this.serializeToolboxItem(item)).join('\\n')\n    }\n    private serializeToolboxCategory(i: IBlocklyToolboxCategory): string {\n        let res = `<category name=\"${i.name}\"`\n        if (i.color && i.color != '') {\n            res += ` colour=\"${i.color}\"`\n        }\n        if (i.custom && i.custom != '') {\n            res += ` custom=\"${i.custom}\"`\n        }\n        res += `>${this.serializeToolboxItems(i.items)}</category>`\n        return res\n    }\n    private serializeToolboxCategories(items: IBlocklyToolboxCategory[]): string {\n        return items.map((item) => this.serializeToolboxCategory(item)).join('\\n')\n    }\n\n    public serializeToolbox(toolbox: IBlocklyToolbox): string {\n        const catCount = toolbox.categories.length\n        if (toolbox.categories && catCount > 1) {\n            return `${this.serializeToolboxCategories(toolbox.categories)}`\n        } else if (catCount === 1) {\n            const cat = toolbox.categories[0]\n            if (cat.color === undefined || cat.color == '' || cat.name == '') {\n                return '' + this.serializeToolboxItems(cat.items)\n            } else {\n                return '' + this.serializeToolboxCategories(toolbox.categories)\n            }\n        } else {\n            return ''\n        }\n    }\n\n    public getBlockDescription(bl: IBlockDefinition): object {\n        const cp = { ...bl.JSON }\n        cp.colour = this.toHTMLColor(cp.colour)\n        return cp\n    }\n\n    public serializeCustomBlock(bl: IBlockDefinition): string {\n        return JSON.stringify(this.getBlockDescription(bl))\n    }\n\n    public serializeCustomBlocks(bls: IBlockDefinition[]): string {\n        return JSON.stringify(bls.map((bl) => this.getBlockDescription(bl)))\n    }\n\n    get codeUndefines(): string {\n        return 'const window = undefined; const Window = undefined; const document = undefined;const $ = undefined;const _ = undefined;'\n    }\n\n    public removeSelfClosingTags(xml: string): string {\n        //console.log(xml, '\\n', xml.replace(/<(\\w+)([^<]*)\\/>/g, '<$1$2></$1>'))\n        return xml.replace(/<(\\w+)([^<]*)\\/>/g, '<$1$2></$1>')\n    }\n\n    public prepareCode(cc: string): string {\n        return `\"use strict\"; ${this.codeUndefines} return function(){ return {o: ${cc}}.o}.call({})`\n    }\n\n    public prepareBlocklyCode(cc: string): string {\n        return `var Blockly = B;${this.codeUndefines}return { o:function(block) { ${cc} }}.o`\n    }\n\n    public compile(bl: IBlockDefinition, Blockly: any): any | undefined {\n        const cc = this.prepareBlocklyCode(bl.codeString)\n        bl._code = undefined\n        try {\n            //console.log(cc, Blockly)\n            const code = new Function('B', cc)\n            bl._code = code(Blockly)\n        } catch (e) {\n            bl._code = undefined\n            console.error('Error Compiling', cc, e)\n            return e + ''\n        }\n        return undefined\n    }\n\n    public itemForValue(items: IListItemData[], value: string): IListItemData {\n        return Vue.$CodeBlock.itemForValue(items, value)\n    }\n\n    public toColorCode(color: string): string | undefined {\n        if (color === '') {\n            return undefined\n        }\n        return color\n    }\n\n    public toColor(color: string | undefined): string {\n        if (color === undefined) {\n            return ''\n        }\n        Object.keys(BlockPrimaryColors).forEach((key) => {\n            if (color == `{!PrimaryColors.${key}}`) {\n                color = BlockPrimaryColors[key]\n            }\n        })\n        return color\n    }\n\n    public toHTMLColor(color: string | undefined): string {\n        const cl = this.toColor(color)\n        if (cl.length > 0 && cl[0] != '#' && cl[0] != 'h' && cl[0] != 'r') {\n            return `hsl(${cl}, 100%, 50%)`\n        }\n        return cl\n    }\n\n    mounted() {}\n}\n\nexport const blocklyHelper = new BlocklyHelper()\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=style&index=0&id=0bd2a5d9&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=style&index=0&id=09d07b72&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=style&index=0&lang=sass&\"","var map = {\n\t\"./de.json\": \"6ce2\",\n\t\"./en.json\": \"edd4\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"49f8\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--12-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--12-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--12-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--12-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=style&index=0&id=8b99c0d6&lang=stylus&scoped=true&\"","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n    if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n      mod(require(\"codemirror\"));\n    else if (typeof define == \"function\" && define.amd) // AMD\n      define([\"codemirror\"], mod);\n    else // Plain browser env\n      mod(CodeMirror);\n  })(function(CodeMirror) {\n  \"use strict\";\n  \n  CodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n    var indentUnit = config.indentUnit,\n        statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n        dontAlignCalls = parserConfig.dontAlignCalls,\n        keywords = parserConfig.keywords || {},\n        builtin = parserConfig.builtin || {},\n        blockKeywords = parserConfig.blockKeywords || {},\n        atoms = parserConfig.atoms || {},\n        hooks = parserConfig.hooks || {},\n        multiLineStrings = parserConfig.multiLineStrings,\n        indentStatements = parserConfig.indentStatements !== false;\n    var isOperatorChar = /[+\\-*&%=<>!?|\\/]/;\n  \n    var curPunc;\n  \n    function tokenBase(stream, state) {\n      var ch = stream.next();\n      if (hooks[ch]) {\n        var result = hooks[ch](stream, state);\n        if (result !== false) return result;\n      }\n      if (ch == '\"' || ch == \"'\") {\n        state.tokenize = tokenString(ch);\n        return state.tokenize(stream, state);\n      }\n      if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n        curPunc = ch;\n        return null;\n      }\n      if (/\\d/.test(ch)) {\n        stream.eatWhile(/[\\w\\.]/);\n        return \"number\";\n      }\n      if (ch == \"/\") {\n        if (stream.eat(\"*\")) {\n          state.tokenize = tokenComment;\n          return tokenComment(stream, state);\n        }\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return \"comment\";\n        }\n      }\n      if (isOperatorChar.test(ch)) {\n        stream.eatWhile(isOperatorChar);\n        return \"operator\";\n      }\n      stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n      var cur = stream.current();\n      if (keywords.propertyIsEnumerable(cur)) {\n        if (blockKeywords.propertyIsEnumerable(cur)) curPunc = \"newstatement\";\n        return \"keyword\";\n      }\n      if (builtin.propertyIsEnumerable(cur)) {\n        if (blockKeywords.propertyIsEnumerable(cur)) curPunc = \"newstatement\";\n        return \"builtin\";\n      }\n      if (atoms.propertyIsEnumerable(cur)) return \"atom\";\n      return \"variable\";\n    }\n  \n    function tokenString(quote) {\n      return function(stream, state) {\n        var escaped = false, next, end = false;\n        while ((next = stream.next()) != null) {\n          if (next == quote && !escaped) {end = true; break;}\n          escaped = !escaped && next == \"\\\\\";\n        }\n        if (end || !(escaped || multiLineStrings))\n          state.tokenize = null;\n        return \"string\";\n      };\n    }\n  \n    function tokenComment(stream, state) {\n      var maybeEnd = false, ch;\n      while (ch = stream.next()) {\n        if (ch == \"/\" && maybeEnd) {\n          state.tokenize = null;\n          break;\n        }\n        maybeEnd = (ch == \"*\");\n      }\n      return \"comment\";\n    }\n  \n    function Context(indented, column, type, align, prev) {\n      this.indented = indented;\n      this.column = column;\n      this.type = type;\n      this.align = align;\n      this.prev = prev;\n    }\n    function pushContext(state, col, type) {\n      var indent = state.indented;\n      if (state.context && state.context.type == \"statement\")\n        indent = state.context.indented;\n      return state.context = new Context(indent, col, type, null, state.context);\n    }\n    function popContext(state) {\n      var t = state.context.type;\n      if (t == \")\" || t == \"]\" || t == \"}\")\n        state.indented = state.context.indented;\n      return state.context = state.context.prev;\n    }\n  \n    // Interface\n  \n    return {\n      startState: function(basecolumn) {\n        return {\n          tokenize: null,\n          context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", false),\n          indented: 0,\n          startOfLine: true\n        };\n      },\n  \n      token: function(stream, state) {\n        var ctx = state.context;\n        if (stream.sol()) {\n          if (ctx.align == null) ctx.align = false;\n          state.indented = stream.indentation();\n          state.startOfLine = true;\n        }\n        if (stream.eatSpace()) return null;\n        curPunc = null;\n        var style = (state.tokenize || tokenBase)(stream, state);\n        if (style == \"comment\" || style == \"meta\") return style;\n        if (ctx.align == null) ctx.align = true;\n  \n        if ((curPunc == \";\" || curPunc == \":\" || curPunc == \",\") && ctx.type == \"statement\") popContext(state);\n        else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n        else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n        else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n        else if (curPunc == \"}\") {\n          while (ctx.type == \"statement\") ctx = popContext(state);\n          if (ctx.type == \"}\") ctx = popContext(state);\n          while (ctx.type == \"statement\") ctx = popContext(state);\n        }\n        else if (curPunc == ctx.type) popContext(state);\n        else if (indentStatements &&\n                 (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != ';') ||\n                  (ctx.type == \"statement\" && curPunc == \"newstatement\")))\n          pushContext(state, stream.column(), \"statement\");\n        state.startOfLine = false;\n        return style;\n      },\n  \n      indent: function(state, textAfter) {\n        if (state.tokenize != tokenBase && state.tokenize != null) return CodeMirror.Pass;\n        var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n        if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n        var closing = firstChar == ctx.type;\n        if (ctx.type == \"statement\") return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n        else if (ctx.align && (!dontAlignCalls || ctx.type != \")\")) return ctx.column + (closing ? 0 : 1);\n        else if (ctx.type == \")\" && !closing) return ctx.indented + statementIndentUnit;\n        else return ctx.indented + (closing ? 0 : indentUnit);\n      },\n  \n      electricChars: \"{}\",\n      blockCommentStart: \"/*\",\n      blockCommentEnd: \"*/\",\n      lineComment: \"//\",\n      fold: \"brace\"\n    };\n  });\n  \n    function words(str) {\n      var obj = {}, words = str.split(\" \");\n      for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n      return obj;\n    }\n    var cKeywords = \"auto if break int case long char register continue return default short do sizeof \" +\n      \"double static else struct entry switch extern typedef float union for unsigned \" +\n      \"goto while enum void const signed volatile\";\n  \n    function cppHook(stream, state) {\n      if (!state.startOfLine) return false;\n      for (;;) {\n        if (stream.skipTo(\"\\\\\")) {\n          stream.next();\n          if (stream.eol()) {\n            state.tokenize = cppHook;\n            break;\n          }\n        } else {\n          stream.skipToEnd();\n          state.tokenize = null;\n          break;\n        }\n      }\n      return \"meta\";\n    }\n  \n    function cpp11StringHook(stream, state) {\n      stream.backUp(1);\n      // Raw strings.\n      if (stream.match(/(R|u8R|uR|UR|LR)/)) {\n        var match = stream.match(/\"([^\\s\\\\()]{0,16})\\(/);\n        if (!match) {\n          return false;\n        }\n        state.cpp11RawStringDelim = match[1];\n        state.tokenize = tokenRawString;\n        return tokenRawString(stream, state);\n      }\n      // Unicode strings/chars.\n      if (stream.match(/(u8|u|U|L)/)) {\n        if (stream.match(/[\"']/, /* eat */ false)) {\n          return \"string\";\n        }\n        return false;\n      }\n      // Ignore this hook.\n      stream.next();\n      return false;\n    }\n  \n    // C#-style strings where \"\" escapes a quote.\n    function tokenAtString(stream, state) {\n      var next;\n      while ((next = stream.next()) != null) {\n        if (next == '\"' && !stream.eat('\"')) {\n          state.tokenize = null;\n          break;\n        }\n      }\n      return \"string\";\n    }\n  \n    // C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n    // <delim> can be a string up to 16 characters long.\n    function tokenRawString(stream, state) {\n      // Escape characters that have special regex meanings.\n      var delim = state.cpp11RawStringDelim.replace(/[^\\w\\s]/g, '\\\\$&');\n      var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n      if (match)\n        state.tokenize = null;\n      else\n        stream.skipToEnd();\n      return \"string\";\n    }\n  \n    function def(mimes, mode) {\n      if (typeof mimes == \"string\") mimes = [mimes];\n      var words = [];\n      function add(obj) {\n        if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n          words.push(prop);\n      }\n      add(mode.keywords);\n      add(mode.builtin);\n      add(mode.atoms);\n      if (words.length) {\n        mode.helperType = mimes[0];\n        CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n      }\n  \n      for (var i = 0; i < mimes.length; ++i)\n        CodeMirror.defineMIME(mimes[i], mode);\n    }\n  \n    def([\"x-shader/x-vertex\", \"x-shader/x-fragment\", \"text/x-glsl\"], {\n      name: \"clike\",\n      keywords: words(\"float int bool void \" +\n                      \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                      \"mat2 mat3 mat4 \" +\n                      \"sampler2D sampler3D samplerCube \" +\n                      \"const attribute uniform varying \" +\n                      \"break continue discard return \" +\n                      \"for while do if else struct \" +\n                      \"in out inout\"),\n      blockKeywords: words(\"for while do if else struct\"),\n      builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                      \"pow exp log exp2 sqrt inversesqrt \" +\n                      \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                      \"length distance dot cross normalize faceforward \" +\n                      \"reflect refract matrixCompMult \" +\n                      \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                      \"equal notEqual any all not \" +\n                      \"texture2D texture2DLod texture2DProjLod \" +\n                      \"textureCube textureCubeLod \"),\n      atoms: words(\"true false \" +\n                  \"gl_FragColor \" +\n                  \"gl_PointCoord \" +\n                  \"gl_Position gl_PointSize \" +\n                  \"gl_FragCoord gl_FrontFacing \" +\n                  \"gl_FragData \" +\n                  \"gl_DepthRangeParameters \" +\n                  \"gl_MaxVertexAttribs gl_MaxVaryingVectors gl_MaxVertexUniformVectors\" +\n                  \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                  \"gl_MaxFragmentUniformVectors \" +\n                  \"gl_MaxDrawBuffers\"),\n      hooks: {\"#\": cppHook},\n      modeProps: {fold: [\"brace\", \"include\"]}\n    });\n  \n  });","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=style&index=0&id=644cb51f&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=style&index=0&id=2f910188&lang=sass&scoped=true&\"","export type finishedCallbackSignatur = (\n    success: boolean,\n    overrideOutput?: any,\n    returnState?: any\n) => void\n\nexport interface IListItemData {\n    readonly label: string\n    readonly value: string\n}\n\nexport enum ErrorSeverity {\n    Error = 2,\n    Warning = 1,\n}\nexport interface IErrorPosition {\n    line: number\n    column: number\n}\nexport interface ICompilerErrorDescription {\n    start: IErrorPosition\n    end: IErrorPosition\n    message: string\n    severity: ErrorSeverity\n}\n\nexport interface IDomLibraray {\n    key: string\n    uri: string[]\n    name: string\n    version: string\n    displayName: string\n    didLoad: boolean\n    utility: boolean\n    order: number\n    onBuildSandboxEnv: (sandbox: any) => void\n}\n\nexport interface ICompilerHashMap {\n    [lang: string]: ICompilerInfo\n}\n\nexport interface IUpdateMappingMap {\n    [old: string]: string\n}\n\nexport interface ICompilerState {\n    hideGlobalState(): void\n    setAllRunButtons(what: boolean): void\n    displayGlobalState(message: string | null): void\n\n    readonly globalStateHidden: boolean\n    readonly globalStateMessage: string\n    readonly runButtonForceHide: boolean\n}\n\nexport interface ICompilerRegistry {\n    readonly languages: IListItemData[]\n    readonly domLibraries: IListItemData[]\n\n    register(compilers: ICompilerInfo[] | ICompilerInfo): void\n\n    registerSingle(c: ICompilerInfo): void\n    getCompiler(compilerInfo: ICompilerIDQuery): ICompilerInstance | undefined\n\n    versionsForLanguage(languageType: string): string[] | ['none']\n\n    registerDOMLib(\n        uri: string[],\n        name: string,\n        version: string,\n        displayName: string,\n        utility?: boolean,\n        order?: number\n    ): void\n\n    getLibObjects(domLibs: string[]): IDomLibraray[]\n    urisForDOMLibs(domLibs: string[]): string[]\n    loadLibraries(domLibraries: string[], whenLoaded: () => void): void\n}\n\nexport interface ICompileAndRunArguments {\n    max_ms: number\n    log_callback: (txt: string) => void\n    info_callback: (txt: string) => void\n    err_callback: (txt: string) => void\n    compileFailedCallback: (info: ICompilerErrorDescription) => void\n    finishedExecutionCB: finishedCallbackSignatur\n    args: object\n    didReceiveMessage: (cmd: string, data: any) => void\n    postMessageFunction: null | ((cmd: string, data: any) => void)\n    dequeuePostponedMessages: () => void\n    beforeStartHandler: () => void\n    whenFinishedHandler(args: string[] | object): void\n    allowMessagePassing: boolean\n    keepAlive: boolean\n    withREPL: boolean\n    resultData: Object | any[] | undefined\n}\n\nexport interface IReplInstance {\n    interpreter(\n        command: string,\n        onStateChange: (incomplete) => void,\n        onLog: (msg) => void,\n        onError: (msg) => void\n    ): Promise<object>\n}\nexport interface ICompilerInstance {\n    readonly version: string\n    readonly language: string\n    readonly canRun: boolean\n    readonly canStop: boolean\n    readonly allowsMessagePassing: boolean\n    readonly allowsREPL: boolean\n    readonly allowsContinousCompilation: boolean\n    readonly allowsPersistentArguments: boolean\n    readonly acceptsJSONArgument: boolean\n    readonly experimental: boolean\n    readonly deprecated: boolean\n    isReady: boolean\n    isRunning: boolean\n    readonly libraries?: ICompilerLibraryInfo[]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void\n    preload(): void\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate?: boolean\n    ): void\n    stop?(): void\n}\n\nexport interface ICompilerLibraryInfo {\n    readonly key: string\n    readonly name: string\n    readonly version: string\n    readonly displayName: string\n}\n\nexport interface ICompilerInfo {\n    readonly type: string\n    readonly displayName: string\n    readonly versions: ICompilerInstance[]\n    readonly default: ICompilerInstance\n}\n\nexport interface ICompilerID {\n    languageType: string\n    version: string\n}\n\nexport interface ICompilerIDQuery {\n    languageType: string\n    version?: string\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=style&index=0&lang=sass&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"codeblock block-\" + _vm.typeName)},[_c('CodeBlockButton',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showBookmarkButton),expression:\"showBookmarkButton\"}],attrs:{\"block\":_vm.block,\"isBookmarkPanel\":_vm.isBookmarkPanel}}),_c('codemirror',{ref:\"codeBox\",class:(\"accqstXmlInput noRTEditor codebox \" + _vm.boxClass),attrs:{\"value\":_vm.code,\"options\":_vm.options,\"name\":(_vm.namePrefix + \"block[\" + (_vm.block.parentID) + \"][\" + (_vm.block.id) + \"]\"),\"id\":(\"teQ\" + (_vm.block.parentID) + \"B\" + (_vm.block.id)),\"data-question\":_vm.block.parentID,\"events\":['keyup']},on:{\"ready\":_vm.onCodeReady,\"focus\":_vm.onCodeFocus,\"input\":_vm.onCodeChangeDefered,\"input-read\":_vm.onCodeKeyHandle,\"keyup\":_vm.onCodeKeyHandle}}),(_vm.editMode)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasAlternativeContent),expression:\"hasAlternativeContent\"}]},[_c('div',{staticClass:\"q-mt-lg text-subtitle2 q-pb-xs\"},[_vm._v(_vm._s(_vm.$t('CodeBlock.Initial_Content')))]),_c('codemirror',{ref:\"altBox\",class:(\"accqstXmlInput noRTEditor \" + _vm.boxClass),attrs:{\"value\":_vm.altCode,\"options\":_vm.altOptions,\"name\":(_vm.namePrefix + \"alt_block[\" + (_vm.block.parentID) + \"][\" + (_vm.block.id) + \"]\")},on:{\"ready\":_vm.onAltCodeReady,\"focus\":_vm.onAltCodeFocus,\"input\":_vm.onAltCodeChangeDefered}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-icon',{class:(\"mdi \" + _vm.severityClass + \" mainTipIcon\"),attrs:{\"name\":_vm.severityIcon}},[_c('q-tooltip',[_c('div',[_c('ul',{staticClass:\"tiplist\"},_vm._l((_vm.errors),function(error){return _c('li',{key:error.message},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-1\"},[_c('q-icon',{attrs:{\"name\":_vm.iconForSeverity(error.severity)}})],1),_c('div',{staticClass:\"col-11 q-pr-md\"},[_c('div',{staticClass:\"q-my-none tipper\"},[_vm._v(_vm._s(error.message))])])])])}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { ErrorSeverity, ICompilerErrorDescription } from '@/lib/ICompilerRegistry'\n\n@Component\nexport default class ErrorTip extends Vue {\n    @Prop() errors!: ICompilerErrorDescription\n    @Prop() severity!: ErrorSeverity\n\n    get severityClass(): string {\n        return this.classForSeverity(this.severity)\n    }\n    get severityIcon(): string {\n        return this.iconForSeverity(this.severity)\n    }\n\n    classForSeverity(s: ErrorSeverity): string {\n        if (s == ErrorSeverity.Error) {\n            return 'gutter-error'\n        }\n        return 'gutter-warning'\n    }\n    iconForSeverity(s: ErrorSeverity): string {\n        if (s == ErrorSeverity.Error) {\n            return 'report'\n        }\n        return 'warning'\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ErrorTip.vue?vue&type=template&id=67eb593e&\"\nimport script from \"./ErrorTip.vue?vue&type=script&lang=ts&\"\nexport * from \"./ErrorTip.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ErrorTip.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QIcon,QTooltip});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"floatingButton\"},[_c('q-btn',{attrs:{\"color\":_vm.color,\"text-color\":\"black\",\"icon\":_vm.iconName,\"round\":\"\",\"size\":\"xs\"},on:{\"click\":_vm.onClick}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Emit } from 'vue-property-decorator'\nimport { BlockData, IBlockBookmarkPayload } from '@/lib/codeBlocksManager'\n\n@Component\nexport default class CodeBlockButton extends Vue {\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ default: false }) isBookmarkPanel!: boolean\n\n    get color(): string {\n        return this.isBookmarkPanel ? 'red-4' : 'amber'\n    }\n\n    get iconName(): string {\n        if (this.isBookmarkPanel) {\n            return 'close'\n        }\n        return this.bookmarked ? 'bookmark' : 'bookmark_border'\n    }\n\n    bookmarked: boolean = false\n    bookmarkMe() {\n        const data: IBlockBookmarkPayload = {\n            uuid: this.block.appSettings.uuid,\n            block: this.isBookmarkPanel ? null : this.block\n        }\n        Vue.$GlobalEventHub.$emit('bookmark-block', data)\n    }\n    onClick() {\n        this.bookmarkMe()\n    }\n\n    onBookmark(data: IBlockBookmarkPayload) {\n        this.bookmarked =\n            data.block === null || this.block === null ? false : this.block.uuid === data.block.uuid\n    }\n\n    mounted() {\n        Vue.$GlobalEventHub.$on('bookmark-block', this.onBookmark)\n    }\n\n    beforeDestroy() {\n        Vue.$GlobalEventHub.$off('bookmark-block')\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlockButton.vue?vue&type=template&id=0bd2a5d9&scoped=true&\"\nimport script from \"./CodeBlockButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlockButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlockButton.vue?vue&type=style&index=0&id=0bd2a5d9&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bd2a5d9\",\n  null\n  \n)\n\nexport default component.exports\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtn});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport ErrorTip from './ErrorTip.vue'\nimport BaseBlock from './BaseBlock.vue'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { ICompilerErrorDescription } from '@/lib/ICompilerRegistry'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { ITagReplaceAction } from '@/plugins/tagger'\n\nimport codemirror from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\n//themes\nimport 'codemirror/theme/solarized.css'\nimport 'codemirror/theme/base16-dark.css'\nimport 'codemirror/theme/base16-light.css'\nimport 'codemirror/theme/duotone-dark.css'\nimport 'codemirror/theme/duotone-light.css'\nimport 'codemirror/theme/xq-dark.css'\nimport 'codemirror/theme/xq-light.css'\nimport 'codemirror/theme/blackboard.css'\nimport 'codemirror/theme/midnight.css'\nimport 'codemirror/theme/neo.css'\nimport 'codemirror/theme/mbo.css'\nimport 'codemirror/theme/mdn-like.css'\n\n//languages\nimport 'codemirror/mode/clike/clike.js'\nimport 'codemirror/mode/fortran/fortran.js'\nimport 'codemirror/mode/javascript/javascript.js'\nimport 'codemirror/mode/perl/perl.js'\nimport 'codemirror/mode/python/python.js'\nimport 'codemirror/mode/r/r.js'\nimport 'codemirror/mode/ruby/ruby.js'\nimport '@/lib/glsl/glsl'\n\n//plugins\nimport 'codemirror/addon/edit/closebrackets.js'\n\n//helper to create tooltips at runtime\nimport CodeBlockButton from '@/components/CodeBlockButton.vue'\nconst ErrorTipCtor = Vue.extend(ErrorTip)\n\n@Component({ components: { CodeBlockButton } })\nexport default class CodeBlock extends BaseBlock {\n    @Prop({ default: '' }) namePrefix!: string\n    @Prop({ default: false }) emitWhenTypingInViewMode!: boolean\n    @Prop({ default: true }) canBookmark!: boolean\n    @Prop({ default: false }) isBookmarkPanel!: boolean\n    @Prop({ default: false }) readonly!: boolean\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: number | 'auto'\n    @Prop({ default: 'base16-dark' }) theme!: string\n    @Prop({ default: 'text/javascript' }) mode!: string\n    @Prop({ default: undefined }) tagSet!: IRandomizerSet\n    @Prop({\n        required: true,\n        validator: function (b) {\n            if (b === null || b.content === undefined) {\n                return false\n            }\n            if (b.firstLine === undefined) {\n                return false\n            }\n            return true\n        },\n    })\n    block!: BlockData\n\n    get showBookmarkButton(): boolean {\n        return this.canBookmark && this.editMode\n    }\n\n    clearTagMarkers() {\n        if (this.codemirror === undefined) {\n            return\n        }\n\n        let allMarks = this.codemirror.getDoc().getAllMarks()\n        allMarks.forEach((e) => {\n            if (\n                e.className == Vue.$tagger.className.rnd ||\n                e.className == Vue.$tagger.className.templ\n            ) {\n                e.clear()\n            }\n        })\n\n        if (this.altcodemirror) {\n            allMarks = this.altcodemirror.getDoc().getAllMarks()\n            allMarks.forEach((e) => {\n                if (\n                    e.className == Vue.$tagger.className.rnd ||\n                    e.className == Vue.$tagger.className.templ\n                ) {\n                    e.clear()\n                }\n            })\n        }\n    }\n    clearErrorDisplay() {\n        if (this.codemirror === undefined) {\n            return\n        }\n        let allMarks = this.codemirror.getDoc().getAllMarks()\n        //console.log(\"marks\", this.block.type, allMarks)\n        allMarks.forEach((e) => {\n            if (e.className == 'red-wave') {\n                e.clear()\n            }\n        })\n\n        this.codemirror.getDoc().clearGutter('diagnostics')\n    }\n    onCodeReady(editor) {\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        if (\n            this.codemirror &&\n            this.codemirror.display &&\n            this.codemirror.display.input &&\n            this.codemirror.display.input.textarea\n        ) {\n            this.codemirror.display.input.textarea.className = 'noRTEditor'\n        }\n        this.codeBox!.$el.querySelectorAll('textarea[name]').forEach((el) => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n            el.id = this.codeBox!.$el.id\n\n            $(el).text(this.block.content)\n            el.setAttribute('data-question', `${this.block.parentID}`)\n            el.setAttribute('data-blocktype', `${this.iliasTypeNr}`)\n            if (this.editMode) {\n                el.setAttribute('is-editmode', `${this.editMode}`)\n            }\n        })\n        this.updateDiagnosticDisplay()\n        this.onCodeChange(this.block.content)\n\n        this.whenBlockIsReady()\n    }\n    onAltCodeReady(editor) {\n        console.d('READY')\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        if (\n            this.altcodemirror &&\n            this.altcodemirror.display &&\n            this.altcodemirror.display.input &&\n            this.altcodemirror.display.input.textarea\n        ) {\n            this.altcodemirror.display.input.textarea.className = 'noRTEditor'\n        }\n        this.altBox!.$el.querySelectorAll('textarea[name]').forEach((el) => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n        })\n        this.$nextTick(() => {\n            this.onAltCodeChange(this.block.alternativeContent)\n            this.updateTagDisplay()\n            this.updateHeight()\n        })\n    }\n    onCodeFocus(editor) {}\n    onAltCodeFocus(editor) {}\n\n    codeUpdateTimer: number | null = null\n    codeUpdateStartTime: number = 0\n    onCodeChangeDefered(newCode) {\n        if (!this.editMode) {\n            this.onCodeChange(newCode)\n            return\n        }\n\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.codeUpdateTimer !== null) {\n            clearTimeout(this.codeUpdateTimer)\n            this.codeUpdateTimer = null\n        } else {\n            this.codeUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.codeUpdateTimer = null\n            this.onCodeChange(newCode)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.codeUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.codeUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n\n    continuousCodeUpdateTimer: number | null = null\n    onCodeChange(newCode) {\n        //update line numbers manually (changing in options takes too long)\n        this.block.lineCountHint = this.codemirror.doc.size\n        this.codemirror.options.firstLineNumber = this.block.firstLine\n\n        //copy the content to the actual textbox processed by StudON\n        const tb = this.codeBox.$el.querySelector('textarea[name]') as HTMLTextAreaElement\n        tb.value = newCode\n\n        //copy code to the block structure\n        this.block.content = newCode\n\n        //find all tags\n        this.updateTagDisplay()\n\n        //send out the event for processing\n        if (this.editMode) {\n            this.$emit('code-changed-in-edit-mode', undefined)\n        } else if (this.emitWhenTypingInViewMode) {\n            if (this.continuousCodeUpdateTimer !== null) {\n                clearTimeout(this.continuousCodeUpdateTimer)\n                this.continuousCodeUpdateTimer = null\n            }\n            this.continuousCodeUpdateTimer = setTimeout(() => {\n                this.$emit('code-changed-in-view-mode', undefined)\n            }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n        }\n    }\n\n    codeNeedsTagUpdate: boolean = true\n    didAddText(t: string): void {\n        //console.log('    ', t)\n        if (\n            t.indexOf('!') >= 0 ||\n            t.indexOf('+') >= 0 ||\n            t.indexOf('{') >= 0 ||\n            t.indexOf('{') >= 0 ||\n            t.indexOf('\\n') >= 0\n        ) {\n            this.codeNeedsTagUpdate = true\n        }\n    }\n    onCodeKeyHandle(e) {\n        //console.log('IR', e, arguments)\n        if (arguments.length > 1 && arguments[1] !== undefined) {\n            if (arguments[1].text !== undefined) {\n                arguments[1].text.forEach((t) => {\n                    this.didAddText(t)\n                })\n            } else if (arguments[1].key !== undefined) {\n                if (arguments[1].keyCode == 13) {\n                    this.didAddText('\\n')\n                } else {\n                    this.didAddText(arguments[1].key)\n                }\n            }\n        }\n    }\n\n    altCodeUpdateTimer: number | null = null\n    altCodeUpdateStartTime: number = 0\n    onAltCodeChangeDefered(newCode) {\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.altCodeUpdateTimer !== null) {\n            clearTimeout(this.altCodeUpdateTimer)\n            this.altCodeUpdateTimer = null\n        } else {\n            this.altCodeUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.altCodeUpdateTimer = null\n            this.onAltCodeChange(newCode)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.altCodeUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.altCodeUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n    onAltCodeChange(newCode) {\n        if (this.altBox !== undefined) {\n            const tb = this.altBox.$el.querySelector('textarea[name]') as HTMLTextAreaElement\n            tb.value = newCode\n        }\n\n        this.block.alternativeContent = newCode\n        this.updateTagDisplay()\n    }\n    updateHeight() {\n        if (this.visibleLines === 'auto' || this.block.static) {\n            if (this.codemirror) {\n                this.codemirror.setSize('height', 'auto')\n            }\n            if (this.altcodemirror) {\n                this.altcodemirror.setSize('height', 'auto')\n            }\n        } else {\n            if (this.codemirror) {\n                this.codemirror.setSize(null, Math.round(20 * Math.max(1, this.visibleLines)) + 9)\n            }\n            if (this.altcodemirror) {\n                this.altcodemirror.setSize(\n                    null,\n                    Math.round(20 * Math.max(1, this.visibleLines)) + 9\n                )\n            }\n        }\n    }\n    replaceTemplateTags(o: ITagReplaceAction) {\n        if (!this.editMode) {\n            return\n        }\n        if (o.scopeUUID != this.block.scopeUUID) {\n            return\n        }\n        this.block.content = Vue.$tagger.replaceTemplateTagInString(\n            this.block.content,\n            o.name,\n            o.newValue\n        )\n    }\n    updateTagDisplay() {\n        if (\n            !this.editMode ||\n            this.block === undefined ||\n            this.block.appSettings === undefined ||\n            this.block.appSettings.randomizer === undefined ||\n            !this.block.appSettings.randomizer.active ||\n            !this.codeNeedsTagUpdate\n        ) {\n            return\n        }\n\n        this.codeNeedsTagUpdate = false\n        //console.log('Updating Tags')\n        this.clearTagMarkers()\n        Vue.$tagger.getMarkers(this.block.content).forEach((m) => {\n            this.codemirror.getDoc().markText(m.start, m.end, {\n                className: Vue.$tagger.className[m.type],\n                inclusiveLeft: true,\n                inclusiveRight: true,\n                title: m.name,\n                startStyle: 'tag-mark-start',\n                endStyle: 'tag-mark-end',\n            })\n        })\n        this.$nextTick(() => {\n            Vue.$tagger.hookClick(this.codeBox.$el, this.block.scopeUUID)\n        })\n\n        if (this.altcodemirror) {\n            Vue.$tagger.getMarkers(this.block.alternativeContent).forEach((m) => {\n                this.altcodemirror.getDoc().markText(m.start, m.end, {\n                    className: Vue.$tagger.className[m.type],\n                    inclusiveLeft: true,\n                    inclusiveRight: true,\n                    title: m.name,\n                    startStyle: 'tag-mark-start',\n                    endStyle: 'tag-mark-end',\n                })\n            })\n\n            this.$nextTick(() => {\n                if (this.altBox !== undefined) {\n                    Vue.$tagger.hookClick(this.altBox.$el, this.block.scopeUUID)\n                }\n            })\n        }\n    }\n    updateDiagnosticDisplay() {\n        const val = this.errors\n        if (val !== undefined) {\n            this.clearErrorDisplay()\n\n            const first = this.block.firstLine\n            val.forEach((error) => {\n                if (error.start.column >= 0) {\n                    //console.log(\"squiggle\", this.block.type);\n                    //put a squigly line as code marker\n                    this.codemirror.getDoc().markText(\n                        { line: error.start.line - first, ch: error.start.column },\n                        { line: error.end.line - first, ch: error.end.column },\n                        {\n                            className: 'red-wave',\n                            inclusiveLeft: true,\n                            inclusiveRight: true,\n                            title: error.message,\n                        }\n                    )\n                }\n\n                //read existing gutter marker or create a new one\n                let info = this.codemirror.getDoc().lineInfo(error.start.line - first)\n                let element =\n                    info && info.gutterMarkers ? info.gutterMarkers['diagnostics'].$component : null\n                if (element == null) {\n                    //console.log(\"Gutter\", this.block.type, error.start.line, error.message, first);\n                    element = document.createElement('span')\n\n                    //place the updated element\n                    this.codemirror\n                        .getDoc()\n                        .setGutterMarker(error.start.line - first, 'diagnostics', element)\n\n                    element.$component = new ErrorTipCtor({\n                        propsData: {\n                            errors: [],\n                            severity: error.severity,\n                        },\n                    }).$mount(element)\n\n                    element = element.$component\n                }\n\n                //make sure we use the proper class for the given severity.\n                //We allways choose the maximum severity for each marking\n                element.severity = Math.max(error.severity, element.severity)\n\n                //Build the hint text\n                if (element.errors.indexOf(error) == -1) {\n                    element.errors.push(error)\n                }\n            })\n        } else {\n            this.clearErrorDisplay()\n        }\n    }\n\n    get codeBox(): Vue {\n        return this.$refs.codeBox as Vue\n    }\n\n    get altBox(): Vue | undefined {\n        return this.$refs.altBox as Vue\n    }\n\n    get hasAlternativeContent() {\n        return this.block.hasAlternativeContent && this.typeName == 'block'\n    }\n    get errors(): ICompilerErrorDescription[] {\n        return this.block.errors\n    }\n    get randomizerActive() {\n        return this.tagSet !== undefined\n    }\n    get boxClass() {\n        let cl = ''\n        if (this.block.hidden && !this.editMode) {\n            cl += 'hiddenBox '\n        }\n        if (this.block.readonly || this.readonly) {\n            cl += 'readonlyBox '\n        }\n        if (this.block.static) {\n            cl += 'staticBox '\n        }\n        return cl\n    }\n    get iliasTypeNr() {\n        const t = this.typeName\n        if (t == 'text') {\n            return 0\n        }\n        if (t == 'block-static') {\n            return 1\n        }\n        if (t == 'block') {\n            return 2\n        }\n        if (t == 'block-hidden') {\n            return 3\n        }\n        if (t == 'playground') {\n            return 4\n        }\n        if (t == 'blockly') {\n            return 5\n        }\n        if (t == 'repl') {\n            return 6\n        }\n        if (t == 'data') {\n            return 7\n        }\n        return -1\n    }\n    get typeName() {\n        let s = this.block.type.toLowerCase()\n        if (this.block.hidden) {\n            s += '-hidden'\n        }\n        if (this.block.static) {\n            s += '-static'\n        }\n        return s\n    }\n    get altCode() {\n        if (this.block.alternativeContent === null) {\n            return ''\n        }\n        return this.block.alternativeContent\n    }\n    get code() {\n        if (!this.editMode) {\n            return this.block.actualContent()\n        }\n        return this.block.content\n    }\n    get options() {\n        return {\n            // codemirror options\n            mode: this.mode,\n            theme: this.theme,\n            lineNumbers: true,\n            line: true,\n            tabSize: 4,\n            indentUnit: 4,\n            autoCloseBrackets: true,\n            readOnly:\n                !this.editMode &&\n                (this.block.readonly || this.block.static || this.block.hidden || this.readonly),\n            //firstLineNumber: this.block.firstLine, //make sure to change altOptions as well when activating this\n            gutters: ['diagnostics', 'CodeMirror-linenumbers'],\n        }\n    }\n    get altOptions() {\n        return this.options\n        // let o = { ...this.options }\n        // o.firstLineNumber = 1\n        // return o\n    }\n    get codemirror(): any | undefined {\n        return (this.codeBox as any).codemirror\n    }\n    get altcodemirror(): any | undefined {\n        if (this.altBox === undefined) {\n            return undefined\n        }\n        return (this.altBox as any).codemirror\n    }\n    get readyWhenMounted() {\n        return false\n    }\n    @Watch('block.firstLine')\n    onFirstLineChanged(val) {\n        if (this.codemirror) {\n            if (this.codemirror.options.firstLineNumber != this.block.firstLine) {\n                this.codemirror.options.firstLineNumber = this.block.firstLine\n                this.codemirror.refresh()\n            }\n        }\n    }\n    @Watch('visibleLines')\n    onVisibleLinesChanged(val) {\n        this.updateHeight()\n    }\n    @Watch('errors')\n    onErrorsChanged(val) {\n        this.updateDiagnosticDisplay()\n    }\n\n    created() {\n        console.d('ReadyWhenMounted in CodeBlock', this.readyWhenMounted)\n        //this.$options.readyWhenMounted = false;\n    }\n    mounted() {\n        this.updateHeight()\n\n        if (this.editMode && this.codemirror) {\n            console.d('Attach')\n            const buildIt = () => {\n                console.log('EMIT')\n                this.$emit('build')\n            }\n\n            this.codemirror.addKeyMap({\n                'Cmd-B': function (cMirror) {\n                    buildIt()\n                },\n                'Ctrl-B': function (cMirror) {\n                    buildIt()\n                },\n            })\n\n            this.codemirror.addKeyMap({\n                Tab: function (cMirror) {\n                    cMirror.execCommand('insertSoftTab')\n                },\n            })\n        }\n\n        Vue.$tagger.$on('replace-template-tag', this.replaceTemplateTags)\n        this.codeNeedsTagUpdate = true\n        this.updateTagDisplay()\n    }\n    beforeDestroy() {\n        Vue.$tagger.$off('replace-template-tag', this.replaceTemplateTags)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlock.vue?vue&type=template&id=2ff15259&scoped=true&\"\nimport script from \"./CodeBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlock.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlock.vue?vue&type=style&index=0&id=2ff15259&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ff15259\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=style&index=0&id=f34c54ee&lang=sass&scoped=true&\"","\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport { BlockData } from '@/lib/codeBlocksManager'\n@Component\nexport default class BaseBlock extends Vue {\n    @Prop({ default: false }) muteReadyState!: boolean\n    @Prop({ required: true }) block!: BlockData\n\n    whenBlockIsReady() {\n        if (this.muteReadyState) {\n            return\n        }\n        this.block.readyCount++\n        this.$emit('ready', this.block)\n    }\n\n    whenBlockIsDestroyed() {\n        if (this.muteReadyState) {\n            return\n        }\n        this.block.readyCount--\n    }\n\n    get readyWhenMounted() {\n        return true\n    }\n\n    mounted() {\n        if (this.readyWhenMounted) {\n            this.whenBlockIsReady()\n        }\n    }\n\n    beforeDestroy() {\n        this.whenBlockIsDestroyed()\n    }\n}\n","var render, staticRenderFns\nimport script from \"./BaseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseBlock.vue?vue&type=script&lang=ts&\"","import { ICompilerID, IListItemData } from './ICompilerRegistry'\nimport { IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport { IBlockDefinition, IBlocklyToolbox } from './IBlocklyHelper'\n\nexport enum KnownBlockTypes {\n    PLAYGROUND = 'PLAYGROUND',\n    TEXT = 'TEXT',\n    BLOCKHIDDEN = 'BLOCK-hidden',\n    BLOCKSTATIC = 'BLOCK-static',\n    BLOCK = 'BLOCK',\n    BLOCKLY = 'BLOCKLY',\n    REPL = 'REPL',\n    DATA = 'DATA',\n}\n\nexport enum CodeOutputTypes {\n    AUTO = 'auto',\n    TEXT = 'text',\n    JSON = 'json',\n    DATA = 'data',\n    MAGIC = 'magic',\n}\n\nexport enum CodeExpansionType {\n    LARGE = 2,\n    AUTO = 1,\n    TINY = 0,\n}\n\nexport interface IBlockloadManager {\n    readonly blockTag: string\n    loadFromDatablock: (\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ) => void\n}\n\nexport interface IRandomizerSet {\n    uuid: string\n    values: IRandomizerSetTag[]\n}\n\nexport interface IRandomizerSetTag {\n    tag: string\n    value: string\n}\nexport interface IRandomizerSettings {\n    active: boolean\n    previewIndex: number\n    knownTags: string[]\n    sets: IRandomizerSet[]\n}\n\nexport interface IBlockDataPlayground {\n    width: string\n    height: string\n    align: string\n}\n\nexport interface IBlockDataData {\n    name: string\n}\n\nexport interface IBlockError {\n    error: string\n    uuid: string\n}\n\nexport interface IBlockElementData {\n    readonly?: string\n    static?: string\n    hidden?: string\n    visibleLines?: string\n    shouldAutoreset?: string\n    shouldReloadResources?: string\n    generateTemplate?: string\n    expanded?: string\n    codeExpanded?: string\n    noContent?: string\n    alternativeContent?: string\n    width?: string\n    height?: string\n    align?: string\n    version?: string\n    scopeUUID?: string\n    scopeSelector?: string\n    showControls?: boolean\n    as?: string\n    name?: string\n}\n\nexport interface IBlockDataBlockly {\n    toolbox: IBlocklyToolbox\n    blocks: IBlockDefinition[]\n    _blockErrors: IBlockError[]\n    useOverride: boolean\n    toolboxOverride: string\n    showControls: boolean\n}\n\nexport interface ICodeBlockDataState {\n    readonly: boolean\n    static: boolean\n    hidden: boolean\n}\nexport interface IBlockDataBase extends IBlockDataPlayground, ICodeBlockDataState, IBlockDataData {\n    hasCode: boolean\n    type: KnownBlockTypes\n    content: string\n    alternativeContent: string | null\n    noContent: boolean\n    id: number\n    uuid: string\n    parentID: number\n    expanded: boolean\n    codeExpanded: CodeExpansionType\n    obj: object | null\n    version: string\n    readyCount: number\n    errors: any[]\n    scopeUUID?: string\n    scopeSelector?: string\n    visibleLines: number | 'auto'\n    hasAlternativeContent: boolean\n    shouldAutoreset: boolean\n    shouldReloadResources: boolean\n    generateTemplate: boolean\n    blockly: IBlockDataBlockly\n    lineCountHint: number\n    as?: KnownBlockTypes\n}\n\nexport interface IBlockData extends IBlockDataBase {\n    getThemeForBlock(bl: ICodeBlockDataState): string\n    readonly themeForCodeBlock: string\n}\n\nexport interface IGlobalSettings {\n    baseurl: string\n}\nexport interface IGlobalState extends IGlobalSettings {\n    format_info(text: string): string\n    format_error(text: string): string\n\n    /**\n     * Seperates an outputObject (like the one you will get in the update-method of a playground handler) into a string and a json object seperated by a magic String. Returns an object that contains\n     *  <code>type</code> = <code>'dual'</code> parsed a magic string, <code>'json'</code> parsed as json, <code>'text'</code> plain text\n     *  <code>json</code> = the JSON object that was sent after the magicString\n     *  <code>text</code> = the String that was sent before the magicString\n     * @param {*} outputObject  The outputObject generated by the student code\n     * @param {*} type  'auto' = (default, try to determin what kind of output was generated), 'text', 'json' = (force json parsing), 'magic' = (force use of magic string seperator)\n     * @param {*} magicString The seperating String. By default it is '\\n\\n<JSON>\\n'\n     */\n    processMixedOutput(\n        outputObject: string[] | string,\n        type: CodeOutputTypes,\n        magicString?: string,\n        resultData?: object | any[]\n    ): IProcessedScriptOutput\n    mimeType(language: string): string\n    knownLanguages(): IListItemData[]\n\n    refreshAllCodeMirrors(): void\n    refreshAllCodeMirrorsSync(): void\n\n    itemForValue(items: IListItemData[], value: string): IListItemData\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataBlock.vue?vue&type=style&index=0&id=0deb24d0&lang=sass&scoped=true&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--1-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--12-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--12-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--12-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--12-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=style&index=0&id=5a368702&lang=stylus&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=style&index=0&lang=sass&\"","export enum BlockPrimaryColors {\n    Colour = '#cf63cf',\n    List = '#5cb1d6',\n    Logic = '#ffab19',\n    Loop = '#ffbf00',\n    Math = '#4c97ff',\n    Procedure = '#ff6680',\n    Text = '#bbbbca',\n    Variable = '#59c059',\n    Variable_dynamic = '#0fbd8c'\n}\n\nexport enum BlockSecondaryColors {\n    Colour = '#c55ec5',\n    List = '#57a8cb',\n    Logic = '#f2a218',\n    Loop = '#f2b500',\n    Math = '#488ff2',\n    Procedure = '#f2617a',\n    Text = '#b2b2c0',\n    Variable = '#55b655',\n    Variable_dynamic = '#0eb485'\n}\nexport enum BlockTertiaryColors {\n    Colour = '#ba59ba',\n    List = '#539fc1',\n    Logic = '#e69a17',\n    Loop = '#e6ac00',\n    Math = '#4488e6',\n    Procedure = '#e65c73',\n    Text = '#a8a8b6',\n    Variable = '#50ad50',\n    Variable_dynamic = '#0eaa7e'\n}\n\nexport enum BlockOutputTypes {\n    Number = 'Number',\n    Boolean = 'Boolean',\n    String = 'String',\n    Array = 'Array',\n    Color = 'Colour',\n    Any = ''\n}\n\nexport enum BlockSequenceTypes {\n    Action = 'Action'\n}\n\nexport enum BlockArgumentTypes {\n    field_input = 'field_input',\n    field_dropdown = 'field_dropdown',\n    field_checkbox = 'field_checkbox',\n    field_colour = 'field_colour',\n    field_number = 'field_number',\n    field_angle = 'field_angle',\n    field_variable = 'field_variable',\n    field_date = 'field_date',\n    field_label = 'field_label',\n    field_image = 'field_image',\n    input_value = 'input_value',\n    input_statement = 'input_statement',\n    input_dummy = 'input_dummy'\n}\n\nexport interface IBlocklyToolboxItem extends IBlockUIExtension {\n    uuid: string\n    type: string\n}\nexport interface IBlocklyToolboxCategory {\n    uuid: string\n    items: IBlocklyToolboxItem[]\n    color?: string\n    custom?: string\n    name: string\n}\nexport interface IBlocklyToolbox {\n    categories: IBlocklyToolboxCategory[]\n}\n\nexport interface IBlockArgument extends IBlockUIExtension {\n    uuid: string\n    type: BlockArgumentTypes\n    name: string\n    check?: BlockOutputTypes\n    variable?: string\n    variableTypes?: string[]\n}\n\nexport interface IBlockLine extends IBlockUIExtension {\n    uuid: string\n    message: string\n    args: IBlockArgument[]\n}\n\nexport interface IBlockDefinitionJSON {\n    type: string\n    message0: string\n    args0: IBlockArgument[]\n    message1?: string\n    args1?: IBlockArgument[]\n    message2?: string\n    args2?: IBlockArgument[]\n    message3?: string\n    args3?: IBlockArgument[]\n    message4?: string\n    args4?: IBlockArgument[]\n\n    output?: BlockOutputTypes\n    previousStatement: BlockSequenceTypes | null\n    nextStatement: BlockSequenceTypes | null\n    colour: string\n    tooltip?: string\n    helpUrl?: string\n}\n\nexport interface IBlockDefinition extends IBlockUIExtension {\n    uuid: string\n    _code?: Function\n    JSON: IBlockDefinitionJSON\n    XML?: string\n    codeStub?: string\n    codeString: string\n}\n\nexport enum KnownBlocklyTypes {\n    controls_if = 'controls_if',\n    logic_compare = 'logic_compare',\n    logic_operation = 'logic_operation',\n    logic_negate = 'logic_negate',\n    logic_boolean = 'logic_boolean',\n    logic_null = 'logic_null',\n    logic_ternary = 'logic_ternary',\n    controls_repeat_ext = 'controls_repeat_ext',\n    controls_whileUntil = 'controls_whileUntil',\n    controls_for = 'controls_for',\n    controls_forEach = 'controls_forEach',\n    controls_flow_statements = 'controls_flow_statements',\n    math_number = 'math_number',\n    math_arithmetic = 'math_arithmetic',\n    math_single = 'math_single',\n    math_trig = 'math_trig',\n    math_constant = 'math_constant',\n    math_number_property = 'math_number_property',\n    math_round = 'math_round',\n    math_on_list = 'math_on_list',\n    math_modulo = 'math_modulo',\n    math_constrain = 'math_constrain',\n    math_random_int = 'math_random_int',\n    math_random_float = 'math_random_float',\n    text = 'text',\n    text_join = 'text_join',\n    text_append = 'text_append',\n    text_length = 'text_length',\n    text_isEmpty = 'text_isEmpty',\n    text_indexOf = 'text_indexOf',\n    variables_get = 'variables_get',\n    text_charAt = 'text_charAt',\n    text_getSubstring = 'text_getSubstring',\n    text_changeCase = 'text_changeCase',\n    text_trim = 'text_trim',\n    text_print = 'text_print',\n    text_prompt_ext = 'text_prompt_ext',\n    lists_create_with = 'lists_create_with',\n    lists_repeat = 'lists_repeat',\n    lists_length = 'lists_length',\n    lists_isEmpty = 'lists_isEmpty',\n    lists_indexOf = 'lists_indexOf',\n    lists_getIndex = 'lists_getIndex',\n    lists_setIndex = 'lists_setIndex',\n    lists_getSublist = 'lists_getSublist',\n    lists_split = 'lists_split',\n    lists_sort = 'lists_sort',\n    colour_picker = 'colour_picker',\n    colour_random = 'colour_random',\n    colour_rgb = 'colour_rgb',\n    colour_blend = 'colour_blend'\n}\n\nexport interface IBlockUIExtension {\n    _expanded: boolean\n}\n","import Vue from 'vue'\nimport UUID from 'vue-uuid'\n\nVue.use(UUID as any)\n","import Vue from 'vue'\n\nimport '../styles/quasar.styl'\nimport '@quasar/extras/material-icons/material-icons.css'\n\nimport '@quasar/extras/animate/fadeInUp.css'\nimport '@quasar/extras/animate/fadeInDown.css'\nimport '@quasar/extras/animate/fadeOutUp.css'\nimport '@quasar/extras/animate/fadeOutDown.css'\n\nimport '@quasar/extras/animate/fadeIn.css'\nimport '@quasar/extras/animate/fadeOut.css'\n\nimport '@quasar/extras/animate/zoomInDown.css'\nimport '@quasar/extras/animate/zoomInUp.css'\n\nimport Dialog from 'quasar/src/plugins/Dialog.js';import Quasar from 'quasar/src/vue-plugin.js';\n\nconst lang = document.getElementsByTagName('html')[0].getAttribute('lang')\nimport langDe from 'quasar/dist/lang/de.umd.min.js'\nimport langEn from 'quasar/dist/lang/en-gb.umd.min.js'\n\nVue.use(Quasar, {\n    config: {},\n    components: {\n        /* not needed if importStrategy is not 'manual' */\n    },\n    directives: {\n        /* not needed if importStrategy is not 'manual' */\n    },\n    plugins: {\n        Dialog,\n    },\n    animations: ['fadeIn', 'fadeOut'],\n    lang: lang == 'de' ? langDe : langEn,\n})\nQuasar.lang.set(lang == 'de' ? langDe : langEn)\n\nimport 'reflect-metadata'\n","import Vue from 'vue'\nimport { install } from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\ninstall(Vue)\n//Vue.use(VueCodeMirror, {})\n","import Vue from 'vue'\nimport { CodeOutputTypes, IGlobalSettings, IGlobalState } from '@/lib/ICodeBlocks'\nimport { IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport { IListItemData } from '@/lib/ICompilerRegistry'\n\n/**\n * This object defines the programming languages supported for code highlighting\n * using CodeMirror\n * @namespace cmMode The programminglanguages supported\n */\nconst mimeTypesForLanguage = {\n    c: { mime: 'text/x-csrc', displayName: 'C' }, // (C),\n    'c++': { mime: 'text/x-c++src', displayName: 'C++' }, // (C++),\n    'c#': { mime: 'text/x-csharp', displayName: 'C#' }, // (C#),\n    css: { mime: 'text/css', displayName: 'CSS' }, // (CSS)\n    fortran: { mime: 'text/x-fortran', displayName: 'Fortran' }, // (Fortran)\n    glsl: { mime: 'text/x-glsl', displayName: 'GLSL' }, // (GLSL)\n    html: { mime: 'text/html', displayName: 'HTML' }, // (HTML)\n    java: { mime: 'text/x-java', displayName: 'Java' }, // (Java),\n    javascript: { mime: 'text/javascript', displayName: 'JavaScript' }, // (JavaScript)\n    perl: { mime: 'text/x-perl', displayName: 'Perl' }, // (Perl)\n    php: { mime: 'application/x-httpd-php', displayName: 'PHP' }, // (PHP)\n    python: { mime: 'text/x-python', displayName: 'Python' }, // (Python)\n    r: { mime: 'text/x-rsrc', displayName: 'R' }, //(R)\n}\n\nfunction loadSettings(scope: HTMLElement | Document): IGlobalSettings {\n    const options = {\n        baseurl: '',\n    }\n    const settings = scope.querySelectorAll('meta[name^=codeblocks]')\n    settings.forEach((opt) => {\n        const name = opt.getAttribute('name')\n        const value = opt.getAttribute('content')\n\n        if (name == 'codeblocks-baseurl' && value) {\n            options.baseurl = value\n        }\n    })\n    return options\n}\n\nexport class GlobalState implements IGlobalState {\n    public readonly baseurl: string\n\n    constructor() {\n        const options = loadSettings(document)\n        this.baseurl = options.baseurl\n    }\n    format_info(text: string): string {\n        return '<span style=\"color:green\">' + text + '</span>'\n    }\n    format_error(text: string): string {\n        return '<span style=\"color:red\">' + text + '</span>'\n    }\n\n    /**\n     * Seperates an outputObject (like the one you will get in the update-method of a playground handler) into a string and a json object seperated by a magic String. Returns an object that contains\n     *  <code>type</code> = <code>'dual'</code> parsed a magic string, <code>'json'</code> parsed as json, <code>'text'</code> plain text\n     *  <code>json</code> = the JSON object that was sent after the magicString\n     *  <code>text</code> = the String that was sent before the magicString\n     * @param {*} outputObject  The outputObject generated by the student code\n     * @param {*} type  'auto' = (default, try to determin what kind of output was generated), 'text', 'json' = (force json parsing), 'magic' = (force use of magic string seperator)\n     * @param {*} magicString The seperating String. By default it is '\\n\\n<JSON>\\n'\n     */\n    processMixedOutput(\n        outputObject: string[] | string,\n        type: CodeOutputTypes,\n        magicString?: string,\n        resultData?: object | any[]\n    ): IProcessedScriptOutput {\n        if (outputObject !== undefined && Array.isArray(outputObject)) {\n            return {\n                type: 'json',\n                json: outputObject,\n                text: '',\n            }\n        }\n\n        if (magicString === undefined) {\n            magicString = '\\n\\n<JSON>\\n'\n        }\n        const idx = outputObject.indexOf(magicString)\n\n        if (\n            type === CodeOutputTypes.DATA ||\n            (type === CodeOutputTypes.AUTO && resultData != undefined)\n        ) {\n            return {\n                type: 'dual',\n                json: resultData,\n                text: outputObject,\n            }\n        } else if ((type === CodeOutputTypes.AUTO && idx >= 0) || type === CodeOutputTypes.MAGIC) {\n            const str = outputObject.substr(0, idx)\n            let json = undefined\n            const pString = outputObject.substr(idx + magicString.length)\n            try {\n                json = JSON.parse(pString)\n            } catch (ee) {\n                const e: any = ee\n                e.parsedString = pString\n                console.log('catch')\n                throw e\n            }\n\n            return {\n                type: 'dual',\n                json: json,\n                text: str,\n            }\n        } else {\n            if (type === CodeOutputTypes.JSON && resultData !== undefined) {\n                return {\n                    type: CodeOutputTypes.JSON,\n                    json: resultData,\n                    text: '',\n                }\n            }\n            const too = outputObject.trim()\n            if (\n                (type === CodeOutputTypes.AUTO &&\n                    (too.indexOf('[') == 0 || too.indexOf('{') == 0)) ||\n                type === CodeOutputTypes.JSON\n            ) {\n                return {\n                    type: CodeOutputTypes.JSON,\n                    json: JSON.parse(outputObject),\n                    text: '',\n                }\n            }\n        }\n\n        return {\n            type: 'text',\n            json: resultData,\n            text: outputObject,\n        }\n    }\n    mimeType(language: string): string {\n        const o = mimeTypesForLanguage[language]\n        if (o === undefined) {\n            return 'text/javascript'\n        }\n        return o.mime\n    }\n    knownLanguages(): IListItemData[] {\n        return Object.keys(mimeTypesForLanguage)\n            .map((k) => {\n                return { label: mimeTypesForLanguage[k].displayName, value: k }\n            })\n            .sort((a, b) => (a.value < b.value ? -1 : 1))\n    }\n    refreshAllCodeMirrorsSync(): void {\n        document.querySelectorAll('.CodeMirror').forEach((e: any) => e.CodeMirror.refresh())\n    }\n    refreshAllCodeMirrors(): void {\n        setTimeout(() => {\n            this.refreshAllCodeMirrorsSync()\n        }, 100)\n        setTimeout(() => {\n            this.refreshAllCodeMirrorsSync()\n        }, 500)\n    }\n    public itemForValue(items: IListItemData[], value: string): IListItemData {\n        const ret = items.find((i) => i.value == value)\n        if (ret === undefined) {\n            return {\n                label: '???',\n                value: '???',\n            }\n        }\n        return ret\n    }\n}\nexport const globalState = new GlobalState()\nVue.prototype.$CodeBlock = globalState\nVue.$CodeBlock = globalState\n\nVue.$GlobalEventHub = new Vue()\n","import Vue from 'vue'\nimport { ErrorSeverity } from '@/lib/ICompilerRegistry'\n\nVue.prototype.SEVERITY_ERROR = ErrorSeverity.Error\nVue.prototype.SEVERITY_WARNING = ErrorSeverity.Warning\nVue.$SEVERITY_ERROR = ErrorSeverity.Error\nVue.$SEVERITY_WARNING = ErrorSeverity.Warning\n\nVue.prototype.$compilerState = new Vue({\n    data: function() {\n        return {\n            globalStateHidden: true,\n            globalStateMessage: '',\n            runButtonForceHide: false\n        }\n    },\n    methods: {\n        hideGlobalState() {\n            this.displayGlobalState(null)\n        },\n        setAllRunButtons(what: boolean) {\n            this.runButtonForceHide = !what\n        },\n        displayGlobalState(message: string | null) {\n            this.globalStateHidden = message === null || message === undefined || message === ''\n            this.globalStateMessage = message ? message : ''\n        }\n    }\n})\n","import Vue from 'vue'\nimport hljs from 'highlight.js/lib/core'\n//import 'highlight.js/styles/ocean.css'\nimport 'highlight.js/styles/tomorrow.css'\nimport '../styles/highlight.styl'\nimport { DirectiveBinding } from 'vue/types/options'\n\nhljs.configure({ useBR: false })\n\nhljs.registerLanguage('c', require('highlight.js/lib/languages/cpp'))\nhljs.registerLanguage('c++', require('highlight.js/lib/languages/cpp'))\nhljs.registerLanguage('c#', require('highlight.js/lib/languages/csharp'))\nhljs.registerLanguage('css', require('highlight.js/lib/languages/css'))\nhljs.registerLanguage('fortran', require('highlight.js/lib/languages/fortran'))\nhljs.registerLanguage('glsl', require('highlight.js/lib/languages/glsl'))\nhljs.registerLanguage('java', require('highlight.js/lib/languages/java'))\nhljs.registerLanguage('javascript', require('highlight.js/lib/languages/javascript'))\nhljs.registerLanguage('perl', require('highlight.js/lib/languages/perl'))\nhljs.registerLanguage('php', require('highlight.js/lib/languages/php'))\nhljs.registerLanguage('python', require('highlight.js/lib/languages/python'))\nhljs.registerLanguage('r', require('highlight.js/lib/languages/r'))\n\nconst reg_hl = /(\\[hl\\]|\\[hl\\s+language=\"?(.*?)\"?\\])(.*?)(\\[\\/hl\\])/gm\nconst reg_code = /(\\[code\\]|\\[code\\s+language=\"?(.*?)\"?\\])([\\s\\S]*?)(\\[\\/code\\])/gm\n\nhljs.$vue = {\n    processElements: function (\n        scope: Document | HTMLElement | undefined,\n        inLang: string | undefined\n    ) {\n        if (scope === undefined) {\n            scope = document\n        }\n        const elements = scope.querySelectorAll('[highlight]')\n        elements.forEach((el) => {\n            if (inLang === undefined && el.hasAttribute('highlight')) {\n                const lang = el.getAttribute('highlight')\n                inLang = lang === null ? undefined : lang\n            }\n            this.processElement(el, inLang)\n        })\n    },\n    /////The Folowing Code will not replace tags on a string level as this will\n    /////destroy attached objects in the DOM but aims to replace the strings in\n    /////TextNodes only. Changes ar recorded in the q and applied once all nodes\n    /////Were visited. This is probably a lot slower than the pure string version\n    // processTextElement: function(el, inLang, q){\n    //     let txt = el.textContent.replace(reg_hl, function(m1, m2, m3, m4, m5){\n    //         const lang = m3===undefined?inLang:m3;\n    //         //console.log(\"m1\", m1, \"m2\", m2, \"m3\", m3, \"m4\", m4, \"m5\", m5, \"in\", inLang, \"res\", lang)\n    //         if (lang) return '<span is-code>'+hljs.highlight(lang, m4).value + '</span>';\n    //         else return '<span is-code>'+hljs.highlightAuto(m4).value + '</span>';\n    //     });\n\n    //     txt = txt.replace(reg_code, function(m1, m2, m3, m4, m5){\n    //         const lang = m3===undefined?inLang:m3;\n    //         m4 = m4.replace(/<br( +\\/)?>/g, \"\\n\").replace(/&nbsp;/g, \" \");\n    //         if (lang) return '<pre is-code>'+hljs.highlight(lang, m4).value + '</pre>';\n    //         else return '<pre is-code>'+hljs.highlightAuto(m4).value + '</pre>';\n    //     });\n    //     if (txt != el.textContent) {\n    //       q.push(()=>{\n    //          let nel = document.createElement('span');\n    //          nel.innerHTML = txt;\n    //          el.parentNode.replaceChild(nel, el);\n    //       })\n    //     }\n    // },\n    // processElementRec: function(el, inLang, updateList){\n    //     let q = updateList;\n    //     if (q === undefined) q = [];\n\n    //     if (inLang === undefined && el.hasAttribute('highlight')){\n    //         inLang = el.getAttribute('highlight');\n    //     }\n    //     el.innerHTML = el.innerHTML;\n\n    //     el.childNodes.forEach(c => {\n    //        if (c.nodeType==Node.TEXT_NODE) {\n    //            this.processTextElement(c, inLang, q);\n    //        } else {\n    //            this.processElement(c, inLang, q);\n    //        }\n    //     })\n\n    //     if (updateList === undefined){\n    //         q.forEach(f => f());\n    //     }\n    // },\n    processElementSimple(el: HTMLElement, inLang: string | undefined) {\n        if (inLang === undefined && el.hasAttribute('highlight')) {\n            const lang = el.getAttribute('highlight')\n            inLang = lang === null ? 'javascript' : lang\n        }\n\n        let txt = el.innerHTML.replace(reg_hl, function (m1, m2, m3, m4, m5) {\n            const lang = m3 === undefined ? inLang : m3\n            //console.log(\"m1\", m1, \"m2\", m2, \"m3\", m3, \"m4\", m4, \"m5\", m5, \"in\", inLang, \"res\", lang)\n            if (lang) {\n                return '<span is-code>' + hljs.highlight(lang, m4).value + '</span>'\n            } else {\n                return '<span is-code>' + hljs.highlightAuto(m4).value + '</span>'\n            }\n        })\n\n        txt = txt.replace(reg_code, function (m1, m2, m3, m4, m5) {\n            const lang = m3 === undefined ? inLang : m3\n            m4 = m4\n                .replace(/<br( +\\/)?>/g, '\\n')\n                .replace(/&nbsp;/g, ' ')\n                .replace(/&lt;/g, '<')\n                .replace(/&gt;/g, '>')\n                .replace(/&amp;/g, '&')\n\n            if (lang) {\n                return '<pre is-code>' + hljs.highlight(lang, m4).value + '</pre>'\n            } else {\n                return '<pre is-code>' + hljs.highlightAuto(m4).value + '</pre>'\n            }\n        })\n\n        el.innerHTML = txt\n    },\n    processElement(el: HTMLElement, inLang: string | undefined) {\n        if (window.MathJax === undefined) {\n            this.processElementSimple(el, inLang)\n        } else {\n            MathJax.Hub.Register.StartupHook('End', () => {\n                this.processElementSimple(el, inLang)\n            })\n        }\n    },\n}\n\nwindow.highlightAll = function () {\n    hljs.$vue.processElements()\n}\nwindow.highlightElement = function (el: HTMLElement) {\n    hljs.$vue.processElement(el, el.getAttribute('highlight'))\n}\nwindow.hljs = hljs\nVue.$hljs = hljs\n\nVue.directive('highlight', {\n    //deep: true,\n    bind: function (el: HTMLElement, binding: DirectiveBinding) {\n        console.log('DIRECTIVE - bind', el, binding)\n        hljs.$vue.processElement(el, binding.value)\n    },\n    componentUpdated: function (el: HTMLElement, binding: DirectiveBinding) {\n        console.log('DIRECTIVE - update', el, binding)\n        hljs.$vue.processElement(el, binding.value)\n    },\n})\n","import 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport i18n from './i18n'\n//!!! make sure to also change the expression in ilias-builder.js !!!\nconst randomAndTemplateTag = /\\{(:|!)([\\w]*)}/g\n\nimport '../styles/tagger.styl'\nimport { DirectiveBinding } from 'vue/types/options'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\n\nexport interface ITagReplaceAction {\n    name: string\n    newValue: string\n    scopeUUID: string\n}\n\nexport interface ITagMarkers {\n    start: { line: number; ch: number }\n    end: { line: number; ch: number }\n    type: 'rnd' | 'templ'\n    name: string\n}\n@Component\nexport default class Tagger extends Vue {\n    private className = {\n        rnd: 'random-tag-placeholder',\n        templ: 'template-tag-placeholder'\n    }\n\n    getMarkers(s: string): ITagMarkers[] {\n        if (s === undefined || s === null) {\n            return []\n        }\n        let lines = s.split('\\n')\n        let markers: ITagMarkers[] = []\n        let m: RegExpExecArray | null\n        for (let i = 0; i < lines.length; i++) {\n            let regex = new RegExp(randomAndTemplateTag)\n\n            while ((m = regex.exec(lines[i])) !== null) {\n                if (m.index === regex.lastIndex) {\n                    regex.lastIndex++\n                }\n\n                const marker: ITagMarkers = {\n                    start: { line: i, ch: m.index },\n                    end: { line: i, ch: regex.lastIndex },\n                    type: m[1] == ':' ? 'rnd' : 'templ',\n                    name: m[2]\n                }\n                markers.push(marker)\n            }\n        }\n        return markers\n    }\n    processElements(scope: Document | HTMLElement | undefined): void {\n        let uuid: string = ''\n        if (scope === undefined) {\n            scope = document\n        } else {\n            const h = scope as HTMLElement\n            if (!h.hasAttribute('uuid')) {\n                uuid = this.$uuid.v4()\n                h.setAttribute('uuid', uuid)\n            } else {\n                uuid = h.getAttribute('uuid')!\n            }\n        }\n\n        const elements = scope.querySelectorAll('[tagged]')\n        const calle = () => {\n            elements.forEach(el => {\n                this.processElement(el as HTMLElement, uuid)\n            })\n        }\n        if (window.MathJax === undefined) {\n            calle()\n        } else {\n            MathJax.Hub.Register.StartupHook('End', calle)\n        }\n    }\n\n    processElement(el: HTMLElement, scopeUUID: string): void {\n        el.innerHTML = this.processString(el.innerHTML, scopeUUID)\n        this.hookClick(el, scopeUUID)\n    }\n\n    processString(str: string, scopeUUID: string): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            const className = m1 === ':' ? this.className.rnd : this.className.templ\n            return (\n                `<span class=\"q-mb-xs  tag-mark-start tag-mark-end ${className}\" >` + m0 + '</span>'\n            )\n        })\n    }\n    hookClick(el: HTMLElement, scopeUUID: string): void {\n        let tags = el.querySelectorAll('.' + this.className.templ)\n        tags.forEach(inTag => {\n            const tag = inTag as HTMLElement\n            let name = tag.innerText.replace(randomAndTemplateTag, (m0, m1, m2) => {\n                return m2\n            })\n            tag.onclick = () => {\n                this.clickFunction(name, tag, scopeUUID)\n            }\n        })\n    }\n    replaceTemplateTag(\n        scope: HTMLElement | Document | undefined,\n        name: string,\n        newValue: string\n    ): void {\n        if (scope === undefined) {\n            scope = document\n        }\n        let tags = scope.querySelectorAll('.' + this.className.templ)\n        tags.forEach(tag => {\n            tag.innerHTML = this.replaceTemplateTagInString(tag.innerHTML, name, newValue)\n        })\n    }\n    replaceTemplateTagInString(str: string, name: string, newValue: string): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            if (m1 == '!' && m2 == name) {\n                return newValue\n            }\n            return m0\n        })\n    }\n    replaceRandomTagsInString(str: string, tagSet: IRandomizerSet): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            if (m1 == ':') {\n                const tag = tagSet.values.find(t => t.tag == m2)\n                if (tag !== undefined) {\n                    return tag.value\n                }\n                return m0\n            }\n            return m0\n        })\n    }\n    clickFunction(name: string, tagEl: HTMLElement, scopeUUID: string): void {\n        //console.log(i18n)\n        Vue.prototype.$q\n            .dialog({\n                title: i18n.t('Tagger.ConfirmRepl'),\n                message: i18n.t('Tagger.ConfirmReplMsg', {\n                    name: '<span class=\"template-tag-placeholder-noclick\">' + name + '</span>'\n                }),\n                html: true,\n                persistent: true,\n                prompt: {\n                    model: '{!' + name + '}',\n                    type: 'text' // optional\n                },\n                ok: {\n                    push: true,\n                    color: 'negative',\n                    icon: 'warning'\n                },\n                cancel: {\n                    push: true,\n                    color: 'positive'\n                }\n            })\n            .onOk((data: string) => {\n                //this.replaceTemplateTag($(tagEl).parents(\".codeblocks\").get(0), name, data)\n                this.replaceTemplateTag($(`[uuid=${scopeUUID}]`).get(0), name, data)\n                console.log(scopeUUID)\n                this.$emit('replace-template-tag', {\n                    name: name,\n                    newValue: data,\n                    scopeUUID: scopeUUID\n                })\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                const me = self as any\n                me.highlighted = false\n            })\n    }\n}\n\nVue.directive('tagged', {\n    //deep: true,\n    bind: function(el: HTMLElement, binding: DirectiveBinding) {\n        Vue.$tagger.processElement(el, binding.value)\n    },\n    componentUpdated: function(el: HTMLElement, binding: DirectiveBinding) {\n        //console.log(\"DIRECTIVE - update\", el, binding)\n        Vue.$tagger.processElement(el, binding.value)\n    }\n})\n\nVue.$tagger = new Tagger()\n","import Vue from 'vue'\n\n/**\n * The overhead time we need to spin up the execution environment. The value is added to the execution time defined for this question\n * @type {int} javaRunOverhead execution overhead in ms\n */\nvar javaRunOverhead = 4000\n\nfunction runJavaWorker(\n    questionID,\n    code,\n    callingCodeBlocks,\n    max_ms,\n    log_callback,\n    info_callback,\n    err_callback,\n    compileFailedCallback,\n    finishedExecutionCB,\n    forceReload = false\n) {\n    let exp = new RegExp('public[ \\n]*class[ \\n]*([a-zA-Z_$0-9]*)[ \\n]*({|implements|extends)')\n    let match = exp.exec(code)\n    if (match == null) {\n        console.error('Unable to determine class Name!', match, code)\n        return\n    }\n\n    let className = match[1]\n\n    let worker = new Worker(Vue.$CodeBlock.baseurl + 'js/doppio/v001/javaWorker.js')\n    let timer = null\n\n    worker.addEventListener(\n        'message',\n        function (e) {\n            const data = e.data\n            //console.log(data)\n            switch (data.event) {\n                case 'finished':\n                    if (timer) {\n                        clearTimeout(timer)\n                        timer = null\n                    }\n\n                    /*if (data.stderr && data.stderr != '') err_callback(data.stderr + \"\\n\") ;\n        if (data.stdout && data.stdout != '') log_callback(data.stdout);*/\n\n                    console.log('Done', data.stdout, data.stderr, finishedExecutionCB)\n                    finishedExecutionCB()\n                    break\n\n                case 'startTimer':\n                    timer = setTimeout(function (e) {\n                        console.log('Sending kill command')\n                        worker.postMessage({ cmd: 'kill' })\n                        timer = setTimeout(function () {\n                            console.log('Terminating Worker')\n                            worker.terminate()\n                        }, 5000)\n                        err_callback(\n                            'Terminated long running Process (>' +\n                                Math.round((max_ms + javaRunOverhead) / 1000) +\n                                's).'\n                        )\n                        JavaExec.setRunButton(true, 'run')\n                        JavaExec.setRunButton(true)\n                        JavaExec.showMessage(null)\n                    }, max_ms + javaRunOverhead) //we need about 4000ms to spin up the execution unit\n                    break\n\n                case 'showMessage':\n                    //console.log(\"showMessage\", data)\n                    JavaExec.showMessage(data.msg)\n                    break\n                case 'output':\n                    if (data.type == 'err') {\n                        err_callback(data.msg)\n                    } else if (data.type == 'nfo') {\n                        info_callback(data.msg)\n                    } else {\n                        log_callback(data.msg)\n                    }\n                    break\n\n                case 'setRunButton':\n                    //console.log(\"setRunButton\", data)\n                    JavaExec.setRunButton(data.enabled, data.info)\n                    break\n\n                case 'cleanCache':\n                    //log_callback('')\n                    if (!forceReload) {\n                        worker.postMessage({ cmd: 'kill' })\n                        console.log('Restarting...')\n                        setTimeout(function () {\n                            runJavaWorker(\n                                questionID,\n                                code,\n                                callingCodeBlocks,\n                                max_ms,\n                                log_callback,\n                                info_callback,\n                                err_callback,\n                                compileFailedCallback,\n                                finishedExecutionCB,\n                                true\n                            )\n                        }, 500)\n                    } else {\n                        JavaExec.setRunButton(false)\n                        JavaExec.showMessage('Failed to initialize JVM.')\n                    }\n                    break\n            }\n        },\n        false\n    )\n\n    worker.postMessage({\n        cmd: 'run',\n        code: code,\n        className: className,\n        max_ms: max_ms + 1000,\n        questionID: questionID,\n        forceReload: forceReload,\n    })\n}\n\nconst singleton = new Vue({\n    data: function () {\n        return {\n            loadedlibs: 0,\n            version: '001',\n            language: 'java',\n            canRun: true,\n            canStop: true,\n            allowsContinousCompilation: false,\n            allowsPersistentArguments: false,\n            allowsMessagePassing: false,\n            acceptsJSONArgument: false,\n            allowsREPL: false,\n            didPreload: false,\n            requestedPreload: false,\n            isReady: false,\n            isRunning: false,\n        }\n    },\n    methods: {\n        preload() {\n            if (this.loadedlibs < 3) {\n                if (this.requestedPreload == false) {\n                    this.requestedPreload = true\n                    this.triggerResourceLoad()\n                }\n\n                return\n            }\n            if (this.didPreload) {\n                return\n            }\n            this.didPreload = true\n            console.log('[Preloading Doppio]')\n            try {\n                JavaExec.showMessage = function (msg) {\n                    this.$compilerState.displayGlobalState(msg)\n                }.bind(this)\n\n                const lock = []\n                JavaExec.setRunButton = function (enabled, info = undefined) {\n                    if (info && !enabled && lock.indexOf(info) == -1) {\n                        lock.push(info)\n                    }\n                    if (info && enabled && lock.indexOf(info) > -1) {\n                        lock.splice(lock.indexOf(info), 1)\n                    }\n\n                    if (!enabled || lock.length == 0) {\n                        this.$compilerState.setAllRunButtons(enabled)\n                    }\n                }.bind(this)\n\n                const self = this\n                JavaExec.initialize(function () {\n                    console.log('Initializing Filesystem')\n                    JavaExec.initFileSystems(\n                        Vue.$CodeBlock.baseurl + 'js/doppio/v001/',\n                        false,\n                        function () {\n                            //JavaExec.printDirContent('sys/vendor');\n\n                            JavaExec.reroutStdStreams()\n                            JavaExec.ready = true\n                            self.isReady = true\n                        }\n                    )\n                })\n            } catch (e) {\n                console.error(e)\n            }\n        },\n        compileAndRun(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n            runCreate = false\n        ) {\n            if (!this.isReady) {\n                return\n            }\n\n            return runJavaWorker(\n                questionID,\n                code,\n                callingCodeBlocks,\n                max_ms,\n                log_callback,\n                info_callback,\n                err_callback,\n                compileFailedCallback,\n                finishedExecutionCB,\n                runCreate\n            )\n        },\n        triggerResourceLoad() {\n            console.log('[Preparing Dependencies for Doppio]')\n            let script = document.createElement('script')\n            script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/browserfs/browserfs.min.js'\n            script.onload = function () {\n                this.loadedlibs++\n                console.log('[BrowserFS loaded]')\n\n                let script = document.createElement('script')\n                script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/doppio/doppio.js'\n                script.onload = function () {\n                    this.loadedlibs++\n                    console.log('[Doppio loaded]')\n\n                    let script = document.createElement('script')\n                    script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/JavaExec.js'\n                    script.onload = function () {\n                        this.loadedlibs++\n                        console.log('[JavaExec loaded]')\n                        if (this.requestedPreload) {\n                            this.preload()\n                        }\n                    }.bind(this)\n                    document.head.appendChild(script)\n                }.bind(this)\n                document.head.appendChild(script)\n            }.bind(this)\n            document.head.appendChild(script)\n        },\n    },\n    created() {},\n})\nexport default singleton\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string, terminate?: boolean): void\n    }\n}\n\nconst teaVMRunOverhead = 30000\n\n//ICompilerInstance\n@Component\nexport class JavaV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'java'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = true\n    readonly allowsREPL = false\n    readonly experimental = false\n    readonly deprecated = false\n    didPreload: boolean = false\n    teaworker: Worker | undefined = undefined\n    isReady = false\n    isRunning = false\n\n    preload() {\n        if (this.didPreload) {\n            return\n        }\n        this.didPreload = true\n        this.$compilerState.setAllRunButtons(false)\n\n        console.log(`[Preloading TeaVM ${this.version} for Java]`)\n        this.isRunning = true\n        this.createTeaWorker(() => {\n            this.isRunning = false\n            this.$compilerState.hideGlobalState()\n            this.$compilerState.setAllRunButtons(true)\n            //console.log('setAllRun', true)\n        })\n    }\n\n    private createTeaWorker(whenReady: () => void): boolean {\n        if (this.teaworker === undefined) {\n            this.$compilerState.setAllRunButtons(false)\n            this.$compilerState.displayGlobalState('Initializing Runtime')\n            try {\n                this.teaworker = new Worker(\n                    `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/worker.js`\n                )\n            } catch (e) {\n                //this should throw in the offline environment, thus we look for the worker at a different\n                this.teaworker = new Worker('../assCodeQuestion/js/teavm/worker.js')\n            }\n\n            this.teaworker.addEventListener('message', (e: any) => {\n                //console.log('teastuff', e.data)\n                if (e.data.command == 'ok' && e.data.id == 'didload-classlib') {\n                    if (this.teaworker) {\n                        this.teaworker.postMessage({\n                            command: 'compile',\n                            id: 'prep',\n                            text: 'public class Bootstrap { public static void main(String[] args){}}',\n                            mainClass: 'Bootstrap',\n                        })\n                    }\n                    this.isReady = true\n                    if (whenReady) {\n                        //console.log(\"loopback to initial caller\");\n                        whenReady()\n                    } else {\n                        this.$compilerState.setAllRunButtons(true)\n                        this.$compilerState.hideGlobalState()\n                    }\n                } else if (e.data.id == 'prep' && e.data.command == 'compilation-complete') {\n                    /* We could finish initialization here if there appear to be races when compiling multiple sources at once */\n                }\n            })\n\n            //bootstrap environment\n            this.teaworker.postMessage({\n                command: 'load-classlib',\n                id: 'didload-classlib',\n                url: 'classlib.txt',\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    sessionCompileListener: ((e: any) => void) | undefined = undefined\n    sessionID: string = '-1'\n    sessionWorker: any = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate: boolean = true\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        const start = Date.now()\n        let executionFinished = false\n        let booted = false\n\n        if (this.isRunning) {\n            err_callback('System is busy. Please wait until compilation finishes or call a tutor.')\n            return\n        }\n        this.isRunning = true\n        if (runCreate) {\n            if (\n                this.createTeaWorker(() => {\n                    this.isRunning = false\n                    this.compileAndRun(questionID, code, callingCodeBlocks, options, false)\n                })\n            ) {\n                return\n            }\n        }\n\n        if (!this.isReady) {\n            err_callback(\n                'System is not yet ready. Please wait until Initialization finishes or call a tutor.'\n            )\n            return\n        }\n\n        const compilerTimeout = setTimeout(() => {\n            if (!booted) {\n                const time = Date.now() - start\n\n                if (this.teaworker) {\n                    this.teaworker.end(\n                        'TimeoutError:  Compilation took too long (>' +\n                            time +\n                            'ms) and was terminated. Trying to reset the System. Please re-run your code and call a Tutor if this Problem persists.'\n                    )\n                }\n\n                this.teaworker = undefined\n            }\n        }, teaVMRunOverhead)\n\n        let text = code\n            .replace(/\"(?:[^\"\\\\]|\\\\.)*\"|\\/\\*[\\s\\S]*?\\*\\//gm, '')\n            .replace(/(^.*)\\/\\/.*$/gm, '$1') //replace strings and comments\n        //let text = code.replace(/\"(?:[^\"\\\\]+?|(?!\")\"|\\\\{2}|\\\\[\\s\\S])*?\"|^.*(\\/\\/.*$)|\\/\\*[\\s\\S]*?\\*\\//gm, ''); //replace strings and comments\n\n        text = text.replaceRec(/(\\{[^{}]*\\})/gm, '[]') //replace parentheses\n\n        const getMainClass = (_code: string) => {\n            let ret = 'Unknown'\n            //above replaces all {} with [], so look for public class <name> []\n            const regexpMainClass =\n                /public\\s+?class\\s+?([a-zA-Z_$0-9]+?)\\s*?(\\[|\\simplements|\\sextends)/gm\n            let match: RegExpExecArray | null\n            while ((match = regexpMainClass.exec(_code)) !== null) {\n                if (match[1]) {\n                    ret = match[1]\n                    break\n                }\n            }\n            return ret\n        }\n        let mainClass = getMainClass(text)\n        //fallback if the above regExps mangled the student code and we can not find the main class\n        if (mainClass == 'Unknown') {\n            mainClass = getMainClass(code.replace('{', '['))\n        }\n\n        //console.log(mainClass, code);\n        const myListener = (e: any) => {\n            //console.log('this.teaworker', questionID, e.data);\n            if (e.data.id == '' + questionID) {\n                if (e.data.command == 'phase') {\n                    if (e.data.phase == 'DEPENDENCY_ANALYSIS') {\n                        this.$compilerState.displayGlobalState(\n                            'Compiling & Analyzing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'LINKING') {\n                        this.$compilerState.displayGlobalState(\n                            'Linking <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'OPTIMIZATION') {\n                        this.$compilerState.displayGlobalState(\n                            'Optimizing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'RENDERING') {\n                        this.$compilerState.displayGlobalState(\n                            'Creating <b>' + mainClass + '.class</b>'\n                        )\n                    }\n                } else if (e.data.command == 'diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.text,\n                            start: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            end: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            severity:\n                                e.data.severity == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.text + '\\n'\n                    if (e.data.severity == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'compiler-diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.message,\n                            start: {\n                                line: e.data.startLineNumber,\n                                column: e.data.startColumn,\n                            },\n                            end: {\n                                line: e.data.endLineNumber,\n                                column: e.data.endColumn,\n                            },\n                            severity:\n                                e.data.kind == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.humanReadable + '\\n'\n                    if (e.data.kind == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'error') {\n                    if (this.teaworker) {\n                        this.teaworker.end('Error:  An internal compiler Error occured')\n                    }\n                    this.teaworker = undefined\n                } else if (e.data.command == 'compilation-complete') {\n                    booted = true\n                    let runTimeout: number | undefined = undefined\n                    if (this.teaworker) {\n                        this.teaworker.removeEventListener('message', myListener)\n                        this.sessionCompileListener = undefined\n                    }\n                    try {\n                        clearTimeout(compilerTimeout)\n                    } catch (e) {\n                        /* nothing to report */\n                    }\n\n                    if (e.data.status == 'errors') {\n                        finishedExecutionCB(false)\n                        this.isRunning = false\n                    } else {\n                        const runListener = (ee: any) => {\n                            //console.log('JAVA-WORKER-MSG', ee.data)\n                            //console.log('tearunner', questionID, ee.data);\n                            if (ee.data.command == 'run-finished-setup') {\n                                //Nothing to do here\n                            } else if (ee.data.command == 'run-completed') {\n                                finishedExecutionCB(true)\n\n                                console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n                                // info_callback(\n                                //     'Info: Execution finished in ' + (Date.now() - start) + ' ms\\n'\n                                // )\n                                executionFinished = true\n                                this.isRunning = false\n                                workerrun.end()\n                            } else if (ee.data.command == 'stdout') {\n                                log_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command == 'stderr') {\n                                err_callback(ee.data.line + '\\n')\n                            }\n                        }\n                        this.$compilerState.displayGlobalState('Executing <b>' + mainClass + '</b>')\n                        const workerrun = new Worker(\n                            `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/workerrun.js?&v=001`\n                        )\n                        this.sessionWorker = workerrun\n                        workerrun.addEventListener('message', runListener.bind(this))\n\n                        workerrun.postMessage({\n                            command: 'run',\n                            id: '' + questionID,\n                            code: e.data.script,\n                            args: args,\n                        })\n\n                        workerrun.end = (msg: string) => {\n                            this.sessionWorker = undefined\n                            //when we end it IS over, no matter how often we tried :)\n                            try {\n                                workerrun.terminate()\n                                if (runTimeout) {\n                                    clearTimeout(runTimeout)\n                                }\n                            } catch (e) {\n                                /* nothing to report */\n                            }\n\n                            if (executionFinished) {\n                                return\n                            }\n                            executionFinished = true\n                            finishedExecutionCB(false)\n                            this.isRunning = false\n                            if (msg) {\n                                err_callback(msg + '\\n')\n                            }\n                        }\n\n                        const runStart = Date.now()\n                        runTimeout = setTimeout(function () {\n                            const time = Date.now() - runStart\n                            workerrun.end(\n                                'TimeoutError:  Execution took too long (>' +\n                                    time +\n                                    'ms) and was terminated. There might be an endless loop in your code.'\n                            )\n                        }, max_ms)\n                    }\n                }\n            }\n        }\n\n        if (this.teaworker) {\n            this.sessionID = questionID\n            this.sessionCompileListener = myListener\n            this.teaworker.addEventListener('message', myListener)\n        }\n        //console.log(code);\n        this.$compilerState.setAllRunButtons(false)\n        this.$compilerState.displayGlobalState(\n            'Starting Compiler for <b>' + mainClass + '.java</b>'\n        )\n\n        if (this.teaworker) {\n            this.teaworker.postMessage({\n                command: 'compile',\n                id: '' + questionID,\n                text: code,\n                mainClass: mainClass,\n            })\n        }\n\n        if (this.teaworker) {\n            this.teaworker.end = (msg: string, terminate: boolean = true) => {\n                try {\n                    clearTimeout(compilerTimeout)\n                } catch (e) {\n                    //nothing to see here\n                }\n\n                if (booted) {\n                    return\n                }\n                if (this.teaworker && terminate) {\n                    console.log('TERMINATING')\n                    this.teaworker.terminate()\n                }\n                finishedExecutionCB(false)\n                this.isRunning = false\n                this.isReady = true\n                if (msg) {\n                    err_callback(msg + '\\n')\n                }\n            }\n        }\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.sessionWorker) {\n            this.sessionWorker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        } else if (this.teaworker) {\n            if (this.sessionCompileListener) {\n                // this.sessionCompileListener({\n                //     data: {\n                //         id: '' + this.sessionID,\n                //         command: 'compilation-complete',\n                //         status: 'errors',\n                //         errors: [Vue.$l('CodeBlocks.UserCanceled')]\n                //     }\n                // })\n                this.teaworker.removeEventListener('message', this.sessionCompileListener)\n                this.sessionCompileListener = undefined\n            }\n            this.teaworker.end(Vue.$l('CodeBlocks.UserCanceled'), false)\n        }\n    }\n}\n\nexport const javaCompiler_V100 = new JavaV100Compiler()\nexport default javaCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string, terminate?: boolean): void\n    }\n}\n\nconst teaVMRunOverhead = 30000\n\n//ICompilerInstance\n@Component\nexport class JavaV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'java'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = true\n    readonly acceptsJSONArgument = true\n    readonly allowsREPL = false\n    readonly experimental = true\n    readonly deprecated = false\n    didPreload: boolean = false\n    teaworker: Worker | undefined = undefined\n    isReady = false\n    isRunning = false\n\n    preload() {\n        if (this.didPreload) {\n            return\n        }\n        this.didPreload = true\n        this.$compilerState.setAllRunButtons(false)\n\n        console.log(`[Preloading TeaVM ${this.version} for Java]`)\n        this.isRunning = true\n        this.createTeaWorker(() => {\n            this.isRunning = false\n            this.$compilerState.hideGlobalState()\n            this.$compilerState.setAllRunButtons(true)\n            //console.log('setAllRun', true)\n        })\n    }\n\n    private createTeaWorker(whenReady: () => void): boolean {\n        if (this.teaworker === undefined) {\n            this.$compilerState.setAllRunButtons(false)\n            this.$compilerState.displayGlobalState('Initializing Runtime')\n            try {\n                this.teaworker = new Worker(\n                    `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/worker.js`\n                )\n            } catch (e) {\n                //this should throw in the offline environment, thus we look for the worker at a different\n                this.teaworker = new Worker('../assCodeQuestion/js/teavm/worker.js')\n            }\n\n            this.teaworker.addEventListener('message', (e: any) => {\n                //console.log('teastuff', e.data)\n                if (e.data.command == 'ok' && e.data.id == 'didload-classlib') {\n                    if (this.teaworker) {\n                        this.teaworker.postMessage({\n                            command: 'compile',\n                            id: 'prep',\n                            text: 'public class Bootstrap { public static void main(String[] args){}}',\n                            mainClass: 'Bootstrap',\n                        })\n                    }\n                    this.isReady = true\n                    if (whenReady) {\n                        //console.log(\"loopback to initial caller\");\n                        whenReady()\n                    } else {\n                        this.$compilerState.setAllRunButtons(true)\n                        this.$compilerState.hideGlobalState()\n                    }\n                } else if (e.data.id == 'prep' && e.data.command == 'compilation-complete') {\n                    /* We could finish initialization here if there appear to be races when compiling multiple sources at once */\n                }\n            })\n\n            //bootstrap environment\n            this.teaworker.postMessage({\n                command: 'load-classlib',\n                id: 'didload-classlib',\n                url: 'classlib.txt',\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    sessionCompileListener: ((e: any) => void) | undefined = undefined\n    sessionID: string = '-1'\n    sessionWorker: any = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate: boolean = true\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n            keepAlive,\n        } = options\n        console.log(`[Starting TeaVM${options.keepAlive ? ' keepAlive' : ''}]`, args)\n        const start = Date.now()\n        let executionFinished = false\n        let booted = false\n\n        if (this.isRunning) {\n            err_callback('System is busy. Please wait until compilation finishes or call a tutor.')\n            return\n        }\n        this.isRunning = true\n        if (runCreate) {\n            if (\n                this.createTeaWorker(() => {\n                    this.isRunning = false\n                    this.compileAndRun(questionID, code, callingCodeBlocks, options, false)\n                })\n            ) {\n                return\n            }\n        }\n\n        if (!this.isReady) {\n            err_callback(\n                'System is not yet ready. Please wait until Initialization finishes or call a tutor.'\n            )\n            return\n        }\n\n        const compilerTimeout = setTimeout(() => {\n            if (!booted) {\n                const time = Date.now() - start\n\n                if (this.teaworker) {\n                    this.teaworker.end(\n                        'TimeoutError:  Compilation took too long (>' +\n                            time +\n                            'ms) and was terminated. Trying to reset the System. Please re-run your code and call a Tutor if this Problem persists.'\n                    )\n                }\n\n                this.teaworker = undefined\n            }\n        }, teaVMRunOverhead)\n\n        let text = code\n            .replace(/\"(?:[^\"\\\\]|\\\\.)*\"|\\/\\*[\\s\\S]*?\\*\\//gm, '')\n            .replace(/(^.*)\\/\\/.*$/gm, '$1') //replace strings and comments\n        //let text = code.replace(/\"(?:[^\"\\\\]+?|(?!\")\"|\\\\{2}|\\\\[\\s\\S])*?\"|^.*(\\/\\/.*$)|\\/\\*[\\s\\S]*?\\*\\//gm, ''); //replace strings and comments\n\n        text = text.replaceRec(/(\\{[^{}]*\\})/gm, '[]') //replace parentheses\n\n        const getMainClass = (_code: string) => {\n            let ret = 'Unknown'\n            //above replaces all {} with [], so look for public class <name> []\n            const regexpMainClass =\n                /public\\s+?class\\s+?([a-zA-Z_$0-9]+?)\\s*?(\\[|\\simplements|\\sextends)/gm\n            let match: RegExpExecArray | null\n            while ((match = regexpMainClass.exec(_code)) !== null) {\n                if (match[1]) {\n                    ret = match[1]\n                    break\n                }\n            }\n            return ret\n        }\n        let mainClass = getMainClass(text)\n        //fallback if the above regExps mangled the student code and we can not find the main class\n        if (mainClass == 'Unknown') {\n            mainClass = getMainClass(code.replace('{', '['))\n        }\n\n        //console.log(mainClass, code);\n        const myListener = (e: any) => {\n            //console.log('this.teaworker', questionID, e.data);\n            if (e.data.id == '' + questionID) {\n                if (e.data.command == 'phase') {\n                    if (e.data.phase == 'DEPENDENCY_ANALYSIS') {\n                        this.$compilerState.displayGlobalState(\n                            'Compiling & Analyzing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'LINKING') {\n                        this.$compilerState.displayGlobalState(\n                            'Linking <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'OPTIMIZATION') {\n                        this.$compilerState.displayGlobalState(\n                            'Optimizing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'RENDERING') {\n                        this.$compilerState.displayGlobalState(\n                            'Creating <b>' + mainClass + '.class</b>'\n                        )\n                    }\n                } else if (e.data.command == 'diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.text,\n                            start: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            end: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            severity:\n                                e.data.severity == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.text + '\\n'\n                    if (e.data.severity == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'compiler-diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.message,\n                            start: {\n                                line: e.data.startLineNumber,\n                                column: e.data.startColumn,\n                            },\n                            end: {\n                                line: e.data.endLineNumber,\n                                column: e.data.endColumn,\n                            },\n                            severity:\n                                e.data.kind == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.humanReadable + '\\n'\n                    if (e.data.kind == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'error') {\n                    if (this.teaworker) {\n                        this.teaworker.end('Error:  An internal compiler Error occured')\n                    }\n                    this.teaworker = undefined\n                } else if (e.data.command == 'compilation-complete') {\n                    booted = true\n                    let runTimeout: number | undefined = undefined\n                    if (this.teaworker) {\n                        this.teaworker.removeEventListener('message', myListener)\n                        this.sessionCompileListener = undefined\n                    }\n                    try {\n                        clearTimeout(compilerTimeout)\n                    } catch (e) {\n                        /* nothing to report */\n                    }\n\n                    if (e.data.status == 'errors') {\n                        finishedExecutionCB(false, undefined, options.args)\n                        this.isRunning = false\n                    } else {\n                        this.$compilerState.displayGlobalState('Executing <b>' + mainClass + '</b>')\n                        const workerrun = new Worker(\n                            `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/workerrun.js?&v=001`\n                        )\n                        this.sessionWorker = workerrun\n\n                        const runListener = (ee: any) => {\n                            //console.log('JAVA-WORKER-MSG', ee.data)\n                            console.d('tearunner message', questionID, ee.data, ee.data.command)\n                            if (ee.data.command == 'run-finished-setup') {\n                                //Nothing to do here\n                            } else if (\n                                ee.data.command == 'w-exit-keepalive' ||\n                                ee.data.command == 'exit-keepalive'\n                            ) {\n                                //Make sure a keep-alive session can do proper cleanup\n                                if (options.keepAlive) {\n                                    workerrun.postMessage({\n                                        command: 'session-ended',\n                                        id: '' + questionID,\n                                    })\n                                }\n                            } else if (ee.data.command == 'run-completed') {\n                                if (ee.data.args) {\n                                    options.args['return'] = ee.data.args\n                                }\n                                finishedExecutionCB(true, undefined, options.args['return'])\n\n                                console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n                                // info_callback(\n                                //     'Info: Execution finished in ' + (Date.now() - start) + ' ms\\n'\n                                // )\n                                executionFinished = true\n                                this.isRunning = false\n                                workerrun.end()\n                            } else if (ee.data.command == 'stdout') {\n                                log_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command == 'stderr') {\n                                err_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command.indexOf('w-') === 0) {\n                                //Message sent from the workter to the playground\n                                const cmd = ee.data.command.substr(2)\n                                ee.data.command = cmd\n                                options.didReceiveMessage(cmd, ee.data)\n                            } else if (ee.data.command == 'main-finished') {\n                                console.d('MESSAGE - Main Finished')\n                                //set up the real message handler\n                                options.postMessageFunction = (cmd, data) => {\n                                    data = { ...data }\n                                    console.d('MESSAGE - TeaVM Post ', cmd, data)\n                                    data.command = cmd\n                                    data.id = questionID\n                                    wr.postMessage(data)\n                                }\n\n                                options.postMessageFunction('main-finished', {})\n\n                                //make sure to send all queued messages now\n                                options.dequeuePostponedMessages()\n\n                                options.whenFinishedHandler(ee.data.args)\n                            } else if (ee.data.command == 'main-will-start') {\n                                options.beforeStartHandler()\n                            } else if (ee.data.command == 'f-FINAL') {\n                                options.resultData = JSON.parse(ee.data.value)\n                            } else {\n                                console.log('Unknown Message', ee.data)\n                            }\n                        }\n\n                        workerrun.addEventListener('message', runListener.bind(this))\n\n                        workerrun.postMessage({\n                            command: 'run',\n                            id: '' + questionID,\n                            code: e.data.script,\n                            args: args,\n                            messagePosting: options.allowMessagePassing,\n                            keepAlive: options.keepAlive,\n                        })\n                        const wr = workerrun\n\n                        workerrun.end = (msg: string) => {\n                            this.sessionWorker = undefined\n                            //when we end it IS over, no matter how often we tried :)\n                            try {\n                                workerrun.terminate()\n                                if (runTimeout) {\n                                    clearTimeout(runTimeout)\n                                }\n                            } catch (e) {\n                                /* nothing to report */\n                            }\n\n                            if (executionFinished) {\n                                return\n                            }\n                            executionFinished = true\n                            finishedExecutionCB(false, undefined, options.args)\n                            this.isRunning = false\n                            if (msg) {\n                                err_callback(msg + '\\n')\n                            }\n                        }\n\n                        const runStart = Date.now()\n                        if (!keepAlive) {\n                            runTimeout = setTimeout(function () {\n                                const time = Date.now() - runStart\n                                workerrun.end(\n                                    'TimeoutError:  Execution took too long (>' +\n                                        time +\n                                        'ms) and was terminated. There might be an endless loop in your code.'\n                                )\n                            }, max_ms)\n                        }\n                    }\n                }\n            }\n        }\n\n        if (this.teaworker) {\n            this.sessionID = questionID\n            this.sessionCompileListener = myListener\n            this.teaworker.addEventListener('message', myListener)\n        }\n        //console.log(code);\n        this.$compilerState.setAllRunButtons(false)\n        this.$compilerState.displayGlobalState(\n            'Starting Compiler for <b>' + mainClass + '.java</b>'\n        )\n\n        if (this.teaworker) {\n            this.teaworker.postMessage({\n                command: 'compile',\n                id: '' + questionID,\n                text: code,\n                mainClass: mainClass,\n            })\n        }\n\n        if (this.teaworker) {\n            this.teaworker.end = (msg: string, terminate: boolean = true) => {\n                try {\n                    clearTimeout(compilerTimeout)\n                } catch (e) {\n                    //nothing to see here\n                }\n\n                if (booted) {\n                    return\n                }\n                if (this.teaworker && terminate) {\n                    console.log('TERMINATING')\n                    this.teaworker.terminate()\n                }\n                finishedExecutionCB(false, undefined, options.args)\n                this.isRunning = false\n                this.isReady = true\n                if (msg) {\n                    err_callback(msg + '\\n')\n                }\n            }\n        }\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.sessionWorker) {\n            this.sessionWorker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        } else if (this.teaworker) {\n            if (this.sessionCompileListener) {\n                // this.sessionCompileListener({\n                //     data: {\n                //         id: '' + this.sessionID,\n                //         command: 'compilation-complete',\n                //         status: 'errors',\n                //         errors: [Vue.$l('CodeBlocks.UserCanceled')]\n                //     }\n                // })\n                this.teaworker.removeEventListener('message', this.sessionCompileListener)\n                this.sessionCompileListener = undefined\n            }\n            this.teaworker.end(Vue.$l('CodeBlocks.UserCanceled'), false)\n        }\n    }\n}\n\nexport const javaCompiler_V101 = new JavaV101Compiler()\nexport default javaCompiler_V101\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v001 from './doppio.v001'\nimport v100 from './teavm.v100'\nimport v101 from './teavm.v101'\n\n@Component\nexport class JavaCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'java'\n    displayName = 'Java'\n\n    //attach all version\n    versions = [v001, v100, v101]\n\n    //declare the default one\n    default = v100\n}\n\nexport const JavaCompilers: ICompilerInfo[] | ICompilerInfo = new JavaCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\n//function runJavaScriptWorker( code, log_callback, max_ms, questionID){\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    max_ms: number,\n    log_callback: (txt: string) => void,\n    info_callback: (txt: string) => void,\n    err_callback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishedExecutionCB: finishedCallbackSignatur\n) {\n    log_callback('')\n\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const not_allowed_keywords = ['postMessage', 'close', 'onmessage', 'debugger'] // blacklist (can be evaded, ... see below)\n    for (const key in not_allowed_keywords) {\n        if (code.indexOf(not_allowed_keywords[key]) != -1) {\n            // the user is not allowed to use the functionallity of the WebWorker\n            err_callback(\n                \"PermissionError: The usage of '\" +\n                    not_allowed_keywords[key] +\n                    \"' is not allowed (reserved keyword)!\"\n            )\n            return\n        }\n    }\n    const lines = code.split('\\n').length\n\n    // The user-code is sourrounded by webworker start and finish code (one line each)\n    // additionally, the console.log fnc is replaced, because the original log fnc is consuming much cpu ressources,\n    //      and continues logging, even after the worker was terminated.\n\n    const prefixCode = [\n        'for(var c in console) console[c]=null;', //delete all console functionality\n        \"for(var t in this) if(t!='close' && t!='postMessage' && t!='console') this[t]=null;\", //delete all worker functionality\n        'this.console = {};',\n        'console.log = function(s){', // only allow .log , .warn\n        \"   postMessage(['log',''+s]);\",\n        '};',\n        'console.error = function(s){', // only allow .error\n        \"   postMessage(['err',''+s]);\",\n        '};',\n        'console.warn = console.log;',\n        'onmessage = function(input){',\n        \"   postMessage(['finished',\",\n        \"   ''+(function(input){\",\n        \"           'use strict';\",\n        '\\n',\n    ]\n    const postfixCode = ['\\n', '})(input.data[1])]);', '   close();', '};']\n    code = prefixCode.join('') + code + postfixCode.join('')\n\n    //TODO:: creating a WebWorker from an URL is throwing a SecurityError in  IE 11  ...\n    //          is there any workaround?\n    const worker = new Worker(URL.createObjectURL(new Blob([code], { type: 'text/javascript' })))\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishedExecutionCB(false)\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n    }\n\n    const start = Date.now()\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                time +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > max_ms) {\n            testTimeout\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n\n        testTimeoutIntern()\n        if (e.data[0] == 'finished') {\n            finishedExecutionCB(true)\n            info_callback('Info: Execution finished in ' + (Date.now() - start) + ' ms\\n')\n            worker.end()\n        } else if (e.data[0] == 'log') {\n            log_callback(e.data[1] + '\\n')\n        } else if (e.data[0] == 'err') {\n            err_callback(e.data[1] + '\\n')\n        } else {\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n    worker.onerror = function (e) {\n        if (e.lineno == 1) {\n            compileFailedCallback({\n                start: { line: -1, column: -1 },\n                end: { line: -1, column: -1 },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('Error: ' + e.message)\n        } else if (e.lineno >= lines + 2) {\n            compileFailedCallback({\n                start: { line: lines + 2, column: 0 },\n                end: { line: lines + 2, column: 0 },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('EndOfFile: ' + e.message)\n        } else {\n            compileFailedCallback({\n                start: { line: e.lineno - 2, column: e.colno - 1 },\n                end: { line: e.lineno - 2, column: e.colno },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('Line ' + (e.lineno - 2) + ': ' + e.message)\n        }\n    }\n    worker.postMessage(['start', [10, 200]]) //start worker execution\n\n    setTimeout(testTimeout, max_ms)\n}\n\n//ICompilerInstance\n@Component\nexport class JavascriptV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly allowsREPL = false\n    readonly experimental = false\n    readonly deprecated = true\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runJavaScriptWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const javascriptCompiler_V100 = new JavascriptV100Compiler()\nexport default javascriptCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string): void\n    }\n}\n\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    max_ms: number,\n    log_callback: (txt: string) => void,\n    info_callback: (txt: string) => void,\n    err_callback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishedExecutionCB: finishedCallbackSignatur,\n    args: object\n): Worker | undefined {\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/javascript/v101/jsWorker.js')\n\n    worker.onmessage = function (msg) {\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms) {\n            triggerTimeout()\n        }\n\n        switch (msg.data[0]) {\n            case 'finished':\n                if (msg && msg.data && msg.data.length >= 3) {\n                    args['return'] = msg.data[2]\n                } else {\n                    args['return'] = {}\n                }\n                console.d('returned msg:', msg, ', args:', args)\n                executionFinished = true\n                finishedExecutionCB(true, undefined, args['return'])\n                console.i('Execution finished in ' + time + ' ms\\n')\n                //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n                worker.end()\n                break\n            case 'log':\n                log_callback(msg.data[1] + '\\n')\n                break\n            case 'err':\n                err_callback(msg.data[1] + '\\n')\n                break\n            default:\n                worker.end(\n                    'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n                )\n                break\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                (performance.now() - startTime) +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const startExecution = function (args: object) {\n        //start worker execution\n        worker.postMessage(['start', { code: code, args: args }])\n\n        //stop Worker execution when the time limit is exceeded;\n        setTimeout(triggerTimeout, max_ms)\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage(['importD3'])\n                    startExecution(args)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage(['importBrain'])\n                startExecution(args)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args)\n    }\n\n    return worker\n}\n@Component\nexport class JavascriptV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly isReady = true\n    isRunning = false\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = true\n    readonly allowsREPL = false\n    readonly experimental = false\n    readonly deprecated = false\n    libraries = [\n        {\n            key: 'd3-101',\n            name: 'd3',\n            version: '5.14.3',\n            displayName: 'D3 - Proxy',\n        },\n        {\n            key: 'brain-2.0.0',\n            name: 'Brain.js',\n            version: '2.0.0-alpha',\n            displayName: 'Brain.js',\n        },\n    ]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void {\n        compilerRegistry.registerDOMLib(\n            [Vue.$CodeBlock.baseurl + 'js/javascript/v101/d3DomProxyToHTML.js'],\n            'd3proxy',\n            '101',\n            'D3 - Proxy',\n            true //makes it a utility lib => not selectable by users\n        )\n    }\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runJavaScriptWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const javascriptCompiler_V101 = new JavascriptV101Compiler()\nexport default javascriptCompiler_V101\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string): void\n    }\n}\n\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    options: ICompileAndRunArguments\n): Worker | undefined {\n    const {\n        max_ms,\n        log_callback,\n        info_callback,\n        err_callback,\n        compileFailedCallback,\n        finishedExecutionCB,\n        args,\n        keepAlive,\n    } = options\n\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/javascript/v102/jsWorker.js')\n\n    worker.onmessage = function (msg: any) {\n        console.d('jsrunner message', questionID, executionFinished, msg.data, msg.data.command)\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms && !keepAlive) {\n            triggerTimeout()\n        }\n\n        if (msg.data.command == 'finished') {\n            if (options.allowMessagePassing) {\n                options.whenFinishedHandler(msg.data.args)\n            }\n            if (msg && msg.data && msg.data.args) {\n                args['return'] = msg.data.args\n            } else {\n                args['return'] = {}\n            }\n            console.d('returned msg:', msg, ', args:', args)\n            executionFinished = true\n            finishedExecutionCB(true, undefined, args['return'])\n            console.i('Execution finished in ' + time + ' ms\\n')\n            //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n            worker.end()\n        } else if (msg.data.command == 'log') {\n            log_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'err') {\n            err_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'main-will-start') {\n            options.beforeStartHandler()\n        } else if (msg.data.command == 'main-finished') {\n            console.d('MESSAGE - Main Finished')\n            //set up the real message handler\n            options.postMessageFunction = (cmd, data) => {\n                data = { ...data }\n                console.d('MESSAGE - JS Post ', cmd, data)\n                data.command = cmd\n                data.id = questionID\n                worker.postMessage(data)\n            }\n\n            options.postMessageFunction('main-finished', {})\n\n            //make sure to send all queued messages now\n            options.dequeuePostponedMessages()\n\n            options.whenFinishedHandler(msg.data.args)\n        } else if (msg.data.command == 'w-exit-keepalive' || msg.data.command == 'exit-keepalive') {\n            //Make sure a keep-alive session can do proper cleanup\n            if (options.keepAlive) {\n                worker.postMessage({\n                    command: 'session-ended',\n                    id: '' + questionID,\n                })\n            }\n        } else if (msg.data.command.indexOf('w-') == 0) {\n            msg.data.command = msg.data.command.substr(2)\n        } else if (msg.data.command == 'f-FINAL') {\n            options.resultData = msg.data.value\n        } else {\n            console.i('MESSAGE - ', msg.data)\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                (performance.now() - startTime) +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const startExecution = function (args: object, options: ICompileAndRunArguments) {\n        //start worker execution\n        worker.postMessage({\n            command: 'start',\n            code: code,\n            args: args,\n            messagePosting: options.allowMessagePassing,\n            keepAlive: options.keepAlive,\n        })\n\n        if (!keepAlive) {\n            //stop Worker execution when the time limit is exceeded;\n            setTimeout(triggerTimeout, max_ms)\n        }\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage({ command: 'importD3' })\n                    startExecution(args, options)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importBrain' })\n                startExecution(args, options)\n            })\n        } else if (l === 'tf-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importTF' })\n                startExecution(args, options)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args, options)\n    }\n\n    return worker\n}\n@Component\nexport class JavascriptV102Compiler extends Vue implements ICompilerInstance {\n    readonly version = '102'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly isReady = true\n    isRunning = false\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = true\n    readonly acceptsJSONArgument = true\n    readonly allowsREPL = false\n    readonly experimental = true\n    readonly deprecated = false\n    libraries = [\n        {\n            key: 'd3-101',\n            name: 'd3',\n            version: '5.14.3',\n            displayName: 'D3 - Proxy',\n        },\n        {\n            key: 'brain-2.0.0',\n            name: 'Brain.js',\n            version: '2.0.0-alpha',\n            displayName: 'Brain.js',\n        },\n        {\n            key: 'tf-2.0.0',\n            name: 'tf',\n            version: '2.0.0',\n            displayName: 'TensorFlow.js',\n        },\n    ]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void {\n        compilerRegistry.registerDOMLib(\n            [Vue.$CodeBlock.baseurl + 'js/javascript/v101/d3DomProxyToHTML.js'],\n            'd3proxy',\n            '101',\n            'D3 - Proxy',\n            true //makes it a utility lib => not selectable by users\n        )\n    }\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        this.worker = runJavaScriptWorker(questionID, code, callingCodeBlocks, options)\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const javascriptCompiler_V102 = new JavascriptV102Compiler()\nexport default javascriptCompiler_V102\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v100 from './javascript.v100'\nimport v101 from './javascript.v101'\nimport v102 from './javascript.v102'\n\n@Component\nexport class JavascriptCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'javascript'\n    displayName = 'JavaScript'\n\n    //attach all version\n    versions = [v100, v101, v102]\n\n    //declare the default one\n    default = v101\n}\n\nexport const JavascriptCompilers: ICompilerInfo[] | ICompilerInfo = new JavascriptCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runPythonWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur\n) {\n    // the Python program\n    prog = prog.replaceAllPoly('\\t', '    ')\n\n    if (!window.Worker) {\n        errCallback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v100/pyWorker.js')\n\n    // construct message for worker\n    const pyInp = [] // not used jet\n\n    const messageData = { pyProg: prog, pyInp: pyInp, maxMS: maxRuntime }\n    worker.postMessage(['b8e493ca02970aeb0ef734555526bf9b', messageData])\n    const start = Date.now()\n\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (> ' +\n                time +\n                ' ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > maxRuntime) {\n            testTimeout()\n            return true\n        }\n        return false\n    }\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishCallback(false)\n        if (msg) {\n            errCallback(msg)\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n        if (testTimeoutIntern() === true) {\n            return\n        }\n        if (e.data[0] == 'finished') {\n            logCallback(e.data[1].stdOut)\n            finishCallback(true)\n            infoCallback('Info: Execution finished in : ' + (Date.now() - start) + ' ms')\n            worker.end()\n        } else if (e.data[0] === 'err') {\n            const err = JSON.parse(e.data[2])\n            if (err && err.lineno !== undefined && err.colno !== undefined) {\n                compileFailedCallback({\n                    start: { line: err.lineno - 1, column: err.colno },\n                    end: { line: err.lineno - 1, column: err.colno + 1 },\n                    message: err.message,\n                    severity: ErrorSeverity.Error,\n                })\n            } else {\n                if (err && err.lineno !== undefined) {\n                    compileFailedCallback({\n                        start: { line: err.lineno - 1, column: 0 },\n                        end: { line: err.lineno - 1, column: 0 },\n                        message: err.message,\n                        severity: ErrorSeverity.Error,\n                    })\n                }\n            }\n            worker.end('ERROR: ' + e.data[1])\n        } else {\n            worker.end('Unknown error: ' + e.data[1])\n        }\n    }\n    // in any case use the window timeout to terminate the worker\n    setTimeout(testTimeout, maxRuntime)\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly allowsREPL = false\n    readonly experimental = false\n    readonly deprecated = true\n    isReady = true\n    isRunning = false\n\n    preload() {}\n\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const pythonCompiler_V100 = new PythonV100Compiler()\nexport default pythonCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runPythonWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur,\n    legacy: boolean\n): Worker | undefined {\n    console.log('Python Version:', legacy ? '2.7' : '3')\n\n    // the Python program\n    prog = prog.replaceAllPoly('\\t', '    ')\n\n    if (!window.Worker) {\n        errCallback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v101/pyWorker.js')\n\n    // construct message for worker\n    const pyInp = [] // not used jet\n\n    const messageData = {\n        pyProg: prog,\n        pyInp: pyInp,\n        maxMS: maxRuntime,\n        legacy: legacy,\n    }\n    worker.postMessage(['b8e493ca02970aeb0ef734556526bf9b', messageData])\n    const start = Date.now()\n\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (> ' +\n                time +\n                ' ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > maxRuntime) {\n            testTimeout()\n            return true\n        }\n        return false\n    }\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishCallback(false)\n        if (msg) {\n            errCallback(msg)\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n        if (testTimeoutIntern() === true) {\n            return\n        }\n        if (e.data[0] == 'finished') {\n            logCallback(e.data[1].stdOut)\n            finishCallback(true)\n            console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n            //infoCallback('Info: Execution finished in : ' + (Date.now() - start) + ' ms')\n            worker.end()\n        } else if (e.data[0] === 'err') {\n            const err = JSON.parse(e.data[2])\n            if (err && err.lineno !== undefined && err.colno !== undefined) {\n                compileFailedCallback({\n                    start: {\n                        line: err.lineno - 1,\n                        column: err.colno,\n                    },\n                    end: {\n                        line: err.lineno - 1,\n                        column: err.colno + 1,\n                    },\n                    message: err.message,\n                    severity: ErrorSeverity.Error,\n                })\n            } else {\n                if (err && err.lineno !== undefined) {\n                    compileFailedCallback({\n                        start: {\n                            line: err.lineno - 1,\n                            column: 0,\n                        },\n                        end: {\n                            line: err.lineno - 1,\n                            column: 0,\n                        },\n                        message: err.message,\n                        severity: ErrorSeverity.Error,\n                    })\n                }\n            }\n            worker.end('ERROR: ' + e.data[1])\n        } else {\n            worker.end('Unknown error: ' + e.data[1])\n        }\n    }\n    // in any case use the window timeout to terminate the worker\n    setTimeout(testTimeout, maxRuntime)\n\n    return worker\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV101LegacyCompiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly allowsREPL = false\n    readonly experimental = false\n    readonly deprecated = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            true\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly allowsREPL = false\n    readonly experimental = false\n    readonly deprecated = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            false\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const pythonCompiler_V101 = new PythonV101Compiler()\nexport const pythonLegacyCompiler_V101 = new PythonV101LegacyCompiler()\n\nexport default {\n    legacyPython: pythonLegacyCompiler_V101,\n    python3: pythonCompiler_V101,\n}\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n    IReplInstance,\n} from '@/lib/ICompilerRegistry'\n\ninterface REPLWorker extends Worker {\n    interpreter: any\n}\n\nlet spareWorker: REPLWorker | undefined\nlet runningWorker: REPLWorker | undefined\n\nfunction getWorker(setReady: (boolean) => void) {\n    if (!window.Worker) {\n        return undefined\n    }\n\n    setReady(false)\n    if (runningWorker !== undefined) {\n        console.d('FORCE STOPPING ON RERUN')\n        runningWorker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        runningWorker = undefined\n    }\n\n    runningWorker = spareWorker\n    console.i('Starting Spare Pyodide Server')\n    spareWorker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v102/pyWorker.js') as REPLWorker\n    spareWorker.onmessage = function (msg: any) {\n        if (msg.data.command == 'finished-init') {\n            setReady(true)\n        }\n    }\n    spareWorker.interpreter = () => {}\n    spareWorker.postMessage({\n        command: 'initialize',\n        id: '0',\n    })\n    return runningWorker\n}\n\nfunction runPythonWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    options: ICompileAndRunArguments,\n    setReady: (boolean) => void\n): REPLWorker | undefined {\n    const {\n        max_ms,\n        log_callback,\n        info_callback,\n        err_callback,\n        compileFailedCallback,\n        finishedExecutionCB,\n        args,\n        keepAlive,\n    } = options\n\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = getWorker(setReady)\n    if (worker === undefined) {\n        err_callback('CRITICAL-ERROR: Unable to get background worker.')\n        return\n    }\n\n    worker.onmessage = function (msg: any) {\n        console.d('pyrunner message', questionID, executionFinished, msg.data, msg.data.command)\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms && !keepAlive) {\n            triggerTimeout()\n        }\n\n        if (msg.data.command == 'finished') {\n            if (options.allowMessagePassing) {\n                options.whenFinishedHandler(msg.data.args)\n            }\n            if (msg && msg.data && msg.data.args) {\n                args['return'] = msg.data.args\n            } else {\n                args['return'] = {}\n            }\n            console.d('returned msg:', msg, ', args:', args)\n            executionFinished = true\n            finishedExecutionCB(true, undefined, args['return'])\n            console.i('Execution finished in ' + time + ' ms\\n')\n            //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n            worker.end()\n        } else if (msg.data.command == 'exception') {\n            if (compileFailedCallback) {\n                compileFailedCallback({\n                    message: msg.data.text,\n                    start: {\n                        line: msg.data.lineNumber,\n                        column: 0,\n                    },\n                    end: {\n                        line: msg.data.lineNumber,\n                        column: 0,\n                    },\n                    severity:\n                        msg.data.severity == 'ERROR' ? ErrorSeverity.Error : ErrorSeverity.Warning,\n                })\n            }\n        } else if (msg.data.command == 'log') {\n            log_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'err') {\n            err_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'loaded-imports') {\n            if (spareWorker !== undefined) {\n                spareWorker.postMessage({\n                    command: 'preload-imports',\n                    names: msg.data.names,\n                })\n            }\n        } else if (msg.data.command == 'main-will-start') {\n            options.beforeStartHandler()\n        } else if (msg.data.command == 'main-finished') {\n            console.d('MESSAGE - Main Finished')\n            //set up the real message handler\n            options.postMessageFunction = (cmd, data) => {\n                data = { ...data }\n                console.d('MESSAGE - JS Post ', cmd, data)\n                data.command = cmd\n                data.id = questionID\n                worker.postMessage(data)\n            }\n\n            options.postMessageFunction('main-finished', {})\n\n            //make sure to send all queued messages now\n            options.dequeuePostponedMessages()\n\n            options.whenFinishedHandler(msg.data.args)\n        } else if (msg.data.command == 'interpreter') {\n            worker.interpreter(msg.data)\n        } else if (msg.data.command == 'w-exit-keepalive' || msg.data.command == 'exit-keepalive') {\n            //Make sure a keep-alive session can do proper cleanup\n            if (options.keepAlive) {\n                worker.postMessage({\n                    command: 'session-ended',\n                    id: '' + questionID,\n                })\n            }\n        } else if (msg.data.command.indexOf('w-') == 0) {\n            msg.data.command = msg.data.command.substr(2)\n        } else {\n            console.i('MESSAGE - ', msg.data)\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        if (worker !== undefined) {\n            worker.end(\n                'TimeoutError:  Execution took too long (>' +\n                    (performance.now() - startTime) +\n                    'ms) and was terminated. There might be an endless loop in your code.'\n            )\n        }\n    }\n\n    const startExecution = function (args: object, options: ICompileAndRunArguments) {\n        //start worker execution\n        worker.postMessage({\n            command: 'start',\n            code: code,\n            args: args,\n            messagePosting: options.allowMessagePassing,\n            keepAlive: options.keepAlive,\n            withREPL: options.withREPL,\n        })\n\n        //stop Worker execution when the time limit is exceeded;\n        if (!keepAlive) {\n            setTimeout(triggerTimeout, max_ms)\n        }\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage({ command: 'importD3' })\n                    startExecution(args, options)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importBrain' })\n                startExecution(args, options)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args, options)\n    }\n\n    return worker\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV102Compiler extends Vue implements ICompilerInstance, IReplInstance {\n    readonly version = '102'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = true\n    readonly acceptsJSONArgument = true\n    readonly allowsREPL = true\n    readonly experimental = true\n    readonly deprecated = false\n    isReady = false\n    isRunning = false\n\n    preload() {\n        getWorker(this.setReady.bind(this)) //this will initialize our first worker\n    }\n\n    private setReady(val: boolean) {\n        console.i('Changing READY-State to ' + val)\n        this.isReady = val\n    }\n\n    private worker: REPLWorker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        this.worker = runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            options,\n            this.setReady.bind(this)\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n\n    async interpreter(command, onStateChange, onLog, onError) {\n        const self = this\n        return new Promise<object>((resolve, reject) => {\n            if (self.worker === undefined) {\n                reject('Interpreter not Running')\n                return\n            }\n\n            self.worker.interpreter = (msg) => {\n                console.log('Message: ' + msg)\n                switch (msg.sub) {\n                    case 'did-push':\n                        onStateChange(msg.incomplete)\n                        break\n                    case 'out':\n                        onLog(msg.value)\n                        break\n                    case 'err':\n                        onError(msg.value)\n                        break\n                    case 'exception':\n                        if (msg.fatal) {\n                            reject(msg.value)\n                        } else {\n                            onError(msg.value)\n                        }\n                        break\n                    case 'finished':\n                        resolve({})\n                        break\n                    default:\n                        console.log('Unknown Message: ' + msg.sub)\n                }\n            }\n\n            self.worker.postMessage({\n                command: 'interpreter',\n                code: command,\n            })\n        })\n    }\n}\n\nexport const pythonCompiler_V102 = new PythonV102Compiler()\n\nexport default {\n    python3: pythonCompiler_V102,\n}\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v100 from './python.v100'\nimport v101 from './python.v101'\nimport v102 from './python.v102'\n\n@Component\nexport class PythonCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'python'\n    displayName = 'Python 2.7'\n\n    //attach all version\n    versions = [v100, v101.legacyPython]\n\n    //declare the default one\n    default = v101.legacyPython\n}\n\n@Component\nexport class Python3CompilerInfo extends Vue implements ICompilerInfo {\n    type = 'python3'\n    displayName = 'Python 3'\n\n    //attach all version\n    versions = [v101.python3, v102.python3]\n\n    //declare the default one\n    default = v101.python3\n}\n\nexport const PythonCompilers: ICompilerInfo[] | ICompilerInfo = [\n    new PythonCompilerInfo(),\n    new Python3CompilerInfo(),\n]\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runGLSLWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur\n) {\n    const outputData: string[] = []\n    callingCodeBlocks.blocks\n        .filter((b) => b.hasCode)\n        .forEach((block) => outputData.push(block.content))\n    /*$(\"[data-contains-code][data-question=\"+questionID+\"]\").each(function(i, block) {\n        if (block.getAttribute('data-ignore')) return;\n        if (!blockHasProgramCode(block)) return;\n        const editor = editors[block.id];\n        if (editor) {\n            outputData.push(block.value);\n        } else {\n            outputData.push(block.innerHTML);\n        }\n    });*/\n    finishCallback(true, outputData)\n}\n\n@Component\nexport class GLSLV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'glsl'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly acceptsJSONArgument = false\n    readonly allowsMessagePassing = false\n    readonly allowsREPL = false\n    readonly deprecated = false\n    readonly experimental = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runGLSLWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const v100 = new GLSLV100Compiler()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport { v100 } from './glsl.v100'\n\n@Component\nexport class GLSLCompilerInfo extends Vue implements ICompilerInfo {\n    readonly type = 'glsl'\n    readonly displayName = 'GLSL Shader'\n\n    //attach all version\n    readonly versions = [v100]\n\n    //declare the default one\n    readonly default = v100\n}\n\nexport const GLSLCompilers: ICompilerInfo[] | ICompilerInfo = new GLSLCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    ICompilerHashMap,\n    IDomLibraray,\n    ICompilerID,\n    ICompilerInfo,\n    IListItemData,\n    ICompilerInstance,\n    ICompilerRegistry,\n    ICompilerIDQuery,\n    IUpdateMappingMap,\n} from './ICompilerRegistry'\n\n//prepare Compiler Registry\n@Component\nexport class CompilerRegistry extends Vue implements ICompilerRegistry {\n    compilers: ICompilerHashMap = {}\n    libraries: IDomLibraray[] = []\n    loadedURIs: string[] = []\n    public updateMappings: IUpdateMappingMap = {}\n    afterLoadFinished: (() => void)[] = []\n    isLoadingLibs = false\n\n    get languages(): IListItemData[] {\n        const langs = Object.keys(this.compilers)\n            .map((k) => this.compilers[k])\n            .map((c) => {\n                return { label: c.displayName, value: c.type }\n            })\n            .sort((a, b) => (a.label < b.label ? -1 : 1))\n        return langs\n    }\n\n    get domLibraries(): IListItemData[] {\n        const libs: IDomLibraray[] = this.libraries.filter((l) => !l.utility)\n        return libs.map((l) => {\n            return { label: l.displayName + ' (' + l.version + ')', value: l.key }\n        })\n    }\n\n    register(compilers: ICompilerInfo[] | ICompilerInfo): void {\n        if (Array.isArray(compilers)) {\n            compilers.forEach((c) => this.registerSingle(c))\n        } else {\n            this.registerSingle(compilers)\n        }\n    }\n\n    registerSingle(c: ICompilerInfo): void {\n        this.compilers[c.type] = c\n        c.versions.forEach((v) => {\n            if (v.registerLibs) {\n                v.registerLibs(this)\n            }\n        })\n    }\n\n    getCompiler(compilerInfo: ICompilerIDQuery): ICompilerInstance | undefined {\n        const cmps = this.compilers[compilerInfo.languageType]\n        if (!cmps) {\n            return undefined\n        }\n        if (compilerInfo.version === undefined) {\n            return cmps.default\n        }\n        let res = cmps.versions.find((e) => e.version == compilerInfo.version)\n        if (res === undefined) {\n            res = cmps.default\n        }\n        return res\n    }\n\n    versionsForLanguage(languageType: string): string[] | ['none'] {\n        const c = this.compilers[languageType]\n        if (c === undefined) {\n            return ['none']\n        }\n        return c.versions.map((v) => v.version)\n    }\n\n    addUpdateMapping(name: string, oldVersion: string, newVersion: string) {\n        const oldName = `${name}-${oldVersion}`\n        const newName = `${name}-${newVersion}`\n        this.updateMappings[oldName] = newName\n    }\n\n    mapLibrary(loadedName: string): string {\n        const name = this.updateMappings[loadedName]\n        return name === undefined ? loadedName : name\n    }\n\n    registerDOMLib(\n        uri: string[],\n        name: string,\n        version: string,\n        displayName: string,\n        utility: boolean = false,\n        order: number = 0,\n        onBuildSandboxEnv: (sandbox: any) => void = () => {}\n    ): void {\n        this.libraries.push({\n            key: name + '-' + version,\n            uri: uri,\n            name: name,\n            version: version,\n            displayName: displayName,\n            didLoad: false,\n            utility: utility,\n            order: order,\n            onBuildSandboxEnv: onBuildSandboxEnv,\n        })\n    }\n\n    addLoadedToSandbox(sandbox: any) {\n        this.libraries.filter((l) => l.didLoad).forEach((l) => l.onBuildSandboxEnv(sandbox))\n    }\n\n    getLibObjects(domLibs: string[]): IDomLibraray[] {\n        return this.libraries.filter((l) => domLibs.indexOf(l.key) >= 0)\n    }\n\n    urisForDOMLibs(domLibs: string[]): string[] {\n        const libs = this.getLibObjects(domLibs)\n        const uris = libs\n            .filter((l) => !l.didLoad)\n            .sort((a, b) => (a.order < b.order ? 1 : -1))\n            .map((l) => l.uri)\n            .reduce((p, c) => c.concat(p), [])\n\n        return uris\n    }\n    loadLibraries(domLibraries: string[], whenLoaded: () => void): void {\n        const libs = this.urisForDOMLibs(domLibraries)\n        const dlibs = this.getLibObjects(domLibraries)\n        this.loadURIs(\n            libs,\n            function () {\n                dlibs.forEach((l) => (l.didLoad = true))\n\n                if (window.MathJax === undefined) {\n                    whenLoaded()\n                } else {\n                    MathJax.Hub.Register.StartupHook('End', () => {\n                        whenLoaded()\n                    })\n                }\n            }.bind(this)\n        )\n    }\n    private loadURIsIter(libs: string[], whenLoaded: () => void): void {\n        console.log(libs)\n        let loadCount = 0\n        const didLoad = (u: string) => {\n            loadCount++\n            if (loadCount == libs.length) {\n                whenLoaded()\n            }\n        }\n        libs.forEach((uri: string) => {\n            if (this.loadedURIs.indexOf(uri) >= 0) {\n                didLoad(uri)\n                return\n            }\n            this.loadedURIs.push(uri)\n\n            const script = document.createElement('script')\n            script.src = uri\n            console.log('[Loading Library from ' + uri + ']')\n            script.onload = function () {\n                console.log('[Loaded ' + uri + ']')\n                didLoad(uri)\n            }\n            document.head.appendChild(script)\n        })\n    }\n\n    private loadURIs(libs: string[], whenLoaded: () => void): void {\n        //make sure we serialize all loads !!!\n        if (this.isLoadingLibs) {\n            //queue the load\n            this.afterLoadFinished.push(() => {\n                this.loadURIs(libs, whenLoaded)\n            })\n            return\n        }\n        this.isLoadingLibs = true\n\n        const self = this\n\n        const loadLib = function (uris, idx) {\n            if (idx >= uris.length) {\n                whenLoaded()\n\n                //something tried to queue another load\n                // => dequeu it and run it now\n                self.isLoadingLibs = false\n                if (self.afterLoadFinished.length > 0) {\n                    const next = self.afterLoadFinished.shift()\n                    if (next) {\n                        next()\n                    }\n                }\n                return\n            }\n\n            const uri = uris[idx]\n\n            //already loaded\n            if (self.loadedURIs.indexOf(uri) >= 0) {\n                loadLib(uris, idx + 1)\n                return\n            }\n            self.loadedURIs.push(uri)\n\n            const script = document.createElement('script')\n            script.src = uri\n            console.log('[Loading Library from ' + uri + ']')\n            script.onload = function () {\n                loadLib(uris, idx + 1)\n            }\n            document.head.appendChild(script)\n        }\n\n        loadLib(libs, 0)\n    }\n}\n\nexport const compilerRegistry = new CompilerRegistry()\n\n//load all available compilers\nimport { JavaCompilers } from '../compiler/java'\ncompilerRegistry.register(JavaCompilers)\n\nimport { JavascriptCompilers } from '../compiler/javascript'\ncompilerRegistry.register(JavascriptCompilers)\n\nimport { PythonCompilers } from '../compiler/python'\ncompilerRegistry.register(PythonCompilers)\n\nimport { GLSLCompilers } from '../compiler/glsl'\ncompilerRegistry.register(GLSLCompilers)\n\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/chart.js/3.6.0/chart.min.js'],\n    'chart',\n    '3.6.0',\n    'Chart.JS',\n    false,\n    1000,\n    (sandbox) => {\n        sandbox.Chart = (window as any).Chart\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/three.min.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/controls/OrbitControls.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/controls/TrackballControls.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/Detector.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/helper.r0.js',\n    ],\n    '3js',\n    'r0',\n    'Three.JS',\n    false,\n    2000,\n    (sandbox) => {\n        sandbox.THREE = (window as any).THREE\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/three.js/r140/three.min.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r140/js/controls/OrbitControls.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r140/js/controls/TrackballControls.js',\n    ],\n    '3js',\n    'r140',\n    'Three.JS',\n    false,\n    2000,\n    (sandbox) => {\n        sandbox.THREE = (window as any).THREE\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/lil-gui/0.16/lil-gui.min.js'],\n    'lil-gui',\n    '0.16',\n    'lil GUI',\n    false,\n    2000,\n    (sandbox) => {\n        sandbox.lil = (window as any).lil\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/phaser/3.54.0/phaser.min.js',\n        Vue.$CodeBlock.baseurl + 'js/phaser/3.54.0/support.js',\n    ],\n    'phaser',\n    '3.54',\n    'Phaser',\n    false,\n    3000,\n    (sandbox: any) => {\n        sandbox.Phaser = (window as any).Phaser\n        sandbox.IsometricMapGame = (window as any).IsometricMapGame\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/5.16.0/d3.v5.min.js',\n        Vue.$CodeBlock.baseurl + 'js/d3/5.3.8/helper.js',\n    ],\n    'd3',\n    '5.16.0',\n    'D3',\n    false,\n    4210,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/5.3.8/d3.v5.min.js',\n        Vue.$CodeBlock.baseurl + 'js/d3/5.3.8/helper.js',\n    ],\n    'd3',\n    '5.3.8',\n    'D3',\n    false,\n    4200,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/6.7.0/d3.v6.min.js',\n        //Vue.$CodeBlock.baseurl + 'js/d3/6.2.0/helper.v6.js'\n    ],\n    'd3',\n    '6.7.0',\n    'D3',\n    false,\n    4010,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/d3/7.1.1/d3.v7.min.js'],\n    'd3',\n    '7.1.1',\n    'D3',\n    false,\n    4100,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\n\ncompilerRegistry.addUpdateMapping('d3', '5.13.4', '5.16.0')\ncompilerRegistry.addUpdateMapping('d3', '6.2.0', '6.7.0')\n\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/brain.js/2.0.0-alpha/brain-browser.min.js'],\n    'brain',\n    '2.0.0',\n    'Brain.JS',\n    false,\n    5000,\n    (sandbox) => {\n        sandbox.brain = (window as any).brain\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/tensorflow.js/2.0.0/tf.min.js',\n        //Vue.$CodeBlock.baseurl + 'js/tensorflow.js/2.0.0/tfjs-vis.umd.min.js',\n    ],\n    'tf',\n    '2.0.0',\n    'TensorFlow.JS',\n    false,\n    6000,\n    (sandbox) => {\n        sandbox.tf = (window as any).tf\n        //sandbox.tfvis = (window as any).tfvis\n    }\n)\n\nexport default compilerRegistry\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    IParsedError,\n    ILegacyPlaygroundObject,\n    IPlaygroundObject,\n    IProcessedScriptOutput,\n    IScriptOutputObject,\n    IScriptBlock,\n} from '@/lib/IScriptBlock'\nimport { ICompileAndRunArguments } from './ICompilerRegistry'\nimport compilerRegistry from './CompilerRegistry'\nimport { IBlockData } from './ICodeBlocks'\ninterface ICodeTemplate {\n    prefix: string\n    postfix: string\n}\n\nconst legacyCodeTemplate: ICodeTemplate = {\n    prefix: 'let editors=[]; $(\".CodeMirror\").toArray().forEach(cm =>  {if (!cm.CodeMirror.getTextArea().hasAttribute(\"is-editmode\")) editors[cm.CodeMirror.getTextArea().id] = cm.CodeMirror}); return function(){ return {o:',\n    postfix: '}.o}.call({})',\n}\nconst v101CodeTemplate: ICodeTemplate = {\n    prefix: '\"use strict\"; return function(){ return {o:',\n    postfix: '}.o}.call({})',\n}\nconst v102CodeTemplate: ICodeTemplate = {\n    prefix: 'with(sandbox) { return function(){ return {o:',\n    postfix: '}.o}.call({})}',\n}\n\nconst jsErrorParser = function (e: any, templ?: ICodeTemplate): IParsedError {\n    console.error(e)\n    let line: number | undefined = undefined\n    let column: number | undefined = undefined\n    if (e.line) {\n        line = e.line\n    } else if (e.lineNumber) {\n        line = e.lineNumber\n    }\n\n    if (e.column) {\n        column = e.column\n    } else if (e.columnNumber) {\n        column = e.columnNumber\n    }\n\n    if (line === undefined) {\n        const lines = e.stack.split('\\n')\n        if (lines.length > 1) {\n            const regex = /<anonymous>:(\\d+):(\\d+)/gm\n            let m: RegExpExecArray | null = null\n            if ((m = regex.exec(lines[1])) !== null) {\n                line = Number(m[1]) - 1\n                column = Number(m[2]) - 1\n            }\n        }\n    }\n\n    if (line !== undefined) {\n        line--\n        if (line == 1) {\n            if (column === undefined) {\n                column = 0\n            }\n            if (templ !== undefined) {\n                column -= templ.prefix.length\n            }\n        }\n    }\n    return { line: line!, column: column!, msg: e.message }\n}\nVue.prototype.$jsErrorParser = jsErrorParser\n\nconst sandboxProxies = new WeakMap()\n\nfunction compileCode(src: string) {\n    const code = new Function('sandbox', src)\n\n    return function (sandbox: any) {\n        compilerRegistry.addLoadedToSandbox(sandbox)\n        sandbox.$ = (input: any) => {\n            if (typeof input === 'string') {\n                console.error(\n                    `You can not use JQuerry globally from this context. Please try scope.find('${input}') instead.`\n                )\n            } else {\n                if (input.getAttribute === undefined) {\n                    console.error('You may only wrap DOMElements using $')\n                    return\n                }\n                return $(input)\n            }\n        }\n\n        //const oldFetch = fetch\n        const oldRequestAnimationFrame = requestAnimationFrame\n        // sandbox.fetch = (uri, options) => {\n        //     console.i('Fetching', uri, 'from Sandbox')\n        //     return oldFetch(uri, options)\n        // }\n        sandbox.requestAnimationFrame = (callback) => {\n            oldRequestAnimationFrame(callback)\n        }\n        sandbox.jQuery = sandbox.$\n        sandbox.console = console\n        sandbox.Promise = Promise\n        sandbox.Number = Number\n        sandbox.Map = Map\n        sandbox.String = String\n        sandbox.Array = Array\n        sandbox.RegExp = RegExp\n        sandbox.Math = Math\n        sandbox.document = {\n            create$: (what: any) => $(document.createElement(what)),\n            createElement: (what: any) => document.createElement(what),\n            createTextNode: (what: any) => document.createTextNode(what),\n            getElementById: (id: String) =>\n                console.error(\n                    `document.getElementById is not supported. Please use scope.find('#${id}') instead`\n                ),\n            getElementsByTagName: (tag: String) =>\n                console.error(\n                    `document.getElementsByTagName is not supported. Please use scope.find('${tag}') instead`\n                ),\n            getElementsByClassName: (cl: String) =>\n                console.error(\n                    `document.getElementsByClassName is not supported. Please use scope.find('.${cl}') instead`\n                ),\n        }\n        sandbox.window = {\n            devicePixelRatio: window.devicePixelRatio,\n        }\n\n        if (!sandboxProxies.has(sandbox)) {\n            const sandboxProxy = new Proxy(sandbox, { has, get })\n            sandboxProxies.set(sandbox, sandboxProxy)\n        }\n        return code(sandboxProxies.get(sandbox))\n    }\n}\n\nfunction has(target: any, key: any) {\n    return true\n}\n\nfunction get(target: any, key: any) {\n    if (key === Symbol.unscopables) {\n        return undefined\n    }\n    return target[key]\n}\n\nexport class ScriptBlock implements IScriptBlock {\n    public err: IParsedError[] = []\n\n    private src: string | undefined = undefined\n    private fkt: Function | undefined = undefined\n    private obj: IPlaygroundObject | ILegacyPlaygroundObject | undefined = undefined\n    private didInit: boolean = false\n    constructor(script: string, public version: string) {\n        //this.rebuild(script)\n        this.didInit = false\n        this.src = script\n        this.obj = {\n            init: () => {\n                console.error('FAILED INIT ATTEMPT')\n            },\n            update: () => {\n                console.error('FAILED UPDATE ATTEMPT')\n                return undefined\n            },\n        }\n    }\n\n    requestsOriginalVersion() {\n        return this.version == '100' || this.version == '' || this.version === undefined\n    }\n\n    invalidate() {\n        this.obj = undefined\n    }\n\n    rebuild(code?: string) {\n        if (code !== undefined) {\n            try {\n                this.err = []\n                console.i('!!! REBUILDING !!!')\n                this.src = code\n\n                //wrap the users code in a helper object, otherwise\n                //evaluating would fail if the code does not start in the first line\n\n                //we also return a function to make and call (.call({})) it with a clean object\n                //to ensure that 'this' is will allways be in a defined state inside the users code\n                if (this.requestsOriginalVersion()) {\n                    this.fkt = new Function(\n                        legacyCodeTemplate.prefix + code + legacyCodeTemplate.postfix\n                    )\n                } else if (this.version === '101') {\n                    this.fkt = new Function(\n                        v101CodeTemplate.prefix + code + v101CodeTemplate.postfix\n                    )\n                } else {\n                    this.fkt = compileCode(\n                        v102CodeTemplate.prefix + code + v102CodeTemplate.postfix\n                    )\n                }\n\n                this.obj = this.fkt({})\n                this.dequeueIncoming()\n            } catch (e) {\n                this.pushError(e)\n            }\n        } else if (this.fkt !== undefined) {\n            this.obj = this.fkt({})\n            this.dequeueIncoming()\n        }\n    }\n\n    pushError(e: any) {\n        this.err.push(jsErrorParser(e))\n    }\n\n    private lazyInit() {\n        if (!this.didInit) {\n            this.obj = undefined\n            this.rebuild(this.src)\n            this.didInit = true\n        }\n    }\n\n    addArgumentsTo(args: object | string[]) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.addArgumentsTo) {\n                try {\n                    o.addArgumentsTo(args)\n                } catch (e) {\n                    this.pushError(e)\n                }\n            }\n        }\n    }\n\n    _runConfig: null | ICompileAndRunArguments = null\n    get runConfig(): null | ICompileAndRunArguments {\n        return this._runConfig\n    }\n    set runConfig(cfg: null | ICompileAndRunArguments) {\n        if (this._runConfig) {\n            this._runConfig.dequeuePostponedMessages = function () {}\n        }\n        this._runConfig = cfg\n        if (this._runConfig) {\n            const self = this\n            this._runConfig.dequeuePostponedMessages = function () {\n                const msg = [...self.queuedMessages]\n                self.queuedMessages = []\n                msg.forEach((args) => self.doPostMessageToWorker(args.c, args.d))\n            }\n            if (this._runConfig.postMessageFunction !== null) {\n                this._runConfig.dequeuePostponedMessages()\n            }\n        }\n    }\n    queuedMessages: any[] = []\n    doPostMessageToWorker(cmd: string, data: any) {\n        if (data === undefined) {\n            data = {}\n        }\n        if (\n            this._runConfig !== undefined &&\n            this._runConfig !== null &&\n            this._runConfig.postMessageFunction !== null\n        ) {\n            cmd = `d-${cmd}`\n            data.command = cmd\n            console.i('MESSAGE - Posted to Worker', cmd, data)\n            this._runConfig.postMessageFunction(cmd, data)\n        } else {\n            console.i('MESSAGE - Posted to Queue', cmd)\n            this.queuedMessages.push({ c: cmd, d: data })\n        }\n    }\n    queuedIncomingMessages: any[] = []\n    didReceiveMessage(cmd: string, data: any) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.onMessage === undefined) {\n                console.i('MESSAGE - Received to Queue', cmd)\n                this.queuedIncomingMessages.push({ c: cmd, d: data })\n            } else {\n                console.i('MESSAGE - Received from Worker', cmd, data)\n                o.onMessage(cmd, data)\n            }\n        } else {\n            console.i('MESSAGE - Received to Queue', cmd)\n            this.queuedIncomingMessages.push({ c: cmd, d: data })\n        }\n    }\n    dequeueIncoming() {\n        console.i('MESSAGE - Dequeue Incoming')\n        const msg = [...this.queuedIncomingMessages]\n        this.queuedIncomingMessages = []\n        msg.forEach((args) => this.didReceiveMessage(args.c, args.d))\n    }\n\n    beforeStart() {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.beforeStart) {\n                console.i('MESSAGE - beforeStart')\n                o.beforeStart()\n            }\n        }\n    }\n\n    whenFinished(args: string[] | object, resultData?: object | any[]) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.whenFinished) {\n                console.i('MESSAGE - whenFinished')\n                o.whenFinished(args, resultData)\n            }\n        }\n    }\n\n    DATA: any[] = []\n    resetBlockData(blocks: IBlockData[] | undefined) {\n        this.DATA = []\n        if (blocks !== undefined) {\n            this.addBlockDataFromBlocks(blocks)\n        }\n    }\n\n    addBlockDataFromBlocks(blocks: IBlockData[]): void {\n        blocks.filter((b) => b.type == 'DATA').forEach((b) => this.addBlockDataFromBlock(b))\n    }\n    addBlockDataFromBlock(block: IBlockData): void {\n        this.addBlockData(block.name, block.content)\n    }\n\n    addBlockData(name: string, content: string): void {\n        try {\n            this.DATA[name] = JSON.parse(content)\n        } catch (e) {\n            this.DATA[name] = undefined\n            console.error(`Unable to parse JSON from '${name}'`, e)\n        }\n    }\n    RESOURCES: any[] | undefined = undefined\n    resetResources() {\n        this.RESOURCES = undefined\n    }\n    setupDOM(canvasElement: JQuery<HTMLElement>, scope: JQuery<HTMLElement>): void {\n        const self = this\n        this.queuedMessages = []\n        this.queuedIncomingMessages = []\n        this.lazyInit()\n        console.i('MESSAGE - Reset Queue from Init')\n        if (this.obj === undefined) {\n            return\n        }\n\n        try {\n            if (!this.requestsOriginalVersion()) {\n                const o = this.obj as IPlaygroundObject\n                o.DATA = this.DATA\n\n                console.i('!!! SETUP CANVAS !!!')\n                if (o.setupDOM) {\n                    let outputElement: JQuery<HTMLElement> | undefined = undefined\n                    if (scope === undefined || scope.length === 0) {\n                        scope = canvasElement.parents('.codeblocks')\n                    }\n                    if (scope !== undefined) {\n                        outputElement = scope.find('div.runner pre.output')\n                    }\n                    o.setupDOM(canvasElement, outputElement, scope)\n                }\n            }\n        } catch (e) {\n            this.pushError(e)\n        }\n    }\n    init(canvasElement: JQuery<HTMLElement>, scope: JQuery<HTMLElement>, runner: () => void): void {\n        const self = this\n        this.queuedMessages = []\n        this.queuedIncomingMessages = []\n        this.lazyInit()\n        console.i('MESSAGE - Reset Queue from Init')\n        if (this.obj === undefined) {\n            return\n        }\n        try {\n            if (this.requestsOriginalVersion()) {\n                console.i('!!! INIT CANVAS (original) !!!')\n                const o = this.obj as ILegacyPlaygroundObject\n                o.init(canvasElement)\n            } else {\n                const o = this.obj as IPlaygroundObject\n                o.DATA = this.DATA\n                if (o.getResources) {\n                    if (self.RESOURCES === undefined) {\n                        console.i('!!! FETCHING RESOURCES !!!')\n                        self.RESOURCES = []\n                        const requests = o.getResources().map((res, idx, array) => {\n                            return fetch(res.uri)\n                                .then((response) => {\n                                    if (!response.ok) {\n                                        throw new Error('Unable to retrive ' + res.uri)\n                                    }\n                                    if (res.type === 'json') {\n                                        return response.json()\n                                    } else if (res.type === 'text') {\n                                        return response.text()\n                                    } else if (res.type === 'image') {\n                                        return response.blob()\n                                    } else if (res.type === 'buffer') {\n                                        return response.arrayBuffer()\n                                    }\n                                    return response.blob()\n                                })\n                                .then((data) => {\n                                    if (res.type === 'image') {\n                                        data = URL.createObjectURL(data)\n                                    }\n                                    if (self.RESOURCES === undefined) {\n                                        self.RESOURCES = []\n                                    }\n                                    self.RESOURCES[idx] = data\n\n                                    if (res.name) {\n                                        self.RESOURCES[res.name] = data\n                                        const a = o as any\n                                        a[res.name] = data\n                                    }\n                                    return data\n                                })\n                        })\n\n                        Promise.all(requests)\n                            .then((values) => {\n                                if (self.RESOURCES === undefined) {\n                                    self.RESOURCES = []\n                                }\n                                o.RESOURCES = self.RESOURCES\n                                self._runInit(canvasElement, scope, runner)\n                            })\n                            .catch((e) => console.error(e))\n                    } else {\n                        console.i('!!! READING CACHED RESOURCES !!!')\n                        o.RESOURCES = self.RESOURCES\n                        o.getResources().forEach((res) => {\n                            if (res.name) {\n                                const a = o as any\n                                if (self.RESOURCES !== undefined) {\n                                    a[res.name] = self.RESOURCES[res.name]\n                                }\n                            }\n                        })\n                        self._runInit(canvasElement, scope, runner)\n                    }\n                } else {\n                    o.RESOURCES = []\n                    this._runInit(canvasElement, scope, runner)\n                }\n            }\n        } catch (e) {\n            this.pushError(e)\n        }\n    }\n\n    _runInit(\n        canvasElement: JQuery<HTMLElement>,\n        scope: JQuery<HTMLElement>,\n        runner: () => void\n    ): void {\n        console.i('!!! INIT CANVAS !!!')\n\n        const arunner: any = runner\n        arunner.run = runner\n        arunner.postMessage = this.doPostMessageToWorker.bind(this)\n\n        let outputElement: JQuery<HTMLElement> | undefined = undefined\n        if (scope === undefined || scope.length === 0) {\n            scope = canvasElement.parents('.codeblocks')\n        }\n        if (scope !== undefined) {\n            outputElement = scope.find('div.runner pre.output')\n        }\n        if (outputElement === undefined) {\n            console.error('[Internal Error] No Output Element found!')\n            this.pushError('[Internal Error] No Output Element found!')\n        } else {\n            const o = this.obj as IPlaygroundObject\n            o.init(canvasElement, outputElement, scope, runner)\n        }\n    }\n\n    reset(canvasElement: JQuery<HTMLElement>): void {\n        this.queuedMessages = []\n        this.queuedIncomingMessages = []\n        this.lazyInit()\n        console.i('MESSAGE - Reset Queue from Reset')\n        if (this.obj && this.obj.reset && !this.requestsOriginalVersion()) {\n            this.obj.reset(canvasElement)\n        }\n    }\n\n    update(\n        outputObject: IScriptOutputObject,\n        canvasElement: JQuery<HTMLElement>\n    ): string | undefined {\n        this.lazyInit()\n        if (this.obj === undefined) {\n            return outputObject.output\n        }\n        try {\n            if (this.obj.update) {\n                //console.log(this.obj.update.length, outputObject, this.obj);\n                //this is the old behaviour\n                if (this.obj.update.length == 2 || this.requestsOriginalVersion()) {\n                    const o = this.obj as ILegacyPlaygroundObject\n                    if (outputObject.processedOutput.type == 'json') {\n                        console.i('!!! UPDATE (org, json) !!!')\n                        return o.update(outputObject.processedOutput.json, canvasElement)\n                    } else {\n                        console.i('!!! UPDATE (org, text) !!!')\n                        return o.update(outputObject.output, canvasElement)\n                    }\n                } else {\n                    const o = this.obj as IPlaygroundObject\n                    console.i('!!! UPDATE (v' + this.version + ')!!!')\n                    return o.update(\n                        outputObject.processedOutput.text,\n                        outputObject.processedOutput.json,\n                        canvasElement,\n                        outputObject.outputElement\n                    )\n                }\n            }\n        } catch (e) {\n            this.pushError(e)\n        }\n        return outputObject.initialOutput\n    }\n\n    onParseError(initialOutput: string, parseError: string): boolean {\n        this.lazyInit()\n        if (this.obj === undefined) {\n            return false\n        }\n        try {\n            if (this.obj.onParseError) {\n                this.obj.onParseError(initialOutput, parseError)\n            } else {\n                console.error(parseError)\n                return false\n            }\n        } catch (e) {\n            this.pushError(e)\n            return false\n        }\n        return true\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-layout',{staticStyle:{\"min-height\":\"0\"},attrs:{\"view\":\"hHh lpR fFf\"}},[_c('q-page-container',[_c('CodeBlocks',{attrs:{\"blockInfo\":_vm.blocks}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"codeblocks \" + _vm.addonClass + \"  \" + _vm.backgroundColorClass + \" q-mx-sm q-mb-md\"),attrs:{\"data-question\":_vm.blockInfo.id,\"uuid\":_vm.blockInfo.uuid}},[_c('CodePanel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasBookmark && _vm.editMode),expression:\"hasBookmark && editMode\"}],attrs:{\"editMode\":_vm.editMode,\"visibleLines\":\"auto\",\"block\":_vm.panelBlock}}),(_vm.editMode)?_c('CodeBlocksSettings',{attrs:{\"options\":_vm.options},on:{\"compiler-change\":_vm.onCompilerChange,\"compiler-version-change\":_vm.onCompilerVersionChange,\"run-state-change\":_vm.onRunStateChange,\"continuous-compile-change\":_vm.onContinousCompileStateChange,\"message-passing-change\":_vm.onMessagePassingChange,\"keep-alive-change\":_vm.onKeepAliveChange,\"persistent-arguments-change\":_vm.onPersistentArgumentsChange,\"language-change\":_vm.onLanguageChange,\"character-limit-change\":_vm.onCharacterLimitChange,\"timeout-change\":_vm.onTimeoutChange,\"worker-libs-change\":_vm.onWorkerLibChange,\"dom-libs-change\":_vm.onDomLibChange,\"theme-change\":_vm.onThemeChange,\"output-parser-change\":_vm.onOutputParserChange}}):_vm._e(),_vm._l((_vm.blocks),function(block){return _c('CodeBlockContainer',{key:block.id,attrs:{\"block\":block,\"editMode\":_vm.editMode},on:{\"type-change\":_vm.onTypeChange,\"visible-lines-change\":_vm.onVisibleLinesChange,\"placement-change\":_vm.onPlacementChange,\"script-version-change\":_vm.onScriptVersionChange,\"move-up\":_vm.moveUp,\"move-down\":_vm.moveDown,\"remove-block\":_vm.removeBlock,\"auto-reset-change\":_vm.onSetAutoReset,\"reload-resources-change\":_vm.onReloadResources,\"generate-template-change\":_vm.onSetGenerateTemplate,\"change-order\":_vm.onChangeOrder}},[(block.hasCode && block.type != 'BLOCKLY')?_c('CodeBlock',{attrs:{\"block\":block,\"theme\":_vm.themeForBlock(block),\"mode\":_vm.mimeType,\"visibleLines\":block.visibleLines,\"editMode\":_vm.editMode,\"readonly\":_vm.readonly,\"tagSet\":_vm.activeTagSet,\"emitWhenTypingInViewMode\":_vm.continuousCompile},on:{\"ready\":_vm.blockBecameReady,\"build\":_vm.run,\"code-changed-in-view-mode\":_vm.onViewCodeChange}}):(block.type == 'PLAYGROUND')?_c('CodePlayground',{attrs:{\"block\":block,\"editMode\":_vm.editMode,\"finalOutputObject\":_vm.finalOutputObject,\"theme\":_vm.themeForBlock(block),\"tagSet\":_vm.activeTagSet,\"eventHub\":_vm.eventHub},on:{\"changeOutput\":_vm.onPlaygroundChangedOutput,\"ready\":_vm.blockBecameReady,\"run\":_vm.onRunFromPlayground}}):(block.type == 'TEXT')?_c('SimpleText',{attrs:{\"block\":block,\"previewValue\":block.actualContent(),\"editMode\":_vm.editMode,\"name\":(\"block[\" + (block.parentID) + \"][\" + (block.id) + \"]\"),\"scopeUUID\":block.scopeUUID,\"tagSet\":_vm.activeTagSet,\"language\":_vm.language},on:{\"ready\":_vm.blockBecameReady},model:{value:(block.content),callback:function ($$v) {_vm.$set(block, \"content\", $$v)},expression:\"block.content\"}}):(block.type == 'BLOCKLY')?_c('Blockly',{attrs:{\"block\":block,\"mode\":_vm.mimeType,\"theme\":_vm.themeForBlock(block),\"editMode\":_vm.editMode,\"readonly\":_vm.readonly,\"tagSet\":_vm.activeTagSet,\"emitWhenTypingInViewMode\":_vm.continuousCompile,\"blockInfo\":_vm.blockInfo},on:{\"code-changed-in-view-mode\":_vm.onViewCodeChange}}):_vm._e(),(block.type == 'REPL')?_c('CodeREPL',{attrs:{\"block\":block,\"eventHub\":_vm.eventHub,\"blockInfo\":_vm.blockInfo,\"isReady\":_vm.isReady,\"canStop\":_vm.canStop,\"showGlobalMessages\":_vm.showGlobalMessages,\"globalStateMessage\":_vm.$compilerState.globalStateMessage},on:{\"ready\":_vm.blockBecameReady,\"run\":_vm.run,\"stop\":_vm.stop}}):(block.type == 'DATA')?_c('DataBlock',{attrs:{\"block\":block,\"editMode\":_vm.editMode,\"finalOutputObject\":_vm.finalOutputObject,\"theme\":_vm.themeForBlock(block),\"tagSet\":_vm.activeTagSet,\"eventHub\":_vm.eventHub},on:{\"ready\":_vm.blockBecameReady}}):_vm._e()],1)}),(_vm.editMode)?_c('div',{staticClass:\"row justify-end\"},[_c('div',[_c('q-btn',{attrs:{\"push\":\"\",\"color\":\"green\"},on:{\"click\":_vm.addNewBlock}},[_vm._v(_vm._s(_vm.$t('CodeBlocks.AddBlock'))+\" \"),_c('q-icon',{staticClass:\"q-ml-sm\",attrs:{\"name\":\"library_add\"}})],1)],1)]):_vm._e(),(_vm.canRun)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasREPL),expression:\"!hasREPL\"}],class:(\"runner \" + (_vm.editMode ? 'q-pt-lg q-mx-lg' : '')),attrs:{\"id\":\"runContainer\",\"data-question\":_vm.blockInfo.id}},[_c('div',{staticClass:\"row runnerState\",attrs:{\"id\":\"stateBox\",\"data-question\":_vm.blockInfo.id}},[_c('q-btn',{staticClass:\"white--text\",staticStyle:{\"border-radius\":\"0px\"},attrs:{\"id\":\"allow_run_button\",\"loading\":!_vm.isReady,\"disabled\":!_vm.isReady,\"color\":\"primary\",\"ripple\":{ center: true },\"data-question\":_vm.blockInfo.id},on:{\"click\":_vm.run}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocks.run'))+\" \"),_c('q-icon',{attrs:{\"right\":\"\",\"dark\":\"\",\"name\":\"play_arrow\"}}),(_vm.editMode)?_c('q-tooltip',{attrs:{\"delay\":200}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.$t('CodeBlocks.run_hint'))}})]):_vm._e()],1),_c('div',{staticClass:\"animated fadeIn\"}),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canStop),expression:\"canStop\"}],staticClass:\"q-pl-sm\"},[_c('q-btn',{staticStyle:{\"border-radius\":\"0px\"},attrs:{\"id\":\"cancel_button\",\"color\":\"negative\",\"ripple\":{ center: true },\"data-question\":_vm.blockInfo.id},on:{\"click\":_vm.stop}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocks.stop'))+\" \"),_c('q-icon',{attrs:{\"right\":\"\",\"dark\":\"\",\"name\":\"stop\"}})],1)],1)]),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showGlobalMessages),expression:\"showGlobalMessages\"}],staticClass:\"globalState col-grow\",staticStyle:{\"align-self\":\"center\"}},[_c('div',{attrs:{\"id\":\"message\"},domProps:{\"innerHTML\":_vm._s(_vm.$compilerState.globalStateMessage)}})])])],1),_c('q-slide-transition',[(_vm.hasOutput)?_c('pre',{ref:\"output\",staticClass:\"output\",attrs:{\"id\":((_vm.blockInfo.id) + \"Output\")}},[_c('div',{attrs:{\"id\":\"out\"},domProps:{\"innerHTML\":_vm._s(_vm.outputHTML)}})]):_vm._e()])],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-container\",attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id,\"uuid\":_vm.block.uuid}},[(_vm.editMode)?_c('q-card',{class:(\"q-mx-none q-my-xs q-pa-none editModeBlockContainer \" + _vm.colorClass + \" \" + _vm.bgClass)},[_c('q-card-section',{staticClass:\"q-mb-none q-pb-sm q-pt-sm\"},[_c('div',{staticClass:\"row q-my-none q-py-none\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 col-sm-4 col-md-4 q-my-none q-py-none\"},[_c('q-select',{staticStyle:{\"margin-top\":\"-5px !important\"},attrs:{\"options\":_vm.types,\"dense\":\"\"},scopedSlots:_vm._u([{key:\"after\",fn:function(){return [_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showTypeInfoDialog}})]},proxy:true}],null,false,3671508059),model:{value:(_vm.typeObj),callback:function ($$v) {_vm.typeObj=$$v},expression:\"typeObj\"}})],1),_c('div',{staticClass:\"col-grow\"}),_c('div',{staticClass:\"order-xs-first order-sm-last col-xs-12 col-sm-8 col-md-5 q-my-none q-py-none rightContentContainerHeader\"},[(_vm.hasExtendedSettings)?_c('q-btn',{attrs:{\"icon\":\"settings\",\"color\":\"blue-7\",\"push\":\"\",\"dense\":\"\"}},[_c('q-popup-proxy',[(_vm.canSetLineNumbers)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pt-none q-pb-md\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Display'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Lines'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\",domProps:{\"innerHTML\":_vm._s(_vm.$l('CodeBlockContainer.Lines_detail'))}})]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{staticStyle:{\"width\":\"132px\"},attrs:{\"rules\":[_vm.validNumber],\"maxlength\":\"4\"},model:{value:(_vm.visibleLines),callback:function ($$v) {_vm.visibleLines=$$v},expression:\"visibleLines\"}})],1)]),(_vm.canHaveAlternativeContent)?_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Prepopulate'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\",attrs:{\"lines\":\"2\"}},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Prepopulate_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-toggle',{model:{value:(_vm.hasAltComntent),callback:function ($$v) {_vm.hasAltComntent=$$v},expression:\"hasAltComntent\"}})],1)]):_vm._e()]):_vm._e(),(_vm.isVersionedPlayground)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pt-none q-pb-md\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Behaviour'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.ScriptV'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.ScriptV_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-select',{attrs:{\"options\":_vm.scriptVersions},model:{value:(_vm.scriptVersionObj),callback:function ($$v) {_vm.scriptVersionObj=$$v},expression:\"scriptVersionObj\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.AutoReset'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.AutoReset_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-toggle',{model:{value:(_vm.shouldAutoReset),callback:function ($$v) {_vm.shouldAutoReset=$$v},expression:\"shouldAutoReset\"}})],1)]),(_vm.canLoadResources)?_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.ReloadResources'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.ReloadResources_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-toggle',{model:{value:(_vm.shouldReloadResources),callback:function ($$v) {_vm.shouldReloadResources=$$v},expression:\"shouldReloadResources\"}})],1)]):_vm._e(),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.GenerateTemplate'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.GenerateTemplate_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-toggle',{model:{value:(_vm.shouldGenerateTemplate),callback:function ($$v) {_vm.shouldGenerateTemplate=$$v},expression:\"shouldGenerateTemplate\"}})],1)])]):_vm._e(),(_vm.canDefinePlacement && _vm.shouldGenerateTemplate)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pt-none q-pb-md\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Positioning'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md q-pb-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Width'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Width_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{attrs:{\"maxlength\":\"7\",\"dense\":\"\"},model:{value:(_vm.width),callback:function ($$v) {_vm.width=$$v},expression:\"width\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md q-pb-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Height'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Height_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{attrs:{\"maxlength\":\"7\",\"dense\":\"\"},model:{value:(_vm.height),callback:function ($$v) {_vm.height=$$v},expression:\"height\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Alignment'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Alignment_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-select',{attrs:{\"options\":_vm.alignments,\"dense\":\"\"},model:{value:(_vm.align),callback:function ($$v) {_vm.align=$$v},expression:\"align\"}})],1)])]):_vm._e()])],1):_vm._e(),_c('q-btn',{staticClass:\"q-ml-md q-mr-xs\",attrs:{\"disable\":!_vm.canMoveUp,\"icon\":\"arrow_drop_up\",\"push\":\"\",\"dense\":\"\",\"color\":\"orange-6\",\"ripple\":{ center: true }},on:{\"click\":_vm.moveUp}}),_c('div',{staticClass:\"inlined-input q-pl-sm q-pr-md q-m-none\",staticStyle:{\"width\":\"80px\"}},[_c('q-select',{staticStyle:{\"margin-top\":\"-5px !important\"},attrs:{\"options\":_vm.positions,\"dense\":\"\"},model:{value:(_vm.order),callback:function ($$v) {_vm.order=$$v},expression:\"order\"}})],1),_c('q-btn',{staticClass:\"q-mr-md\",attrs:{\"disabled\":!_vm.canMoveDown,\"icon\":\"arrow_drop_down\",\"push\":\"\",\"dense\":\"\",\"color\":\"orange-6\",\"ripple\":{ center: true }},on:{\"click\":_vm.moveDown}}),_c('q-btn',{staticClass:\"gt-xs q-mr-sm-sm q-mr-md-lg q-pr-sm\",attrs:{\"label\":_vm.$l('CodeBlockContainer.Delete'),\"icon\":\"warning\",\"push\":\"\",\"dense\":\"\",\"color\":\"red-6\",\"right\":\"\",\"ripple\":{ center: true }},on:{\"click\":_vm.removeBlock}}),_c('q-btn',{staticClass:\"lt-sm q-mr-lg q-pr-none\",attrs:{\"icon\":\"warning\",\"push\":\"\",\"dense\":\"\",\"color\":\"red-6\",\"right\":\"\",\"ripple\":{ center: true }},on:{\"click\":_vm.removeBlock}}),_c('q-btn',{staticStyle:{\"margin-right\":\"-9px\"},attrs:{\"icon\":_vm.expanded ? 'expand_less' : 'expand_more',\"color\":\"primary\",\"small\":\"\",\"flat\":\"\",\"round\":\"\"},on:{\"click\":_vm.toggleExpanded}})],1)]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.serializedOptions),expression:\"serializedOptions\"}],staticClass:\"blockoptions\",attrs:{\"name\":(\"block_options[\" + (this.block.parentID) + \"][\" + (this.block.id) + \"]\")},domProps:{\"value\":(_vm.serializedOptions)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.serializedOptions=$event.target.value}}})]),_c('q-slide-transition',[(this.isExperimentalScriptVersion)?_c('q-card-section',[_c('q-banner',{staticClass:\"bg-orange text-white col-12 q-mt-xs q-mb-md\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"whatshot\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.ExperimentalScriptVersion'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.ExperimentalScriptVersionDesc'))+\" \")])],1)],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[(this.isDeprecatedScriptVersion)?_c('q-card-section',[_c('q-banner',{staticClass:\"bg-yellow-12 text-black col-12 q-mt-xs q-mb-md\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"hourglass_disabled\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.DeprecatedScriptVersion'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.DeprecatedScriptVersionDesc'))+\" \")])],1)],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[_c('q-card-section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}],staticClass:\"my-0 q-pt-1 q-pb-0\"},[_vm._t(\"default\")],2)],1)],1):_c('div',{staticClass:\"ma-0 pa-0\"},[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\n\nexport class PositioninLoadManager {\n    loadFromDatablock(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase): void {\n        block.width = bl.getAttribute('width')\n            ? bl.getAttribute('width')!\n            : inBlock.width\n            ? inBlock.width\n            : '100%'\n        block.height = bl.getAttribute('height')\n            ? bl.getAttribute('height')!\n            : inBlock.height\n            ? inBlock.height\n            : '300px'\n        block.align = bl.getAttribute('align')\n            ? bl.getAttribute('align')!\n            : inBlock.align\n            ? inBlock.align\n            : 'center'\n    }\n}\n\nexport const positioninLoadManager = new PositioninLoadManager()\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport {\n    IBlocklyToolbox,\n    BlockPrimaryColors,\n    BlockArgumentTypes,\n    IBlockDefinition\n} from '@/lib/IBlocklyHelper'\nimport { blocklyHelper } from '@/lib/BlocklyHelper'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\n\nexport class BlocklyLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'BLOCKLY'\n    }\n\n    private loadCustomBlocks(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const customBlocks = bl.querySelectorAll('script#customblocks') //bl.getElementsByTagName('CUSTOMBLOCKS')\n        if (customBlocks.length > 0) {\n            const str: string = customBlocks[0].innerHTML ? customBlocks[0].innerHTML : '{}'\n\n            try {\n                const arr: IBlockDefinition[] = new Function(blocklyHelper.prepareCode(str))()\n                arr.forEach(bl => {\n                    if (bl.JSON === undefined) {\n                        bl.JSON = {\n                            type: '',\n                            message0: '',\n                            args0: [],\n                            nextStatement: null,\n                            previousStatement: null,\n                            colour: ''\n                        }\n                    }\n                    if (bl.uuid === undefined || bl.uuid === '') {\n                        bl.uuid = uuid.v4()\n                    }\n\n                    if (bl.codeString === undefined && bl._code !== undefined) {\n                        bl.codeString = bl._code.toString()\n                    }\n                    bl._code = undefined\n                })\n                block.blockly.blocks = arr\n            } catch (e) {\n                console.error('Error parsing Blocks JSON', e)\n            }\n        }\n    }\n\n    private loadToolbox(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const toolboxInput = bl.getElementsByTagName('TOOLBOX')\n        if (toolboxInput.length > 0) {\n            const toolboxStr: string = toolboxInput[0].innerHTML ? toolboxInput[0].innerHTML : ''\n\n            if (toolboxStr === '') {\n                block.blockly.toolbox = this.defaultToolbox\n            } else {\n                try {\n                    const obj: IBlocklyToolbox = new Function(\n                        blocklyHelper.prepareCode(toolboxStr)\n                    )()\n                    obj.categories.forEach(c => {\n                        if (c.uuid === undefined || c.uuid === '') {\n                            c.uuid = uuid.v4()\n                        }\n                        if (c.color === undefined) {\n                            c.color = ''\n                        }\n                        c.items.forEach(i => {\n                            if (i.uuid === undefined || i.uuid === '') {\n                                i.uuid = uuid.v4()\n                            }\n                        })\n                    })\n                    block.blockly.toolbox = obj\n                } catch (e) {\n                    console.error('Error Parsing ToolboxJSON', e)\n                }\n            }\n        } else {\n            block.blockly.toolbox = this.defaultToolbox\n        }\n    }\n\n    private loadOverrideToolbox(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase\n    ) {\n        const toolboxOverride = bl.querySelectorAll('script#toolboxoverride') //bl.getElementsByTagName('TOOLBOXOVERRIDE')\n        if (toolboxOverride.length > 0) {\n            block.blockly.toolboxOverride = toolboxOverride[0].innerHTML\n                ? toolboxOverride[0].innerHTML\n                : ''\n\n            block.blockly.useOverride =\n                toolboxOverride[0].hasAttribute('use') &&\n                toolboxOverride[0].getAttribute('use') != 'false' &&\n                toolboxOverride[0].getAttribute('use') != '0'\n        }\n    }\n\n    private loadCode(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const codes = bl.querySelectorAll('script#content') //bl.getElementsByTagName('SCRIPT')\n\n        if (codes.length > 0) {\n            block.content = codes[0].innerHTML ? codes[0].innerHTML : ''\n        } else {\n            block.content = '<xml xmlns=\"https://developers.google.com/blockly/xml\"></xml>'\n        }\n        block.hasCode = true\n    }\n\n    private isTrue(val: any): boolean {\n        return val !== undefined && val != 'false' && val != '0'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        block.obj = null\n        positioninLoadManager.loadFromDatablock(bl, inBlock, block)\n\n        block.blockly.showControls = this.isTrue(inBlock.showControls)\n\n        this.loadCustomBlocks(bl, inBlock, block)\n        this.loadToolbox(bl, inBlock, block)\n        this.loadOverrideToolbox(bl, inBlock, block)\n        this.loadCode(bl, inBlock, block)\n    }\n\n    get defaultToolbox(): IBlocklyToolbox {\n        const tb: IBlocklyToolbox = {\n            categories: [\n                {\n                    uuid: uuid.v4(),\n                    name: 'Logic',\n                    color: '{!PrimaryColors.Logic}',\n                    items: [\n                        { _expanded: false, type: 'controls_if', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_compare', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_operation', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_negate', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_boolean', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_arithmetic', uuid: uuid.v4() },\n                        { _expanded: false, type: 'lists_create_empty', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Loops',\n                    color: '{!PrimaryColors.Loop}',\n                    items: [\n                        { _expanded: false, type: 'controls_repeat_ext', uuid: uuid.v4() },\n                        { _expanded: false, type: 'controls_whileUntil', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Math',\n                    color: '{!PrimaryColors.Math}',\n                    items: [\n                        { _expanded: false, type: 'math_number', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_arithmetic', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_single', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Text',\n                    color: '{!PrimaryColors.Text}',\n                    items: [\n                        { _expanded: false, type: 'text', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_length', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_print', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_join', uuid: uuid.v4() },\n                        { _expanded: false, type: 'colour_rgb', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Variables',\n                    custom: 'VARIABLE',\n                    color: '{!PrimaryColors.Variable}',\n                    items: []\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Procedures',\n                    custom: 'PROCEDURE',\n                    color: '{!PrimaryColors.Procedure}',\n                    items: []\n                }\n            ]\n        }\n        return tb\n    }\n}\n\nexport const blocklyLoader = new BlocklyLoadManager()\n\nexport default function(loaders: { [index: string]: IBlockloadManager }) {\n    loaders[blocklyLoader.blockTag] = blocklyLoader\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport { IListItemData } from '@/lib/ICompilerRegistry'\nimport { KnownBlockTypes } from '@/lib/ICodeBlocks'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { blocklyLoader } from '@/lib/BlockloadManagers/BlocklyManager'\nimport { IOnChangeOrder, IOnReloadResourcesInfo } from './CodeBlocks.vue'\n\n@Component\nexport default class CodeBlocksContainer extends Vue {\n    frank = 'hello'\n    settingsMenu: boolean = false\n    highlighted: boolean = false\n\n    get types(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.Canvas'),\n                value: KnownBlockTypes.PLAYGROUND,\n            },\n            {\n                label: this.$l('CodeBlockContainer.DataBlock'),\n                value: KnownBlockTypes.DATA,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Text'),\n                value: KnownBlockTypes.TEXT,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Hidden'),\n                value: KnownBlockTypes.BLOCKHIDDEN,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Static'),\n                value: KnownBlockTypes.BLOCKSTATIC,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Block'),\n                value: KnownBlockTypes.BLOCK,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Blockly'),\n                value: KnownBlockTypes.BLOCKLY,\n            },\n            {\n                label: this.$l('CodeBlockContainer.REPL'),\n                value: KnownBlockTypes.REPL,\n            },\n        ]\n    }\n    get alignments(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.Start'),\n                value: 'left',\n            },\n            {\n                label: this.$l('CodeBlockContainer.Center'),\n                value: 'center',\n            },\n            {\n                label: this.$l('CodeBlockContainer.End'),\n                value: 'right',\n            },\n        ]\n    }\n    get scriptVersions(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_1'),\n                value: '100',\n            },\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_2'),\n                value: '101',\n            },\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_3'),\n                value: '102',\n            },\n        ]\n    }\n\n    get positions(): IListItemData[] {\n        return this.block.appSettings.blocks.map((bl) => {\n            return {\n                label: `${bl.id + 1}`,\n                value: `${bl.id}`,\n            }\n        })\n    }\n\n    get isDeprecatedScriptVersion(): boolean {\n        return this.scriptVersion === '100'\n    }\n\n    get isExperimentalScriptVersion(): boolean {\n        return this.scriptVersion === '102'\n    }\n\n    // mounted() {\n    //     console.log('Mounted', this)\n    // }\n\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ default: false }) editMode!: boolean\n\n    validNumber(v: 'auto' | number): boolean | string {\n        //console.log(v, isNaN(v), v!='auto');\n        if (v != 'auto' && isNaN(v)) {\n            return \"Must be a valid Number or 'auto'.\"\n        }\n        return true\n    }\n    toggleExpanded(): void {\n        this.$CodeBlock.refreshAllCodeMirrors()\n        this.expanded = !this.expanded\n    }\n    moveUp(): void {\n        this.$emit('move-up', this.block.id)\n    }\n    moveDown(): void {\n        this.$emit('move-down', this.block.id)\n    }\n\n    get order(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.positions, this.block.id)\n    }\n\n    set order(val: IListItemData) {\n        const data: IOnChangeOrder = { id: this.block.id, newID: +val.value }\n        this.$emit('change-order', data)\n    }\n\n    showTypeInfoDialog(): void {\n        this.$q\n            .dialog({\n                title: this.$l('CodeBlockContainer.TypesCaption'),\n                message: this.$l('CodeBlockContainer.Types'),\n                html: true,\n                style: 'width:75%',\n            })\n            .onOk(() => {\n                // console.log('OK')\n            })\n            .onCancel(() => {\n                // console.log('Cancel')\n            })\n            .onDismiss(() => {\n                // console.log('I am triggered on both OK and Cancel')\n            })\n    }\n    removeBlock(): void {\n        const self = this\n        self.highlighted = true\n        this.$q\n            .dialog({\n                title: this.$l('CodeBlockContainer.Confirm'),\n                message: this.$l('CodeBlockContainer.DeleteQuestion'),\n                html: true,\n                ok: {\n                    push: true,\n                    color: 'negative',\n                    icon: 'warning',\n                },\n                cancel: {\n                    push: true,\n                    color: 'positive',\n                },\n                persistent: true,\n            })\n            .onOk(() => {\n                this.$emit('remove-block', this.block.id)\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                self.highlighted = false\n            })\n    }\n\n    get expanded(): boolean {\n        return this.block.expanded\n    }\n    set expanded(v: boolean) {\n        this.block.expanded = v\n    }\n\n    get canMoveUp(): boolean {\n        return this.block.id > 0\n    }\n    get canMoveDown(): boolean {\n        return !this.block.isLast\n    }\n\n    filteredCopy(objIn: object, extended: boolean = true, path: string = 'this'): object {\n        let obj = {}\n        Object.keys(objIn)\n            .filter(\n                (k) =>\n                    k.indexOf('appSettings') != 0 &&\n                    k.indexOf('$') != 0 &&\n                    k.indexOf('_') != 0 &&\n                    (!extended ||\n                        (k != 'obj' &&\n                            k != 'errors' &&\n                            k != 'content' &&\n                            k != 'firstLine' &&\n                            k != 'nextLine' &&\n                            k != 'lineCount' &&\n                            k != 'hasCode' &&\n                            k != 'isLast' &&\n                            k != 'readyCount' &&\n                            k != 'noContent' &&\n                            (this.block.type === KnownBlockTypes.BLOCKLY || k != 'blockly'))) &&\n                    k != 'uuid' &&\n                    k != 'scopeUUID' &&\n                    k != 'scopeSelector'\n            )\n            .forEach((k) => {\n                let v = objIn[k]\n                if (v !== undefined && v !== null && typeof v === 'object') {\n                    if (Array.isArray(v)) {\n                        v = v.map((item, nr) =>\n                            this.filteredCopy(item, false, path + '.' + k + `[${nr}]`)\n                        )\n                    } else {\n                        v = this.filteredCopy(v, false, path + '.' + k)\n                    }\n                }\n                obj[k] = v\n            })\n\n        return obj\n    }\n    get serializedOptions(): string {\n        return JSON.stringify(this.filteredCopy(this.block))\n    }\n    set serializedOptions(v: string) {}\n\n    get hasExtendedSettings(): boolean {\n        return (\n            this.type == KnownBlockTypes.PLAYGROUND ||\n            this.type == KnownBlockTypes.BLOCK ||\n            this.type == KnownBlockTypes.BLOCKLY\n        )\n    }\n    get isVersionedPlayground(): boolean {\n        return this.type == KnownBlockTypes.PLAYGROUND\n    }\n    get canSetLineNumbers() {\n        return this.type == KnownBlockTypes.BLOCK\n    }\n    get canHaveAlternativeContent() {\n        return this.type == KnownBlockTypes.BLOCK\n    }\n    get canDefinePlacement() {\n        return this.type == KnownBlockTypes.PLAYGROUND || this.type == KnownBlockTypes.BLOCKLY\n    }\n    get shouldAutoReset(): boolean {\n        return this.block.shouldAutoreset\n    }\n    set shouldAutoReset(v: boolean) {\n        this.$emit('auto-reset-change', {\n            shouldAutoreset: v,\n            id: this.block.id,\n        })\n    }\n    get shouldReloadResources(): boolean {\n        return this.block.shouldReloadResources\n    }\n    set shouldReloadResources(v: boolean) {\n        const data: IOnReloadResourcesInfo = {\n            shouldReloadResources: v,\n            id: this.block.id,\n        }\n        this.$emit('reload-resources-change', data)\n    }\n    get shouldGenerateTemplate(): boolean {\n        return this.block.generateTemplate\n    }\n    set shouldGenerateTemplate(v: boolean) {\n        this.$emit('generate-template-change', {\n            generateTemplate: v,\n            id: this.block.id,\n        })\n    }\n\n    get scriptVersion(): string {\n        if (\n            this.block === undefined ||\n            this.block.version === undefined ||\n            this.block.version == ''\n        ) {\n            return '100'\n        }\n        return this.block.version\n    }\n    get scriptVersionObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.scriptVersions, this.scriptVersion)\n    }\n    set scriptVersionObj(v: IListItemData) {\n        this.$emit('script-version-change', {\n            version: v.value,\n            id: this.block.id,\n        })\n    }\n\n    get canLoadResources(): boolean {\n        return +this.scriptVersion > 100\n    }\n\n    get hasAltComntent(): boolean {\n        return this.block.hasAlternativeContent\n    }\n    set hasAltComntent(v: boolean) {\n        if (v != this.block.hasAlternativeContent && v) {\n            this.$nextTick(() => {\n                setTimeout(function () {\n                    $('.CodeMirror')\n                        .toArray()\n                        .forEach((cm) => {\n                            const element = cm as any\n                            element.CodeMirror.refresh()\n                        })\n                }, 200)\n            })\n        }\n        this.block.hasAlternativeContent = v\n    }\n\n    get colorClass(): string {\n        const t = this.type\n        if (t == KnownBlockTypes.TEXT) {\n            return 'text-border'\n        } else if (t == KnownBlockTypes.PLAYGROUND) {\n            return 'playground-border'\n        } else if (t == KnownBlockTypes.DATA) {\n            return 'data-border'\n        } else if (t == KnownBlockTypes.BLOCK) {\n            return 'block-border'\n        } else if (t == KnownBlockTypes.BLOCKHIDDEN) {\n            return 'block-hidden-border'\n        } else if (t == KnownBlockTypes.BLOCKSTATIC) {\n            return 'block-static-border'\n        } else if (t == KnownBlockTypes.REPL) {\n            return 'repl-border'\n        }\n        return 'default-border'\n    }\n    get bgClass(): string {\n        if (this.highlighted) {\n            return 'highlightedCard'\n        }\n        return ''\n    }\n    get type(): KnownBlockTypes {\n        if (this.block.type == KnownBlockTypes.BLOCK) {\n            if (this.block.hidden) {\n                return KnownBlockTypes.BLOCKHIDDEN\n            }\n            if (this.block.static) {\n                return KnownBlockTypes.BLOCKSTATIC\n            }\n        }\n        return this.block.type\n    }\n    get typeObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.types, this.type)\n    }\n    set typeObj(val: IListItemData) {\n        const v = val.value\n        let ret = {\n            type: v.match(/([^-]*)/)![0],\n            hidden: v == KnownBlockTypes.BLOCKHIDDEN,\n            static: v == KnownBlockTypes.BLOCKSTATIC,\n            id: this.block.id,\n            hasCode: false,\n        }\n        ret.hasCode = ret.type == KnownBlockTypes.BLOCK\n\n        if (ret.type == KnownBlockTypes.PLAYGROUND && this.block.content === '' && this.editMode) {\n            if (this.block.scriptVersion == '100') {\n                this.block.content =\n                    '{\\n    init: function(canvasElement) {\\n\\n    },\\n    update: function(output, canvasElement) {\\n\\n    }\\n}'\n            } else {\n                this.block.content =\n                    '{\\n    init: function(canvasElement, outputElement, scope, runner) {\\n\\n    },\\n    addArgumentsTo(args) {},\\n    reset(canvasElement) {},\\n    update: function(txt, json, canvasElement, outputElement) {\\n\\n    }\\n}'\n            }\n        } else if (\n            ret.type == KnownBlockTypes.BLOCKLY &&\n            this.block.blockly.toolbox.categories.length === 0 &&\n            this.editMode\n        ) {\n            this.block.blockly.toolbox = blocklyLoader.defaultToolbox\n        }\n\n        this.$emit('type-change', ret)\n    }\n    get visibleLines(): number | 'auto' {\n        const v = this.block.visibleLines\n        if (v == 'auto' || isNaN(v)) {\n            return 'auto'\n        }\n        return v\n    }\n    set visibleLines(v: number | 'auto') {\n        if (v == 'auto' || isNaN(v)) {\n            v = 'auto'\n        }\n        console.log('set', v)\n\n        this.$emit('visible-lines-change', {\n            visibleLines: v,\n            id: this.block.id,\n        })\n    }\n\n    get width(): string {\n        return this.block.width\n    }\n    set width(v: string) {\n        this.$emit('placement-change', {\n            width: v,\n            height: this.block.height,\n            align: this.block.align,\n            id: this.block.id,\n        })\n    }\n    get height(): string {\n        return this.block.height\n    }\n    set height(v: string) {\n        this.$emit('placement-change', {\n            width: this.block.width,\n            height: v,\n            align: this.block.align,\n            id: this.block.id,\n        })\n    }\n    get align(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.alignments, this.block.align)\n    }\n    set align(v: IListItemData) {\n        this.$emit('placement-change', {\n            width: this.block.width,\n            height: this.block.height,\n            align: v.value,\n            id: this.block.id,\n        })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlockContainer.vue?vue&type=template&id=6bc47167&\"\nimport script from \"./CodeBlockContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlockContainer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlockContainer.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QPopupProxy from 'quasar/src/components/popup-proxy/QPopupProxy.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport QBanner from 'quasar/src/components/banner/QBanner.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCard,QCardSection,QSelect,QBtn,QPopupProxy,QInput,QToggle,QSlideTransition,QBanner,QItem,QItemSection,QIcon,QItemLabel});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row q-pa-none q-mb-md\"},[_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-6\"},[_c('q-card',{staticClass:\"q-mb-sm q-mr-sm-none q-mr-md-sm\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Language')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.languageHasCompiler,\"label\":_vm.$t('CodeBlocksSettings.AllowExec')},model:{value:(_vm.runCode),callback:function ($$v) {_vm.runCode=$$v},expression:\"runCode\"}})],1),_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.canContinousCompile,\"label\":_vm.$t('CodeBlocksSettings.ContinousCompile')},model:{value:(_vm.continuousCompile),callback:function ($$v) {_vm.continuousCompile=$$v},expression:\"continuousCompile\"}})],1),_c('div',{class:(\"col-xs-12 col-sm-\" + (_vm.runCode ? 6 : 12) + \" col-md-\" + (_vm.runCode ? 8 : 12) + \" \" + (_vm.runCode ? 'q-pr-md-sm' : ''))},[_c('q-select',{attrs:{\"options\":_vm.compiledLanguages,\"label\":_vm.$t('CodeBlocksSettings.Language')},model:{value:(_vm.compilerLanguageObj),callback:function ($$v) {_vm.compilerLanguageObj=$$v},expression:\"compilerLanguageObj\"}})],1),(_vm.runCode)?_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-6\"},[_c('q-select',{attrs:{\"options\":_vm.compilerVersions,\"stack-label\":\"\",\"label\":_vm.$t('CodeBlocksSettings.CVersion')},scopedSlots:_vm._u([{key:\"selected\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.compilerVersion)+\" \"),(_vm.isDeprecated)?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"yellow\",\"text-color\":\"brown-10\",\"icon\":\"hourglass_disabled\"}}):_vm._e(),(_vm.isExperimental)?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"orange\",\"text-color\":\"white\",\"icon\":\"whatshot\"}}):_vm._e()]},proxy:true},{key:\"option\",fn:function(scope){return [_c('q-item',_vm._g(_vm._b({},'q-item',scope.itemProps,false),scope.itemEvents),[_c('q-item-section',[_c('q-item-label',[_vm._v(\" \"+_vm._s(scope.opt)+\" \"),(\n                                                    _vm.isDeprecatedVersion(\n                                                        _vm.compilerLanguage,\n                                                        scope.opt\n                                                    )\n                                                )?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"yellow\",\"text-color\":\"brown-10\",\"icon\":\"hourglass_disabled\"}}):_vm._e(),(\n                                                    _vm.isExperimentalVersion(\n                                                        _vm.compilerLanguage,\n                                                        scope.opt\n                                                    )\n                                                )?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"orange\",\"text-color\":\"white\",\"icon\":\"whatshot\"}}):_vm._e()],1)],1)],1)]}}],null,false,541447989),model:{value:(_vm.compilerVersion),callback:function ($$v) {_vm.compilerVersion=$$v},expression:\"compilerVersion\"}})],1):_vm._e(),_c('q-slide-transition',[(_vm.isExperimental)?_c('q-banner',{staticClass:\"bg-orange text-white col-12 q-mt-xs q-mb-md\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"whatshot\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.ExperimentalCompiler'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.ExperimentalCompilerDesc'))+\" \")])],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[(_vm.isDeprecated)?_c('q-banner',{staticClass:\"bg-yellow-12 text-black col-12 q-mt-xs q-mb-md\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"hourglass_disabled\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.DeprecatedCompiler'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.DeprecatedCompilerDesc'))+\" \")])],1)],1)],1):_vm._e()],1),(_vm.showMaxRuntime)?_c('div',{staticClass:\"col-12\"},[_c('q-input',{attrs:{\"rules\":[_vm.validNumber],\"label\":_vm.$t('CodeBlocksSettings.RunTime'),\"maxlength\":\"6\"},model:{value:(_vm.maxRuntime),callback:function ($$v) {_vm.maxRuntime=$$v},expression:\"maxRuntime\"}})],1):_vm._e(),(_vm.runCode && (_vm.accepstArguments || _vm.allowsMessagePassing))?_c('div',{staticClass:\"col-12 text-body2\"},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.AllowArguments'))+\" \"),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showArgsInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.accepstArguments)?_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.canPersistentArguments,\"label\":_vm.$t('CodeBlocksSettings.PersistentArguments')},model:{value:(_vm.persistentArguments),callback:function ($$v) {_vm.persistentArguments=$$v},expression:\"persistentArguments\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showPersistentArgsInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.allowsMessagePassing)?_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.allowsMessagePassing,\"label\":_vm.$t('CodeBlocksSettings.MessagePassing')},model:{value:(_vm.messagePassing),callback:function ($$v) {_vm.messagePassing=$$v},expression:\"messagePassing\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showMessagesInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.allowsMessagePassing)?_c('div',{staticClass:\"col-12 q-pl-lg\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.allowsMessagePassing || !_vm.messagePassing,\"label\":_vm.$t('CodeBlocksSettings.KeepAlive')},model:{value:(_vm.keepAlive),callback:function ($$v) {_vm.keepAlive=$$v},expression:\"keepAlive\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showAliveInfoDialog}})],1):_vm._e()],1)])],1)],1),_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-6\"},[_c('q-slide-transition',[(_vm.runCode)?_c('q-card',{staticClass:\"q-mb-sm q-mr-none\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Output')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-md-6 col-12 q-pr-md-sm\"},[_c('q-input',{attrs:{\"rules\":[_vm.validNumber],\"label\":_vm.$t('CodeBlocksSettings.MaxCharacters'),\"maxlength\":\"6\"},model:{value:(_vm.maxCharacters),callback:function ($$v) {_vm.maxCharacters=$$v},expression:\"maxCharacters\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('q-select',{attrs:{\"options\":_vm.outputParsers,\"label\":_vm.$t('CodeBlocksSettings.Parser')},model:{value:(_vm.outputParser),callback:function ($$v) {_vm.outputParser=$$v},expression:\"outputParser\"}})],1)])])],1):_vm._e()],1),_c('q-card',{staticClass:\"q-mr-none\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Themes')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 col-md-6 q-pr-md-sm\"},[_c('q-select',{attrs:{\"options\":_vm.themes,\"label\":_vm.$t('CodeBlocksSettings.TGeneral')},model:{value:(_vm.codeTheme),callback:function ($$v) {_vm.codeTheme=$$v},expression:\"codeTheme\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('q-select',{attrs:{\"options\":_vm.themes,\"label\":_vm.$t('CodeBlocksSettings.TSolution')},model:{value:(_vm.solutionTheme),callback:function ($$v) {_vm.solutionTheme=$$v},expression:\"solutionTheme\"}})],1)])])],1),_c('q-slide-transition',[_c('q-card',{staticClass:\"q-mr-sm-none q-mt-sm\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Libraries')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row q-my-none q-py-none\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 col-sm-12 q-my-none q-py-none\"},[_c('q-select',{attrs:{\"options\":_vm.domLibraries,\"multiple\":\"\",\"use-chips\":\"\",\"stack-label\":\"\",\"deletable-chips\":\"\",\"label\":_vm.$t('CodeBlocksSettings.DomLibs')},model:{value:(_vm.domLibrary),callback:function ($$v) {_vm.domLibrary=$$v},expression:\"domLibrary\"}})],1),(_vm.runCode && _vm.workerLibraries.length > 0)?_c('div',{staticClass:\"col-xs-12 col-sm-12 q-my-none q-py-none\"},[_c('q-select',{attrs:{\"options\":_vm.workerLibraries,\"multiple\":\"\",\"use-chips\":\"\",\"stack-label\":\"\",\"deletable-chips\":\"\",\"label\":_vm.$t('CodeBlocksSettings.WorkLibs')},model:{value:(_vm.workerLibrary),callback:function ($$v) {_vm.workerLibrary=$$v},expression:\"workerLibrary\"}})],1):_vm._e()])])],1)],1)],1),_c('div',{class:(\"col-xs-\" + (_vm.options.randomizer.active ? '12' : '12') + \" q-mt-sm\")},[_c('RandomizerSettings',{attrs:{\"options\":_vm.options}})],1),_c('div',{staticClass:\"col-xs-12\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.serializedOptions),expression:\"serializedOptions\"}],staticClass:\"blocksettings\",attrs:{\"name\":(\"block_settings[\" + (this.options.id) + \"]\")},domProps:{\"value\":(_vm.serializedOptions)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.serializedOptions=$event.target.value}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('q-card',[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('RandomizerSettings.Caption'))+\" \"),_c('q-toggle',{model:{value:(_vm.options.randomizer.active),callback:function ($$v) {_vm.$set(_vm.options.randomizer, \"active\", $$v)},expression:\"options.randomizer.active\"}})],1),_c('q-slide-transition',[_c('q-card-section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.randomizer.active),expression:\"options.randomizer.active\"}],staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"tagList\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$t('RandomizerSettings.Available'))+\" \"),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"color\":\"primary\",\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"add\"},on:{\"click\":_vm.addTag}})],1),_c('div',{staticClass:\"row q-mb-sm\"},_vm._l((_vm.options.randomizer.knownTags),function(tag,i){return _c('div',{key:tag,class:(\"tagItem q-ml-sm \" + _vm.tagClass)},[_c('div',{staticClass:\"row no-wrap\"},[_c('div',{staticClass:\"tagInfo col-shrink\"},[_c('div',{staticClass:\"tagName\"},[_vm._v(_vm._s(tag))]),_c('div',{staticClass:\"tagString\"},[_vm._v(\"{:\"+_vm._s(tag)+\"}\")])]),_c('div',{staticClass:\"tagAction col-4 q-pl-sm text-right\"},[_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"delete\"},on:{\"click\":function($event){return _vm.removeTag(i)}}})],1)])])}),0)]),_c('div',{staticClass:\"tagList q-mt-lg\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$t('RandomizerSettings.Sets'))+\" \"),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"color\":\"primary\",\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"add\"},on:{\"click\":_vm.addSet}})],1),_c('q-list',{staticClass:\"setList\"},_vm._l((_vm.options.randomizer.sets),function(s,i){return _c('q-item',{key:s.uuid},[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-avatar',{attrs:{\"color\":\"primary\",\"text-color\":\"white\",\"disabled\":!_vm.isVisible(i)}},[_vm._v(\" \"+_vm._s(i)+\" \")])],1),_c('q-item-section',[_c('q-item-label',[_vm._v(_vm._s(s.title))]),_c('q-item-label',{attrs:{\"caption\":\"\",\"lines\":\"2\"}},[_c('div',{staticClass:\"row q-mb-sm\"},_vm._l((s.values),function(tag){return _c('div',{key:tag.name,class:(\"tagItem q-ml-sm \" + _vm.tagClass)},[_c('div',{staticClass:\"row no-wrap\"},[_c('div',{staticClass:\"tagInfo col-shrink\"},[_c('div',{staticClass:\"tagName\"},[_vm._v(_vm._s(tag.tag))]),_c('div',{staticClass:\"tagString\"},[_vm._v(_vm._s(tag.value))])])])])}),0)])],1),_c('q-item-section',{attrs:{\"side\":\"\",\"top\":\"\"}},[_c('div',{staticClass:\"text-grey-8 q-gutter-xs\"},[_c('q-icon',{staticClass:\"q-mr-lg\",attrs:{\"name\":_vm.isCompleteSet(s) ? 'check' : 'warning',\"color\":_vm.isCompleteSet(s) ? 'positive' : 'negative',\"size\":\"24px\"}}),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":_vm.isVisible(i) ? 'visibility' : 'visibility_off'},on:{\"click\":function($event){return _vm.setVisible(i)}}},[_c('q-tooltip',{attrs:{\"delay\":200,\"offset\":[0, 10]}},[_vm._v(\" Use this set when running code in preview or editMode. \")])],1),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"edit\"}},[_c('RandomizerSetEditor',{attrs:{\"options\":_vm.options,\"tagSet\":_vm.getFullSet(s),\"nr\":i}})],1),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"delete\"},on:{\"click\":function($event){return _vm.removeSet(i)}}})],1)])],1)}),1)],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-popup-proxy',{attrs:{\"transition-show\":\"flip-up\",\"transition-hide\":\"flip-down\"},on:{\"before-show\":_vm.onShow}},[_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pt-none q-pb-md\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('RandomizerSetEditor.Caption', { nr: _vm.nr })))])]),_vm._l((_vm.tagSet.values),function(tag){return _c('div',{key:tag.tag,staticClass:\"q-pl-md\"},[_c('q-input',{attrs:{\"label\":tag.tag},model:{value:(tag.value),callback:function ($$v) {_vm.$set(tag, \"value\", $$v)},expression:\"tag.value\"}})],1)})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\n\n@Component\nexport default class RandomizerSetEditor extends Vue {\n    @Prop({ required: true }) options!: any\n    @Prop({ required: true }) tagSet!: IRandomizerSet\n    @Prop({ required: true }) nr!: number\n\n    get tags(): string[] {\n        return this.tagSet.values.map((v) => v.tag)\n    }\n\n    onShow(o) {\n        this.tagSet.values = this.tagSet.values.filter(\n            (v) => this.options.randomizer.knownTags.indexOf(v.tag) >= 0\n        )\n        this.options.randomizer.knownTags.forEach((t) => {\n            if (this.tagSet.values.find((v) => v.tag == t) === undefined) {\n                this.tagSet.values.push({\n                    tag: t,\n                    value: '',\n                })\n            }\n        })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RandomizerSetEditor.vue?vue&type=template&id=7b045cf1&\"\nimport script from \"./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QPopupProxy from 'quasar/src/components/popup-proxy/QPopupProxy.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QPopupProxy,QInput});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport RandomizerSetEditor from '@/components/RandomizerSetEditor.vue'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { ICodeBlockSettingsOptions } from '@/components/CodeBlocksSettings.vue'\n\n@Component({ components: { RandomizerSetEditor } })\nexport default class RandomizerSettings extends Vue {\n    _newTagName: string = ''\n\n    @Prop({ required: true }) options!: ICodeBlockSettingsOptions\n\n    get tagClass(): string {\n        return Vue.$tagger.className.rnd + ' tag-mark-start tag-mark-end tag-mark-shadow'\n    }\n\n    isVisible(nr: number): boolean {\n        return nr == this.options.randomizer.previewIndex\n    }\n    setVisible(nr: number): void {\n        this.options.randomizer.previewIndex = nr\n    }\n    isValidTag(tag: string): boolean {\n        return this.options.randomizer.knownTags.find(t => t == tag) !== undefined\n    }\n    isCompleteSet(s: IRandomizerSet): boolean {\n        if (s.values.filter(v => this.options.randomizer.knownTags.indexOf(v.tag) < 0).length > 0) {\n            return false\n        }\n        if (\n            this.options.randomizer.knownTags.filter(\n                t => s.values.find(v => v.tag == t) === undefined\n            ).length > 0\n        ) {\n            return false\n        }\n        return true\n    }\n    getFullSet(s: IRandomizerSet): IRandomizerSet {\n        return s\n    }\n    removeSet(nr: number): void {\n        this.options.randomizer.sets.splice(nr, 1)\n    }\n    addSet(): void {\n        this.options.randomizer.sets.push({ uuid: this.$uuid.v4(), values: [] })\n    }\n    removeTag(nr: number): void {\n        this.options.randomizer.knownTags.splice(nr, 1)\n    }\n    addTag(): void {\n        this.$q\n            .dialog({\n                title: 'Create Tag',\n                message: 'This will generate a new randomizer-Tag with the below name.',\n                html: true,\n                persistent: true,\n                prompt: {\n                    model: 'tag_name',\n                    type: 'text'\n                },\n                ok: {\n                    push: true\n                },\n                cancel: {\n                    flat: true,\n                    color: 'gray'\n                }\n            })\n            .onOk(data => {\n                data = data.replace(/\\W/g, '_')\n                //have this name\n                if (this.options.randomizer.knownTags.filter(t => t == data).length > 0) {\n                    let ct = 1\n                    const odata = data\n                    do {\n                        data = odata + '_' + ct\n                        ct++\n                    } while (this.options.randomizer.knownTags.filter(t => t == data).length > 0)\n                }\n                this.options.randomizer.knownTags.push(data)\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                //self.highlighted = false;\n            })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RandomizerSettings.vue?vue&type=template&id=8b99c0d6&scoped=true&\"\nimport script from \"./RandomizerSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./RandomizerSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RandomizerSettings.vue?vue&type=style&index=0&id=8b99c0d6&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b99c0d6\",\n  null\n  \n)\n\nexport default component.exports\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QList from 'quasar/src/components/item/QList.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCard,QCardSection,QToggle,QSlideTransition,QBtn,QList,QItem,QItemSection,QAvatar,QItemLabel,QIcon,QTooltip});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport RandomizerSettings from '@/components/RandomizerSettings.vue'\nimport { IListItemData, ICompilerID } from '@/lib/ICompilerRegistry'\nimport { CodeOutputTypes, IRandomizerSettings } from '@/lib/ICodeBlocks'\n\nexport interface ICodeBlockSettingsOptions {\n    language: string\n    compiler: ICompilerID\n    executionTimeout: number\n    maxCharacters: number\n    runCode: boolean\n    domLibs: string[]\n    workerLibs: string[]\n    id: number\n    codeTheme: string\n    solutionTheme: string\n    outputParser: CodeOutputTypes\n    randomizer: IRandomizerSettings\n    continuousCompilation: boolean\n    persistentArguments: boolean\n    messagePassing: boolean\n    keepAlive: boolean\n}\n\n@Component({ components: { RandomizerSettings } })\nexport default class CodeBlocksSettings extends Vue {\n    get themes(): IListItemData[] {\n        return [\n            { label: 'Solarized', value: 'solarized light' },\n            { label: 'Solarized (dark)', value: 'solarized dark' },\n            { label: 'Base16 (dark)', value: 'base16-dark' },\n            { label: 'Base16 (light)', value: 'base16-light' },\n            { label: 'Duotone (dark)', value: 'duotone-dark' },\n            { label: 'Duotone (light)', value: 'duotone-light' },\n            { label: 'XQ (dark)', value: 'xq-dark' },\n            { label: 'XQ (light)', value: 'xq-light' },\n            { label: 'Blackboard', value: 'blackboard' },\n            { label: 'neo', value: 'neo' },\n            { label: 'mbo', value: 'mbo' },\n            { label: 'mdn like', value: 'mdn-like' },\n        ]\n    }\n\n    get outputParsers(): IListItemData[] {\n        return [\n            { label: this.$l('CodeBlocksSettings.PAutomatic'), value: CodeOutputTypes.AUTO },\n            { label: this.$l('CodeBlocksSettings.PText'), value: CodeOutputTypes.TEXT },\n            { label: this.$l('CodeBlocksSettings.PJSON'), value: CodeOutputTypes.JSON },\n            { label: this.$l('CodeBlocksSettings.PData'), value: CodeOutputTypes.DATA },\n            { label: this.$l('CodeBlocksSettings.PMagic'), value: CodeOutputTypes.MAGIC },\n        ]\n    }\n    @Prop({ required: true }) options!: ICodeBlockSettingsOptions\n\n    validNumber(v: any): boolean | string {\n        if (isNaN(v)) {\n            return 'Must be a valid Number.'\n        }\n        return true\n    }\n\n    get serializedOptions(): string {\n        const o: any = {\n            ...this.options,\n        }\n        o.randomizer = {\n            ...this.options.randomizer,\n        }\n        o.randomizer.sets = this.options.randomizer.sets.map((s) => {\n            let values = {}\n            s.values.forEach((v) => (values[v.tag] = v.value))\n            return values\n        })\n        return JSON.stringify(o)\n    }\n    set serializedOptions(v: string) {}\n\n    get domLibraries(): IListItemData[] {\n        return this.$compilerRegistry.domLibraries\n    }\n    get compiledLanguages(): IListItemData[] {\n        if (this.options.runCode === false) {\n            return this.languages\n        }\n        return this.$compilerRegistry.languages\n    }\n    get workerLibraries(): IListItemData[] {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: this.compilerLanguage,\n            version: this.compilerVersion,\n        })\n        if (c === undefined || c.libraries === undefined) {\n            return []\n        }\n        return c.libraries.map((l) => {\n            return { label: l.displayName, value: l.key }\n        })\n    }\n    get languages(): IListItemData[] {\n        return this.$CodeBlock.knownLanguages()\n    }\n    get compilerVersions(): string[] {\n        return this.$compilerRegistry.versionsForLanguage(this.compilerLanguage)\n    }\n\n    isExperimentalVersion(language: string, version: string): boolean {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: language,\n            version: version,\n        })\n        if (c === undefined) {\n            return false\n        }\n        return c.experimental\n    }\n\n    isDeprecatedVersion(language: string, version: string): boolean {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: language,\n            version: version,\n        })\n        if (c === undefined) {\n            return false\n        }\n        return c.deprecated\n    }\n\n    get isExperimental(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.experimental\n        }\n        return false\n    }\n\n    get isDeprecated(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.deprecated\n        }\n        return false\n    }\n\n    get languageHasCompiler(): boolean {\n        if (this.runCode) {\n            return true\n        }\n        const c = this.$compilerRegistry.getCompiler({ languageType: this.compilerLanguage })\n        return c !== undefined\n    }\n    get compilerLanguage(): string {\n        if (this.options.runCode === false) {\n            return this.options.language\n        }\n        return this.options.compiler.languageType\n    }\n    get compilerLanguageObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.compiledLanguages, this.compilerLanguage)\n    }\n    set compilerLanguageObj(v: IListItemData) {\n        if (this.options.runCode === false) {\n            this.$emit('language-change', v.value)\n        }\n        this.$emit('compiler-change', v.value)\n    }\n\n    get compilerVersion(): string {\n        return this.options.compiler.version\n    }\n    set compilerVersion(v: string) {\n        this.$emit('compiler-version-change', v)\n    }\n\n    get runCode(): boolean {\n        return this.options.runCode\n    }\n    set runCode(v: boolean) {\n        this.$emit('run-state-change', v)\n    }\n\n    get maxRuntime(): number {\n        return this.options.executionTimeout\n    }\n    set maxRuntime(v: number) {\n        this.$emit('timeout-change', v)\n    }\n\n    get maxCharacters(): number {\n        return this.options.maxCharacters\n    }\n    set maxCharacters(v: number) {\n        this.$emit('character-limit-change', v)\n    }\n\n    get domLibrary(): IListItemData[] {\n        return this.options.domLibs\n            .map((d) => this.domLibraries.find((k) => k.value == d))\n            .filter((v) => v !== undefined) as IListItemData[]\n    }\n    set domLibrary(v: IListItemData[]) {\n        this.$emit(\n            'dom-libs-change',\n            v.map((vv) => vv.value)\n        )\n    }\n\n    get workerLibrary(): IListItemData[] {\n        return this.options.workerLibs\n            .map((d) => this.workerLibraries.find((k) => k.value == d))\n            .filter((v) => v !== undefined) as IListItemData[]\n    }\n    set workerLibrary(v: IListItemData[]) {\n        this.$emit(\n            'worker-libs-change',\n            v.map((vv) => vv.value)\n        )\n    }\n\n    get solutionTheme(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.themes, this.options.solutionTheme)\n    }\n    set solutionTheme(v: IListItemData) {\n        this.$emit('theme-change', {\n            solution: v.value,\n            code: this.options.codeTheme,\n        })\n    }\n\n    get codeTheme(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.themes, this.options.codeTheme)\n    }\n    set codeTheme(v: IListItemData) {\n        this.$emit('theme-change', {\n            solution: this.options.solutionTheme,\n            code: v.value,\n        })\n    }\n\n    get outputParser(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.outputParsers, this.options.outputParser)\n    }\n    set outputParser(v: IListItemData) {\n        this.$emit('output-parser-change', v.value)\n    }\n\n    get continuousCompile(): boolean {\n        return this.options.continuousCompilation\n    }\n    set continuousCompile(v: boolean) {\n        this.$emit('continuous-compile-change', v)\n    }\n    get compiler(): ICompilerID {\n        return this.options.compiler\n    }\n    get canContinousCompile(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        console.d(\n            'Continuous Compile - ',\n            'can',\n            cmp,\n            cmp ? cmp.allowsContinousCompilation : false,\n            cmp ? cmp.canRun : false\n        )\n        if (cmp) {\n            console.d('Continuous Compile - ', 'can', cmp.allowsContinousCompilation && cmp.canRun)\n            return cmp.allowsContinousCompilation && cmp.canRun\n        }\n        return false\n    }\n\n    get allowsMessagePassing(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            console.d('Message Passing - ', 'can', cmp.allowsContinousCompilation && cmp.canRun)\n            return cmp.allowsMessagePassing && cmp.canRun\n        }\n        return false\n    }\n\n    get messagePassing(): boolean {\n        return this.options.messagePassing\n    }\n    set messagePassing(v: boolean) {\n        this.$emit('message-passing-change', v)\n    }\n\n    get keepAlive(): boolean {\n        return this.options.keepAlive\n    }\n    set keepAlive(v: boolean) {\n        this.$emit('keep-alive-change', v)\n    }\n\n    get showMaxRuntime(): boolean {\n        return this.runCode && !(this.keepAlive && this.messagePassing)\n    }\n\n    get allowsREPL(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            console.d('REPL - ', 'can', cmp.allowsREPL && cmp.allowsMessagePassing && cmp.canRun)\n            return cmp.allowsREPL && cmp.allowsMessagePassing && cmp.canRun\n        }\n        return false\n    }\n\n    get persistentArguments(): boolean {\n        return this.options.persistentArguments\n    }\n    set persistentArguments(v: boolean) {\n        this.$emit('persistent-arguments-change', v)\n    }\n    get canPersistentArguments(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            console.d(\n                'Persistent Arguments - ',\n                'can',\n                cmp.acceptsJSONArgument && cmp.allowsPersistentArguments && cmp.canRun\n            )\n            return cmp.acceptsJSONArgument && cmp.allowsPersistentArguments && cmp.canRun\n        }\n        return false\n    }\n\n    get accepstArguments(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.acceptsJSONArgument\n        }\n        return false\n    }\n    showArgsInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.AllowArgumentsCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.AllowArgumentsHintJava'\n                : 'CodeBlocksSettings.AllowArgumentsHint'\n        )\n    }\n    showPersistentArgsInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.UsePersistentArgumentsCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.UsePersistentArgumentsHintJava'\n                : 'CodeBlocksSettings.UsePersistentArgumentsHint'\n        )\n    }\n    showMessagesInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.AllowMessagePassingCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.AllowMessagePassingHintJava'\n                : 'CodeBlocksSettings.AllowMessagePassingHint'\n        )\n    }\n    showAliveInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.KeepAliveCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.KeepAliveHintJava'\n                : 'CodeBlocksSettings.KeepAliveHint'\n        )\n    }\n\n    showInfoDialog(title, message): void {\n        this.$q\n            .dialog({\n                title: this.$l(title),\n                message: this.$l(message),\n                html: true,\n                style: 'width:75%',\n            })\n            .onOk(() => {\n                // console.log('OK')\n            })\n            .onCancel(() => {\n                // console.log('Cancel')\n            })\n            .onDismiss(() => {\n                // console.log('I am triggered on both OK and Cancel')\n            })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlocksSettings.vue?vue&type=template&id=644cb51f&scoped=true&\"\nimport script from \"./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlocksSettings.vue?vue&type=style&index=0&id=644cb51f&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"644cb51f\",\n  null\n  \n)\n\nexport default component.exports\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport QBanner from 'quasar/src/components/banner/QBanner.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCard,QCardSection,QToggle,QSelect,QAvatar,QItem,QItemSection,QItemLabel,QSlideTransition,QBanner,QIcon,QInput,QBtn});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editMode),expression:\"editMode\"}],staticClass:\"blocksEditorPanelContainer\",style:((\"width:\" + _vm.width + \"px\"))},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.block !== null),expression:\"block !== null\"}],staticClass:\"blocksEditorPanelLeft\"},[_c('q-btn',{staticClass:\"expander\",attrs:{\"icon\":_vm.expanded ? 'chevron_right' : 'chevron_left',\"size\":\"sm\",\"unelevated\":\"\",\"align\":\"center\",\"color\":\"blue-grey-4\"},on:{\"click\":_vm.onExpandClick}}),_c('CodeBlock',{attrs:{\"block\":_vm.saveBlock,\"theme\":_vm.themeForBlock(_vm.block),\"mode\":\"\",\"visibleLines\":_vm.visibleLinesNow,\"editMode\":true,\"muteReadyState\":true,\"isBookmarkPanel\":true,\"namePrefix\":\"panel_\"},on:{\"code-changed-in-edit-mode\":_vm.onCodeChange}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport { BlockData } from '../lib/codeBlocksManager'\nimport {\n    IBlockData,\n    KnownBlockTypes,\n    ICodeBlockDataState,\n    CodeExpansionType,\n} from '../lib/ICodeBlocks'\n\ninterface IBlockDataExtended extends IBlockData {\n    firstLine: number\n    actualContent: string\n    actualAltContent: string\n}\n@Component({ components: { CodeBlock } })\nexport default class CodePanel extends Vue {\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: number | 'auto'\n    @Prop({ required: true }) block!: BlockData | null\n    @Prop({ default: 400 }) panelWidth!: number\n\n    get saveBlock(): IBlockData {\n        if (\n            this.block !== null &&\n            this.block !== undefined &&\n            this.block.content !== null &&\n            this.block.content !== undefined\n        ) {\n            return this.block\n        }\n        const ret: IBlockDataExtended = {\n            hasCode: false,\n            type: KnownBlockTypes.BLOCKSTATIC,\n            content: '',\n            alternativeContent: '',\n            noContent: true,\n            id: -1,\n            uuid: '',\n            parentID: -2,\n            expanded: true,\n            codeExpanded: CodeExpansionType.AUTO,\n            obj: null,\n            version: '',\n            readyCount: 0,\n            errors: [],\n            visibleLines: 'auto',\n            hasAlternativeContent: false,\n            shouldAutoreset: false,\n            shouldReloadResources: false,\n            generateTemplate: true,\n            firstLine: 1,\n            actualContent: '',\n            actualAltContent: '',\n            width: '100%',\n            height: '200px',\n            align: 'center',\n            readonly: true,\n            static: true,\n            hidden: false,\n            themeForCodeBlock: '',\n            lineCountHint: -0,\n            name: '',\n            getThemeForBlock: (bl: ICodeBlockDataState) => {\n                return ''\n            },\n            blockly: {\n                _blockErrors: [],\n                useOverride: false,\n                toolbox: {\n                    categories: [],\n                },\n                showControls: false,\n                toolboxOverride: '',\n                blocks: [],\n            },\n        }\n        return ret\n    }\n\n    get visibleLinesNow() {\n        if (this.visibleLines === 'auto') {\n            return 'auto'\n        }\n        if (this.visibleLines <= 2) {\n            return 2\n        }\n        return this.visibleLines\n    }\n    onCodeChange() {}\n\n    get width() {\n        if (this.expanded) {\n            return 2 * this.panelWidth\n        }\n        return this.panelWidth\n    }\n\n    expanded: boolean = false\n    onExpandClick() {\n        this.expanded = !this.expanded\n    }\n\n    themeForBlock(bl: BlockData | null): string {\n        if (bl === null || bl === undefined) {\n            return ''\n        }\n        return bl.themeForCodeBlock\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodePanel.vue?vue&type=template&id=f34c54ee&scoped=true&\"\nimport script from \"./CodePanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodePanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodePanel.vue?vue&type=style&index=0&id=f34c54ee&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f34c54ee\",\n  null\n  \n)\n\nexport default component.exports\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtn});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('PlaygroundCanvas',{key:_vm.runCount,ref:\"playgroundContainer\",attrs:{\"output\":_vm.finalOutputObject.initialOutput,\"obj\":_vm.block.obj,\"block\":_vm.block,\"eventHub\":_vm.eventHub,\"tagSet\":_vm.tagSet,\"data-question\":_vm.block.parentID,\"runner\":_vm.emitRun},on:{\"canvas-change\":_vm.onCanvasChange,\"did-init\":_vm.onDidInit}}),_c('div',{staticClass:\"row justify-end\"},[(_vm.editMode)?_c('q-btn-group',{staticClass:\"q-mb-sm\",attrs:{\"rounded\":\"\"}},[_c('q-btn',{attrs:{\"color\":_vm.isExpandedAuto ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Auto\",\"icon\":\"video_label\"},on:{\"click\":_vm.setExpandedAuto}}),_c('q-btn',{attrs:{\"color\":_vm.isExpandedLarge ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Large\",\"icon\":\"call_to_action\"},on:{\"click\":_vm.setExpandedLarge}}),_c('q-btn',{attrs:{\"color\":_vm.isExpandedTiny ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Small\",\"icon\":\"visibility_off\"},on:{\"click\":_vm.setExpandedTiny}})],1):_vm._e()],1),_c('q-slide-transition',[(_vm.editMode)?_c('CodeBlock',{attrs:{\"block\":_vm.block,\"theme\":_vm.options.theme,\"mode\":_vm.options.mode,\"visibleLines\":_vm.visibleLinesNow,\"editMode\":this.editMode,\"muteReadyState\":true},on:{\"code-changed-in-edit-mode\":_vm.onCodeChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row ma-0 pa-0 block-playground\",attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id}},[(_vm.block.generateTemplate)?_c('div',{class:(\"col-12 text-\" + (_vm.block.align))},[_c('div',{ref:\"innerPlaygroundContainer\",staticClass:\"playground\",style:((\"width:\" + (_vm.block.width) + \";height:\" + (_vm.block.height))),attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id}},[_vm._v(\" \"+_vm._s(_vm.output)+\" \")])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { IScriptBlock } from '@/lib/IScriptBlock'\n\n@Component\nexport default class PlaygroundCanvas extends Vue {\n    @Prop() output: string = ''\n    @Prop({ required: true }) obj!: IScriptBlock\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ required: true }) eventHub!: Vue\n    @Prop({ default: () => {} }) runner!: () => void\n    @Prop() tagSet?: IRandomizerSet\n\n    get canvas(): HTMLElement {\n        return this.$refs.innerPlaygroundContainer as HTMLElement\n    }\n\n    whenMounted(): void {\n        if (this.obj) {\n            console.d('Will Init', this.canvas, $(this.canvas).css('background-color'))\n\n            this.$compilerRegistry.loadLibraries(this.block.domLibs, () => {\n                this.obj.resetResources()\n                this.obj.resetBlockData(this.block.appSettings.blocks)\n                this.obj.rebuild() //we need to rebuild the script to make sure its context is the current state of the DOM\n                this.obj.setupDOM($(this.canvas), this.block.scope)\n                this.$nextTick(() => {\n                    this.$nextTick(() => {\n                        this.obj.init($(this.canvas), this.block.scope, this.runner)\n                        this.$emit('did-init', this.canvas)\n                    })\n                })\n            })\n        }\n    }\n\n    mounted() {\n        if (this.eventHub) {\n            this.eventHub.$on('all-mounted', this.whenMounted)\n        } else {\n            this.whenMounted()\n        }\n\n        this.$emit('canvas-change', this.canvas)\n    }\n    beforeDestroy() {\n        if (this.eventHub) {\n            this.eventHub.$off('all-mounted')\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PlaygroundCanvas.vue?vue&type=template&id=09d07b72&scoped=true&\"\nimport script from \"./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PlaygroundCanvas.vue?vue&type=style&index=0&id=09d07b72&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09d07b72\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport codemirror from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\n//helper to reset the canvas area if needed\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport PlaygroundCanvas from '@/components/PlaygroundCanvas.vue'\nimport BaseBlock from '@/components/BaseBlock.vue'\nconst PlaygroundCanvasCtor = Vue.extend(PlaygroundCanvas)\n\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { IRandomizerSet, CodeExpansionType } from '@/lib/ICodeBlocks'\nimport { IScriptOutputObject } from '@/lib/IScriptBlock'\n\nexport interface ICodePlaygroundOptions {\n    mode: string\n    theme: string\n    lineNumbers: boolean\n    line: boolean\n    tabSize: number\n    indentUnit: number\n    autoCloseBrackets: boolean\n    readOnly: boolean\n    firstLineNumber: number\n    gutters: string[]\n}\n\n@Component({\n    components: { PlaygroundCanvas, CodeBlock },\n})\nexport default class CodePlayground extends BaseBlock {\n    @Prop({ required: true }) finalOutputObject!: IScriptOutputObject\n    @Prop({\n        required: true,\n        validator: function (b) {\n            if (!b.obj) {\n                return false\n            }\n            return true\n        },\n    })\n    block!: BlockData\n\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: 'auto' | string\n    @Prop({ default: 'base16-dark' }) theme!: string\n    @Prop({ required: true }) eventHub!: Vue\n    @Prop() tagSet?: IRandomizerSet\n\n    get originalMode(): boolean {\n        if (this.block.obj === null) {\n            return false\n        }\n        return this.block.obj.requestsOriginalVersion()\n    }\n\n    get options(): ICodePlaygroundOptions {\n        return {\n            // codemirror options\n            mode: this.$CodeBlock.mimeType('javascript'),\n            theme: this.theme,\n            lineNumbers: true,\n            line: true,\n            tabSize: 4,\n            indentUnit: 4,\n            autoCloseBrackets: true,\n            readOnly: !this.editMode,\n            firstLineNumber: 1,\n            gutters: ['diagnostics', 'CodeMirror-linenumbers'],\n        }\n    }\n    get visibleLinesNow(): 'auto' | string {\n        if (this.block.codeExpanded == CodeExpansionType.TINY) {\n            return '2.4'\n        } else if (this.block.codeExpanded == CodeExpansionType.LARGE) {\n            return '33.4'\n        }\n        return 'auto'\n    }\n    created() {\n        this.eventHub.$on('before-run', this.resetBeforeRun)\n        this.eventHub.$on('render-diagnostics', this.updateErrors)\n    }\n    mounted() {\n        const hasErrors = this.block && this.block.obj && this.block.obj.err.length > 0\n        if (hasErrors) {\n            this.updateErrors()\n        }\n        this.eventHub.$on('output-updated', this.onFinalOutputObject)\n    }\n    beforeDestroy() {\n        this.eventHub.$off('before-run', this.resetBeforeRun)\n        this.eventHub.$off('render-diagnostics', this.updateErrors)\n        this.eventHub.$off('output-updated', this.onFinalOutputObject)\n    }\n    isPreparingRun: boolean = false\n    lastRun: Date = new Date()\n    runCount: number = 0\n    canvas: HTMLElement | undefined = undefined\n    needsCodeRebuild: boolean = false\n    initAndRebuildErrors: any[] = []\n\n    get isExpandedLarge(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.LARGE\n    }\n    get isExpandedTiny(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.TINY\n    }\n    get isExpandedAuto(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.AUTO\n    }\n    setExpandedLarge(): void {\n        this.setExpanded(CodeExpansionType.LARGE)\n    }\n    setExpandedTiny(): void {\n        this.setExpanded(CodeExpansionType.TINY)\n    }\n    setExpandedAuto(): void {\n        this.setExpanded(CodeExpansionType.AUTO)\n    }\n    setExpanded(val: CodeExpansionType): void {\n        this.block.codeExpanded = val\n\n        if (this.block.codeExpanded != CodeExpansionType.TINY) {\n            this.$CodeBlock.refreshAllCodeMirrors()\n        }\n    }\n    updateErrors(): boolean {\n        this.block.errors = []\n        if (this.block.obj === null) {\n            return false\n        }\n\n        this.block.obj.err = this.block.obj.err.concat(this.initAndRebuildErrors)\n        this.block.obj.err.forEach((e) => {\n            let err = {\n                start: { line: e.line, column: e.column },\n                end: { line: e.line, column: e.column + 1 },\n                message: e.msg,\n                severity: Vue.$SEVERITY_ERROR,\n            }\n            if (e.line === undefined) {\n                err.start = { line: 1, column: -1 }\n                err.end = { line: 1, column: -1 }\n            } else if (e.column === undefined) {\n                err.start = { line: e.line, column: -1 }\n                err.end = { line: e.line, column: -1 }\n            }\n            this.block.errors.push(err)\n        })\n\n        if (this.block.obj.err.length > 0 && this.editMode) {\n            this.needsCodeRebuild = true\n            return true\n        } else {\n            return false\n        }\n    }\n    resetBeforeRun(): void {\n        const rebuildCode = this.editMode && (this.needsCodeRebuild || this.tagSet !== undefined)\n        let reInitCode = rebuildCode\n        let onNextTick = false\n        if (this.block && this.block.obj) {\n            if (this.block.shouldAutoreset || rebuildCode) {\n                if (this.canvas !== undefined) {\n                    console.log(\n                        'Will Re-Initialize',\n                        this.canvas,\n                        $(this.canvas).css('background-color')\n                    )\n                } else {\n                    console.log('Will Re-Initialize', 'Without Canvas')\n                }\n                this.lastRun = new Date()\n                this.runCount++\n                reInitCode = true\n                onNextTick = true\n            } else {\n                const self = this\n                this.$nextTick(() => {\n                    //console.log(\"Will Reset\", this.canvas, $(this.canvas).css('background-color'));\n                    if (self.block.obj !== null && self.canvas !== undefined) {\n                        self.block.obj.reset($(self.canvas))\n                    }\n                    self.updateErrors()\n                })\n            }\n        }\n\n        if (rebuildCode) {\n            this.initAndRebuildErrors = []\n\n            if (this.block.obj != null) {\n                this.block.obj.rebuild(this.block.actualContent())\n                if (this.updateErrors()) {\n                    this.initAndRebuildErrors = this.block.obj.err\n                    this.block.obj.invalidate()\n                    return\n                }\n            }\n\n            reInitCode = true\n        }\n\n        if (reInitCode) {\n            this.initAndRebuildErrors = []\n            let doInit = () => {\n                console.i('!!! DO INIT !!!')\n                if (this.block.obj !== null) {\n                    const canvas: any = $(this.canvas as HTMLElement)\n                    const scope: any = this.block.scope\n                    if (this.block.shouldReloadResources) {\n                        this.block.obj.resetResources()\n                    }\n\n                    this.block.obj.resetBlockData(this.block.appSettings.blocks)\n                    this.block.obj.setupDOM(\n                        canvas as JQuery<HTMLElement>,\n                        scope as JQuery<HTMLElement>\n                    )\n                    this.block.obj.init(\n                        canvas as JQuery<HTMLElement>,\n                        scope as JQuery<HTMLElement>,\n                        this.emitRun\n                    )\n                    if (this.updateErrors()) {\n                        this.initAndRebuildErrors = this.block.obj.err\n                        this.block.obj.invalidate()\n                        return false\n                    }\n                    return true\n                } else {\n                    return false\n                }\n            }\n            if (onNextTick) {\n                this.$nextTick(doInit)\n            } else {\n                if (!doInit()) {\n                    return\n                }\n            }\n        }\n    }\n    emitRun() {\n        this.$emit('run', this.block)\n    }\n    onCanvasChange(can) {\n        this.canvas = can\n        if (this.editMode) {\n            this.updateErrors()\n        }\n        //console.log(\"Changed Canvas\", can, $(can).css('background-color'));\n    }\n    onCodeChange(newCode: string): void {\n        if (this.editMode) {\n            this.needsCodeRebuild = true\n        }\n    }\n    onDidInit(): void {\n        this.updateErrors()\n    }\n\n    //we emit an event to the global event hub\n    //@Watch('finalOutputObject')\n    onFinalOutputObject(val) {\n        const initialOutput = val.output\n\n        console.d('onFinalOutputObject', val, this.block.obj)\n        if (this.block.obj !== null) {\n            this.block.obj.err = []\n            try {\n                if (val.parseError != null) {\n                    if (\n                        !this.block.obj.onParseError(initialOutput, val.parseError) &&\n                        this.editMode\n                    ) {\n                        let jStr = initialOutput\n                        if (val.parseError.parsedString !== undefined) {\n                            jStr = val.parseError.parsedString\n                        }\n                        jStr = jStr.replace(/</g, '&lt;')\n\n                        this.$q\n                            .dialog({\n                                title: this.$l('CodePlayground.InvalidJson'),\n                                message:\n                                    '<span class=\"text-caption jsonErrTitle\">' +\n                                    this.$t('CodePlayground.Output') +\n                                    '</span><div class=\"jsonErrObj\">' +\n                                    jStr +\n                                    '</div>\\n<span class=\"text-caption jsonErrTitle\">' +\n                                    this.$t('CodePlayground.Message') +\n                                    '</span><div class=\"jsonErr\">' +\n                                    val.parseError +\n                                    '</div>',\n                                html: true,\n                            })\n                            .onOk(() => {\n                                // console.log('OK')\n                            })\n                            .onCancel(() => {\n                                // console.log('Cancel')\n                            })\n                            .onDismiss(() => {\n                                // console.log('I am triggered on both OK and Cancel')\n                            })\n                    }\n                    if (this.updateErrors()) {\n                        return\n                    }\n                }\n\n                const self = this\n                this.$nextTick(() => {\n                    console.d('Ticked', self.block.obj, self.canvas)\n                    if (self.block.obj !== null && self.canvas !== undefined) {\n                        let result = self.block.obj.update(val, $(self.canvas))\n                        if (self.updateErrors()) {\n                            return\n                        }\n\n                        //construct a split output object\n                        if (result === undefined && val.processedOutput.type != 'text') {\n                            if (!self.originalMode) {\n                                result = val.processedOutput.text\n                            }\n                        }\n\n                        if (self.originalMode) {\n                            if (typeof result !== 'string') {\n                                result = ''\n                            }\n                        }\n\n                        if (result !== undefined) {\n                            self.$emit('changeOutput', result)\n                        }\n                    }\n                })\n            } catch (e) {\n                console.error(e)\n            }\n            if (this.block.obj.err.length > 0) {\n                if (this.editMode) {\n                    this.updateErrors()\n                } else {\n                    console.error(this.block.obj.err)\n                }\n            }\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodePlayground.vue?vue&type=template&id=2f910188&scoped=true&\"\nimport script from \"./CodePlayground.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodePlayground.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodePlayground.vue?vue&type=style&index=0&id=2f910188&lang=sass&scoped=true&\"\nimport style1 from \"./CodePlayground.vue?vue&type=style&index=1&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f910188\",\n  null\n  \n)\n\nexport default component.exports\nimport QBtnGroup from 'quasar/src/components/btn-group/QBtnGroup.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtnGroup,QBtn,QSlideTransition});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"codeblock block-\" + _vm.typeName)},[(_vm.allowsREPL && _vm.canStartREPL)?_c('div',{staticClass:\"row runnerState\",attrs:{\"id\":\"stateBox\",\"data-question\":_vm.blockInfo.id}},[_c('q-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isRunning),expression:\"!isRunning\"}],staticClass:\"white--text q-pr-sm\",staticStyle:{\"border-radius\":\"0px\"},attrs:{\"id\":\"allow_run_button\",\"loading\":!_vm.isReady,\"disabled\":!_vm.isReady,\"color\":\"primary\",\"ripple\":{ center: true },\"data-question\":_vm.blockInfo.id},on:{\"click\":_vm.emitRun}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocks.start'))+\" \"),_c('q-icon',{attrs:{\"right\":\"\",\"dark\":\"\",\"name\":\"play_arrow\"}})],1),_c('div',{staticClass:\"animated fadeIn\"}),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canStop),expression:\"canStop\"}],staticClass:\"q-pl-0\"},[_c('q-btn',{staticStyle:{\"border-radius\":\"0px\"},attrs:{\"id\":\"cancel_button\",\"color\":\"negative\",\"ripple\":{ center: true },\"data-question\":_vm.blockInfo.id},on:{\"click\":_vm.emitStop}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocks.stop'))+\" \"),_c('q-icon',{attrs:{\"right\":\"\",\"dark\":\"\",\"name\":\"stop\"}})],1)],1)]),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showGlobalMessages),expression:\"showGlobalMessages\"}],staticClass:\"globalState col-grow\",staticStyle:{\"align-self\":\"center\"}},[_c('div',{attrs:{\"id\":\"message\"},domProps:{\"innerHTML\":_vm._s(_vm.globalStateMessage)}})])])],1):_vm._e(),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated fadeInup\",\"leave-active-class\":\"animated fadeOutDown\"}},[(!_vm.isRunning)?_c('div',{staticClass:\"q-mt-md\"},[_c('q-banner',{staticClass:\"bg-warning\",attrs:{\"inline-actions\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [(_vm.isReady && !_vm.canStop)?_c('q-btn',{attrs:{\"flat\":\"\",\"color\":\"white\"},on:{\"click\":_vm.emitRun}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocks.start'))+\" \"),_c('q-icon',{attrs:{\"right\":\"\",\"dark\":\"\",\"name\":\"play_arrow\"}})],1):_vm._e()]},proxy:true}],null,false,3640785926)},[_vm._v(\" Interpreter is not yet Ready. You may need to start it first. \")])],1):_vm._e()]),_c('Terminal',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowsREPL && _vm.canStartREPL),expression:\"allowsREPL && canStartREPL\"}],attrs:{\"console-sign\":\"$\",\"allow-arbitrary\":\"\",\"height\":\"500px\",\"blockInfo\":_vm.blockInfo,\"eventHub\":_vm.eventHub},on:{\"run\":_vm.emitRun,\"stop\":_vm.emitStop}}),(!_vm.allowsREPL)?_c('div',{staticClass:\"q-mt-md\"},[_vm._v(\" The current language does not support a REPL-Element \")]):_vm._e(),(!_vm.canStartREPL)?_c('div',{staticClass:\"q-mt-md\"},[_vm._v(\" Unable to start REPL-Environment. (Code execution, message passing and keep-alive need to be enabled) \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vue-terminal-wrapper\"},[_c('div',{staticClass:\"basicterm\",attrs:{\"id\":\"terminal\"}})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport '@/lib/jquery.terminal.js'\nimport $ from 'jquery'\nimport { PythonV102Compiler } from '@/compiler/python.v102'\nimport { ICompilerID } from '@/lib/ICompilerRegistry'\nimport { IMainBlock } from '@/lib/codeBlocksManager'\n\nfunction sleep(s) {\n    return new Promise((resolve) => setTimeout(resolve, s))\n}\n\n@Component\nexport default class Terminal extends Vue {\n    @Prop({ default: '250px' }) height!: string\n    @Prop({ required: true }) blockInfo!: IMainBlock\n    @Prop({ required: true }) eventHub!: Vue\n\n    private term: any\n    get compiler(): ICompilerID {\n        return this.blockInfo.compiler\n    }\n\n    get welcomeMessage(): string {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        let language = ''\n        if (cmp !== undefined) {\n            language = cmp.language\n        }\n        return `{*_*} Interactive ${language} Shell\\n------------------------------`\n    }\n\n    emitRun() {\n        if (this.term !== undefined) {\n            this.clear()\n        }\n        this.$emit('run')\n    }\n\n    emitStop() {\n        this.$emit('stop')\n    }\n\n    clear() {\n        if (this.term !== undefined) {\n            this.term.clear()\n            this.term.echo(this.welcomeMessage)\n        }\n    }\n\n    mounted() {\n        const self = this\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler) as PythonV102Compiler\n        let ps1 = cmp.language === 'python' ? 'py> ' : '>>> ',\n            ps2 = '... '\n\n        async function lock() {\n            let resolve\n            let ready = self.term.ready\n            self.term.ready = new Promise((res) => (resolve = res))\n            await ready\n            return resolve\n        }\n\n        async function interpreter(command) {\n            let unlock = await lock()\n            try {\n                self.term.pause()\n\n                for (const c of command.split('\\n')) {\n                    try {\n                        if (c === '.stop') {\n                            self.emitStop()\n                            return\n                        }\n                        if (c === '.restart') {\n                            self.emitStop()\n                            self.clear()\n                            await sleep(1000)\n                            self.emitRun()\n                            return\n                        }\n                        if (c === '.clear') {\n                            self.term.clear()\n                            return\n                        }\n                        self.term.set_prompt(ps2)\n                        await cmp.interpreter(\n                            c,\n                            (incomplete) => {\n                                self.term.set_prompt(incomplete ? ps2 : ps1)\n                            },\n                            (msg) => {\n                                self.term.echo(msg, { newline: false })\n                            },\n                            (err) => {\n                                self.term.error(err)\n                            }\n                        )\n                    } catch (e) {\n                        self.term.error(e)\n                    }\n                }\n            } finally {\n                self.term.resume()\n                await sleep(10)\n                unlock()\n            }\n        }\n\n        const el: any = $('#terminal', '.vue-terminal-wrapper')\n        self.term = el.terminal(interpreter, {\n            greetings: self.welcomeMessage,\n            name: 'codeblocks_repl',\n            height: this.height,\n            prompt: ps1,\n        })\n\n        self.term.ready = Promise.resolve()\n\n        if (this.eventHub) {\n            this.eventHub.$on('console-log', (msg) => self.term.echo(msg))\n            this.eventHub.$on('console-err', (msg) => self.term.error(msg))\n            this.eventHub.$on('clicked-run', () => self.clear())\n        }\n    }\n\n    beforeDestroy() {\n        if (this.eventHub) {\n            this.eventHub.$off('console-log')\n            this.eventHub.$off('console-err')\n            this.eventHub.$off('clicked-run')\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Terminal.vue?vue&type=template&id=2ec5dfe0&\"\nimport script from \"./Terminal.vue?vue&type=script&lang=ts&\"\nexport * from \"./Terminal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Terminal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\n\n//helper to reset the canvas area if needed\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport BaseBlock from '@/components/BaseBlock.vue'\nimport { BlockData, IMainBlock } from '@/lib/codeBlocksManager'\nimport { ICompilerID, ICompilerInstance } from '@/lib/ICompilerRegistry'\nimport Terminal from '@/components/Terminal.vue'\n\n@Component({ components: { Terminal } })\nexport default class CodeREPL extends BaseBlock {\n    @Prop({ required: true }) eventHub!: Vue\n    @Prop({ required: true }) blockInfo!: IMainBlock\n    @Prop({ required: true }) isReady!: boolean\n    @Prop({ required: true }) canStop!: boolean\n    @Prop({ required: true }) showGlobalMessages!: boolean\n    @Prop({ required: true }) globalStateMessage!: string\n\n    get hasContent(): boolean {\n        return false\n    }\n\n    get isRunning(): boolean {\n        return this.canStop\n    }\n\n    get canStartREPL(): boolean {\n        return this.blockInfo.runCode && this.blockInfo.messagePassing && this.blockInfo.keepAlive\n    }\n\n    get allowsREPL(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp === undefined) {\n            return false\n        }\n        return cmp.allowsREPL\n    }\n\n    get compiler(): ICompilerID {\n        return this.blockInfo.compiler\n    }\n\n    get typeName() {\n        let s = this.block.type.toLowerCase()\n        if (this.block.hidden) {\n            s += '-hidden'\n        }\n        if (this.block.static) {\n            s += '-static'\n        }\n        return s\n    }\n\n    get readyWhenMounted() {\n        return false\n    }\n\n    get terminal(): Vue {\n        return this.$refs.terminal as Vue\n    }\n\n    emitRun() {\n        this.$emit('run', this.block)\n    }\n\n    emitStop() {\n        this.$emit('stop', this.block)\n    }\n\n    mounted() {\n        if (this.eventHub) {\n            this.eventHub.$on('all-mounted', this.whenMounted)\n        } else {\n            this.whenMounted()\n        }\n\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        this.waitReady(cmp)\n    }\n\n    beforeDestroy() {\n        if (this.eventHub) {\n            this.eventHub.$off('all-mounted')\n        }\n        this.whenBlockIsDestroyed()\n    }\n\n    waitReady(cmp: ICompilerInstance | undefined) {\n        if (cmp === undefined || cmp.isReady) {\n            this.whenBlockIsReady()\n        } else {\n            setTimeout(this.waitReady.bind(this, cmp), 500)\n        }\n    }\n\n    whenMounted(): void {\n        this.emitRun()\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeREPL.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeREPL.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeREPL.vue?vue&type=template&id=a208ad54&\"\nimport script from \"./CodeREPL.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeREPL.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QBanner from 'quasar/src/components/banner/QBanner.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtn,QIcon,QBanner});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.editMode)?_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\",value:(_vm.language),expression:\"language\"}],domProps:{\"innerHTML\":_vm._s(_vm.previewValue)}}):_c('TipTap',{staticClass:\"editor q-my-3\",attrs:{\"value\":_vm.value,\"name\":_vm.name,\"language\":_vm.language,\"scopUUID\":_vm.scopeUUID,\"editMode\":_vm.editMode},on:{\"input\":_vm.updatedContentDefered}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row q-ma-0 q-pa-0\"},[_c('div',{staticClass:\"col-xs-12 col-md-6 q-px-sm\"},[_c('q-input',{ref:\"editBox\",staticClass:\"plain accqstXmlInput noRTEditor\",attrs:{\"type\":\"textarea\",\"autogrow\":\"\",\"filled\":\"\",\"name\":_vm.name,\"label\":\"HTML Source\",\"background-color\":\"blue-grey darken-3\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6 q-px-sm\"},[_c('div',{staticClass:\"q-field__label no-pointer-events ellipsis text-caption wysiwyg\"},[_vm._v(\" Preview \")]),_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\",value:(_vm.language),expression:\"language\"},{name:\"tagged\",rawName:\"v-tagged\",value:(_vm.scopeUUID),expression:\"scopeUUID\"}],domProps:{\"innerHTML\":_vm._s(_vm.text)}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { ITagReplaceAction } from '../plugins/tagger'\n@Component\nexport default class TipTap extends Vue {\n    @Prop({ default: '' }) value!: string\n    @Prop({ default: '' }) name!: string\n    @Prop({ default: '' }) scopeUUID!: string\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'javascript' }) language!: string\n\n    get text(): string {\n        return this.value\n    }\n    set text(v: string) {\n        this.updatedContent(v)\n    }\n\n    updatedContent(v: string): void {\n        this.$emit('input', v)\n    }\n    replaceTemplateTags(o: ITagReplaceAction) {\n        if (!this.editMode) {\n            return\n        }\n        if (o.scopeUUID != this.scopeUUID) {\n            return\n        }\n        this.updatedContent(Vue.$tagger.replaceTemplateTagInString(this.text, o.name, o.newValue))\n    }\n\n    mounted() {\n        const eb: any = this.$refs.editBox\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        eb.$el.querySelectorAll('textarea[name]').forEach(el => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n        })\n        Vue.$tagger.$on('replace-template-tag', this.replaceTemplateTags)\n    }\n\n    beforeDestroy() {\n        Vue.$tagger.$off('replace-template-tag', this.replaceTemplateTags)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TipTap.vue?vue&type=template&id=5a368702&scoped=true&\"\nimport script from \"./TipTap.vue?vue&type=script&lang=ts&\"\nexport * from \"./TipTap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TipTap.vue?vue&type=style&index=0&id=5a368702&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a368702\",\n  null\n  \n)\n\nexport default component.exports\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QField from 'quasar/src/components/field/QField.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QInput,QField});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport TipTap from './TipTap.vue'\nimport BaseBlock from './BaseBlock.vue'\n@Component({ components: { TipTap } })\nexport default class SimpleText extends BaseBlock {\n    @Prop() language!: string\n    @Prop({ default: '' }) value!: string\n    @Prop({ default: '' }) name!: string\n    @Prop({ default: '' }) scopeUUID!: string\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: '' }) previewValue!: string\n\n    textUpdateTimer: number | null = null\n    textUpdateStartTime: number = 0\n    updatedContentDefered(newVal: string) {\n        if (!this.editMode) {\n            this.updatedContent(newVal)\n            return\n        }\n\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.textUpdateTimer !== null) {\n            clearTimeout(this.textUpdateTimer)\n            this.textUpdateTimer = null\n        } else {\n            this.textUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.textUpdateTimer = null\n            this.updatedContent(newVal)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.textUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.textUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n\n    updatedContent(v: string) {\n        //console.log('Updating')\n        //this.value = v\n        this.$emit('input', v)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SimpleText.vue?vue&type=template&id=fead5814&scoped=true&\"\nimport script from \"./SimpleText.vue?vue&type=script&lang=ts&\"\nexport * from \"./SimpleText.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fead5814\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.editMode)?_c('div',[_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[(_vm.hasError)?_c('q-banner',{staticClass:\"text-white bg-red q-mb-md\",attrs:{\"inline-actions\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('q-btn',{attrs:{\"flat\":\"\",\"color\":\"white\",\"label\":\"OK\"},on:{\"click\":function($event){_vm.error = ''}}})]},proxy:true}],null,false,1144489300)},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1),(_vm.editMode)?_c('div',{staticClass:\"row justify-between controlContainer\"},[_c('div',{staticClass:\"multiDiv\"},[_c('div',{staticClass:\"inlined-input q-mr-sm\"},[_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showInfoDialog}})],1),_c('div',{staticClass:\"q-mr-lg inlined-input noMoreBottomMargin\"},[_c('q-input',{staticClass:\"noMoreBottomMargin\",attrs:{\"label\":\"Name\",\"rounded\":\"\",\"filled\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('div',{staticClass:\"inlined-input q-mr-md\"},[_c('input',{ref:\"jsonFileUploader\",staticClass:\"jsonFileUploader\",attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.onUploadJson($event)}}}),_c('q-btn',{attrs:{\"color\":\"teal-9\",\"filled\":\"\",\"label\":\"Load JSON\",\"icon\":\"cloud_upload\"},on:{\"click\":_vm.openJson}})],1),_c('div',{staticClass:\"inlined-input q-mr-md\"},[_c('input',{ref:\"plainFileUploader\",staticClass:\"plainFileUploader\",attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.onUploadPlain($event)}}}),_c('q-btn',{attrs:{\"color\":\"teal-8\",\"filled\":\"\",\"label\":\"Add Text Data\",\"icon\":\"post_add\"},on:{\"click\":_vm.openPlain}})],1),_c('div',{staticClass:\"inlined-input\"},[_c('input',{ref:\"imageFileUploader\",staticClass:\"imageFileUploader\",attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.onUploadImage($event)}}}),_c('q-btn',{attrs:{\"color\":\"teal\",\"filled\":\"\",\"label\":\"Add Image Data\",\"icon\":\"add_photo_alternate\"},on:{\"click\":_vm.openImage}})],1)]),_c('div',{staticClass:\"col-grow\"}),_c('div',[(_vm.editMode)?_c('q-btn-group',{staticClass:\"q-mb-sm\",attrs:{\"rounded\":\"\"}},[_c('q-btn',{attrs:{\"color\":_vm.isExpandedAuto ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Auto\",\"icon\":\"video_label\"},on:{\"click\":_vm.setExpandedAuto}}),_c('q-btn',{attrs:{\"color\":_vm.isExpandedLarge ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Large\",\"icon\":\"call_to_action\"},on:{\"click\":_vm.setExpandedLarge}}),_c('q-btn',{attrs:{\"color\":_vm.isExpandedTiny ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Small\",\"icon\":\"visibility_off\"},on:{\"click\":_vm.setExpandedTiny}})],1):_vm._e()],1)]):_vm._e(),_c('q-slide-transition',[_c('codemirror',{ref:\"codeBox\",class:\"accqstXmlInput noRTEditor codebox\",attrs:{\"value\":_vm.code,\"options\":_vm.options,\"name\":(_vm.namePrefix + \"block[\" + (_vm.block.parentID) + \"][\" + (_vm.block.id) + \"]\"),\"id\":(\"teQ\" + (_vm.block.parentID) + \"B\" + (_vm.block.id)),\"data-question\":_vm.block.parentID},on:{\"ready\":_vm.onCodeReady,\"focus\":_vm.onCodeFocus,\"input\":_vm.onCodeChange}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\n\n//helper to reset the canvas area if needed\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport BaseBlock from '@/components/BaseBlock.vue'\n\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { IRandomizerSet, CodeExpansionType } from '@/lib/ICodeBlocks'\nimport { IScriptOutputObject } from '@/lib/IScriptBlock'\nimport { ICodePlaygroundOptions } from './CodePlayground.vue'\n\nimport codemirror from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\n//themes\nimport 'codemirror/theme/solarized.css'\nimport 'codemirror/theme/base16-dark.css'\nimport 'codemirror/theme/base16-light.css'\nimport 'codemirror/theme/duotone-dark.css'\nimport 'codemirror/theme/duotone-light.css'\nimport 'codemirror/theme/xq-dark.css'\nimport 'codemirror/theme/xq-light.css'\nimport 'codemirror/theme/blackboard.css'\nimport 'codemirror/theme/midnight.css'\nimport 'codemirror/theme/neo.css'\nimport 'codemirror/theme/mbo.css'\nimport 'codemirror/theme/mdn-like.css'\n\n//languages\nimport 'codemirror/mode/javascript/javascript.js'\n\n@Component({\n    components: {},\n})\nexport default class DataBlock extends BaseBlock {\n    @Prop({ default: '' }) namePrefix!: string\n    @Prop({ required: true }) finalOutputObject!: IScriptOutputObject\n    @Prop({ required: true })\n    block!: BlockData\n\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'base16-dark' }) theme!: string\n    @Prop({ required: true }) eventHub!: Vue\n    @Prop() tagSet?: IRandomizerSet\n\n    get codeBox(): Vue {\n        return this.$refs.codeBox as Vue\n    }\n    get codemirror(): any | undefined {\n        if (this.codeBox === undefined || this.codeBox === null) {\n            return undefined\n        }\n        return (this.codeBox as any).codemirror\n    }\n\n    get originalMode(): boolean {\n        if (this.block.obj === null) {\n            return false\n        }\n        return this.block.obj.requestsOriginalVersion()\n    }\n\n    get options(): ICodePlaygroundOptions {\n        return {\n            // codemirror options\n            mode: this.$CodeBlock.mimeType('javascript'),\n            theme: this.theme,\n            lineNumbers: true,\n            line: true,\n            tabSize: 4,\n            indentUnit: 4,\n            autoCloseBrackets: true,\n            readOnly: !this.editMode,\n            firstLineNumber: 1,\n            gutters: ['diagnostics', 'CodeMirror-linenumbers'],\n        }\n    }\n\n    get code() {\n        if (!this.editMode) {\n            return this.block.actualContent()\n        }\n        return this.block.content\n    }\n\n    get name(): string {\n        return this.block.name\n    }\n    set name(newName: string) {\n        this.block.name = newName\n    }\n\n    get visibleLines(): 'auto' | string {\n        if (this.block.codeExpanded == CodeExpansionType.TINY) {\n            return '2.4'\n        } else if (this.block.codeExpanded == CodeExpansionType.LARGE) {\n            return '33.4'\n        }\n        return 'auto'\n    }\n    created() {\n        this.eventHub.$on('before-run', this.resetBeforeRun)\n        this.eventHub.$on('render-diagnostics', this.updateErrors)\n    }\n    mounted() {\n        const hasErrors = this.block && this.block.obj && this.block.obj.err.length > 0\n        if (hasErrors) {\n            this.updateErrors()\n        }\n        this.updateHeight()\n    }\n    beforeDestroy() {\n        this.eventHub.$off('before-run', this.resetBeforeRun)\n        this.eventHub.$off('render-diagnostics', this.updateErrors)\n    }\n\n    needsCodeRebuild: boolean = false\n\n    get isExpandedLarge(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.LARGE\n    }\n    get isExpandedTiny(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.TINY\n    }\n    get isExpandedAuto(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.AUTO\n    }\n    setExpandedLarge(): void {\n        this.setExpanded(CodeExpansionType.LARGE)\n    }\n    setExpandedTiny(): void {\n        this.setExpanded(CodeExpansionType.TINY)\n    }\n    setExpandedAuto(): void {\n        this.setExpanded(CodeExpansionType.AUTO)\n    }\n    setExpanded(val: CodeExpansionType): void {\n        this.block.codeExpanded = val\n\n        if (this.block.codeExpanded != CodeExpansionType.TINY) {\n            this.$CodeBlock.refreshAllCodeMirrors()\n        }\n        this.updateHeight()\n    }\n    updateErrors(): boolean {\n        return false\n    }\n    resetBeforeRun(): void {}\n\n    onCodeChange(newCode) {\n        //copy the content to the actual textbox processed by StudON\n        const tb = this.codeBox.$el.querySelector('textarea[name]') as HTMLTextAreaElement\n        tb.value = newCode\n\n        //copy code to the block structure\n        this.block.content = newCode\n\n        if (this.editMode) {\n            this.needsCodeRebuild = true\n        }\n    }\n\n    onCodeFocus(editor) {}\n    onDidInit(): void {\n        this.updateErrors()\n    }\n    onCodeReady(editor) {\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        if (\n            this.codemirror &&\n            this.codemirror.display &&\n            this.codemirror.display.input &&\n            this.codemirror.display.input.textarea\n        ) {\n            this.codemirror.display.input.textarea.className = 'noRTEditor'\n        }\n        this.codeBox!.$el.querySelectorAll('textarea[name]').forEach((el) => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n            el.id = this.codeBox!.$el.id\n\n            $(el).text(this.block.content)\n            el.setAttribute('data-question', `${this.block.parentID}`)\n\n            if (this.editMode) {\n                el.setAttribute('is-editmode', `${this.editMode}`)\n            }\n        })\n        this.onCodeChange(this.block.content)\n\n        this.whenBlockIsReady()\n    }\n    updateHeight() {\n        if (this.visibleLines === 'auto') {\n            if (this.codemirror) {\n                this.codemirror.setSize('height', 'auto')\n            }\n        } else {\n            if (this.codemirror) {\n                this.codemirror.setSize(null, Math.round(20 * Math.max(1, +this.visibleLines)) + 9)\n            }\n        }\n    }\n\n    showInfoDialog(): void {\n        this.$q\n            .dialog({\n                title: this.$l('DataBlock.InfoCaption'),\n                message: this.$l('DataBlock.Info').replace('{NAME}', this.name),\n                html: true,\n                style: 'width:75%',\n            })\n            .onOk(() => {\n                // console.log('OK')\n            })\n            .onCancel(() => {\n                // console.log('Cancel')\n            })\n            .onDismiss(() => {\n                // console.log('I am triggered on both OK and Cancel')\n            })\n    }\n\n    error: string = ''\n    get hasError(): boolean {\n        return this.error !== ''\n    }\n\n    onUpload(\n        uploader: any,\n        validateFileType: (type: string) => boolean,\n        processor: (fl: File, fr: FileReader) => void,\n        action: (name: string, content: string | ArrayBuffer | null) => void\n    ): void {\n        if (uploader.files === undefined || uploader.files.length < 1) {\n            return\n        }\n\n        const files = uploader.files\n        for (let i = 0; i < files.length; i++) {\n            const fl = files[i]\n            let type: string = fl.type\n            if (fl.type == '') {\n                const ext = fl.name.split('.').pop()\n\n                const knownTextExtensions = ['obj', 'mat', 'vsh', 'fsh', 'ply']\n                if (knownTextExtensions.indexOf(ext) === 0) {\n                    type = 'text/' + ext\n                }\n                console.log(ext, type)\n            }\n            //console.log(fl)\n            if (!validateFileType(type)) {\n                this.error = `Uploads of type '${type}' are not allowed.`\n                console.error(this.error)\n                break\n            }\n\n            if (fl.size > 500 * 1025) {\n                this.error = `Maximum allowed upload size are 500kB.`\n                console.error(this.error)\n                break\n            }\n            const fr = new FileReader()\n            fr.onload = () => {\n                action(fl.name, fr.result)\n            }\n            fr.onerror = (e) => {\n                console.error(fr.error)\n                this.error = fr.error === undefined || fr.error === null ? '' : fr.error.message\n            }\n            processor(fl, fr)\n        }\n        uploader.value = ''\n    }\n\n    openImage(): void {\n        const uploader: any = this.$refs['imageFileUploader']\n        uploader.click()\n    }\n    openPlain(): void {\n        const uploader: any = this.$refs['plainFileUploader']\n        uploader.click()\n    }\n    openJson(): void {\n        const uploader: any = this.$refs['jsonFileUploader']\n        uploader.click()\n    }\n\n    onUploadImage(event): void {\n        const uploader: any = this.$refs['imageFileUploader']\n        this.onUpload(\n            uploader,\n            (type) => type.startsWith('image/'),\n            (fl, fr) => fr.readAsDataURL(fl),\n            (fileName, content) => this.addImageURL(fileName, content)\n        )\n    }\n\n    onUploadPlain(event): void {\n        const uploader: any = this.$refs['plainFileUploader']\n        this.onUpload(\n            uploader,\n            (type) => type.startsWith('text/'),\n            (fl, fr) => fr.readAsText(fl),\n            (fileName, content) => this.loadPlain(fileName, content)\n        )\n    }\n\n    onUploadJson(event): void {\n        const uploader: any = this.$refs['jsonFileUploader']\n        this.onUpload(\n            uploader,\n            (type) => type.trim() === 'application/json' || type.trim() === 'text/json',\n            (fl, fr) => fr.readAsText(fl),\n            (fileName, content) => this.loadJson(fileName, content)\n        )\n    }\n\n    loadJson(fileName, txt) {\n        this.block.content = txt\n    }\n\n    loadPlain(fileName, txt) {\n        this.addToContent(fileName, txt)\n    }\n    addImageURL(fileName, img) {\n        this.addToContent(fileName, img)\n    }\n\n    addToContent(fileName: string, data: string) {\n        let json = {}\n        try {\n            json = JSON.parse(this.block.content)\n        } catch (e) {\n            console.error(e)\n        }\n        let i = -1\n        let name\n        do {\n            i++\n            if (i == 0) {\n                name = fileName\n            } else {\n                name = `${fileName}_${i}`\n            }\n        } while (json[name] !== undefined)\n        json[name] = data\n        this.block.content = JSON.stringify(json, undefined, 2)\n    }\n    get images(): any {\n        return []\n    }\n\n    set images(val: any) {\n        console.log('IMAGES:' + val)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DataBlock.vue?vue&type=template&id=0deb24d0&scoped=true&\"\nimport script from \"./DataBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./DataBlock.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DataBlock.vue?vue&type=style&index=0&id=0deb24d0&lang=sass&scoped=true&\"\nimport style1 from \"./DataBlock.vue?vue&type=style&index=1&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0deb24d0\",\n  null\n  \n)\n\nexport default component.exports\nimport QBanner from 'quasar/src/components/banner/QBanner.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QBtnGroup from 'quasar/src/components/btn-group/QBtnGroup.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBanner,QBtn,QInput,QBtnGroup,QSlideTransition});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlockContainer from '@/components/CodeBlockContainer.vue'\nimport CodeBlocksSettings, { ICodeBlockSettingsOptions } from '@/components/CodeBlocksSettings.vue'\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport CodePanel from '@/components/CodePanel.vue'\n//import Blockly from '@/components/Blockly/Blockly.vue'\nimport CodePlayground from '@/components/CodePlayground.vue'\nimport CodeREPL from '@/components/CodeREPL.vue'\nimport SimpleText from '@/components/SimpleText.vue'\nimport DataBlock from '@/components/DataBlock.vue'\nimport { BlockData, IMainBlock, IBlockBookmarkPayload } from '@/lib/codeBlocksManager'\nimport { IScriptOutputObject, IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport {\n    ICompilerID,\n    ICompilerErrorDescription,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\nimport {\n    CodeOutputTypes,\n    IRandomizerSet,\n    KnownBlockTypes,\n    IBlockDataPlayground,\n} from '@/lib/ICodeBlocks'\n\nfunction formatOutput(result) {\n    const regex =\n        /^@(bold|italic|em)?(red|green|blue|cyan|magenta|yellow|orange|gray|#[\\da-f]{6}|#[\\da-f]{8}):(.*)/gim\n\n    return result\n        .split('\\n')\n        .map((line, nr) => {\n            let m\n\n            if ((m = regex.exec(result)) !== null) {\n                let style = ''\n                if (m[2] === 'gray') {\n                    style = 'style=\"color:silver\"'\n                } else if (m[2] !== undefined) {\n                    style = `style=\"color:${m[2]}\"`\n                }\n\n                if (m[1] === 'bold') {\n                    line = `<b ${style}>${m[3]}</b>`\n                } else if (m[1] === 'italic' || m[1] === 'em') {\n                    line = `<em ${style}>${m[3]}</em>`\n                } else {\n                    line = `<span ${style}>${m[3]}</span>`\n                }\n            }\n\n            return line\n        })\n        .join('\\n')\n}\n\nconst Blockly = () => import('@/components/Blockly/Blockly.vue')\nexport interface IOnTypeChangeInfo {\n    type: KnownBlockTypes\n    hidden: boolean\n    static: boolean\n    id: number\n    hasCode: boolean\n}\n\nexport interface IOnVisibleLinesChangeInfo {\n    visibleLines: 'auto' | number\n    id: number\n}\n\nexport interface IOnPlacementChangeInfo extends IBlockDataPlayground {\n    id: number\n}\n\nexport interface IOnScriptVersionChangeInfo {\n    version: string\n    id: number\n}\n\nexport interface IOnSetAutoResetInfo {\n    shouldAutoreset: boolean\n    id: number\n}\n\nexport interface IOnReloadResourcesInfo {\n    shouldReloadResources: boolean\n    id: number\n}\n\nexport interface IOnGenerateTemplateInfo {\n    generateTemplate: boolean\n    id: number\n}\n\nexport interface IOnThemeChangeInfo {\n    solution: string\n    code: string\n}\n\nexport interface IOnChangeOrder {\n    id: number\n    newID: number\n}\n\n@Component({\n    components: {\n        CodeBlockContainer,\n        CodeBlocksSettings,\n        CodeBlock,\n        CodePlayground,\n        SimpleText,\n        Blockly,\n        CodePanel,\n        CodeREPL,\n        DataBlock,\n    },\n})\nexport default class CodeBlocks extends Vue {\n    didInitialize: boolean = false\n    outputHTML: string = ''\n    output: string = ''\n    sansoutput: string = ''\n    didClip: boolean = false\n    _finalOutputObject: IScriptOutputObject | null = null\n    eventHub: Vue = new Vue()\n\n    get continuousCompile(): boolean {\n        if (this.editMode) {\n            return false\n        }\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.allowsContinousCompilation\n        }\n        return false\n    }\n\n    get finalOutputObject(): IScriptOutputObject {\n        if (this._finalOutputObject === null || this._finalOutputObject === undefined) {\n            return {\n                initialOutput: '',\n                output: '',\n                processedOutput: {\n                    type: 'text',\n                    text: '',\n                    json: undefined,\n                },\n                sansoutput: '',\n                outputElement: $(this.outputElement) as any,\n            }\n        }\n        return this._finalOutputObject\n    }\n    @Prop({ required: true }) blockInfo!: IMainBlock\n    get options(): ICodeBlockSettingsOptions {\n        return {\n            language: this.language,\n            compiler: this.compiler,\n            executionTimeout: this.executionTimeout,\n            maxCharacters: this.maxCharacters,\n            runCode: this.runCode,\n            domLibs: this.domLibraries,\n            workerLibs: this.workerLibraries,\n            id: this.blockInfo.id,\n            codeTheme: this.codeTheme,\n            solutionTheme: this.solutionTheme,\n            outputParser: this.outputParser,\n            randomizer: this.blockInfo.randomizer,\n            continuousCompilation: this.blockInfo.continuousCompilation,\n            persistentArguments: this.blockInfo.persistentArguments,\n            messagePassing: this.blockInfo.messagePassing,\n            keepAlive: this.blockInfo.keepAlive,\n        }\n    }\n    get blocks(): BlockData[] {\n        return this.blockInfo.blocks\n    }\n    get language(): string {\n        return this.blockInfo.language\n    }\n    get blockid(): number {\n        return this.blockInfo.id\n    }\n    get executionTimeout(): number {\n        return this.blockInfo.executionTimeout\n    }\n    get maxCharacters(): number {\n        return this.blockInfo.maxCharacters\n    }\n    get compiler(): ICompilerID {\n        return this.blockInfo.compiler\n    }\n    get runCode(): boolean {\n        return this.blockInfo.runCode\n    }\n    get domLibraries(): string[] {\n        return this.blockInfo.domLibs\n    }\n    get workerLibraries(): string[] {\n        return this.blockInfo.workerLibs\n    }\n    get solutionTheme(): string {\n        return this.blockInfo.solutionTheme\n    }\n    get codeTheme(): string {\n        return this.blockInfo.codeTheme\n    }\n    get readonly(): boolean {\n        return this.blockInfo.readonly\n    }\n    get outputParser(): CodeOutputTypes {\n        return this.blockInfo.outputParser\n    }\n\n    get editMode(): boolean {\n        return false\n    }\n    get hasOutput(): boolean {\n        return this.outputHTML !== undefined && this.outputHTML != ''\n    }\n    get mimeType(): string {\n        return this.$CodeBlock.mimeType(this.language)\n    }\n    get isReady(): boolean {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (!cmp) {\n            return false\n        }\n\n        return (\n            this.didInitialize &&\n            cmp.isReady &&\n            !cmp.isRunning &&\n            !this.$compilerState.runButtonForceHide\n        )\n    }\n    get canRun(): boolean {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (!cmp) {\n            return false\n        }\n        return cmp.canRun && this.runCode\n    }\n    get randomizerActive(): boolean {\n        return this.blockInfo.randomizer.active\n    }\n    get activeTagSet(): IRandomizerSet | undefined {\n        if (!this.randomizerActive) {\n            return undefined\n        }\n        return this.tagSet(this.blockInfo.randomizer.previewIndex)\n    }\n    get completeSource(): string {\n        return this.blocks\n            .filter((b) => b.hasCode)\n            .map((b) => b.actualContent())\n            .reduce((p, c) => {\n                return p + '\\n' + c\n            }, '')\n    }\n    get showGlobalMessages(): boolean {\n        return !this.$compilerState.globalStateHidden\n    }\n    get playgrounds(): BlockData[] {\n        return this.blocks.filter((b) => b.type == 'PLAYGROUND')\n    }\n    get dataBlocks(): BlockData[] {\n        return this.blocks.filter((b) => b.type == 'DATA')\n    }\n    get outputElement(): HTMLElement {\n        return this.$refs.output as HTMLElement\n    }\n    get addonClass(): string {\n        let cl = ''\n        if (this.editMode) {\n            cl += 'editmode '\n        }\n        if (this.readonly) {\n            cl += 'block-readonly '\n        }\n        return cl\n    }\n    get backgroundColorClass(): string {\n        return this.editMode ? 'blue-grey darken-4' : ''\n    }\n\n    blockBecameReady(): void {\n        let readyCount = this.blockInfo.blocks.map((b) => b.readyCount).reduce((p, c) => p + c, 0)\n        if (readyCount == this.blockInfo.blocks.length) {\n            this.$nextTick(() => {\n                this.eventHub.$emit('all-mounted', {})\n            })\n        }\n        console.d('Ready', readyCount, this.blockInfo.blocks.length)\n    }\n\n    tagSet(nr: number): IRandomizerSet {\n        return this.blockInfo.randomizer.sets[nr]\n    }\n\n    themeForBlock(bl: BlockData): string {\n        return bl.themeForCodeBlock\n    }\n    public blockById(id: number): BlockData | undefined {\n        return this.blocks.find((block) => block.id == id)\n    }\n    onTypeChange(nfo: IOnTypeChangeInfo): void {}\n    onVisibleLinesChange(nfo: IOnVisibleLinesChangeInfo): void {}\n    onPlacementChange(nfo: IOnPlacementChangeInfo): void {}\n    onScriptVersionChange(nfo: IOnScriptVersionChangeInfo): void {}\n    onSetAutoReset(nfo: IOnSetAutoResetInfo): void {}\n    onReloadResources(nfo: IOnReloadResourcesInfo): void {}\n    onSetGenerateTemplate(nfo: IOnGenerateTemplateInfo): void {}\n    onCompilerChange(v: string): void {}\n    onCompilerVersionChange(v: string): void {}\n    onRunStateChange(v: boolean): void {}\n    onContinousCompileStateChange(v: boolean): void {}\n    onMessagePassingChange(v: boolean): void {}\n    onKeepAliveChange(v: boolean): void {}\n    onPersistentArgumentsChange(v: boolean): void {}\n    onLanguageChange(v: string): void {}\n    onCharacterLimitChange(v: number): void {}\n    onTimeoutChange(v: number): void {}\n    onWorkerLibChange(v: string[]): void {}\n    onDomLibChange(v: string[]): void {}\n    onThemeChange(nfo: IOnThemeChangeInfo): void {}\n    onOutputParserChange(v: CodeOutputTypes): void {}\n    moveUp(idx: number): void {}\n    moveDown(idx: number): void {}\n    onChangeOrder(nfo: IOnChangeOrder): void {}\n    removeBlock(idx: number): void {}\n    addNewBlock(): void {}\n    onPlaygroundChangedOutput(newOutput: string | undefined): void {\n        if (newOutput === undefined) {\n            return\n        }\n        if (this.output != newOutput) {\n            this.output = newOutput.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n            if (this.maxCharacters > 0 && this.output.length > this.maxCharacters) {\n                this.outputHTML = formatOutput(this.output.substr(0, this.maxCharacters))\n                this.outputHTML += this.$CodeBlock.format_info(\n                    'Info: Output too long. Removed all following Characters. \\n<b>...</b>\\n\\n'\n                )\n            } else {\n                this.outputHTML = formatOutput(this.output)\n            }\n            this.outputHTML += this.sansoutput\n        }\n    }\n\n    resetOutput(): void {\n        this.output = ''\n        this.sansoutput = ''\n        this.didClip = false\n        this.outputHTML = ''\n    }\n\n    log(text: string): void {\n        //console.log(\"log\", text);\n        this.output += text\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        if (!this.didClip) {\n            let formatedText\n            if (this.maxCharacters > 0 && this.output.length > this.maxCharacters) {\n                formatedText = this.$CodeBlock.format_info(\n                    'Info: Output too long. Removed all following Characters. \\n<b>...</b>\\n\\n'\n                )\n                this.didClip = true\n            } else {\n                formatedText = formatOutput(text)\n            }\n\n            this.outputHTML += formatedText\n            this.eventHub.$emit('console-log', formatedText)\n        }\n    }\n\n    logError(text: string): void {\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        this.eventHub.$emit('console-err', text)\n        text = this.$CodeBlock.format_error(text)\n        //console.log(\"err\", text);\n        this.sansoutput += text\n        this.outputHTML += text\n    }\n\n    logInfo(text: string): void {\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        this.eventHub.$emit('console-nfo', text)\n        text = this.$CodeBlock.format_info(text)\n        //console.log(\"nfo\", text);\n        this.sansoutput += text\n        this.outputHTML += text\n    }\n\n    processDiagnostics(error: ICompilerErrorDescription) {\n        const line = error.start.line\n        this.blocks.forEach((block) => {\n            if (!block.hasCode) {\n                return\n            }\n\n            const first = block.firstLine\n            const last = block.nextLine - 1\n\n            if (error.start.line >= first && error.start.line <= last) {\n                block.errors.push(error)\n            }\n        })\n    }\n\n    clearDiagnostics(): void {\n        this.blocks.forEach((block) => (block.errors = []))\n        this.eventHub.$emit('render-diagnostics', {})\n    }\n\n    loadLibraries(whenLoaded: () => void): void {\n        this.$compilerRegistry.loadLibraries(this.domLibraries, whenLoaded)\n    }\n\n    /**\n     * Call when the program finished executing and pass the output string. We will send the output to all embeded canvas elements\n     * @param {*} output\n     * @param {*} infoErrorOutput output generated by info or error messages\n     */\n    finishedExecution(output: string, infoErrorOutput: string, resultData?: object | any[]): void {\n        let parseError: any = undefined\n        let processed: IProcessedScriptOutput = { type: 'text', json: undefined, text: output }\n\n        if (output !== undefined && this.playgrounds.length > 0) {\n            try {\n                processed = this.$CodeBlock.processMixedOutput(\n                    output,\n                    this.outputParser,\n                    undefined,\n                    resultData\n                )\n            } catch (e) {\n                parseError = e\n            }\n        }\n\n        this._finalOutputObject = {\n            initialOutput: output,\n            output: output,\n            processedOutput: processed,\n            sansoutput: this.sansoutput,\n            parseError: parseError,\n            //outputElement: $(this.outputElement) as JQuery<HTMLElement> //This line soes not work here, looks like the update did not yet happen?\n            outputElement: $(this.$refs.output as any) as any,\n        }\n        this.eventHub.$emit('output-updated', this._finalOutputObject)\n\n        this.onRunFinished()\n    }\n\n    get hasREPL(): boolean {\n        return this.blocks.filter((bl) => bl.type === KnownBlockTypes.REPL).length > 0\n    }\n\n    get canStop(): boolean {\n        return !this.isReady && this.didRunOnce\n    }\n    stop(): void {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp === undefined || cmp.stop === undefined) {\n            return\n        }\n        cmp.stop()\n    }\n\n    didRunOnce: boolean = false\n    run(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp === undefined) {\n            return false\n        }\n\n        this.$compilerState.setAllRunButtons(false)\n\n        this.resetOutput()\n        this.eventHub.$emit('clicked-run')\n        this.clearDiagnostics()\n        const self = this\n\n        this.loadLibraries(() => {\n            self.eventHub.$emit('before-run', {})\n            console.d('compileAndRun')\n            self.didRunOnce = true\n\n            self.$nextTick(() => {\n                self.$nextTick(() => {\n                    let _args: object | string[] = {}\n                    if (cmp.acceptsJSONArgument) {\n                        _args = this.blockInfo.initArgsForLanguage()\n                        this.blocks.forEach((bl) => {\n                            if (bl.obj) {\n                                console.i('!!! ADD ARGUMENTS TO !!!')\n                                bl.obj.addArgumentsTo(_args)\n                            }\n                        })\n                    }\n\n                    const runOptions: ICompileAndRunArguments = {\n                        max_ms: self.executionTimeout,\n                        log_callback: self.log.bind(this),\n                        info_callback: self.logInfo.bind(this),\n                        err_callback: self.logError.bind(this),\n                        compileFailedCallback: self.processDiagnostics.bind(this),\n                        finishedExecutionCB: (\n                            success = true,\n                            overrideOutput = undefined,\n                            returnState = undefined\n                        ) => {\n                            console.i('returnState:', returnState, _args)\n                            if (!success) {\n                                self.$compilerState.hideGlobalState()\n                                self.$compilerState.setAllRunButtons(true)\n                                return undefined\n                            }\n                            let res = self.finishedExecution(\n                                overrideOutput ? overrideOutput : self.output,\n                                self.sansoutput,\n                                runOptions.resultData\n                            )\n\n                            if (returnState !== undefined) {\n                                if (this.blockInfo.persistentArguments) {\n                                    console.i('Store Default State', returnState)\n                                    this.blockInfo.storeDefaultArgs(returnState)\n                                } else {\n                                    this.blockInfo.clearDefaultArgs()\n                                }\n                            }\n                            self.$compilerState.hideGlobalState()\n                            self.$compilerState.setAllRunButtons(true)\n                            return res\n                        },\n                        args: _args,\n                        didReceiveMessage: (cmd, data) => {\n                            console.i('MESSAGE - Received', cmd)\n                            this.blocks.forEach((bl) => {\n                                if (bl.obj) {\n                                    bl.obj.didReceiveMessage(cmd, data)\n                                }\n                            })\n                        },\n                        postMessageFunction: null,\n                        dequeuePostponedMessages: () => {},\n                        allowMessagePassing:\n                            cmp.allowsMessagePassing && self.options.messagePassing,\n                        keepAlive:\n                            cmp.allowsMessagePassing &&\n                            self.options.messagePassing &&\n                            self.options.keepAlive,\n                        withREPL:\n                            cmp.allowsMessagePassing &&\n                            self.options.messagePassing &&\n                            self.options.keepAlive &&\n                            this.hasREPL,\n                        beforeStartHandler: () => {\n                            this.blocks.forEach((bl) => {\n                                console.d('MESSAGE - Before Start')\n                                if (bl.obj) {\n                                    bl.obj.beforeStart()\n                                }\n                            })\n                        },\n                        whenFinishedHandler: (args: object | string[]) => {\n                            this.blocks.forEach((bl) => {\n                                console.d('MESSAGE - When Finished')\n                                if (bl.obj) {\n                                    bl.obj.whenFinished(args, runOptions.resultData)\n                                }\n                            })\n                        },\n                        resultData: undefined,\n                    }\n\n                    if (runOptions.keepAlive) {\n                        this.blocks.forEach((bl) => {\n                            if (bl.obj) {\n                                bl.obj.runConfig = runOptions\n                            }\n                        })\n                    }\n\n                    cmp.compileAndRun('' + self.blockid, self.completeSource, self, runOptions)\n                })\n            })\n        })\n\n        return true\n    }\n    onkey(event) {\n        if (\n            this.editMode &&\n            (event.ctrlKey || event.metaKey) &&\n            (event.key === 'w' || event.key === 'j')\n        ) {\n            this.run()\n            event.preventDefault()\n            return false\n        }\n    }\n\n    mounted() {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            cmp.preload()\n        }\n        const self = this\n        this.loadLibraries(() => {\n            self.eventHub.$emit('initialized-libraries', {})\n        })\n        this.didInitialize = true\n\n        if (this.editMode) {\n            window.addEventListener('keydown', this.onkey, false)\n        }\n\n        Vue.$GlobalEventHub.$on('bookmark-block', this.onBookmarkBlock)\n    }\n    beforeDestroy() {\n        window.removeEventListener('keydown', this.onkey)\n        Vue.$GlobalEventHub.$off('bookmark-block')\n    }\n\n    bookmarkedBlock: BlockData | null = null\n\n    get hasBookmark(): boolean {\n        return this.bookmarkedBlock !== null && this.editMode\n    }\n\n    get panelBlock(): BlockData | null {\n        return this.bookmarkedBlock\n    }\n    onBookmarkBlock(data: IBlockBookmarkPayload) {\n        console.i('Bookmark', data)\n        if (this.blockInfo.uuid == data.uuid) {\n            this.bookmarkedBlock = data.block\n        }\n    }\n\n    triggerRecompileWhenFinished: boolean = false\n    onViewCodeChange(forceRun: boolean = false) {\n        if (!forceRun && !this.blockInfo.continuousCompilation) {\n            return\n        }\n\n        if (this.continuousCodeUpdateTimer !== null) {\n            clearTimeout(this.continuousCodeUpdateTimer)\n            this.continuousCodeUpdateTimer = null\n        }\n        this.continuousCodeUpdateTimer = setTimeout(() => {\n            const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n            console.d('Continuous Compile - ', cmp)\n            if (cmp && cmp.allowsContinousCompilation) {\n                if (!cmp.isRunning && cmp.isReady) {\n                    console.d('Continuous Compile - ', 'RUN')\n                    this.run()\n                } else {\n                    console.d('Continuous Compile - ', 'DEFER')\n                    this.triggerRecompileWhenFinished = true\n                }\n            }\n        }, process.env.VUE_APP_CONTINOUS_COMPILE_TIMEOUT)\n    }\n\n    onRunFinished() {\n        this.didRunOnce = false\n        if (this.triggerRecompileWhenFinished) {\n            console.d('Continuous Compile - ', 'RE-RUN')\n            this.triggerRecompileWhenFinished = false\n            this.onViewCodeChange()\n        }\n    }\n\n    continuousCodeUpdateTimer: number | null = null\n    onRunFromPlayground() {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (\n            cmp &&\n            cmp.canRun &&\n            !this.editMode &&\n            cmp.allowsContinousCompilation // &&\n            // this.blockInfo.continuousCompilation\n        ) {\n            this.onViewCodeChange(true)\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlocks.vue?vue&type=template&id=7e42fd95&\"\nimport script from \"./CodeBlocks.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocks.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlocks.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtn,QIcon,QTooltip,QSlideTransition});\n","<template>\n    <q-layout view=\"hHh lpR fFf\" style=\"min-height:0\">\n        <q-page-container>\n            <CodeBlocks :blockInfo=\"blocks\" />\n        </q-page-container>\n    </q-layout>\n</template>\n\n<script>\nimport CodeBlocks from './components/CodeBlocks'\nimport Vue from 'vue'\n\nexport default {\n    name: 'App',\n\n    props: ['blocks'],\n\n    components: {\n        CodeBlocks\n    },\n\n    data: () => ({}),\n    computed: {}\n}\n</script>\n\n<style lang=\"sass\">\n#app\n  margin-bottom: 16px\n  background-color: rgba(1,1,1,0)\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--1-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--1-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=eaf51832&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QLayout from 'quasar/src/components/layout/QLayout.js';\nimport QPageContainer from 'quasar/src/components/page/QPageContainer.js';\nimport qInstall from \"../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QLayout,QPageContainer});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-layout',{staticStyle:{\"min-height\":\"0\"},attrs:{\"view\":\"hHh lpR fFf\"}},[_c('q-page-container',[_c('CodeBlocksEditor',{attrs:{\"blockInfo\":_vm.blocks}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlocks, {\n    IOnTypeChangeInfo,\n    IOnVisibleLinesChangeInfo,\n    IOnPlacementChangeInfo,\n    IOnScriptVersionChangeInfo,\n    IOnSetAutoResetInfo,\n    IOnThemeChangeInfo,\n    IOnGenerateTemplateInfo,\n    IOnChangeOrder,\n    IOnReloadResourcesInfo,\n} from '@/components/CodeBlocks.vue'\nimport { KnownBlockTypes, CodeOutputTypes } from '@/lib/ICodeBlocks'\n\nvar mixin = {\n    created: function () {\n        console.log(1)\n    },\n}\n@Component\nexport default class CodeBlocksEditor extends CodeBlocks {\n    get editMode(): boolean {\n        return true\n    }\n\n    onTypeChange(nfo: IOnTypeChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        bl.type = nfo.type\n        bl.hidden = nfo.hidden\n        bl.static = nfo.static\n        bl.hasCode = nfo.hasCode\n    }\n\n    onVisibleLinesChange(nfo: IOnVisibleLinesChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        if (nfo.visibleLines != 'auto' && isNaN(nfo.visibleLines)) {\n            bl.visibleLines = 'auto'\n        } else {\n            bl.visibleLines = nfo.visibleLines\n        }\n    }\n    onPlacementChange(nfo: IOnPlacementChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        bl.width = nfo.width\n        bl.height = nfo.height\n        bl.align = nfo.align\n    }\n    onCompilerChange(v: string): void {\n        const c = this.$compilerRegistry.getCompiler({ languageType: v })\n        if (c !== undefined) {\n            console.log('Selected Compiler', c, v, this.blockInfo.compiler)\n            this.blockInfo.compiler.languageType = v\n            this.blockInfo.compiler.version = c.version\n            this.blockInfo.language = c.language\n\n            console.log('PRELOADING')\n            c.preload()\n        }\n    }\n    onCompilerVersionChange(v: string): void {\n        console.log('Selected Version', v, this.blockInfo.compiler.languageType)\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: this.blockInfo.compiler.languageType,\n            version: v,\n        })\n        this.blockInfo.compiler.version = v\n\n        if (c !== undefined) {\n            this.blockInfo.language = c.language\n\n            console.log('PRELOADING')\n            c.preload()\n        }\n    }\n    onRunStateChange(v: boolean): void {\n        this.blockInfo.runCode = v\n    }\n    onContinousCompileStateChange(v: boolean): void {\n        this.blockInfo.continuousCompilation = v\n    }\n    onMessagePassingChange(v: boolean): void {\n        this.blockInfo.messagePassing = v\n    }\n    onKeepAliveChange(v: boolean): void {\n        this.blockInfo.keepAlive = v\n    }\n    onPersistentArgumentsChange(v: boolean): void {\n        if (v === false) {\n            this.blockInfo.clearDefaultArgs()\n        }\n        this.blockInfo.persistentArguments = v\n    }\n    onLanguageChange(v: string): void {\n        this.blockInfo.language = v\n    }\n    onCharacterLimitChange(v: number): void {\n        this.blockInfo.maxCharacters = v\n    }\n    onTimeoutChange(v: number): void {\n        this.blockInfo.executionTimeout = v\n    }\n    onWorkerLibChange(v: string[]): void {\n        this.blockInfo.workerLibs = v\n    }\n    onDomLibChange(v: string[]): void {\n        this.blockInfo.domLibs = v\n    }\n    onScriptVersionChange(nfo: IOnScriptVersionChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        bl.version = nfo.version\n        if (bl.obj) {\n            bl.obj.version = nfo.version\n        }\n    }\n    onSetAutoReset(nfo: IOnSetAutoResetInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        bl.shouldAutoreset = nfo.shouldAutoreset\n    }\n\n    onReloadResources(nfo: IOnReloadResourcesInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        bl.shouldReloadResources = nfo.shouldReloadResources\n    }\n\n    onSetGenerateTemplate(nfo: IOnGenerateTemplateInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        bl.generateTemplate = nfo.generateTemplate\n    }\n\n    onThemeChange(nfo: IOnThemeChangeInfo): void {\n        this.blockInfo.solutionTheme = nfo.solution\n        this.blockInfo.codeTheme = nfo.code\n    }\n    moveUp(idx: number): void {\n        this.blockInfo.moveUp(idx)\n    }\n    moveDown(idx: number): void {\n        this.blockInfo.moveDown(idx)\n    }\n    onChangeOrder(nfo: IOnChangeOrder): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        this.blockInfo.changeOrder(nfo.id, nfo.newID)\n    }\n    addNewBlock(): void {\n        this.blockInfo.addNewBlock()\n    }\n    removeBlock(idx: number): void {\n        this.blockInfo.removeBlock(idx)\n    }\n    onOutputParserChange(v: CodeOutputTypes): void {\n        this.blockInfo.outputParser = v\n    }\n}\n","var render, staticRenderFns\nimport script from \"./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"","<template>\n    <q-layout view=\"hHh lpR fFf\" style=\"min-height:0\">\n        <q-page-container>\n            <CodeBlocksEditor :blockInfo=\"blocks\" />\n        </q-page-container>\n    </q-layout>\n</template>\n\n<script>\nimport CodeBlocksEditor from './components/CodeBlocksEditor'\nimport Vue from 'vue'\n\nexport default {\n    name: 'AppEditor',\n\n    props: ['blocks'],\n\n    components: {\n        CodeBlocksEditor\n    },\n\n    data: () => ({}),\n    computed: {}\n}\n</script>\n\n<style lang=\"sass\">\n#app\n  margin-bottom: 16px\n  background-color: rgba(1,1,1,0)\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--1-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--1-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppEditor.vue?vue&type=template&id=0797aa13&\"\nimport script from \"./AppEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./AppEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppEditor.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QLayout from 'quasar/src/components/layout/QLayout.js';\nimport QPageContainer from 'quasar/src/components/page/QPageContainer.js';\nimport qInstall from \"../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QLayout,QPageContainer});\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\nexport class BlockLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'BLOCK'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        const alts = bl.getElementsByTagName('ALTERNATIVE')\n        const codes = bl.getElementsByTagName('CODE')\n        if (codes.length > 0) {\n            block.content = codes[0].textContent ? codes[0].textContent : ''\n        }\n\n        if (alts.length > 0) {\n            block.hasAlternativeContent = true\n            block.alternativeContent = alts[0].textContent\n            if (!editMode && block.noContent) {\n                block.content = block.alternativeContent ? block.alternativeContent : ''\n            }\n        }\n\n        block.hasCode = true\n    }\n}\n\nexport const blockLoader = new BlockLoadManager()\n\nexport default function(loaders: { [index: string]: IBlockloadManager }) {\n    loaders[blockLoader.blockTag] = blockLoader\n}\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\nexport class PlaygroundLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'PLAYGROUND'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        block.obj = null\n        positioninLoadManager.loadFromDatablock(bl, inBlock, block)\n        block.version = bl.getAttribute('data-version')\n            ? bl.getAttribute('data-version')!\n            : block.version\n    }\n}\n\nexport const playgroundLoader = new PlaygroundLoadManager()\n\nexport default function (loaders: { [index: string]: IBlockloadManager }) {\n    loaders[playgroundLoader.blockTag] = playgroundLoader\n}\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nexport class DataLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'DATA'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        block.obj = null\n        block.version = bl.getAttribute('data-version')\n            ? bl.getAttribute('data-version')!\n            : block.version\n\n        block.name = inBlock.name !== undefined ? inBlock.name : `v${block.id}`\n    }\n}\n\nexport const dataLoader = new DataLoadManager()\n\nexport default function (loaders: { [index: string]: IBlockloadManager }) {\n    loaders[dataLoader.blockTag] = dataLoader\n}\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\n\nexport class REPLLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'REPL'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {}\n}\n\nexport const REPLLoader = new REPLLoadManager()\n\nexport default function (loaders: { [index: string]: IBlockloadManager }) {\n    loaders[REPLLoader.blockTag] = REPLLoader\n}\n","import { ScriptBlock } from './scriptBlock'\nimport { IScriptOutputObject, IPlaygroundObject, ILegacyPlaygroundObject } from './IScriptBlock'\nimport i18n from '../plugins/i18n'\nimport 'reflect-metadata'\nimport { Vue, Component, Watch } from 'vue-property-decorator'\n\nimport App from '../App.vue'\nimport AppEditor from '../AppEditor.vue'\nimport { uuid } from 'vue-uuid'\n\nimport compilerRegistry, { compilerRegistry as CompilerRegistry } from './CompilerRegistry'\nimport { ICompilerErrorDescription, ICompilerID } from './ICompilerRegistry'\nimport {\n    IRandomizerSettings,\n    CodeOutputTypes,\n    IBlockData,\n    KnownBlockTypes,\n    IRandomizerSet,\n    IRandomizerSetTag,\n    ICodeBlockDataState,\n    IBlockDataBase,\n    IBlockDataBlockly,\n    IBlockloadManager,\n    IBlockElementData,\n    CodeExpansionType,\n} from './ICodeBlocks'\n\n//get loaders\nimport blockInstaller from '@/lib/BlockloadManagers/BlockManager'\nimport blocklyInstaller from '@/lib/BlockloadManagers/BlocklyManager'\nimport playgroundInstaller from '@/lib/BlockloadManagers/PlaygroundManager'\nimport dataInstaller from '@/lib/BlockloadManagers/DataManager'\nimport REPLInstaller from '@/lib/BlockloadManagers/REPLManager'\nimport { trim } from 'jquery'\n\nconst loaders: { [index: string]: IBlockloadManager } = {}\nblockInstaller(loaders)\nblocklyInstaller(loaders)\nplaygroundInstaller(loaders)\nREPLInstaller(loaders)\ndataInstaller(loaders)\n\nVue.prototype.$compilerRegistry = CompilerRegistry\n\nexport interface IAppSettings {\n    id: number\n    uuid: string\n    editMode: boolean\n    readonly: boolean\n    randomizer: IRandomizerSettings\n    blocks: BlockData[]\n    compiler: ICompilerID\n    language: string\n    runCode: boolean\n    domLibs: string[]\n    workerLibs: string[]\n    outputParser: CodeOutputTypes\n    solutionTheme: string\n    codeTheme: string\n    executionTimeout: number\n    maxCharacters: number\n    scopeUUID?: string\n    scopeSelector?: string\n    continuousCompilation: boolean\n    messagePassing: boolean\n    keepAlive: boolean\n    persistentArguments: boolean\n    shadowRoot?: ShadowRoot\n}\n\ninterface IAppElementData {\n    randomizerActive?: string\n    randomizerPreviewIndex?: string\n    randomizerKnownTags?: string\n    randomizerSets?: string\n    question?: string\n    compiler?: string\n    compilerVersion?: string\n    domLibs?: string\n    workerLibs?: string\n    readonly?: string\n    runCode?: string\n    id?: string\n    executionTimeout?: string\n    maxCharacters?: string\n    scopeUUID?: string\n    scopeSelector?: string\n    continuousCompilation?: string\n    messagePassing?: string\n    keepAlive?: string\n    persistentArguments?: string\n    outputParser?: CodeOutputTypes\n    solutionTheme?: string\n    codeTheme?: string\n}\n\nexport interface IBlockBookmarkPayload {\n    uuid: string\n    block: BlockData | null\n}\n@Component\nexport class BlockData extends Vue implements IBlockData {\n    appSettings!: IAppSettings\n    hasCode!: boolean\n    type!: KnownBlockTypes\n    content!: string\n    alternativeContent!: string | null\n    noContent!: boolean\n    id!: number\n    uuid!: string\n    parentID!: number\n    expanded!: boolean\n    codeExpanded!: CodeExpansionType\n    obj!: ScriptBlock | null\n    dataObj!: any | null\n    readonly!: boolean\n    static!: boolean\n    hidden!: boolean\n    version!: string\n    readyCount!: number\n    errors!: ICompilerErrorDescription[]\n    scopeUUID?: string\n    scopeSelector!: string\n    visibleLines!: number | 'auto'\n    hasAlternativeContent!: boolean\n    shouldAutoreset!: boolean\n    shouldReloadResources!: boolean\n    generateTemplate!: boolean\n    width!: string\n    height!: string\n    align!: string\n    blockly!: IBlockDataBlockly\n    lineCountHint!: number\n    name!: string\n    _oac?: () => string //used by Blockly to re-place the actualContent-Method while keeping the old implementation around\n\n    actualContent() {\n        if (this.appSettings.randomizer.active) {\n            return Vue.$tagger.replaceRandomTagsInString(\n                this.content,\n                this.appSettings.randomizer.sets[this.appSettings.randomizer.previewIndex]\n            )\n        }\n\n        return this.content\n    }\n    recreateScriptObject() {\n        if (this.type === KnownBlockTypes.PLAYGROUND) {\n            console.i('recreateScriptObject - Playground')\n\n            const so = new ScriptBlock(this.actualContent(), this.version)\n            this.obj = so\n            console.i('Block Rebuild', this.obj, this.uuid)\n        } else if (this.type === KnownBlockTypes.DATA) {\n            console.i('recreateScriptObject - Data')\n\n            this.dataObj = {\n                name: '',\n                content: '',\n            }\n            console.i('Block Rebuild', this.obj, this.uuid)\n        }\n    }\n    created() {\n        this.recreateScriptObject()\n    }\n\n    getThemeForBlock(bl: ICodeBlockDataState): string {\n        if (bl.static || bl.readonly || bl.hidden || this.type === KnownBlockTypes.DATA) {\n            return this.appSettings.codeTheme\n        }\n\n        return this.appSettings.solutionTheme\n    }\n\n    get themeForCodeBlock(): string {\n        if (this.static || this.readonly || this.hidden || this.type === KnownBlockTypes.DATA) {\n            return this.appSettings.codeTheme\n        }\n\n        return this.appSettings.solutionTheme\n    }\n\n    get isLast(): boolean {\n        return this.id == this.appSettings.blocks.length - 1\n    }\n    get firstLine(): number {\n        if (this.id === 0) {\n            return 1\n        }\n        return this.appSettings.blocks[this.id - 1].nextLine\n    }\n\n    get lineCount(): number {\n        if (!this.hasCode) {\n            return 0\n        }\n        if (this.lineCountHint >= 0) {\n            return this.lineCountHint\n        }\n\n        let ct = 0\n        this.content.replace(/\\n/, (m) => {\n            ct++\n            return m\n        })\n        return ct\n    }\n\n    get nextLine(): number {\n        if (!this.hasCode) {\n            return this.firstLine\n        }\n        return this.firstLine + this.lineCount\n    }\n    get domLibs(): string[] {\n        return this.appSettings.domLibs\n    }\n\n    //is this right. Happend when converting from JS\n    get scriptVersion(): string {\n        return this.version\n    }\n\n    @Watch('type')\n    onTypeChanged(newType: KnownBlockTypes, oldType: KnownBlockTypes) {\n        if (newType != oldType) {\n            this.recreateScriptObject()\n        }\n    }\n\n    get scope(): JQuery<HTMLElement> {\n        return this.scopeSelector\n            ? $(this.scopeSelector)\n            : $(`.codeblocks[uuid=\"${this.appSettings.uuid}\"]`)\n    }\n}\n\nexport interface IMainBlock extends IAppSettings {\n    swap(id1: number, id2: number): void\n    moveUp(id: number): void\n    moveDown(id: number): void\n    changeOrder(id: number, newID: number): void\n    removeBlock(idx: number): void\n    addNewBlock(): void\n\n    initArgsForLanguage(): object | string[]\n    storeDefaultArgs(args: object | string[]): void\n    clearDefaultArgs(): void\n}\n\nfunction isTrue(val: any): boolean {\n    //return val !== undefined || val == 'true' || val == '1'\n    return val !== undefined && val != 'false' && val != '0'\n}\n\nconst useShadowDOM = false\n\n//this will handle the vue mounting on the dom\nclass InternalCodeBlocksManager {\n    constructBlock(data: IAppSettings, bl: IBlockDataBase): BlockData {\n        if (bl.type === KnownBlockTypes.PLAYGROUND || bl.type === KnownBlockTypes.DATA) {\n            if (bl.content == '' || bl.content === undefined || bl.content === null) {\n                bl.content = '{}'\n            }\n        }\n\n        return new BlockData({\n            data: () => {\n                return {\n                    ...bl,\n                    appSettings: data,\n                }\n            },\n        })\n    }\n\n    readonly element: HTMLElement\n    readonly data: IAppSettings\n    readonly shadowRoot: ShadowRoot | undefined = undefined\n    constructor(el: HTMLElement) {\n        if (useShadowDOM) {\n            const content = el.outerHTML\n\n            //replace original element with empty div that will store the shadowDOM\n            const parent = el.parentElement!\n            const rewrap = document.createElement('DIV')\n            parent.replaceChild(rewrap, el)\n\n            //add shadowDOM and clear content\n            const shadow = rewrap.attachShadow({ mode: 'open' })\n            this.shadowRoot = shadow\n            shadow.innerHTML = ''\n\n            //copy root-level styles into the shadowDOM\n            $('style').each((idx, style) => {\n                const st = document.createElement('STYLE')\n                st.innerHTML = style.innerHTML\n                shadow.appendChild(st)\n            })\n\n            $('link[shadow]').each((idx, link) => {\n                shadow.appendChild(link.cloneNode())\n            })\n\n            // //add new root and append original Element\n            // const root = document.createElement('DIV')\n            // root.id = 'root'\n            // //root.innerHTML = noContent\n            // root.appendChild(el)\n            // shadow.appendChild(root)\n            // console.log($('style').length)\n            // this.element = root\n\n            //append original element to shadowDOM\n            shadow.appendChild(el)\n            this.element = el\n        } else {\n            this.shadowRoot = undefined\n            this.element = el\n        }\n        //console.log(this.element)\n        const inData = el.dataset as IAppElementData\n        const data: IAppSettings = {\n            id: -1,\n            editMode: el.tagName == 'CODEBLOCKSEDITOR' || el.hasAttribute('codeblockseditor'),\n            runCode: false,\n            language: 'javascript',\n            compiler: {\n                languageType: 'javascript',\n                version: '101',\n            },\n            randomizer: {\n                active: false,\n                previewIndex: 0,\n                knownTags: [],\n                sets: [],\n            },\n            domLibs: [],\n            workerLibs: [],\n            blocks: [],\n            outputParser: CodeOutputTypes.AUTO,\n            readonly: false,\n            solutionTheme: 'solarized light',\n            codeTheme: 'xq-light',\n            uuid: 'is-set-below',\n            executionTimeout: 5000,\n            maxCharacters: 1000,\n            continuousCompilation: isTrue(inData.continuousCompilation),\n            messagePassing: isTrue(inData.messagePassing),\n            keepAlive: isTrue(inData.keepAlive),\n            persistentArguments: isTrue(inData.persistentArguments),\n            shadowRoot: this.shadowRoot,\n        }\n\n        if (inData.randomizerActive !== undefined) {\n            data.randomizer.active = isTrue(inData.randomizerActive)\n        }\n        if (inData.randomizerPreviewIndex !== undefined) {\n            data.randomizer.previewIndex = Number(inData.randomizerPreviewIndex)\n        }\n        if (inData.randomizerKnownTags !== undefined) {\n            data.randomizer.knownTags = JSON.parse(inData.randomizerKnownTags)\n        }\n        if (inData.randomizerSets !== undefined) {\n            data.randomizer.sets = JSON.parse(inData.randomizerSets).map((o: object, i: number) => {\n                const ret: IRandomizerSet = {\n                    uuid: uuid.v4(),\n                    values: [],\n                }\n                Object.keys(o).forEach((tag) => {\n                    const item: IRandomizerSetTag = {\n                        tag: tag,\n                        value: o[tag],\n                    }\n                    ret.values.push(item)\n                })\n\n                return ret\n            })\n        }\n\n        if (inData.question !== undefined) {\n            data.id = Number(inData.question)\n        }\n\n        if (inData.compiler !== undefined) {\n            const cInfo: ICompilerID = {\n                languageType: inData.compiler,\n                version: inData.compilerVersion!,\n            }\n            data.compiler = cInfo\n\n            const c = CompilerRegistry.getCompiler(data.compiler)\n            if (c === undefined) {\n                data.runCode = false\n                data.language = data.compiler.languageType\n            } else {\n                data.runCode = isTrue(inData.runCode)\n                data.language = c.language\n                data.compiler.version = c.version\n            }\n        }\n\n        if (inData.domLibs !== undefined) {\n            data.domLibs = JSON.parse(inData.domLibs).map((l: string) =>\n                compilerRegistry.mapLibrary(l)\n            )\n        }\n\n        if (inData.readonly !== undefined) {\n            if (data.editMode) {\n                data.readonly = false\n            } else {\n                data.readonly = isTrue(inData.readonly)\n            }\n        }\n\n        if (inData.workerLibs !== undefined) {\n            data.workerLibs = JSON.parse(inData.workerLibs)\n        }\n\n        if (el.hasAttribute('uuid')) {\n            data.uuid = el.getAttribute('uuid')!\n        } else {\n            data.uuid = uuid.v4()\n            el.setAttribute('uuid', data.uuid)\n        }\n\n        //data.id = Number(data.id)\n\n        if (inData.executionTimeout !== undefined) {\n            data.executionTimeout = Number(inData.executionTimeout)\n        }\n\n        if (inData.maxCharacters !== undefined) {\n            data.maxCharacters = Number(inData.maxCharacters)\n        }\n\n        if (inData.scopeUUID !== undefined) {\n            data.scopeUUID = inData.scopeUUID\n        }\n        if (inData.scopeSelector !== undefined) {\n            data.scopeSelector = inData.scopeSelector\n        }\n\n        if (inData.outputParser !== undefined) {\n            data.outputParser = inData.outputParser\n        }\n\n        if (inData.solutionTheme !== undefined) {\n            data.solutionTheme = inData.solutionTheme\n        }\n\n        if (inData.codeTheme !== undefined) {\n            data.codeTheme = inData.codeTheme\n        }\n\n        el.querySelectorAll('*').forEach((blIn) => {\n            const bl = blIn as HTMLElement\n            //only first level children\n            if (bl.parentElement != el) {\n                return\n            }\n            const inBlock = bl.dataset as IBlockElementData\n            const as = bl.getAttribute('as')\n            if (as !== null) {\n                inBlock.as = as.trim().toUpperCase()\n            }\n\n            const block: IBlockDataBase = {\n                as: inBlock.as ? KnownBlockTypes[inBlock.as] : undefined,\n                hasCode: false,\n                version: '101',\n                type: bl.tagName as KnownBlockTypes,\n                content: bl.textContent ? bl.textContent : '',\n                alternativeContent: null,\n                hasAlternativeContent: false,\n                id: data.blocks.length,\n                uuid: uuid.v4(),\n                parentID: data.id,\n                width: '100%',\n                height: '200px',\n                align: 'center',\n                readyCount: 0,\n                obj: null,\n                name: `v${data.blocks.length}`,\n                lineCountHint: -1,\n                blockly: {\n                    showControls: false,\n                    useOverride: false,\n                    toolbox: {\n                        categories: [],\n                    },\n                    toolboxOverride: '',\n                    blocks: [],\n                    _blockErrors: [],\n                },\n                errors: [],\n                readonly: isTrue(inBlock.readonly),\n                static: isTrue(inBlock.static),\n                hidden: isTrue(inBlock.hidden),\n                visibleLines:\n                    inBlock.visibleLines === undefined ||\n                    inBlock.visibleLines?.trim().toLowerCase() == 'auto'\n                        ? 'auto'\n                        : Number(inBlock.visibleLines),\n                shouldAutoreset: isTrue(inBlock.shouldAutoreset),\n                shouldReloadResources: isTrue(inBlock.shouldReloadResources),\n                generateTemplate:\n                    undefined ||\n                    (inBlock.generateTemplate != 'false' && inBlock.generateTemplate != '0'),\n\n                expanded:\n                    inBlock.expanded === undefined ||\n                    (inBlock.expanded != 'false' && inBlock.expanded != '0'),\n                codeExpanded: CodeExpansionType.AUTO,\n                noContent: isTrue(inBlock.noContent),\n                scopeUUID: inBlock.scopeUUID,\n                scopeSelector: inBlock.scopeSelector,\n            }\n\n            if (inBlock.codeExpanded !== undefined) {\n                if (\n                    inBlock.codeExpanded.toUpperCase() == 'TINY' ||\n                    inBlock.codeExpanded == 'false' ||\n                    inBlock.codeExpanded == '0'\n                ) {\n                    block.codeExpanded = CodeExpansionType.TINY\n                } else if (\n                    inBlock.codeExpanded.toUpperCase() == 'LARGE' ||\n                    inBlock.codeExpanded == '2'\n                ) {\n                    block.codeExpanded = CodeExpansionType.LARGE\n                }\n            }\n\n            if (!data.editMode && block.noContent) {\n                block.content = ''\n            }\n            if (inBlock.alternativeContent !== undefined && !block.static && !block.hidden) {\n                block.alternativeContent = inBlock.alternativeContent\n                block.hasAlternativeContent = true\n                if (!data.editMode && block.noContent) {\n                    block.content = block.alternativeContent\n                }\n            } else {\n                block.hasAlternativeContent = false\n            }\n\n            if (block.type != 'TEXT') {\n                console.log('BL', block.type, block.as)\n                if (block.as) {\n                    block.type = block.as\n                }\n                const loader = loaders[block.type]\n                console.d('LOADER', loader, loaders, block.type, block.as)\n                if (loader === undefined) {\n                    console.i('Skipping', block.type, block.as)\n                    return\n                } else {\n                    loader.loadFromDatablock(bl, inBlock, block, data.editMode)\n                }\n            }\n\n            data.blocks.push(this.constructBlock(data, block))\n        })\n        this.data = data\n\n        console.d('DATA', data)\n    }\n\n    instantiateVue() {\n        const data = this.data\n        const self = this\n        new Vue({\n            i18n,\n            render: function (h) {\n                @Component({\n                    data: function () {\n                        return data\n                    },\n                })\n                class MainBlock extends Vue implements IMainBlock {\n                    id!: number\n                    uuid!: string\n                    editMode!: boolean\n                    readonly!: boolean\n                    randomizer!: IRandomizerSettings\n                    blocks!: BlockData[]\n                    compiler!: ICompilerID\n                    language!: string\n                    runCode!: boolean\n                    domLibs!: string[]\n                    workerLibs!: string[]\n                    outputParser!: CodeOutputTypes\n                    solutionTheme!: string\n                    codeTheme!: string\n                    executionTimeout!: number\n                    maxCharacters!: number\n                    scopeUUID?: string\n                    scopeSelector?: string\n                    continuousCompilation!: boolean\n                    messagePassing!: boolean\n                    keepAlive!: boolean\n                    persistentArguments!: boolean\n\n                    initArgsForLanguage() {\n                        console.d('Constructing args for', this.language, this.defaultArgs)\n\n                        if (this.defaultArgs === undefined) {\n                            if (this.language === 'java') {\n                                return []\n                            } else {\n                                return {}\n                            }\n                        } else {\n                            return this.defaultArgs\n                        }\n                    }\n\n                    defaultArgs!: object | string[] | undefined\n                    storeDefaultArgs(args: object | string[]) {\n                        this.defaultArgs = args\n                    }\n                    clearDefaultArgs() {\n                        this.defaultArgs = undefined\n                    }\n\n                    swap(id1: number, id2: number) {\n                        const a = this.blocks[id1]\n                        this.blocks[id1] = this.blocks[id2]\n                        this.blocks[id2] = a\n\n                        this.blocks[id1].id = id1\n                        this.blocks[id2].id = id2\n                    }\n                    moveUp(id: number) {\n                        if (id <= 0) {\n                            return\n                        }\n                        this.swap(id - 1, id)\n                    }\n                    moveDown(id: number) {\n                        if (id >= this.blocks.length - 1) {\n                            return\n                        }\n                        this.swap(id, id + 1)\n                    }\n                    changeOrder(id: number, newID: number): void {\n                        //this.swap(id, newID)\n                        const a = this.blocks[id]\n                        this.blocks.splice(id, 1)\n                        this.blocks.splice(newID, 0, a)\n\n                        this.blocks.forEach((v, i) => (v.id = i))\n                    }\n                    removeBlock(idx: number) {\n                        data.blocks.splice(idx, 1)\n                        for (let i = idx; i < data.blocks.length; i++) {\n                            data.blocks[i].id = i\n                        }\n                    }\n                    addNewBlock() {\n                        const block: IBlockDataBase = {\n                            noContent: false,\n                            alternativeContent: null,\n                            hasCode: true,\n                            type: KnownBlockTypes.BLOCK,\n                            content: '',\n                            id: data.blocks.length,\n                            uuid: uuid.v4(),\n                            name: `v${data.blocks.length}`,\n                            parentID: data.id,\n                            expanded: true,\n                            codeExpanded: CodeExpansionType.AUTO,\n                            width: '100%',\n                            height: '200px',\n                            align: 'center',\n                            obj: null,\n                            readonly: false,\n                            static: true,\n                            hidden: false,\n                            version: '101',\n                            readyCount: 0,\n                            errors: [],\n                            scopeUUID: data.scopeUUID,\n                            scopeSelector: data.scopeSelector,\n                            visibleLines: 10,\n                            hasAlternativeContent: false,\n                            shouldAutoreset: false,\n                            shouldReloadResources: false,\n                            generateTemplate: true,\n                            blockly: {\n                                showControls: false,\n                                useOverride: false,\n                                toolboxOverride: '',\n                                toolbox: {\n                                    categories: [],\n                                },\n                                blocks: [],\n                                _blockErrors: [],\n                            },\n                            lineCountHint: -1,\n                        }\n                        data.blocks.push(self.constructBlock(data, block))\n                    }\n                }\n                const context = {\n                    props: {\n                        language: data.language,\n                        id: data.id,\n                        blocks: new MainBlock(),\n                    },\n                }\n                return h(data.editMode ? AppEditor : App, context)\n            },\n        }).$mount(this.element)\n    }\n}\n\nexport class MountableArray extends Array<InternalCodeBlocksManager> {\n    mount() {\n        this.forEach((el) => el.instantiateVue())\n    }\n}\n\nexport const CodeBlocksManager = {\n    find(scope: HTMLElement | Document | undefined) {\n        if (scope === undefined) {\n            scope = document\n        }\n        const allCodeBlockParents = scope.querySelectorAll(\n            'codeblocks, codeblockseditor, div[codeblocks], div[codeblockseditor]'\n        )\n        const result = new MountableArray()\n        allCodeBlockParents.forEach((el) => {\n            const cbm = new InternalCodeBlocksManager(el as HTMLElement)\n            let scope = cbm.data.scopeSelector\n                ? document.querySelector(cbm.data.scopeSelector)\n                : undefined\n            if (scope === undefined || scope === null) {\n                scope = el\n            }\n\n            Vue.$hljs.$vue.processElements(scope)\n            if (cbm.data.editMode) {\n                Vue.$tagger.processElements(scope)\n                cbm.data.scopeSelector = `[uuid=${scope.getAttribute('uuid')}]`\n                cbm.data.scopeUUID = scope.getAttribute('uuid')\n                    ? scope.getAttribute('uuid')!\n                    : undefined\n                cbm.data.blocks.forEach((b) => {\n                    b.scopeUUID = cbm.data.scopeUUID\n                    b.scopeSelector = cbm.data.scopeSelector\n                        ? cbm.data.scopeSelector\n                        : `[uuid=${b.scopeUUID}]`\n                })\n            }\n\n            result.push(cbm)\n        })\n        return result\n    },\n}\n","String.prototype.replaceAllPoly = function(search: string, replacement: string): string {\n    var target = this\n    return target.replace(new RegExp(search, 'g'), replacement)\n}\nString.prototype.replaceRec = function(pattern: string | RegExp, replacement: string): string {\n    var newstr = this.replace(pattern, replacement)\n    if (newstr == this) {\n        return newstr\n    }\n    return newstr.replaceRec(pattern, replacement)\n}\n\nconsole.d = function(...lines) {\n    if (process.env.NODE_ENV == 'development') {\n        console.debug('[DEBUG]', ...lines)\n    }\n}\n\nconsole.i = function(...lines) {\n    if (process.env.NODE_ENV == 'development') {\n        console.log('[INFO]', ...lines)\n    }\n}\n\nimport Vue from 'vue'\nimport 'reflect-metadata'\nimport './plugins/uuid'\nimport './plugins/quasar'\nimport './plugins/codemirror'\nimport './plugins/codeBlocks'\nimport './plugins/compilerState'\nimport './plugins/codemirror'\nimport './plugins/highlight'\nimport './plugins/tagger'\n//import './plugins/blocklyEnv'\n//remove \"noImplicitAny\": false from tsconfig when this file goes ts\nimport { CodeBlocksManager } from './lib/codeBlocksManager'\n\nVue.config.productionTip = false\nCodeBlocksManager.find(document).mount()\n\nwindow.mountInElement = function(element: any): void {\n    Vue.$hljs.$vue.processElements(element)\n    Vue.$tagger.processElements(element)\n    CodeBlocksManager.find(element).mount()\n}\n\nwindow.mountCodeBlocks = function(scope: HTMLElement | Document | undefined) {\n    return CodeBlocksManager.find(scope).mount()\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=style&index=0&id=2ff15259&scoped=true&lang=sass&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--1-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--12-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--12-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--12-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--12-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=style&index=1&lang=stylus&\"","/**@license\n *       __ _____                     ________                              __\n *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /\n *  __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /\n * /  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__\n * \\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/\n *           \\/              /____/                              version 2.31.1\n *\n * This file is part of jQuery Terminal. https://terminal.jcubic.pl\n *\n * Copyright (c) 2010-2021 Jakub T. Jankiewicz <https://jcubic.pl/me>\n * Released under the MIT license\n *\n * Contains:\n *\n * Storage plugin Distributed under the MIT License\n * modified to work from Data URIs that block storage and cookies in Chrome\n * Copyright (c) 2010 Dave Schindler\n *\n * jQuery Timers licenced with the WTFPL\n * <http://jquery.offput.ca/timers/>\n *\n * Cross-Browser Split 1.1.1\n * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>\n * Available under the MIT License\n *\n * jQuery Caret\n * Copyright (c) 2009, Gideon Sireling\n * 3 clause BSD License\n *\n * sprintf.js\n * Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>\n * licensed under 3 clause BSD license\n *\n * debounce function from Lodash\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * The MIT License\n *\n * emoji regex v9.0.0 by Mathias Bynens\n * MIT license\n *\n * broken image by Sophia Bai from the Noun Project (CC-BY)\n *\n * Date: Thu, 30 Dec 2021 10:56:33 +0000\n */\n/* global define, Map */\n/* eslint-disable */\n/* istanbul ignore next */\n(function(ctx) {\n    var sprintf = function() {\n        if (!sprintf.cache.hasOwnProperty(arguments[0])) {\n            sprintf.cache[arguments[0]] = sprintf.parse(arguments[0]);\n        }\n        return sprintf.format.call(null, sprintf.cache[arguments[0]], arguments);\n    };\n    sprintf.format = function(parse_tree, argv) {\n        var cursor = 1, tree_length = parse_tree.length, node_type = '', arg, output = [], i, k, match, pad, pad_character, pad_length;\n        for (i = 0; i < tree_length; i++) {\n            node_type = get_type(parse_tree[i]);\n            if (node_type === 'string') {\n                output.push(parse_tree[i]);\n            }\n            else if (node_type === 'array') {\n                match = parse_tree[i]; // convenience purposes only\n                if (match[2]) { // keyword argument\n                    arg = argv[cursor];\n                    for (k = 0; k < match[2].length; k++) {\n                        if (!arg.hasOwnProperty(match[2][k])) {\n                            throw(sprintf('[sprintf] property \"%s\" does not exist', match[2][k]));\n                        }\n                        arg = arg[match[2][k]];\n                    }\n                }\n                else if (match[1]) { // positional argument (explicit)\n                    arg = argv[match[1]];\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++];\n                }\n\n                if (/[^s]/.test(match[8]) && (get_type(arg) !== 'number')) {\n                    throw(sprintf('[sprintf] expecting number but found %s', get_type(arg)));\n                }\n                switch (match[8]) {\n                    case 'b': arg = arg.toString(2); break;\n                    case 'c': arg = String.fromCharCode(arg); break;\n                    case 'd': arg = parseInt(arg, 10); break;\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\n                    case 'o': arg = arg.toString(8); break;\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.slice(0, match[7]) : arg); break;\n                    case 'u': arg = arg >>> 0; break;\n                    case 'x': arg = arg.toString(16); break;\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\n                }\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? ' +' + arg : arg);\n                pad_character = match[4] ? match[4] === '0' ? '0' : match[4].charAt(1) : ' ';\n                pad_length = match[6] - String(arg).length;\n                pad = match[6] ? str_repeat(pad_character, pad_length) : '';\n                output.push(match[5] ? arg + pad : pad + arg);\n            }\n        }\n        return output.join('');\n    };\n\n    sprintf.cache = {};\n\n    sprintf.parse = function(fmt) {\n        var _fmt = fmt, match = [], parse_tree = [], arg_names = 0;\n        while (_fmt) {\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\n                parse_tree.push(match[0]);\n            }\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\n                parse_tree.push('%');\n            }\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1;\n                    var field_list = [], replacement_field = match[2], field_match = [];\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1]);\n                        while ((replacement_field = replacement_field.slice(field_match[0].length)) !== '') {\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else {\n                                throw('[sprintf] huh?');\n                            }\n                        }\n                    }\n                    else {\n                        throw('[sprintf] huh?');\n                    }\n                    match[2] = field_list;\n                }\n                else {\n                    arg_names |= 2;\n                }\n                if (arg_names === 3) {\n                    throw('[sprintf] mixing positional and named placeholders is not (yet) supported');\n                }\n                parse_tree.push(match);\n            }\n            else {\n                throw('[sprintf] huh?');\n            }\n            _fmt = _fmt.slice(match[0].length);\n        }\n        return parse_tree;\n    };\n\n    var vsprintf = function(fmt, argv, _argv) {\n        _argv = argv.slice(0);\n        _argv.splice(0, 0, fmt);\n        return sprintf.apply(null, _argv);\n    };\n\n    /**\n     * helpers\n     */\n    function get_type(variable) {\n        return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();\n    }\n\n    function str_repeat(input, multiplier) {\n        for (var output = []; multiplier > 0; output[--multiplier] = input) {/* do nothing */}\n        return output.join('');\n    }\n\n    /**\n     * export to either browser or node.js\n     */\n    ctx.sprintf = sprintf;\n    ctx.vsprintf = vsprintf;\n})(typeof global !== \"undefined\" ? global : self || window);\n// -----------------------------------------------------------------------\n/* eslint-enable */\n// UMD taken from https://github.com/umdjs/umd\n(function(factory, undefined) {\n    var root;\n    if (typeof window !== 'undefined') {\n        root = window;\n    } else if (typeof self !== 'undefined') {\n        root = self;\n    } else if (typeof global !== 'undefined') {\n        root = global;\n    } else {\n        throw new Error('Unknow context');\n    }\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        // istanbul ignore next\n        define(['jquery', 'wcwidth'], function(jquery, wcwidth) {\n            factory(jquery, wcwidth, root);\n            return jquery;\n        });\n    } else if (typeof module === 'object' && module.exports) {\n        // Node/CommonJS\n        module.exports = function(root, jQuery, wcwidth) {\n            if (jQuery === undefined) {\n                // require('jQuery') returns a factory that requires window to\n                // build a jQuery instance, we normalize how we use modules\n                // that require this pattern but the window provided is a noop\n                // if it's defined (how jquery works)\n                if (typeof window !== 'undefined') {\n                    jQuery = require('jquery');\n                } else {\n                    jQuery = require('jquery')(root);\n                }\n            }\n            if (wcwidth === undefined) {\n                wcwidth = require('wcwidth');\n            }\n            factory(jQuery, wcwidth, root);\n            return jQuery;\n        };\n    } else {\n        // Browser\n        // istanbul ignore next\n        factory(root.jQuery, root.wcwidth, root);\n    }\n})(function($, wcwidth, root, undefined) {\n    'use strict';\n    // -----------------------------------------------------------------------\n    // :: debug functions\n    // -----------------------------------------------------------------------\n    /* eslint-disable */\n    /* istanbul ignore next */\n    function debug(str) {\n        if (false) {\n            console.log(str);\n            //$.terminal.active().echo(str);\n        }\n    }\n    /* eslint-enable */\n    // -----------------------------------------------------------------------\n    // :: Replacemenet for jQuery 2 deferred objects\n    // -----------------------------------------------------------------------\n    function DelayQueue() {\n        var callbacks = $.Callbacks();\n        var resolved = false;\n        this.resolve = function() {\n            callbacks.fire();\n            resolved = true;\n        };\n        this.add = function(fn) {\n            if (resolved) {\n                fn();\n            } else {\n                callbacks.add(fn);\n            }\n        };\n    }\n    // -----------------------------------------------------------------------\n    // :: map object to object\n    // -----------------------------------------------------------------------\n    $.omap = function(o, fn) {\n        var result = {};\n        $.each(o, function(k, v) {\n            result[k] = fn.call(o, k, v);\n        });\n        return result;\n    };\n    $.fn.text_length = function() {\n        return this.map(function() {\n            return $(this).text().length;\n        }).get().reduce(function(a, b) {\n            return a + b;\n        }, 0);\n    };\n    // -----------------------------------------------------------------------\n    // :: Deep clone of objects and arrays\n    // -----------------------------------------------------------------------\n    var Clone = {\n        clone_object: function(object) {\n            var tmp = {};\n            if (typeof object === 'object') {\n                if ($.isArray(object)) {\n                    return this.clone_array(object);\n                } else if (object === null) {\n                    return object;\n                } else {\n                    for (var key in object) {\n                        if ($.isArray(object[key])) {\n                            tmp[key] = this.clone_array(object[key]);\n                        } else if (typeof object[key] === 'object') {\n                            tmp[key] = this.clone_object(object[key]);\n                        } else {\n                            tmp[key] = object[key];\n                        }\n                    }\n                }\n            }\n            return tmp;\n        },\n        clone_array: function(array) {\n            if (!is_function(Array.prototype.map)) {\n                throw new Error(\"Your browser don't support ES5 array map \" +\n                                'use es5-shim');\n            }\n            return array.slice(0).map(function(item) {\n                if (typeof item === 'object') {\n                    return this.clone_object(item);\n                } else {\n                    return item;\n                }\n            }.bind(this));\n        }\n    };\n    var clone = function(object) {\n        return Clone.clone_object(object);\n    };\n    // -----------------------------------------------------------------------\n    // IE11 polyfill\n    // -----------------------------------------------------------------------\n    /* eslint-disable */\n    if ('Map' in root && !('clear' in Map.prototype)) {\n        Map.prototype.clear = function() {\n            this.forEach(function(value, key, map) {\n                map.delete(key);\n            });\n        };\n    }\n    // -----------------------------------------------------------------------\n    // :: Storage plugin\n    // -----------------------------------------------------------------------\n    var localStorage;\n    /* istanbul ignore next */\n    (function() {\n        var hasLS = function() {\n            try {\n                var testKey = 'test', storage = window.localStorage;\n                storage.setItem(testKey, '1');\n                storage.removeItem(testKey);\n                return true;\n            } catch (error) {\n                return false;\n            }\n        };\n        var hasCookies = function() {\n            try {\n                document.cookie.split(';');\n                return true;\n            } catch (e) {\n                return false;\n            }\n        };\n        // Private data\n        var isLS = hasLS();\n        // Private functions\n        function wls(n, v) {\n            var c;\n            if (typeof n === 'string' && typeof v === 'string') {\n                localStorage[n] = v;\n                return true;\n            } else if (typeof n === 'object' && typeof v === 'undefined') {\n                for (c in n) {\n                    if (n.hasOwnProperty(c)) {\n                        localStorage[c] = n[c];\n                    }\n                }\n                return true;\n            }\n            return false;\n        }\n        function wc(n, v) {\n            var dt, e, c;\n            dt = new Date();\n            dt.setTime(dt.getTime() + 31536000000);\n            e = '; expires=' + dt.toGMTString();\n            if (typeof n === 'string' && typeof v === 'string') {\n                document.cookie = n + '=' + v + e + '; path=/';\n                return true;\n            } else if (typeof n === 'object' && typeof v === 'undefined') {\n                for (c in n) {\n                    if (n.hasOwnProperty(c)) {\n                        document.cookie = c + '=' + n[c] + e + '; path=/';\n                    }\n                }\n                return true;\n            }\n            return false;\n        }\n        function rls(n) {\n            return localStorage[n];\n        }\n        function rc(n) {\n            var nn, ca, i, c;\n            nn = n + '=';\n            ca = document.cookie.split(';');\n            for (i = 0; i < ca.length; i++) {\n                c = ca[i];\n                while (c.charAt(0) === ' ') {\n                    c = c.slice(1, c.length);\n                }\n                if (c.indexOf(nn) === 0) {\n                    return c.slice(nn.length, c.length);\n                }\n            }\n            return null;\n        }\n        function dls(n) {\n            return delete localStorage[n];\n        }\n        function dc(n) {\n            return wc(n, '', -1);\n        }\n        /**\n         * Public API\n         * $.Storage.set(\"name\", \"value\")\n         * $.Storage.set({\"name1\":\"value1\", \"name2\":\"value2\", etc})\n         * $.Storage.get(\"name\")\n         * $.Storage.remove(\"name\")\n         */\n        if (!hasCookies() && !isLS) {\n            localStorage = {};\n            $.extend({\n                Storage: {\n                    set: wls,\n                    get: rls,\n                    remove: dls\n                }\n            });\n        } else {\n            if (isLS) {\n                localStorage = window.localStorage;\n            }\n            $.extend({\n                Storage: {\n                    set: isLS ? wls : wc,\n                    get: isLS ? rls : rc,\n                    remove: isLS ? dls : dc\n                }\n            });\n        }\n    })();\n    // -----------------------------------------------------------------------\n    // :: Debounce from Lodash\n    // -----------------------------------------------------------------------\n    /* istanbul ignore next */\n    var debounce = (function() {\n        var FUNC_ERROR_TEXT = 'Expected a function';\n        function isObject(value) {\n            var type = typeof value;\n            return value != null && (type == 'object' || type == 'function');\n        }\n        function now() {\n            return Date.now();\n        }\n        return function debounce(func, wait, options) {\n            var nativeMax = Math.max,\n                nativeMin = Math.min;\n\n            var lastArgs,\n                lastThis,\n                maxWait,\n                result,\n                timerId,\n                lastCallTime,\n                lastInvokeTime = 0,\n                leading = false,\n                maxing = false,\n                trailing = true;\n\n            if (typeof func != 'function') {\n                throw new TypeError(FUNC_ERROR_TEXT);\n            }\n            wait = wait || 0;\n            if (isObject(options)) {\n                leading = !!options.leading;\n                maxing = 'maxWait' in options;\n                maxWait = maxing ? nativeMax(options.maxWait || 0, wait) : maxWait;\n                trailing = 'trailing' in options ? !!options.trailing : trailing;\n            }\n\n            function invokeFunc(time) {\n                var args = lastArgs,\n                    thisArg = lastThis;\n\n                lastArgs = lastThis = undefined;\n                lastInvokeTime = time;\n                result = func.apply(thisArg, args);\n                return result;\n            }\n\n            function leadingEdge(time) {\n                // Reset any `maxWait` timer.\n                lastInvokeTime = time;\n                // Start the timer for the trailing edge.\n                timerId = setTimeout(timerExpired, wait);\n                // Invoke the leading edge.\n                return leading ? invokeFunc(time) : result;\n            }\n\n            function remainingWait(time) {\n                var timeSinceLastCall = time - lastCallTime,\n                    timeSinceLastInvoke = time - lastInvokeTime,\n                    timeWaiting = wait - timeSinceLastCall;\n\n                return maxing\n                    ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n                    : timeWaiting;\n            }\n\n            function shouldInvoke(time) {\n                var timeSinceLastCall = time - lastCallTime,\n                    timeSinceLastInvoke = time - lastInvokeTime;\n\n                // Either this is the first call, activity has stopped and we're at the\n                // trailing edge, the system time has gone backwards and we're treating\n                // it as the trailing edge, or we've hit the `maxWait` limit.\n                return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n                        (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n            }\n\n            function timerExpired() {\n                var time = now();\n                if (shouldInvoke(time)) {\n                    return trailingEdge(time);\n                }\n                // Restart the timer.\n                timerId = setTimeout(timerExpired, remainingWait(time));\n            }\n\n            function trailingEdge(time) {\n                timerId = undefined;\n\n                // Only invoke if we have `lastArgs` which means `func` has been\n                // debounced at least once.\n                if (trailing && lastArgs) {\n                    return invokeFunc(time);\n                }\n                lastArgs = lastThis = undefined;\n                return result;\n            }\n\n            function cancel() {\n                if (timerId !== undefined) {\n                    clearTimeout(timerId);\n                }\n                lastInvokeTime = 0;\n                lastArgs = lastCallTime = lastThis = timerId = undefined;\n            }\n\n            function flush() {\n                return timerId === undefined ? result : trailingEdge(now());\n            }\n\n            function debounced() {\n                var time = now(),\n                    isInvoking = shouldInvoke(time);\n\n                lastArgs = arguments;\n                lastThis = this;\n                lastCallTime = time;\n\n                if (isInvoking) {\n                    if (timerId === undefined) {\n                        return leadingEdge(lastCallTime);\n                    }\n                    if (maxing) {\n                        // Handle invocations in a tight loop.\n                        timerId = setTimeout(timerExpired, wait);\n                        return invokeFunc(lastCallTime);\n                    }\n                }\n                if (timerId === undefined) {\n                    timerId = setTimeout(timerExpired, wait);\n                }\n                return result;\n            }\n            debounced.cancel = cancel;\n            debounced.flush = flush;\n            return debounced;\n        };\n    })();\n    // -----------------------------------------------------------------------\n    // :: jQuery Timers\n    // -----------------------------------------------------------------------\n    var jQuery = $;\n    /* istanbul ignore next */\n    (function($) {\n        jQuery.fn.extend({\n            everyTime: function(interval, label, fn, times, belay) {\n                return this.each(function() {\n                    jQuery.timer.add(this, interval, label, fn, times, belay);\n                });\n            },\n            oneTime: function(interval, label, fn) {\n                return this.each(function() {\n                    jQuery.timer.add(this, interval, label, fn, 1);\n                });\n            },\n            stopTime: function(label, fn) {\n                return this.each(function() {\n                    jQuery.timer.remove(this, label, fn);\n                });\n            }\n        });\n\n        jQuery.extend({\n            timer: {\n                guid: 1,\n                global: {},\n                regex: /^([0-9]+)\\s*(.*s)?$/,\n                powers: {\n                    // Yeah this is major overkill...\n                    'ms': 1,\n                    'cs': 10,\n                    'ds': 100,\n                    's': 1000,\n                    'das': 10000,\n                    'hs': 100000,\n                    'ks': 1000000\n                },\n                timeParse: function(value) {\n                    if (value === undefined || value === null) {\n                        return null;\n                    }\n                    var result = this.regex.exec(jQuery.trim(value.toString()));\n                    if (result[2]) {\n                        var num = parseInt(result[1], 10);\n                        var mult = this.powers[result[2]] || 1;\n                        return num * mult;\n                    } else {\n                        return value;\n                    }\n                },\n                add: function(element, interval, label, fn, times, belay) {\n                    var counter = 0;\n\n                    if (jQuery.isFunction(label)) {\n                        if (!times) {\n                            times = fn;\n                        }\n                        fn = label;\n                        label = interval;\n                    }\n\n                    interval = jQuery.timer.timeParse(interval);\n\n                    if (typeof interval !== 'number' ||\n                        isNaN(interval) ||\n                        interval <= 0) {\n                        return;\n                    }\n                    if (times && times.constructor !== Number) {\n                        belay = !!times;\n                        times = 0;\n                    }\n\n                    times = times || 0;\n                    belay = belay || false;\n\n                    if (!element.$timers) {\n                        element.$timers = {};\n                    }\n                    if (!element.$timers[label]) {\n                        element.$timers[label] = {};\n                    }\n                    fn.$timerID = fn.$timerID || this.guid++;\n\n                    var handler = function() {\n                        if (belay && handler.inProgress) {\n                            return;\n                        }\n                        handler.inProgress = true;\n                        if ((++counter > times && times !== 0) ||\n                            fn.call(element, counter) === false) {\n                            jQuery.timer.remove(element, label, fn);\n                        }\n                        handler.inProgress = false;\n                    };\n\n                    handler.$timerID = fn.$timerID;\n\n                    if (!element.$timers[label][fn.$timerID]) {\n                        element.$timers[label][fn.$timerID] = setInterval(handler, interval);\n                    }\n\n                    if (!this.global[label]) {\n                        this.global[label] = [];\n                    }\n                    this.global[label].push(element);\n\n                },\n                remove: function(element, label, fn) {\n                    var timers = element.$timers, ret;\n\n                    if (timers) {\n\n                        if (!label) {\n                            for (var lab in timers) {\n                                if (timers.hasOwnProperty(lab)) {\n                                    this.remove(element, lab, fn);\n                                }\n                            }\n                        } else if (timers[label]) {\n                            if (fn) {\n                                if (fn.$timerID) {\n                                    clearInterval(timers[label][fn.$timerID]);\n                                    delete timers[label][fn.$timerID];\n                                }\n                            } else {\n                                for (var _fn in timers[label]) {\n                                    if (timers[label].hasOwnProperty(_fn)) {\n                                        clearInterval(timers[label][_fn]);\n                                        delete timers[label][_fn];\n                                    }\n                                }\n                            }\n\n                            for (ret in timers[label]) {\n                                if (timers[label].hasOwnProperty(ret)) {\n                                    break;\n                                }\n                            }\n                            if (!ret) {\n                                ret = null;\n                                delete timers[label];\n                            }\n                        }\n\n                        for (ret in timers) {\n                            if (timers.hasOwnProperty(ret)) {\n                                break;\n                            }\n                        }\n                        if (!ret) {\n                            element.$timers = null;\n                        }\n                    }\n                }\n            }\n        });\n        if (/(msie) ([\\w.]+)/.exec(navigator.userAgent.toLowerCase())) {\n            $(window).one('unload', function() {\n                var global = jQuery.timer.global;\n                for (var label in global) {\n                    if (global.hasOwnProperty(label)) {\n                        var els = global[label], i = els.length;\n                        while (--i) {\n                            jQuery.timer.remove(els[i], label);\n                        }\n                    }\n                }\n            });\n        }\n    })(jQuery);\n    // -----------------------------------------------------------------------\n    // :: CROSS BROWSER SPLIT\n    // -----------------------------------------------------------------------\n    /* istanbul ignore next */\n    (function(undef) {\n        // prevent double include\n\n        if (!String.prototype.split.toString().match(/\\[native/)) {\n            return;\n        }\n\n        var nativeSplit = String.prototype.split,\n        compliantExecNpcg = /()??/.exec(\"\")[1] === undef, // NPCG: nonparticipating capturing group\n        self;\n\n        self = function(str, separator, limit) {\n            // If `separator` is not a regex, use `nativeSplit`\n            if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n                return nativeSplit.call(str, separator, limit);\n            }\n            var output = [],\n            flags = (separator.ignoreCase ? \"i\" : \"\") +\n                (separator.multiline  ? \"m\" : \"\") +\n                (separator.extended   ? \"x\" : \"\") + // Proposed for ES6\n                (separator.sticky     ? \"y\" : \"\"), // Firefox 3+\n                lastLastIndex = 0,\n            // Make `global` and avoid `lastIndex` issues by working with a copy\n            separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + \"g\");\n            str += \"\"; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            // ? Math.pow(2, 32) - 1 : ToUint32(limit)\n            limit = limit === undef ? -1 >>> 0 : limit >>> 0;\n            while (match = separator.exec(str)) {\n                    // `separator.lastIndex` is not reliable cross-browser\n                    lastIndex = match.index + match[0].length;\n                    if (lastIndex > lastLastIndex) {\n                        output.push(str.slice(lastLastIndex, match.index));\n                        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                        // nonparticipating capturing groups\n                        if (!compliantExecNpcg && match.length > 1) {\n                            match[0].replace(separator2, function() {\n                                for (var i = 1; i < arguments.length - 2; i++) {\n                                    if (arguments[i] === undef) {\n                                        match[i] = undef;\n                                    }\n                                }\n                            });\n                        }\n                        if (match.length > 1 && match.index < str.length) {\n                            Array.prototype.push.apply(output, match.slice(1));\n                        }\n                        lastLength = match[0].length;\n                        lastLastIndex = lastIndex;\n                        if (output.length >= limit) {\n                            break;\n                        }\n                    }\n                    if (separator.lastIndex === match.index) {\n                        separator.lastIndex++; // Avoid an infinite loop\n                    }\n                }\n            if (lastLastIndex === str.length) {\n                if (lastLength || !separator.test(\"\")) {\n                    output.push(\"\");\n                }\n            } else {\n                output.push(str.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n\n        // For convenience\n        String.prototype.split = function(separator, limit) {\n            return self(this, separator, limit);\n        };\n\n        return self;\n\n    })();\n    // -----------------------------------------------------------------------\n    // :: jQuery Caret\n    // -----------------------------------------------------------------------\n    /* istanbul ignore next */\n    $.fn.caret = function(pos) {\n        var target = this[0];\n        var isContentEditable = target.contentEditable === 'true';\n        //get\n        if (arguments.length === 0) {\n            //HTML5\n            if (window.getSelection) {\n                //contenteditable\n                if (isContentEditable) {\n                    if (!this.is(':focus')) {\n                        target.focus();\n                    }\n                    var range1 = window.getSelection().getRangeAt(0),\n                    range2 = range1.cloneRange();\n                    range2.selectNodeContents(target);\n                    range2.setEnd(range1.endContainer, range1.endOffset);\n                    return range2.toString().length;\n                }\n                //textarea\n                return target.selectionStart;\n            }\n            //IE<9\n            if (document.selection) {\n                target.focus();\n                //contenteditable\n                if (isContentEditable) {\n                    var range1 = document.selection.createRange(),\n                    range2 = document.body.createTextRange();\n                    range2.moveToElementText(target);\n                    range2.setEndPoint('EndToEnd', range1);\n                    return range2.text.length;\n                }\n                //textarea\n                var pos = 0,\n                range = target.createTextRange(),\n                range2 = document.selection.createRange().duplicate(),\n                bookmark = range2.getBookmark();\n                range.moveToBookmark(bookmark);\n                while (range.moveStart('character', -1) !== 0) pos++;\n                return pos;\n            }\n            //not supported\n            return 0;\n        }\n        //set\n        if (pos === -1)\n            pos = this[isContentEditable? 'text' : 'val']().length;\n        //HTML5\n        if (window.getSelection) {\n            //contenteditable\n            if (isContentEditable) {\n                if (!this.is(':focus')) {\n                    target.focus();\n                }\n                var selection = window.getSelection();\n                selection.collapse(selection.focusNode, pos);\n            }\n            //textarea\n            else\n                target.setSelectionRange(pos, pos);\n        }\n        //IE<9\n        else if (document.body.createTextRange) {\n            var range = document.body.createTextRange();\n            range.moveToElementText(target);\n            range.moveStart('character', pos);\n            range.collapse(true);\n            range.select();\n        }\n        if (!isContentEditable && !this.is(':focus')) {\n            target.focus();\n        }\n        return pos;\n    };\n    /* eslint-enable */\n    // -----------------------------------------------------------------------\n    // :: callback based event handler plugin generator\n    // -----------------------------------------------------------------------\n    function make_callback_plugin(options) {\n        var factory_settings = $.extend({\n            init: $.noop,\n            destroy: $.noop,\n            name: 'event'\n        }, options);\n        return function(callback, options) {\n            var trigger = arguments.length === 0;\n            var unbind = arguments[0] === \"unbind\";\n            if (!trigger && !unbind && !is_function(callback)) {\n                throw new Error('Invalid argument, it need to a function or string ' +\n                                '\"unbind\" or no arguments.');\n            }\n            if (unbind) {\n                callback = is_function(arguments[1]) ? arguments[1] : null;\n            }\n            var data_name = 'callbacks_' + factory_settings.name;\n            return this.each(function() {\n                var $this = $(this);\n                var callbacks;\n                function handler(arg) {\n                    callbacks.fireWith($this, [arg]);\n                }\n                if (trigger || unbind) {\n                    callbacks = $this.data(data_name);\n                    if (trigger) {\n                        callbacks && callbacks.fire();\n                    } else {\n                        if (callback && callbacks) {\n                            callbacks.remove(callback);\n                            if (!callbacks.has()) {\n                                callbacks = null;\n                            }\n                        } else {\n                            callbacks = null;\n                        }\n                        if (!callbacks) {\n                            $this.removeData(data_name);\n                            factory_settings.destroy.call(this, handler, options);\n                        }\n                    }\n                } else if ($this.data(data_name)) {\n                    $(this).data(data_name).add(callback);\n                } else {\n                    callbacks = $.Callbacks();\n                    callbacks.add(callback);\n                    $this.data(data_name, callbacks);\n                    factory_settings.init.call(this, handler, options);\n                }\n            });\n        };\n    }\n    // -----------------------------------------------------------------------\n    // :: Cross-browser resize element plugin using sentinel iframe or\n    // :: resizeObserver\n    // -----------------------------------------------------------------------\n    $.fn.resizer = make_callback_plugin({\n        name: 'resize',\n        init: function(handler, options) {\n            var settings = $.extend({\n                prefix: ''\n            }, options);\n            var $this = $(this);\n            var resizer;\n            var first = true;\n            if ($this.is('body')) {\n                $(window).on('resize.resizer', handler);\n            } else if (window.ResizeObserver) {\n                resizer = new ResizeObserver(function() {\n                    if (!first) {\n                        handler();\n                    }\n                    first = false;\n                });\n                resizer.observe(this);\n                $this.data('observer', resizer);\n            } else {\n                var iframe = $('<iframe/>').addClass(settings.prefix + 'resizer')\n                    .appendTo(this)[0];\n                $(iframe.contentWindow).on('resize', handler);\n            }\n        },\n        destroy: function() {\n            var $this = $(this);\n            if (window.ResizeObserver) {\n                var observer = $this.data('observer');\n                if (observer) {\n                    observer.unobserve(this);\n                    $this.removeData('observer');\n                }\n            } else {\n                var iframe = $this.find('> iframe[class$=\"resizer\"]');\n                if (iframe.length) {\n                    // just in case of memory leaks in IE\n                    $(iframe[0].contentWindow).off('resize').remove();\n                    iframe.remove();\n                } else if ($this.is('body')) {\n                    $(window).off('resize.resizer');\n                }\n            }\n        }\n    });\n    // -----------------------------------------------------------------------\n    // :: Mobile friendly scroll that work without scrollbar (for less)\n    // -----------------------------------------------------------------------\n    $.fn.touch_scroll = make_callback_plugin({\n        name: 'touch',\n        init: function(handler) {\n            var origin;\n            var previous;\n            $(this).on('touchstart.scroll', function(e) {\n                e = e.originalEvent;\n                if (e.target.tagName.toLowerCase() !== 'a' && e.touches.length === 1) {\n                    previous = origin = e.touches[0];\n                }\n            }).on('touchmove.scroll', function(e) {\n                e = e.originalEvent;\n                if (origin && e.touches.length === 1) {\n                    var current = e.touches[0];\n                    var ret = handler({\n                        origin: origin,\n                        previous: previous,\n                        current: current\n                    });\n                    if (ret === false) {\n                        e.preventDefault();\n                    }\n                    previous = current;\n                }\n            }).on('touchend.scroll', function() {\n                if (origin || previous) {\n                    origin = previous = null;\n                }\n            });\n        },\n        destroy: function() {\n            $(this).off('touchstart.scroll touchmove.scroll touchend.scroll');\n        }\n    });\n    // -----------------------------------------------------------------------\n    function jquery_resolve(value) {\n        var defer = jQuery.Deferred();\n        defer.resolve(value);\n        return defer.promise();\n    }\n    // -----------------------------------------------------------------------\n    function unpromise(value, callback, error) {\n        if (value !== undefined) {\n            if (is_function(value.catch)) {\n                value.catch(error);\n            }\n            if (is_function(value.done)) {\n                return value.done(callback);\n            } else if (is_function(value.then)) {\n                return value.then(callback);\n            } else if (value instanceof Array) {\n                var promises = value.filter(function(value) {\n                    return value && (is_function(value.done) || is_function(value.then));\n                });\n                if (promises.length) {\n                    var result = $.when.apply($, value).then(function() {\n                        return callback([].slice.call(arguments));\n                    });\n                    if (is_function(value.catch)) {\n                        result.catch(error);\n                    }\n                    return result;\n                }\n            }\n            // TODO: investigate why it break when called\n            //       when value is undefined\n            //       when moving this line outside if\n            //       it breaks all completion unit tests\n            return callback(value);\n        }\n    }\n    // -----------------------------------------------------------------------\n    // :: based on https://github.com/zeusdeux/isInViewport\n    // :: work only vertically and on dom elements\n    // -----------------------------------------------------------------------\n    $.fn.is_fully_in_viewport = (function() {\n        function is_visible(node, container) {\n            var box = node.getBoundingClientRect();\n            var viewport = container[0].getBoundingClientRect();\n            var top = box.top - viewport.top;\n            var bottom = box.bottom - viewport.top;\n            var height = container.height();\n            return bottom > 0 && top <= height;\n        }\n        if (root.IntersectionObserver) {\n            return function(container) {\n                var node = this[0];\n                var defer = jQuery.Deferred();\n                var item_observer = new root.IntersectionObserver(function(entries) {\n                    defer.resolve(entries[0].isIntersecting && entries[0].ratio === 1);\n                    item_observer.unobserve(node);\n                }, {\n                    root: container[0]\n                });\n                item_observer.observe(node);\n                return defer.promise();\n            };\n        } else {\n            return function(container) {\n                return jquery_resolve(is_visible(this[0], container));\n            };\n        }\n    })();\n    // -------------------------------------------------------------------------\n    /* eslint-disable */\n    var entity_re = /(&(?:[a-z\\d]+|#\\d+|#x[a-f\\d]+);)/i;\n    // regex that match single character at begining and folowing combine character\n    // https://en.wikipedia.org/wiki/Combining_character\n    var combine_chr_re = /(.(?:[\\u0300-\\u036F]|[\\u1AB0-\\u1abE]|[\\u1DC0-\\u1DF9]|[\\u1DFB-\\u1DFF]|[\\u20D0-\\u20F0]|[\\uFE20-\\uFE2F])+)/;\n    // source: https://mathiasbynens.be/notes/javascript-unicode\n    var astral_symbols_re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/;\n    // source: https://github.com/mathiasbynens/emoji-regex\n    var emoji_re = /(\\uD83C\\uDFF4\\uDB40\\uDC67\\uDB40\\uDC62(?:\\uDB40\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73|\\uDB40\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDB40\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67)\\uDB40\\uDC7F|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|\\uD83D\\uDC68(?:\\uD83C\\uDFFF\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFE])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFB\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFC-\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83D\\uDC68|(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D[\\uDC66\\uDC67])|[\\u2695\\u2696\\u2708]\\uFE0F|\\uD83D[\\uDC66\\uDC67]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708])\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])|\\uD83E\\uDDD1(?:(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))|\\uD83D\\uDC69(?:\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFB\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))|\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69])(?:\\uD83C[\\uDFFB-\\uDFFE])|\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69])(?:\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])|\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69])(?:\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])|\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69])(?:\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])|\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69])(?:\\uD83C[\\uDFFC-\\uDFFF])|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D[\\uDC66\\uDC67])|(?:\\uD83D\\uDC41\\uFE0F\\u200D\\uD83D\\uDDE8|\\uD83D\\uDC69(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])|\\uD83C\\uDFF3\\uFE0F\\u200D\\u26A7|\\uD83E\\uDDD1(?:(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])|\\uD83D\\uDC3B\\u200D\\u2744|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642]|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uFE0F\\u200D[\\u2640\\u2642]|(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642])|\\uD83C\\uDFF4\\u200D\\u2620|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E-\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3C-\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD6-\\uDDDF])\\u200D[\\u2640\\u2642])\\uFE0F|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83C\\uDFF3\\uFE0F\\u200D\\uD83C\\uDF08|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66|\\uD83D\\uDC15\\u200D\\uD83E\\uDDBA|\\uD83C\\uDDFD\\uD83C\\uDDF0|\\uD83C\\uDDF6\\uD83C\\uDDE6|\\uD83C\\uDDF4\\uD83C\\uDDF2|\\uD83D\\uDC08\\u200D\\u2B1B|\\uD83E\\uDDD1(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC69(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83C\\uDDFF(?:\\uD83C[\\uDDE6\\uDDF2\\uDDFC])|\\uD83C\\uDDFE(?:\\uD83C[\\uDDEA\\uDDF9])|\\uD83C\\uDDFC(?:\\uD83C[\\uDDEB\\uDDF8])|\\uD83C\\uDDFB(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA])|\\uD83C\\uDDFA(?:\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF])|\\uD83C\\uDDF9(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF])|\\uD83C\\uDDF8(?:\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF])|\\uD83C\\uDDF7(?:\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC])|\\uD83C\\uDDF5(?:\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE])|\\uD83C\\uDDF3(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF])|\\uD83C\\uDDF2(?:\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF])|\\uD83C\\uDDF1(?:\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE])|\\uD83C\\uDDF0(?:\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDEF(?:\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5])|\\uD83C\\uDDEE(?:\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9])|\\uD83C\\uDDED(?:\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA])|\\uD83C\\uDDEC(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE])|\\uD83C\\uDDEB(?:\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7])|\\uD83C\\uDDEA(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA])|\\uD83C\\uDDE9(?:\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF])|\\uD83C\\uDDE8(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF5\\uDDF7\\uDDFA-\\uDDFF])|\\uD83C\\uDDE7(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDE6(?:\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF])|[#\\*0-9]\\uFE0F\\u20E3|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u261D\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2\\uDFC7]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDCAA\\uDD74\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC]|\\uD83E[\\uDD0C\\uDD0F\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD30-\\uDD34\\uDD36\\uDD77\\uDDB5\\uDDB6\\uDDBB\\uDDD2-\\uDDD5])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u270A\\u270B\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF93\\uDFA0-\\uDFCA\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF4\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC3E\\uDC40\\uDC42-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDD7A\\uDD95\\uDD96\\uDDA4\\uDDFB-\\uDE4F\\uDE80-\\uDEC5\\uDECC\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6])|(?:[#\\*0-9\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u261D\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u267F\\u2692-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A1\\u26A7\\u26AA\\u26AB\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C5\\u26C8\\u26CE\\u26CF\\u26D1\\u26D3\\u26D4\\u26E9\\u26EA\\u26F0-\\u26F5\\u26F7-\\u26FA\\u26FD\\u2702\\u2705\\u2708-\\u270D\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763\\u2764\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE02\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF21\\uDF24-\\uDF93\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E-\\uDFF0\\uDFF3-\\uDFF5\\uDFF7-\\uDFFF]|\\uD83D[\\uDC00-\\uDCFD\\uDCFF-\\uDD3D\\uDD49-\\uDD4E\\uDD50-\\uDD67\\uDD6F\\uDD70\\uDD73-\\uDD7A\\uDD87\\uDD8A-\\uDD8D\\uDD90\\uDD95\\uDD96\\uDDA4\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA-\\uDE4F\\uDE80-\\uDEC5\\uDECB-\\uDED2\\uDED5-\\uDED7\\uDEE0-\\uDEE5\\uDEE9\\uDEEB\\uDEEC\\uDEF0\\uDEF3-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6])\\uFE0F?|(?:[\\u261D\\u26F9\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2-\\uDFC4\\uDFC7\\uDFCA-\\uDFCC]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66-\\uDC78\\uDC7C\\uDC81-\\uDC83\\uDC85-\\uDC87\\uDC8F\\uDC91\\uDCAA\\uDD74\\uDD75\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE45-\\uDE47\\uDE4B-\\uDE4F\\uDEA3\\uDEB4-\\uDEB6\\uDEC0\\uDECC]|\\uD83E[\\uDD0C\\uDD0F\\uDD18-\\uDD1F\\uDD26\\uDD30-\\uDD39\\uDD3C-\\uDD3E\\uDD77\\uDDB5\\uDDB6\\uDDB8\\uDDB9\\uDDBB\\uDDCD-\\uDDCF\\uDDD1-\\uDDDD]))/;\n    // https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n    var mobile_re = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i;\n    var tablet_re = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i;\n    var format_split_re = /(\\[\\[(?:-?[@!gbiuso])*;[^;]*;[^\\]]*\\](?:[^\\]\\\\]*(?:\\\\\\\\)*\\\\\\][^\\]]*|[^\\]]*|[^[]*\\[[^\\]]*)\\]?)/i;\n    var format_parts_re = /\\[\\[((?:-?[@!gbiuso])*);([^;]*);([^;\\]]*);?([^;\\]]*);?([^\\]]*)\\]([^\\]\\\\]*\\\\\\][^\\]]*|[^\\]]*|[^[]*\\[[^\\]]+)\\]?/gi;\n    var format_re = /\\[\\[((?:-?[@!gbiuso])*;[^;\\]]*;[^;\\]]*(?:;|[^\\]()]*);?[^\\]]*)\\]([^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^[]*\\[[^\\]]*)\\]?/gi;\n    var format_exist_re = /\\[\\[((?:-?[@!gbiuso])*;[^;\\]]*;[^;\\]]*(?:;|[^\\]()]*);?[^\\]]*)\\]([^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^[]*\\[[^\\]]*)\\]/gi;\n    var format_full_re = /^(\\[\\[(?:(?:-?[@!gbiuso])*;[^;\\]]*;[^;\\]]*(?:;|[^\\]()]*);?[^\\]]*)\\])([^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^[]*\\[[^\\]]*)(\\])$/i;\n    var format_begin_re = /(\\[\\[(?:-?[@!gbiuso])*;[^;]*;[^\\]]*\\])/i;\n    var format_start_re = /^(\\[\\[(?:-?[@!gbiuso])*;[^;]*;[^\\]]*\\])/i;\n    var format_end_re = /\\[\\[(?:-?[@!gbiuso])*;[^;]*;[^\\]]*\\]?$/i;\n    var self_closing_re = /^(?:\\[\\[)?[^;]*@[^;]*;/;\n    var color_re = /^(?:#([0-9a-f]{3}|[0-9a-f]{4}|[0-9a-f]{6}|[0-9a-f]{8})|rgba?\\([^)]+\\)|hsla?\\([^)]+\\))$/i;\n    var url_re = /(\\b(?:file|ftp|https?):\\/\\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\\s\"'\\\\<>\\][)])+)/gi;\n    var url_nf_re = /\\b(?![^\"\\s[\\]]*])(https?:\\/\\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\\s\"'\\\\<>\\][)])+)/gi;\n    var email_re = /((([^<>('\")[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,})))/g;\n    var url_full_re = /^(https?:\\/\\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\\s\"'<>\\\\\\][)])+)$/gi;\n    var email_full_re = /^((([^<>('\")[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,})))$/g;\n    var command_re = /((?:\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`|\\/[^\\/\\\\]*(?:\\\\[\\S\\s][^\\/\\\\]*)*\\/[gimsuy]*(?=\\s|$)|(?:\\\\\\s|\\S))+)(?=\\s|$)/gi;\n    var extended_command_re = /^\\s*((terminal|cmd)::([a-z_]+)\\(([\\s\\S]*)\\))\\s*$/;\n    var format_exec_split_re = /(\\[\\[(?:-?[@!gbiuso])*;[^\\]]+\\](?:\\\\[[\\]]|[^\\]])*\\]|\\[\\[[\\s\\S]+?\\]\\])/;\n    var format_exec_re = /(\\[\\[[\\s\\S]+?\\]\\])/;\n    var float_re = /^[-+]?[0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?$/;\n    var re_re = /^\\/((?:\\\\\\/|[^/]|\\[[^\\]]*\\/[^\\]]*\\])+)\\/([gimsuy]*)$/;\n    var string_re = /(\"(?:[^\"\\\\]|\\\\(?:\\\\\\\\)*\"|\\\\\\\\)*\"|'(?:[^'\\\\]|\\\\(?:\\\\\\\\)*'|\\\\\\\\)*'|`(?:[^`\\\\]|\\\\(?:\\\\\\\\)*`|\\\\\\\\)*`)/;\n    var unclosed_strings_re = /^(?=((?:[^\"']+|\"[^\"\\\\]*(?:\\\\[^][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[^][^'\\\\]*)*')*))\\1./;\n    var broken_image = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 14\"><title id=\"title2\">rounded</title><path id=\"terminal-broken-image\" d=\"m 14,10 h 2 v 1 a 3,3 0 0 1 -3,3 H 3 A 3,3 0 0 1 0,11 H 4.5 A 1.00012,1.00012 0 0 0 5.207,10.707 L 6.5,9.414 7.793,10.707 a 0.99963,0.99963 0 0 0 1.41406,0 l 2.36719,-2.36719 1.80127,1.44092 A 0.99807,0.99807 0 0 0 14,10 Z M 16,3 V 8 H 14.35059 L 12.12451,6.21924 A 0.99846,0.99846 0 0 0 10.793,6.293 L 8.5,8.586 7.207,7.293 a 0.99962,0.99962 0 0 0 -1.41406,0 L 4.08594,9 H 0 V 3 A 3,3 0 0 1 3,0 h 10 a 3,3 0 0 1 3,3 z M 6,4.5 A 1.5,1.5 0 1 0 4.5,6 1.5,1.5 0 0 0 6,4.5 Z\" /></svg>';\n    var use_broken_image = '<svg class=\"terminal-broken-image\" role=\"presentation\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 14\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><use xlink:href=\"#terminal-broken-image\"/></svg>';\n    /* eslint-enable */\n    // -------------------------------------------------------------------------\n    // :: features flags\n    // -------------------------------------------------------------------------\n    // taken from https://hacks.mozilla.org/2011/09/detecting-and-generating-\n    // css-animations-in-javascript/\n    var animation_supported = (function() {\n        if (typeof document === 'undefined') {\n            return false;\n        }\n        var animation = false,\n            domPrefixes = 'Webkit Moz O ms Khtml'.split(' '),\n            elm = document.createElement('div');\n        if (elm.style.animationName) {\n            animation = true;\n        }\n        if (animation === false) {\n            for (var i = 0; i < domPrefixes.length; i++) {\n                var name = domPrefixes[i] + 'AnimationName';\n                if (elm.style[name] !== undefined) {\n                    animation = true;\n                    break;\n                }\n            }\n        }\n        elm = null;\n        return animation;\n    })();\n    // -------------------------------------------------------------------------\n    var agent = (root.navigator || window.navigator).userAgent;\n    var is_IE = /MSIE|Trident/.test(agent) || /rv:11.0/i.test(agent);\n    var is_IEMobile = /IEMobile/.test(agent);\n    // -------------------------------------------------------------------------\n    var is_ch_unit_supported = (function() {\n        if (is_IE && !is_IEMobile) {\n            return false;\n        }\n        if (typeof document === 'undefined') {\n            return true; // run without browser context\n        }\n        var div = document.createElement('div');\n        div.style.width = '1ch';\n        return div.style.width === '1ch';\n    })();\n    // -------------------------------------------------------------------------\n    var is_css_variables_supported = root.CSS && root.CSS.supports &&\n            root.CSS.supports('--fake-var', 0);\n    // -------------------------------------------------------------------------\n    var is_android = navigator.userAgent.toLowerCase().indexOf('android') !== -1;\n    // -------------------------------------------------------------------------\n    var is_key_native = (function is_key_native() {\n        if (!('KeyboardEvent' in root && 'key' in root.KeyboardEvent.prototype)) {\n            return false;\n        }\n        var proto = root.KeyboardEvent.prototype;\n        var get = Object.getOwnPropertyDescriptor(proto, 'key').get;\n        return !!get.toString().match(/\\[native code\\]/);\n    })();\n    // -------------------------------------------------------------------------\n    var is_browser = (function() {\n        try {\n            return this === window;\n        } catch (e) {\n            return false;\n        }\n    })();\n    // -------------------------------------------------------------------------\n    var is_mobile = (function(a) {\n        var check = false;\n        if (mobile_re.test(a) || tablet_re.test(a.substr(0, 4))) {\n            check = true;\n        }\n        // detect iPad 13\n        // ref: https://stackoverflow.com/a/57924983/387194s\n        if (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1) {\n            return true;\n        }\n        return check;\n    })(navigator.userAgent || navigator.vendor || root.opera);\n    // -------------------------------------------------------------------------\n    // IE ch unit bug detection - better that UserAgent that can be changed\n    // -------------------------------------------------------------------------\n    var ch_unit_bug = false;\n    if (is_browser) {\n        $(function() {\n            function width(e) {\n                return e[0].getBoundingClientRect().width;\n            }\n            var base = '<span style=\"font-family: monospace;visibility:hidden;';\n            var ch = $(base + 'width:1ch;overflow: hidden\">&nbsp;</span>');\n            ch.appendTo('body');\n            var space = $(base + '\">&nbsp;</span>').appendTo('body');\n            // in FireFox the size of space is fraction larger #579\n            ch_unit_bug = Math.abs(width(ch) - width(space)) > 0.0001;\n            ch.remove();\n            space.remove();\n        });\n    }\n    // -----------------------------------------------------------------------\n    // :: css helper that work with css variables\n    // :: jQuery css method from 3.4 support them by default\n    // -----------------------------------------------------------------------\n    function css(node, obj, value) {\n        if (node instanceof $.fn.init) {\n            node.each(function() {\n                css(this, obj, value);\n            });\n        } else if ($.isPlainObject(obj)) {\n            Object.keys(obj).forEach(function(key) {\n                node.style.setProperty(key, obj[key]);\n            });\n        } else if (typeof value === 'undefined') {\n            return node.style.getPropertyValue(obj);\n        } else {\n            node.style.setProperty(obj, value);\n        }\n    }\n    // -----------------------------------------------------------------------\n    // :: hide elements from screen readers\n    // -----------------------------------------------------------------------\n    function a11y_hide(element) {\n        element.attr({\n            role: 'presentation',\n            'aria-hidden': 'true'\n        });\n    }\n    // ---------------------------------------------------------------------\n    // :: alert only first exception of type\n    // ---------------------------------------------------------------------\n    var excepctions = [];\n    function alert_exception(label, e) {\n        if (arguments[0] instanceof $.terminal.Exception) {\n            label = arguments[0].type;\n            e = arguments[0];\n        }\n        var message = (label ? label + ': ' : '') + exception_message(e);\n        if (excepctions.indexOf(message) === -1) {\n            excepctions.push(message);\n            setTimeout(function() {\n                throw e;\n            }, 0);\n            //alert(message + (e.stack ? '\\n' + e.stack : ''));\n        }\n    }\n    // ---------------------------------------------------------------------\n    // ref: https://stackoverflow.com/a/6248722/387194\n    function generate_id() {\n        // I generate the UID from two parts here\n        // to ensure the random number provide enough bits.\n        var firstPart = (Math.random() * 46656) | 0;\n        var secondPart = (Math.random() * 46656) | 0;\n        firstPart = (\"000\" + firstPart.toString(36)).slice(-3);\n        secondPart = (\"000\" + secondPart.toString(36)).slice(-3);\n        return firstPart + secondPart;\n    }\n    // ---------------------------------------------------------------------\n    // :; detect if mouse event happen on scrollbar\n    // ---------------------------------------------------------------------\n    function scrollbar_event(e, node) {\n        var left = node.offset().left;\n        return node.outerWidth() <= e.clientX - left;\n    }\n    // ---------------------------------------------------------------------\n    // :: Return exception message as string\n    // ---------------------------------------------------------------------\n    function exception_message(e) {\n        if (typeof e === 'string') {\n            return e;\n        } else if (typeof e.fileName === 'string') {\n            return e.fileName + ': ' + e.message;\n        } else {\n            return e.message;\n        }\n    }\n    // -----------------------------------------------------------------------\n    // :: CYCLE DATA STRUCTURE\n    // -----------------------------------------------------------------------\n    function Cycle() {\n        var data = [].slice.call(arguments);\n        var pos = 0;\n        $.extend(this, {\n            get: function() {\n                return data;\n            },\n            index: function() {\n                return pos;\n            },\n            rotate: function(skip, init) {\n                if (init === undefined) {\n                    init = pos;\n                } else if (init === pos) {\n                    return;\n                }\n                if (!skip) {\n                    var defined = data.filter(function(item) {\n                        return typeof item !== 'undefined';\n                    });\n                    if (!defined.length) {\n                        return;\n                    }\n                }\n                if (!data.length) {\n                    return;\n                }\n                if (data.length === 1) {\n                    return data[0];\n                } else {\n                    if (pos === data.length - 1) {\n                        pos = 0;\n                    } else {\n                        ++pos;\n                    }\n                    if (typeof data[pos] !== 'undefined') {\n                        return data[pos];\n                    } else {\n                        return this.rotate(true, init);\n                    }\n                }\n            },\n            length: function() {\n                return data.length;\n            },\n            remove: function(index) {\n                delete data[index];\n            },\n            set: function(item) {\n                for (var i = data.length; i--;) {\n                    if (data[i] === item) {\n                        pos = i;\n                        return;\n                    }\n                }\n                this.append(item);\n                pos = data.length - 1;\n            },\n            front: function() {\n                if (data.length) {\n                    var index = pos;\n                    var restart = false;\n                    while (!data[index]) {\n                        index++;\n                        if (index > data.length) {\n                            if (restart) {\n                                break;\n                            }\n                            index = 0;\n                            restart = true;\n                        }\n                    }\n                    return data[index];\n                }\n            },\n            map: function(fn) {\n                return data.map(function(item, i) {\n                    if (typeof item !== 'undefined') {\n                        return fn(item, i);\n                    }\n                    return null;\n                }).filter(Boolean);\n            },\n            forEach: function(fn) {\n                return data.forEach(function(item, i) {\n                    if (typeof item !== 'undefined') {\n                        fn(item, i);\n                    }\n                });\n            },\n            append: function(item) {\n                data.push(item);\n            }\n        });\n    }\n    /*\n    function time() {\n        // performance.now almost equal Date.now()- performance.timing.navigationStart\n        // the difference check should be almost the same\n        return performance ? performance.now() : Date.now();\n    }\n    */\n    // -----------------------------------------------------------------------\n    // :: STACK DATA STRUCTURE\n    // -----------------------------------------------------------------------\n    function Stack(init) {\n        var data = is_array(init) ? init : init ? [init] : [];\n        $.extend(this, {\n            data: function() {\n                return data;\n            },\n            map: function(fn) {\n                return $.map(data, fn);\n            },\n            size: function() {\n                return data.length;\n            },\n            pop: function() {\n                if (data.length === 0) {\n                    return null;\n                } else {\n                    var value = data[data.length - 1];\n                    data = data.slice(0, data.length - 1);\n                    return value;\n                }\n            },\n            push: function(value) {\n                data = data.concat([value]);\n                return value;\n            },\n            top: function() {\n                return data.length > 0 ? data[data.length - 1] : null;\n            },\n            clone: function() {\n                return new Stack(data.slice(0));\n            }\n        });\n    }\n    // -------------------------------------------------------------------------\n    // :: Class for Worker that do some computation when needed\n    // :: if validation function return false it mean that condition changed\n    // :: and cache need to be cleared. If value was not processed it will run\n    // :: the action\n    // -------------------------------------------------------------------------\n    function WorkerCache(options) {\n        var settings = $.extend({\n            validation: $.noop,\n            action: $.noop,\n            onCache: $.noop\n        }, options);\n        this._onCache = settings.onCache.bind(this);\n        this._action = settings.action.bind(this);\n        this._validation = settings.validation.bind(this);\n        if ('Map' in root) {\n            this._cache = new Map();\n        }\n    }\n    // -------------------------------------------------------------------------\n    WorkerCache.prototype.validate = function(key) {\n        var valid = this._validation(key);\n        var test = valid === undefined || valid === true;\n        if (!test) {\n            this._cache.clear();\n        }\n        return test;\n    };\n    // -------------------------------------------------------------------------\n    WorkerCache.prototype.get = function(key) {\n        if (!this._cache) {\n            return this._action(key);\n        }\n        var value;\n        if (this.validate(key) && this._cache.has(key)) {\n            value = this._cache.get(key);\n            this._onCache({cache: value});\n            return value;\n        }\n        value = this._action(key);\n        this._cache.set(key, value);\n        return value;\n    };\n    // -------------------------------------------------------------------------\n    // :: HISTORY CLASS\n    // -------------------------------------------------------------------------\n    function History(name, size, memory) {\n        var enabled = true;\n        var storage_key = '';\n        if (typeof name === 'string' && name !== '') {\n            storage_key = name + '_';\n        }\n        storage_key += 'commands';\n        var data;\n        if (memory) {\n            data = [];\n        } else {\n            data = $.Storage.get(storage_key);\n            data = data ? JSON.parse(data) : [];\n        }\n        var pos = data.length - 1;\n        $.extend(this, {\n            append: function(item) {\n                if (enabled) {\n                    if (data[data.length - 1] !== item) {\n                        data.push(item);\n                        if (size && data.length > size) {\n                            data = data.slice(-size);\n                        }\n                        pos = data.length - 1;\n                        if (!memory) {\n                            $.Storage.set(storage_key, JSON.stringify(data));\n                        }\n                    }\n                }\n            },\n            set: function(new_data) {\n                if (is_array(new_data)) {\n                    data = new_data;\n                    if (!memory) {\n                        $.Storage.set(storage_key, JSON.stringify(data));\n                    }\n                }\n            },\n            data: function() {\n                return data;\n            },\n            reset: function() {\n                pos = data.length - 1;\n            },\n            last: function() {\n                return data[data.length - 1];\n            },\n            end: function() {\n                return pos === data.length - 1;\n            },\n            position: function() {\n                return pos;\n            },\n            current: function() {\n                return data[pos];\n            },\n            next: function() {\n                var old = pos;\n                if (pos < data.length - 1) {\n                    ++pos;\n                }\n                if (old !== pos) {\n                    return data[pos];\n                }\n            },\n            previous: function() {\n                var old = pos;\n                if (pos > 0) {\n                    --pos;\n                }\n                if (old !== pos) {\n                    return data[pos];\n                }\n            },\n            clear: function() {\n                data = [];\n                this.purge();\n            },\n            enabled: function() {\n                return enabled;\n            },\n            enable: function() {\n                enabled = true;\n            },\n            purge: function() {\n                if (!memory) {\n                    $.Storage.remove(storage_key);\n                }\n            },\n            disable: function() {\n                enabled = false;\n            },\n            toggle: function(value) {\n                if (typeof value === 'undefined') {\n                    enabled = !enabled;\n                } else {\n                    enabled = value;\n                }\n            }\n        });\n    }\n    // -------------------------------------------------------------------------\n    function OutputLines(settings) {\n        this._settings = settings;\n        this._lines = [];\n        this._snapshot = [];\n    }\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.make_snapshot = function(snapshot) {\n        this._snapshot.push(snapshot);\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.get_partial = function() {\n        var last = this._snapshot[this._snapshot.length - 1];\n        return last;\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.update_snapshot = function(index, snapshot) {\n        this._snapshot[index] = snapshot;\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.limit_snapshot = function(limit) {\n        this._snapshot = this._snapshot.slice(limit);\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.clear_snapshot = function() {\n        this._snapshot = [];\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.get_snapshot = function() {\n        return this._snapshot.reduce(function(acc, arr) {\n            return acc.concat(arr);\n        }, []).join('\\n');\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.join = function() {\n        var args = [].slice.call(arguments);\n        if (args.some(is_function)) {\n            return function() {\n                return args.reduce(function(acc, arg) {\n                    if (is_function(acc)) {\n                        acc = acc();\n                    }\n                    if (is_function(arg)) {\n                        arg = arg();\n                    }\n                    if (is_promise(acc) || is_promise(arg)) {\n                        return $.when(acc, arg).then(function(acc, arg) {\n                            return acc + arg;\n                        });\n                    }\n                    return arg;\n                });\n            };\n        } else if (args.some(is_promise)) {\n            return args.reduce(function(acc, arg) {\n                return $.when(acc, arg).then(function(acc, arg) {\n                    return acc + arg;\n                });\n            });\n        }\n        return args.join('');\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.import = function(data) {\n        this._lines = data;\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.push = function(data) {\n        var value = data[0];\n        var options = data[1];\n        if (this.has_newline()) {\n            this._lines.push(data);\n        } else {\n            var last_line = this.last_line();\n            last_line[0] = this.join(last_line[0], value);\n            last_line[1].newline = options.newline;\n        }\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.clear = function(fn) {\n        this._lines.forEach(function(line, i) {\n            var options = line[1];\n            if (is_function(options.onClear)) {\n                options.onClear.call(self, fn(i));\n            }\n        });\n        this._lines = [];\n        this._snapshot = [];\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.data = function() {\n        return this._lines;\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.has_newline = function() {\n        if (this._lines.length === 0) {\n            return true;\n        }\n        return this.last_line()[1].newline;\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.last_line = function() {\n        var len = this._lines.length;\n        return this._lines[len - 1];\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.update = function(index, value, options) {\n        if (value === null) {\n            this._lines.splice(index, 1);\n        } else {\n            this._lines[index][0] = value;\n            if (options) {\n                this._lines[index][1] = $.extend(this._lines[index][1], options);\n            }\n            return this._lines[index][1];\n        }\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.length = function() {\n        return this._lines.length;\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.valid_index = function(index) {\n        return !!this._lines[index];\n    };\n    // -------------------------------------------------------------------------\n    OutputLines.prototype.render = function(cols, fn) {\n        var settings = this._settings();\n        var lines_to_show = [];\n        this._snapshot = [];\n        if (settings.outputLimit >= 0) {\n            // flush will limit lines but if there is lot of\n            // lines we don't need to show them and then remove\n            // them from terminal\n            var limit;\n            if (settings.outputLimit === 0) {\n                limit = cols;\n            } else {\n                limit = settings.outputLimit;\n            }\n            this._lines.forEach(function(line, index) {\n                var value = line[0];\n                var options = line[1];\n                lines_to_show.push({\n                    value: value,\n                    index: index,\n                    options: options\n                });\n            });\n            var pivot = lines_to_show.length - limit - 1;\n            lines_to_show = lines_to_show.slice(pivot);\n        } else {\n            lines_to_show = this._lines.map(function(line, index) {\n                return {\n                    value: line[0],\n                    index: index,\n                    options: line[1]\n                };\n            });\n        }\n        return fn(lines_to_show);\n    };\n    // -------------------------------------------------------------------------\n    // :: FormatBuffer is a class that buffer line printed on terminal\n    // :: with optional format of the text, the class also usse cache\n    // :: the options in the constructor is a function that should returns\n    // :: settings for given format, the settings may change while the terminal\n    // :: is running, that's why they are dynamic in form of a function\n    // -------------------------------------------------------------------------\n    function FormatBuffer(options) {\n        this._options = options;\n        if ('Map' in root) {\n            this._format_cache = new Map();\n        }\n        this._output_buffer = [];\n    }\n    // -------------------------------------------------------------------------\n    FormatBuffer.NEW_LINE = 1;\n    // -------------------------------------------------------------------------\n    FormatBuffer.prototype.format = function format(arg, newline, raw) {\n        var use_cache = this._format_cache && this._settings.useCache;\n\n        if (use_cache) {\n            var args = JSON.stringify([arg, this._settings]);\n            if (this._format_cache.has(args)) {\n                return this._format_cache.get(args);\n            }\n        }\n        var data = {\n            line: $.terminal.format(\n                arg,\n                this._settings\n            ),\n            raw: raw,\n            newline: newline\n        };\n        if (use_cache) {\n            this._format_cache.set(args, data);\n        }\n        return data;\n    };\n    // -------------------------------------------------------------------------\n    FormatBuffer.prototype.empty = function() {\n        return !this._output_buffer.length;\n    };\n    // -------------------------------------------------------------------------\n    FormatBuffer.prototype.append = function(arg, index, options, raw) {\n        this._settings = $.extend({\n            useCache: true\n        }, this._options(options));\n\n        this._output_buffer.push(FormatBuffer.NEW_LINE);\n\n        if (arg instanceof Array) {\n            var raw_lines = raw.split('\\n');\n            for (var i = 0, len = arg.length; i < len; ++i) {\n                if (arg[i] === '' || arg[i] === '\\r') {\n                    this._output_buffer.push({line: '', raw: ''});\n                } else {\n                    var formatted = this.format(arg[i], i === len - 1, raw_lines[i]);\n                    this._output_buffer.push(formatted);\n                }\n            }\n        } else if (!options.raw) {\n            this._output_buffer.push(this.format(arg, false, raw));\n        } else {\n            this._output_buffer.push({line: arg, raw: raw});\n        }\n        this._output_buffer.push({\n            finalize: options.finalize,\n            index: index,\n            newline: options.newline\n        });\n    };\n    // -------------------------------------------------------------------------\n    FormatBuffer.prototype.clear_cache = function() {\n        if (this._format_cache) {\n            this._format_cache.clear();\n        }\n    };\n    // -------------------------------------------------------------------------\n    FormatBuffer.prototype.output = function() {\n        return this._output_buffer.slice();\n    };\n    // -------------------------------------------------------------------------\n    FormatBuffer.prototype.is_empty = function() {\n        return !this._output_buffer.length;\n    };\n    // -------------------------------------------------------------------------\n    FormatBuffer.prototype.clear = function() {\n        this._output_buffer = [];\n    };\n    // -------------------------------------------------------------------------\n    FormatBuffer.prototype.forEach = function(fn) {\n        var i = 0;\n        while (i < this._output_buffer.length) {\n            var data = this._output_buffer[i++];\n            if (data === FormatBuffer.NEW_LINE) {\n                fn();\n            } else {\n                fn(data);\n            }\n        }\n    };\n    // -------------------------------------------------------------------------\n    FormatBuffer.prototype.flush = function(render) {\n        this.forEach(render);\n        this.clear();\n    };\n    // -------------------------------------------------------------------------\n    // :: function that handle all cases of prompt and call the function set\n    // :: with a string\n    // -------------------------------------------------------------------------\n    function with_prompt(prompt, set, context) {\n        function error(e) {\n            var prompt = $.terminal.escape_brackets('[ERR]> ');\n            set('[[;red;]' + prompt + ']');\n            alert_exception('Prompt', e);\n        }\n        switch (typeof prompt) {\n            case 'string':\n                set(prompt);\n                break;\n            case 'function':\n                try {\n                    var ret = prompt.call(context, function(string) {\n                        set(string);\n                    });\n                    if (typeof ret === 'string') {\n                        set(ret);\n                    }\n                    if (ret && ret.then) {\n                        ret.then(set).catch(error);\n                    }\n                } catch (e) {\n                    error(e);\n                }\n                break;\n        }\n    }\n    // -------------------------------------------------------------------------\n    // :: COMMAND LINE PLUGIN\n    // -------------------------------------------------------------------------\n    var cmd_index = 0;\n    $.cmd = {\n        defaults: {\n            mask: false,\n            caseSensitiveSearch: true,\n            historySize: 60,\n            prompt: '> ',\n            enabled: true,\n            history: true,\n            onPositionChange: $.noop,\n            onCommandChange: $.noop,\n            inputStyle: 'textarea',\n            mobileDelete: is_mobile,\n            onPaste: $.noop,\n            clickTimeout: 200,\n            holdTimeout: 400,\n            holdRepeatTimeout: 200,\n            mobileIngoreAutoSpace: [],\n            repeatTimeoutKeys: [],\n            tabindex: 1,\n            tabs: 4\n        }\n    };\n    $.fn.cmd = function(options) {\n        var settings = $.extend({}, $.cmd.defaults, options);\n        function mobile_ignore_key(key) {\n            return settings.mobileIngoreAutoSpace.length &&\n                settings.mobileIngoreAutoSpace.indexOf(key) !== -1 && is_android;\n        }\n        var self = this;\n        var maybe_data = self.data('cmd');\n        if (maybe_data) {\n            return maybe_data;\n        }\n        var id = cmd_index++;\n        self.addClass('cmd');\n        var wrapper = $('<div class=\"cmd-wrapper\"/>').appendTo(self);\n        wrapper.append('<span class=\"cmd-prompt\"></span>');\n        wrapper.append('<div class=\"cmd-cursor-line\">' +\n                       '<span></span>' +\n                       '<span class=\"cmd-cursor\">' +\n                       '<span data-text class=\"end\"><span>&nbsp;</span></span>' +\n                       '</span>' +\n                       '<span></span>' +\n                       '</div>');\n        var cursor_line = wrapper.find('.cmd-cursor-line');\n        // a11y: don't read command it's in textarea that's in focus\n        a11y_hide(cursor_line);\n        // on mobile the only way to hide textarea on desktop it's needed because\n        // textarea show up after focus\n        //self.append('<span class=\"mask\"></mask>');\n        var clip;\n        if (is_mobile) {\n            clip = (function() {\n                var $node = $('<div class=\"cmd-editable\" ' +\n                              'contenteditable=\"plaintext-only\" ' +\n                              'spellcheck=\"false\"/>').attr({\n                    autocapitalize: 'off',\n                    autocorrect: 'off',\n                    spellcheck: 'false',\n                    tabindex: settings.tabindex\n                }).insertAfter(self);\n                $node.on('focus', function() {\n                    self.enable();\n                }).on('blur', function() {\n                    self.disable();\n                });\n                var timer;\n                var clip = {\n                    $node: $node,\n                    val: function(value) {\n                        if (typeof value === 'undefined') {\n                            return $node.text();\n                        } else {\n                            $node.html(value);\n                        }\n                    },\n                    reset: function() {\n                        clearTimeout(timer);\n                        timer = setTimeout(function() {\n                            $node.css({\n                                top: '',\n                                bottom: ''\n                            });\n                        }, 400);\n                    },\n                    focus: function() {\n                        css($node[0], {\n                            top: 'calc(var(--terminal-scroll, 0) * 1px)'\n                        });\n                        clip.reset();\n                    },\n                    blur: function() {\n                        $node.css({\n                            top: '100%',\n                            bottom: 0\n                        }).blur();\n                        // just in case of Webkit bug\n                        window.getSelection().removeAllRanges();\n                        clip.reset();\n                    }\n                };\n                return clip;\n            })();\n            self.addClass('cmd-mobile');\n        } else {\n            clip = (function() {\n                var id = generate_id();\n                var $node = $('<textarea>').attr({\n                    autocapitalize: 'off',\n                    spellcheck: 'false',\n                    id: id,\n                    tabindex: settings.tabindex\n                }).addClass('cmd-clipboard').appendTo(self);\n                // some a11y to make lighthouse happy\n                $node.before('<label class=\"visually-hidden\" for=\"' + id + '\">' +\n                             'Clipbard textarea for jQuery Terminal</label>');\n                return {\n                    $node: $node,\n                    val: function(value) {\n                        // even if value is undeifned\n                        // when calling val(value) it return jQuery object\n                        if (typeof value === 'undefined') {\n                            return $node.val();\n                        } else {\n                            return $node.val(value);\n                        }\n                    }\n                };\n            })();\n            clip.val(' ');\n        }\n        if (settings.width) {\n            self.width(settings.width);\n        }\n        var num_chars; // calculated by resize\n        var char_width;\n        var last_rendered_prompt;\n        var prompt_last_line;\n        var just_prompt_len;\n        var extra_prompt_margin = 0;\n        var prompt_len;\n        var prompt_node = self.find('.cmd-prompt');\n        var reverse_search = false;\n        var rev_search_str = '';\n        var reverse_search_position = null;\n        var backup_prompt;\n        var command = '';\n        var last_command;\n        // text from selection using CTRL+SHIFT+C (as in Xterm)\n        var kill_text = ''; // text from command that kill part of the command\n        var position = 0;\n        var prompt;\n        var enabled;\n        var formatted_position = 0;\n        var name, history;\n        var cursor = self.find('.cmd-cursor');\n        var animation;\n        var restart_animation;\n        var paste_count = 0;\n        // use \\uFFFF to mark newline extra character\n        // so we can hide it by css when using text selection\n        var line_marker = '\\uFFFF';\n        var line_marker_re = /\\uFFFF$/;\n        var empty_marker_re = /^\\uFFFF$/;\n        function get_char_pos(e) {\n            var node = $(e.target);\n            if (node.is('span,img,a')) {\n                node = node.closest('[data-text]');\n                return node.index() +\n                    node.parent('span').prevAll().find('[data-text]').length +\n                    node.closest('[role=\"presentation\"]')\n                        .prevUntil('.cmd-prompt').find('[data-text]').length;\n            } else if (node.is('div[role=\"presentation\"]')) {\n                var last = !node.next().length;\n                return node.find('[data-text]').length +\n                    node.prevUntil('.cmd-prompt').find('[data-text]').length -\n                    (last ? 0 : 1);\n            }\n        }\n        // IE mapping\n        var key_mapping = {\n            'SPACEBAR': ' ',\n            'UP': 'ArrowUP',\n            'DOWN': 'ArrowDown',\n            'LEFT': 'ArrowLeft',\n            'RIGHT': 'ArrowRight',\n            'DEL': 'Delete',\n            'MULTIPLY': '*',\n            'DIVIDE': '/',\n            'SUBTRACT': '-',\n            'ADD': '+'\n        };\n        function ie_key_fix(e) {\n            var key = e.key.toUpperCase();\n            if (key_mapping[key]) {\n                return key_mapping[key];\n            }\n            return key;\n        }\n        function get_key(e) {\n            if (e.key) {\n                var key = ie_key_fix(e).toUpperCase();\n                if (key === 'CONTROL') {\n                    return 'CTRL';\n                } else {\n                    var combo = [];\n                    if (e.ctrlKey) {\n                        combo.push('CTRL');\n                    }\n                    if (e.metaKey && key !== 'META') {\n                        combo.push('META');\n                    }\n                    if (e.shiftKey && key !== 'SHIFT') {\n                        combo.push('SHIFT');\n                    }\n                    if (e.altKey && key !== 'ALT') {\n                        combo.push('ALT');\n                    }\n                    if (combo.length && key === ' ') {\n                        key = 'SPACEBAR';\n                    }\n                    if (e.key) {\n                        combo.push(key);\n                    }\n                    return combo.join('+');\n                }\n            }\n        }\n        // -----------------------------------------------------------------\n        // for invoking shortcuts using terminal::keydown\n        // taken from https://github.com/cvan/keyboardevent-key-polyfill/\n        var keycodes = {\n            3: 'Cancel',\n            6: 'Help',\n            8: 'Backspace',\n            9: 'Tab',\n            12: 'Clear',\n            13: 'Enter',\n            16: 'Shift',\n            17: 'Control',\n            18: 'Alt',\n            19: 'Pause',\n            20: 'CapsLock',\n            27: 'Escape',\n            28: 'Convert',\n            29: 'NonConvert',\n            30: 'Accept',\n            31: 'ModeChange',\n            32: ' ',\n            33: 'PageUp',\n            34: 'PageDown',\n            35: 'End',\n            36: 'Home',\n            37: 'ArrowLeft',\n            38: 'ArrowUp',\n            39: 'ArrowRight',\n            40: 'ArrowDown',\n            41: 'Select',\n            42: 'Print',\n            43: 'Execute',\n            44: 'PrintScreen',\n            45: 'Insert',\n            46: 'Delete',\n            48: ['0', ')'],\n            49: ['1', '!'],\n            50: ['2', '@'],\n            51: ['3', '#'],\n            52: ['4', '$'],\n            53: ['5', '%'],\n            54: ['6', '^'],\n            55: ['7', '&'],\n            56: ['8', '*'],\n            57: ['9', '('],\n            91: 'OS',\n            93: 'ContextMenu',\n            144: 'NumLock',\n            145: 'ScrollLock',\n            181: 'VolumeMute',\n            182: 'VolumeDown',\n            183: 'VolumeUp',\n            186: [';', ':'],\n            187: ['=', '+'],\n            188: [',', '<'],\n            189: ['-', '_'],\n            190: ['.', '>'],\n            191: ['/', '?'],\n            192: ['`', '~'],\n            219: ['[', '{'],\n            220: ['\\\\', '|'],\n            221: [']', '}'],\n            222: [\"'\", '\"'],\n            224: 'Meta',\n            225: 'AltGraph',\n            246: 'Attn',\n            247: 'CrSel',\n            248: 'ExSel',\n            249: 'EraseEof',\n            250: 'Play',\n            251: 'ZoomOut'\n        };\n        var i;\n        // Function keys (F1-24).\n        for (i = 1; i < 25; i++) {\n            keycodes[111 + i] = 'F' + i;\n        }\n        // Printable ASCII characters.\n        var letter = '';\n        for (i = 65; i < 91; i++) {\n            letter = String.fromCharCode(i);\n            keycodes[i] = [letter.toLowerCase(), letter.toUpperCase()];\n        }\n        var reversed_keycodes = {};\n        Object.keys(keycodes).forEach(function(which) {\n            if (is_array(keycodes[which])) {\n                keycodes[which].forEach(function(key) {\n                    reversed_keycodes[key.toUpperCase()] = which;\n                });\n            } else {\n                reversed_keycodes[keycodes[which].toUpperCase()] = which;\n            }\n        });\n        // -----------------------------------------------------------------\n        var keymap;\n        var default_keymap = {\n            'ALT+D': delete_forward({clipboard: true}),\n            'HOLD+ALT+D': delete_forward({clipboard: true, hold: true}),\n            'HOLD+DELETE': delete_forward({clipboard: false, hold: true}),\n            'HOLD+SHIFT+DELETE': delete_forward({clipboard: false, hold: true}),\n            'ENTER': function() {\n                if (history && command && !settings.mask &&\n                    ((is_function(settings.historyFilter) &&\n                      settings.historyFilter(command)) ||\n                     (settings.historyFilter instanceof RegExp &&\n                      command.match(settings.historyFilter)) ||\n                     !settings.historyFilter)) {\n                    history.append(command);\n                }\n                var tmp = command;\n                // fix scroll the page where there is no scrollbar\n                clip.$node.blur();\n                history.reset();\n\n                // for next input event on firefox/android with google keyboard\n                prev_command = '';\n                no_keydown = true;\n\n                var promise;\n                if (settings.commands) {\n                    promise = settings.commands.call(self, tmp);\n                }\n                if (is_function(prompt)) {\n                    if (promise && is_function(promise.then)) {\n                        promise.then(draw_prompt);\n                    } else {\n                        draw_prompt();\n                    }\n                }\n                self.set('');\n                clip.val('');\n                clip.$node.focus();\n                return false;\n            },\n            'SHIFT+ENTER': function() {\n                self.insert('\\n');\n                return true;\n            },\n            'BACKSPACE': backspace_key,\n            'SHIFT+BACKSPACE': backspace_key,\n            'TAB': function() {\n                self.insert('\\t');\n            },\n            'CTRL+D': function() {\n                self['delete'](1);\n                return false;\n            },\n            'DELETE': function() {\n                self['delete'](1);\n                return true;\n            },\n            'HOLD+ARROWUP': up_arrow,\n            'ARROWUP': up_arrow,\n            'CTRL+ARROWUP': prev_history,\n            'CTRL+P': prev_history,\n            'ARROWDOWN': down_arrow,\n            'HOLD+ARROWDOWN': down_arrow,\n            'CTRL+N': next_history,\n            'CTRL+ARROWDOWN': next_history,\n            'ARROWLEFT': left,\n            'HOLD+ARROWLEFT': debounce(left, 10),\n            'CTRL+B': left,\n            'CTRL+ARROWLEFT': function() {\n                // jump to one character after last space before prevoius word\n                var len = position - 1;\n                var pos = 0;\n                if (command[len] === ' ') {\n                    --len;\n                }\n                for (var i = len; i > 0; --i) {\n                    if (command[i] === ' ' && command[i + 1] !== ' ') {\n                        pos = i + 1;\n                        break;\n                    } else if (command[i] === '\\n' &&\n                               command[i + 1] !== '\\n') {\n                        pos = i;\n                        break;\n                    }\n                }\n                self.position(pos);\n            },\n            'CTRL+R': function() {\n                if (reverse_search) {\n                    reverse_history_search(true);\n                } else {\n                    backup_prompt = prompt;\n                    draw_reverse_prompt();\n                    last_command = command;\n                    self.set('');\n                    redraw();\n                    reverse_search = true;\n                }\n                return false;\n            },\n            'CTRL+G': function() {\n                if (reverse_search) {\n                    prompt = backup_prompt;\n                    draw_prompt();\n                    self.set(last_command);\n                    redraw();\n                    reverse_search = false;\n                    rev_search_str = '';\n                    return false;\n                }\n            },\n            'ARROWRIGHT': right,\n            'HOLD+ARROWRIGHT': debounce(right, 10),\n            'CTRL+F': right,\n            'CTRL+ARROWRIGHT': function() {\n                // jump to beginning or end of the word\n                if (command[position] === ' ') {\n                    ++position;\n                }\n                var re = /\\S[\\n\\s]{2,}|[\\n\\s]+\\S?/;\n                var match = command.slice(position).match(re);\n                if (!match || match[0].match(/^\\s+$/)) {\n                    self.position(bare_text(command).length);\n                } else if (match[0][0] !== ' ') {\n                    position += match.index + 1;\n                } else {\n                    position += match.index + match[0].length - 1;\n                    if (match[0][match[0].length - 1] !== ' ') {\n                        --position;\n                    }\n                }\n                redraw();\n            },\n            'F12': return_true, // Allow Firebug\n            'END': end(true),\n            'CTRL+END': end(),\n            'CTRL+E': end(),\n            'HOME': home(true),\n            'CTRL+HOME': home(),\n            'CTRL+A': home(),\n            'SHIFT+INSERT': paste_event,\n            'CTRL+SHIFT+T': return_true, // open closed tab\n            'CTRL+W': delete_backward({clipboard: true, hold: false}),\n            'HOLD+BACKSPACE': delete_backward({clipboard: false, hold: true}),\n            'HOLD+SHIFT+BACKSPACE': delete_backward({clipboard: false, hold: true}),\n            'CTRL+H': function() {\n                if (command !== '' && position > 0) {\n                    self['delete'](-1);\n                }\n                return false;\n            },\n            'CTRL+X': return_true,\n            'CTRL+C': function() {\n                return get_selected_html() === '';\n            },\n            'CTRL+T': return_true,\n            'CTRL+Y': function() {\n                if (kill_text !== '') {\n                    self.insert(kill_text);\n                }\n            },\n            'CTRL+V': paste_event,\n            'META+V': paste_event,\n            'CTRL+K': function() {\n                var len = text(command).length;\n                if (len > position) {\n                    kill_text = self['delete'](len - position);\n                    text_to_clipboard(clip.$node, kill_text);\n                }\n                return false;\n            },\n            'CTRL+U': function() {\n                if (command !== '' && position !== 0) {\n                    kill_text = self['delete'](-position);\n                    text_to_clipboard(clip.$node, kill_text);\n                }\n                return false;\n            },\n            'CTRL+TAB': function() {\n                return false;\n            },\n            'META+`': return_true, // CMD+` switch browser window on Mac\n            'META+R': return_true, // CMD+R page reload in Chrome Mac\n            'META+L': return_true // CLD+L jump into Ominbox on Chrome Mac\n        };\n        // -------------------------------------------------------------------------------\n        function delete_forward(options) {\n            options = options || {};\n            if (options.hold && !settings.mobileDelete) {\n                return function delete_character_forward() {\n                    self['delete'](1);\n                    return false;\n                };\n            }\n            return function delete_word_forward() {\n                var re = / *[^ ]+ *(?= )|[^ ]+$/;\n                var substring = command.slice(position);\n                var m = substring.match(re);\n                if (m) {\n                    kill_text = m[0];\n                    if (options.clipboard) {\n                        text_to_clipboard(clip.$node, kill_text);\n                    }\n                }\n                self.set(\n                    command.slice(0, position) +\n                        command.slice(position).replace(re, ''),\n                    true\n                );\n                // chrome jump to address bar\n                return false;\n            };\n        }\n        // -------------------------------------------------------------------------------\n        function delete_backward(options) {\n            options = options || {};\n            if (options.hold && !settings.mobileDelete) {\n                return function delete_character_backward() {\n                    self['delete'](-1);\n                };\n            }\n            return function delete_word_backward() {\n                // don't work in Chromium (can't prevent close tab)\n                if (command !== '' && position !== 0) {\n                    var m = command.slice(0, position).match(/([^ ]* *$)/);\n                    if (m[0].length) {\n                        kill_text = self['delete'](-m[0].length);\n                        if (options.clipboard) {\n                            text_to_clipboard(clip.$node, kill_text);\n                        }\n                    }\n                }\n                return false;\n            };\n        }\n        // -------------------------------------------------------------------------------\n        function return_true() {\n            return true;\n        }\n        // -------------------------------------------------------------------------------\n        function paste_event() {\n            clip.val('');\n            paste_count = 0;\n            if (self.isenabled() && !clip.$node.is(':focus')) {\n                clip.$node.trigger('focus', [true]);\n            }\n            clip.$node.one('input', paste);\n            return true;\n        }\n        // ---------------------------------------------------------------------\n        // :: Paste content to terminal using hidden textarea\n        // ---------------------------------------------------------------------\n        function paste() {\n            if (paste_count++ > 0) {\n                return;\n            }\n            function set() {\n                clip.val(command);\n                fix_textarea();\n            }\n            function insert(text) {\n                self.insert(text);\n                set();\n            }\n            if (self.isenabled()) {\n                //wait until Browser insert text to textarea\n                self.oneTime(100, function() {\n                    var value = clip.val().replace(/\\r/g, '');\n                    if (is_function(settings.onPaste)) {\n                        var ret = settings.onPaste.call(self, {\n                            target: self,\n                            text: value\n                        });\n                        if (ret !== undefined) {\n                            if (ret && is_function(ret.then || ret.done)) {\n                                (ret.then || ret.done).call(ret, insert);\n                            } else if (typeof ret === 'string') {\n                                insert(ret);\n                            } else if (ret === false) {\n                                set();\n                            }\n                            return;\n                        }\n                    }\n                    insert(value);\n                });\n            }\n        }\n        // -------------------------------------------------------------------------------\n        function prev_history() {\n            if (first_up_history) {\n                last_command = command;\n                self.set(history.current());\n            } else {\n                self.set(history.previous());\n            }\n            first_up_history = false;\n            return false;\n        }\n        // -------------------------------------------------------------------------------\n        function next_history() {\n            if (history.end()) {\n                first_up_history = true;\n                self.set(last_command);\n            } else {\n                self.set(history.next());\n            }\n            return false;\n        }\n        // -------------------------------------------------------------------------------\n        function have_newlines(string) {\n            return string.match(/\\n/);\n        }\n        // -------------------------------------------------------------------------------\n        function have_wrapping(string, prompt_len) {\n            var lengths = string.split('\\n').map(function(line) {\n                return $.terminal.length(line);\n            });\n            if (prompt_len) {\n                lengths[0] += prompt_len;\n            }\n            var wrap = lengths.filter(function(len) {\n                return len >= num_chars;\n            });\n            return !!wrap.length;\n        }\n        // -------------------------------------------------------------------------------\n        function simple_split_command_line(formatted) {\n            var prompt = last_rendered_prompt;\n            var lines = $.terminal.split_equal(prompt + formatted, num_chars);\n            var re = new RegExp('^' + $.terminal.escape_regex(prompt));\n            lines = lines.map($.terminal.unescape_brackets);\n            lines[0] = lines[0].replace(re, '');\n            return lines;\n        }\n        // -------------------------------------------------------------------------------\n        function up_arrow() {\n            var formatted = formatting(command);\n            formatted = $.terminal.strip(formatted);\n            var before = $.terminal.substring(formatted, 0, position);\n            var col = self.column();\n            var cursor_line = self.find('.cmd-cursor-line');\n            var line = cursor_line.prevUntil('span').length;\n            // case when line is wrapped and we are below prompt\n            if (line === 1 && col <= prompt_len) {\n                self.position(0);\n                return false;\n            }\n            if (line === 0) {\n                return prev_history();\n            }\n            if (have_newlines(before) || have_wrapping(before, prompt_len)) {\n                var prev = cursor_line.prev();\n                var splitted = prev.is('.cmd-end-line');\n                var lines = simple_split_command_line(formatted);\n                prev = lines[line - 1];\n                var left_over = lines[line].substring(col).length;\n                var diff;\n                if (left_over > 0) {\n                    diff = col;\n                    if (line - 1 === 0) {\n                        diff -= prompt_len;\n                    }\n                    diff = col + prev.substring(diff).length;\n                    if (splitted) {\n                        ++diff;\n                    }\n                } else {\n                    diff = col + 1;\n                }\n                self.position(-diff, true);\n                return false;\n            } else {\n                return prev_history();\n            }\n        }\n        // -------------------------------------------------------------------------------\n        function down_arrow() {\n            // use format and strip so we get visual strings (formatting can change text)\n            var formatted = formatting(command);\n            formatted = $.terminal.strip(formatted);\n            var after = $.terminal.substring(formatted, position);\n            if (have_newlines(after) || have_wrapping(after)) {\n                var lines = simple_split_command_line(formatted);\n                var col = self.column();\n                var cursor_line = self.find('.cmd-cursor-line');\n                var $line = cursor_line.prevUntil('span');\n                var line = $line.length;\n                var ending = cursor_line.is('.cmd-end-line');\n                var next_broken = cursor_line.next().is('.cmd-end-line');\n                var next = lines[line + 1];\n                if (!next) {\n                    return next_history();\n                }\n                var left_over = lines[line].substring(col).length;\n                var diff;\n                // move to next line if at the end move to end of next line\n                if (left_over === 0) {\n                    diff = next.length;\n                    if (next_broken) {\n                        diff++;\n                    }\n                } else {\n                    diff = Math.min(col, next.length) + left_over;\n                    if (line === 0) {\n                        diff += prompt_len;\n                    }\n                    if (ending) {\n                        // correction for splitted line that don't have extra space\n                        diff += 1;\n                    }\n                }\n                self.position(diff, true);\n                return false;\n            } else {\n                return next_history();\n            }\n        }\n        // -------------------------------------------------------------------------------\n        function backspace_key() {\n            if (reverse_search) {\n                rev_search_str = rev_search_str.slice(0, -1);\n                draw_reverse_prompt();\n            } else if (command !== '' && position > 0) {\n                self['delete'](-1);\n            }\n            // for next input after naitve backspace\n            // we need timeout because we don't want it to trigger\n            // for current input but next one\n            self.oneTime(1, function() {\n                no_keydown = true;\n            });\n        }\n        // -------------------------------------------------------------------------------\n        function left() {\n            if (position > 0) {\n                self.position(-1, true);\n            }\n        }\n        // -------------------------------------------------------------------------------\n        function right() {\n            if (position < bare_text(command).length) {\n                self.position(1, true);\n            }\n            return false;\n        }\n        // -------------------------------------------------------------------------------\n        function home(line) {\n            function home() {\n                self.position(0);\n            }\n            if (line) {\n                return function() {\n                    if (command.match(/\\n/)) {\n                        var string = command.substring(0, self.position());\n                        self.position(string.lastIndexOf('\\n') + 1);\n                    } else {\n                        home();\n                    }\n                };\n            } else {\n                return home;\n            }\n        }\n        // -------------------------------------------------------------------------------\n        function end(line) {\n            function end() {\n                self.position(text(command).length);\n            }\n            if (line) {\n                return function() {\n                    if (command.match(/\\n/)) {\n                        var lines = command.split('\\n');\n                        var pos = self.position();\n                        var sum = 0;\n                        for (var i = 0; i < lines.length; ++i) {\n                            sum += lines[i].length;\n                            if (sum > pos) {\n                                self.position(sum + i);\n                                return;\n                            }\n                        }\n                    }\n                    end();\n                };\n            } else {\n                return end;\n            }\n        }\n        // -------------------------------------------------------------------------------\n        function mobile_focus() {\n            //if (is_touch) {\n            var $clip = clip.$node;\n            var focus = $clip.is(':focus');\n            if (enabled) {\n                if (!focus) {\n                    //clip.trigger('focus', [true]);\n                }\n                self.oneTime(10, function() {\n                    if (!$clip.is(':focus') && enabled) {\n                        $clip.trigger('focus', [true]);\n                    }\n                });\n            } else if (focus && !enabled) {\n                $clip.trigger('blur', [true]);\n            }\n        }\n        // -------------------------------------------------------------------------------\n        // fix for .cursor span animation that should only be applied when\n        // animation is equal to terminal-blink\n        // -------------------------------------------------------------------------------\n        function fix_cursor() {\n            if (animation_supported) {\n                var style = window.getComputedStyle(cursor[0]);\n                var animationName = style.getPropertyValue('--animation');\n                animationName = animationName.replace(/^\\s*|\\s*$/g, '');\n                var _class = self.attr('class');\n                if (_class.match(/-animation/)) {\n                    _class = _class.replace(/[a-z]+-animation/g, '');\n                }\n                if (animationName && !animationName.match(/blink/)) {\n                    var className = animationName.replace(/terminal-/, '') + '-animation';\n                    if (!_class.match(className)) {\n                        _class += ' ' + className;\n                    }\n                }\n                _class = _class.replace(/\\s+/g, ' ');\n                if (_class !== self.attr('class').replace(/\\s+/g, ' ')) {\n                    self.attr('class', _class);\n                }\n            }\n        }\n        // -------------------------------------------------------------------------------\n        // on mobile you can't delete character if input is empty (event\n        // will not fire) so we fake text entry, we could just put dummy\n        // data but we put real command and position\n        // -------------------------------------------------------------------------------\n        function fix_textarea(position_only) {\n            if (!self.isenabled()) {\n                return;\n            }\n            // delay worked while experimenting\n            self.oneTime(10, function() {\n                // we use space before command to show select all context menu\n                // idea taken from CodeMirror\n                if (!is_mobile && clip.val() !== command && !position_only) {\n                    clip.val(' ' + command);\n                }\n                if (enabled) {\n                    self.oneTime(10, function() {\n                        try {\n                            var pos = !is_mobile ? position + 1 : position;\n                            // we check first to improve performance\n                            if (clip.$node.caret() !== pos) {\n                                clip.$node.caret(pos);\n                            }\n                        } catch (e) {\n                            // firefox throw NS_ERROR_FAILURE ignore\n                        }\n                    });\n                }\n            });\n        }\n        // -------------------------------------------------------------------------------\n        // terminal animation don't work on android because they animate\n        // 2 properties\n        // -------------------------------------------------------------------------------\n        if (animation_supported && !is_android) {\n            animation = function(toggle) {\n                if (toggle) {\n                    cursor.addClass('cmd-blink');\n                } else {\n                    cursor.removeClass('cmd-blink');\n                }\n            };\n            restart_animation = function() {\n                var new_cursor = cursor.clone();\n                new_cursor.insertBefore(cursor);\n                cursor.remove();\n                cursor = new_cursor;\n            };\n        } else {\n            var animating = false;\n            animation = function(toggle) {\n                if (toggle && !animating) {\n                    animating = true;\n                    cursor.addClass('cmd-inverted cmd-blink');\n                    self.everyTime(500, 'blink', blink);\n                } else if (animating && !toggle) {\n                    animating = false;\n                    self.stopTime('blink', blink);\n                    cursor.removeClass('cmd-inverted cmd-blink');\n                }\n            };\n            restart_animation = function() {\n                animation(false);\n                animation(true);\n            };\n        }\n        // ---------------------------------------------------------------------\n        // :: Blinking cursor function\n        // ---------------------------------------------------------------------\n        function blink() {\n            cursor.toggleClass('cmd-inverted');\n        }\n        // ---------------------------------------------------------------------\n        // :: Set prompt for reverse search\n        // ---------------------------------------------------------------------\n        function draw_reverse_prompt() {\n            prompt = '(reverse-i-search)`' + rev_search_str + \"': \";\n            draw_prompt();\n        }\n        // ---------------------------------------------------------------------\n        // :: Disable reverse search\n        // ---------------------------------------------------------------------\n        function clear_reverse_state() {\n            prompt = backup_prompt;\n            reverse_search = false;\n            reverse_search_position = null;\n            rev_search_str = '';\n        }\n        // ---------------------------------------------------------------------\n        // :: Search through command line history. If next is not defined or\n        // :: false it searches for the first item from the end. If true it\n        // :: search for the next item\n        // ---------------------------------------------------------------------\n        function reverse_history_search(next) {\n            var history_data = history.data();\n            var regex, save_string;\n            var len = history_data.length;\n            if (next && reverse_search_position > 0) {\n                len -= reverse_search_position;\n            }\n            if (rev_search_str.length > 0) {\n                for (var j = rev_search_str.length; j > 0; j--) {\n                    save_string = $.terminal.escape_regex(rev_search_str.slice(0, j));\n                    if (settings.caseSensitiveSearch) {\n                        regex = new RegExp(save_string);\n                    } else {\n                        regex = new RegExp(save_string, 'i');\n                    }\n                    for (var i = len; i--;) {\n                        if (regex.test(history_data[i])) {\n                            reverse_search_position = history_data.length - i;\n                            self.position(history_data[i].indexOf(save_string));\n                            self.set(history_data[i], true);\n                            redraw();\n                            if (rev_search_str.length !== j) {\n                                rev_search_str = rev_search_str.slice(0, j);\n                                draw_reverse_prompt();\n                            }\n                            return;\n                        }\n                    }\n                }\n            }\n            rev_search_str = ''; // clear if not found any\n        }\n        // ---------------------------------------------------------------------\n        // :: calculate width of hte character\n        // ---------------------------------------------------------------------\n        function get_char_width() {\n            var $prompt = self.find('.cmd-prompt');\n            var html = $prompt.html();\n            $prompt.html('<span>&nbsp;</span>');\n            var width = $prompt.find('span')[0].getBoundingClientRect().width;\n            $prompt.html(html);\n            return width;\n        }\n        // ---------------------------------------------------------------------\n        // :: return number of characters in command line\n        // ---------------------------------------------------------------------\n        function get_num_chars(char_width) {\n            var width = self.width();\n            return Math.floor(width / char_width);\n        }\n        // ---------------------------------------------------------------------\n        // :: Split String that fit into command line where first line need to\n        // :: fit next to prompt (need to have less characters)\n        // ---------------------------------------------------------------------\n        function process_cmd_line(string) {\n            function split(string) {\n                return $.terminal.split_equal(string, num_chars);\n            }\n            // -----------------------------------------------------------------\n            function skip_empty(array) {\n                // we remove lines that are leftovers after adding space at the end\n                var result = [];\n                array.forEach(function(line, i) {\n                    if ($.terminal.strip(line).match(empty_marker_re)) {\n                        result[i] = false;\n                        // lines that will get removed need line ending on previos\n                        // line so code that check that marker works correctly\n                        if (i > 0) {\n                            result[i - 1] += line_marker;\n                        }\n                    } else {\n                        result[i] = array[i];\n                    }\n                });\n                return result.filter(function(line) {\n                    return line !== false;\n                });\n            }\n            // -----------------------------------------------------------------\n            var line = prompt_node.find('.cmd-line');\n            var prompt;\n            if (line.length) {\n                prompt = line.nextUntil('.cmd-line').text();\n            } else {\n                prompt = prompt_node.text();\n            }\n            prompt = $.terminal.escape_brackets(prompt);\n            var re = new RegExp('^' + $.terminal.escape_regex(prompt));\n            var array;\n            if (string.match(/\\n/)) {\n                var tmp = string.split('\\n');\n                var first_len = num_chars - prompt_len - 1;\n                for (var i = 0; i < tmp.length - 1; ++i) {\n                    tmp[i] += line_marker;\n                }\n                // split first line\n                if (strlen(tmp[0]) > first_len) {\n                    array = split(prompt + tmp[0]);\n                    array[0] = array[0].replace(re, '');\n                    array = skip_empty(array);\n                } else {\n                    array = [tmp[0]];\n                }\n                // process rest of the lines\n                for (i = 1; i < tmp.length; ++i) {\n                    if (strlen(tmp[i]) > num_chars) {\n                        var splitted = split(tmp[i]);\n                        if (i < tmp.length - 1) {\n                            splitted = skip_empty(splitted);\n                        }\n                        array = array.concat(splitted);\n                    } else {\n                        array.push(tmp[i]);\n                    }\n                }\n            } else {\n                array = split(prompt + string, num_chars);\n                array[0] = array[0].replace(re, '');\n            }\n            // fix issue with cursor that was cut off #379\n            if (array.length > 1) {\n                var len = $.terminal.length(array[array.length - 1]);\n                if (len === num_chars) {\n                    array.push('');\n                }\n            }\n            return array;\n        }\n        // ---------------------------------------------------------------------\n        var cmd_line_worker = new WorkerCache({\n            validation: function(key) {\n                var result = false;\n                if ((!this._previous_value || this._previous_value === key) &&\n                    (!this._cols || this._cols === num_chars)) {\n                    result = true;\n                }\n                this._previous_value = key;\n                this._cols = num_chars;\n                return result;\n            },\n            action: process_cmd_line\n        });\n        // ---------------------------------------------------------------------\n        function split_command_line(string) {\n            return cmd_line_worker.get(string);\n        }\n        // ---------------------------------------------------------------------\n        // :: use custom formatting\n        // ---------------------------------------------------------------------\n        function formatting(string, skip_formatted_position) {\n            // we don't want to format command when user type formatting in\n            try {\n                string = $.terminal.escape_formatting(string);\n                var format_options = $.extend({}, settings, {\n                    unixFormattingEscapeBrackets: true,\n                    position: position,\n                    command: true\n                });\n                var formatted = $.terminal.apply_formatters(string, format_options);\n                var output = $.terminal.normalize(formatted[0]);\n                var max = $.terminal.length(output);\n                if (!skip_formatted_position) {\n                    formatted_position = formatted[1];\n                    // fix issue with nested formatting where max length\n                    // is checked before nested_formatting flatten formatting\n                    if (formatted_position > max) {\n                        formatted_position = max;\n                    }\n                }\n                return output;\n            } catch (e) {\n                alert_exception('[Formatting]', e.stack);\n                return string;\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: format and encode the string\n        // ---------------------------------------------------------------------\n        function format(string, before) {\n            //string = $.terminal.normalize(string);\n            var encoded = $.terminal.encode(wrap(string), {\n                tabs: settings.tabs,\n                before: before\n            });\n            return $.terminal.format(encoded, {\n                charWidth: settings.charWidth,\n                allowedAttributes: settings.allowedAttributes || []\n            });\n        }\n        // ---------------------------------------------------------------------\n        // :: function create new string with all characters in it's own\n        // :: formatting - it will only have style if the input is formatting\n        // :: this function is not very usefull so it's not in $.terminal\n        // ---------------------------------------------------------------------\n        function wrap(string) {\n            return $.terminal.partition(string).join('');\n        }\n        // ---------------------------------------------------------------------\n        // :: shortcut helpers\n        // ---------------------------------------------------------------------\n        function length(str, raw) {\n            return $.terminal.length(str, raw);\n        }\n        // ---------------------------------------------------------------------\n        function is_multiline(str) {\n            return strlen(text(str)) > num_chars - prompt_len - 1 ||\n                str.match(/\\n/);\n        }\n        // ---------------------------------------------------------------------\n        function substring(str, start, end) {\n            return $.terminal.substring(str, start, end);\n        }\n        // ---------------------------------------------------------------------\n        // :: helper function that check if string is valid emoji formatting\n        // ---------------------------------------------------------------------\n        function is_emoji_formatting(str) {\n            if ($.terminal.is_formatting(str)) {\n                return str.replace(format_parts_re, '$4').match(/^emoji /);\n            }\n            return false;\n        }\n        // ---------------------------------------------------------------------\n        // :: Function that displays the command line. Split long lines and\n        // :: place cursor in the right place\n        // ---------------------------------------------------------------------\n        var redraw = (function() {\n            var before = cursor.prev();\n            var after = cursor.next();\n            var cursor_line = cursor.parent();\n            // -----------------------------------------------------------------\n            // :: Draw line with the cursor\n            // -----------------------------------------------------------------\n            function draw_cursor_line(string, options) {\n                var end_line = string.match(line_marker_re);\n                if (end_line) {\n                    string = string.replace(line_marker_re, ' ');\n                }\n                cursor_line.toggleClass('cmd-end-line', !!end_line);\n                var cursor_end_line = false;\n                var settings = $.extend({\n                    prompt: '',\n                    last: false\n                }, options);\n                var position = settings.position;\n                var len = length(string);\n                var prompt = settings.prompt;\n                var c;\n                if (position === len) {\n                    before.html(format(string));\n                    c = '&nbsp;';\n                    empty_cursor();\n                    after.html('');\n                } else if (position === 0) {\n                    before.html('');\n                    c = substring(string, 0, 1);\n                    cursor.html(format(c));\n                    after.html(format(substring(string, 1), prompt + c));\n                } else {\n                    var before_str = $.terminal.substring(string, 0, position);\n                    before.html(format(before_str, prompt));\n                    c = substring(string, position, position + 1);\n                    var c_before = (prompt + before_str).replace(/^.*\\t/, '');\n                    cursor.html(format(c, c_before));\n                    if (position === len - 1) {\n                        cursor_end_line = true;\n                        after.html('');\n                    } else {\n                        if (c.match(/\\t/)) {\n                            c_before = '';\n                        } else {\n                            c_before += c;\n                        }\n                        after.html(format(substring(string, position + 1), c_before));\n                    }\n                }\n                if (ch_unit_bug) {\n                    if (typeof wcwidth !== 'undefined') {\n                        // handle emoji and wide characters in IE or\n                        // other possible browsers that don't have valid ch unit\n                        var size = strlen(text(c));\n                        if (size === 1 && is_emoji_formatting(c)) {\n                            size = 2;\n                        }\n                        cursor.width(char_width * size);\n                    } else {\n                        cursor.width(char_width);\n                    }\n                }\n                cursor.toggleClass('cmd-end-line', cursor_end_line);\n                // fix for animation when changing --animation dynamically\n                fix_cursor();\n                var cursor_len = $.terminal.length(cursor.text());\n                if (cursor_len > 1) {\n                    var node = cursor.find('[data-text]')[0];\n                    node.style.setProperty('--length', cursor_len);\n                }\n                // synchronize css animations (it's not that important because if user\n                // will change animation she should disable animation on span, but it\n                // looks nicer until she disable that inner animation)\n                restart_animation();\n            }\n            // -----------------------------------------------------------------\n            function div(string, before) {\n                var end_line = string.match(line_marker_re);\n                var result = '<div role=\"presentation\" aria-hidden=\"true\"';\n                if (end_line) {\n                    string = string.replace(line_marker_re, ' ');\n                    result += ' class=\"cmd-end-line\"';\n                }\n                result += '>' + format(string, before || '') + '</div>';\n                return result;\n            }\n            // -----------------------------------------------------------------\n            function empty_cursor() {\n                // data-text is for consistency in CSS and end class is for unit tests\n                cursor.html('<span data-text class=\"end\"><span>&nbsp;<span></span>');\n            }\n            // -----------------------------------------------------------------\n            // :: Display lines after the cursor\n            // -----------------------------------------------------------------\n            function lines_after(lines) {\n                var last_ins = cursor_line;\n                $.each(lines, function(i, line) {\n                    last_ins = $(div(line)).insertAfter(last_ins);\n                });\n            }\n            // -----------------------------------------------------------------\n            // :: Display lines before the cursor\n            // -----------------------------------------------------------------\n            function lines_before(lines) {\n                $.each(lines, function(i, line) {\n                    cursor_line.before(div(line, i === 0 ? prompt_last_line : ''));\n                });\n            }\n            // -----------------------------------------------------------------\n            // :: Redraw function\n            // -----------------------------------------------------------------\n            return function() {\n                var string;\n                switch (typeof settings.mask) {\n                    case 'boolean':\n                        string = settings.mask ? command.replace(/./g, '*') : command;\n                        break;\n                    case 'string':\n                        string = command.replace(/./g, settings.mask);\n                        break;\n                }\n                var formatted = formatting(string);\n                var pos;\n                if (length(formatted) === text(string).length) {\n                    pos = position;\n                } else {\n                    pos = formatted_position;\n                }\n                var i;\n                wrapper.css({\n                    display: 'none'\n                });\n                wrapper.find('div:not(.cmd-cursor-line)').remove();\n                before.html('');\n                if (is_multiline(formatted)) {\n                    var tabs = formatted.match(/\\t/g);\n                    var original_string = formatted;\n                    //quick tabulation hack\n                    if (tabs) {\n                        formatted = formatted.replace(/\\t/g, '\\x00\\x00\\x00\\x00');\n                    }\n                    var array = split_command_line(formatted);\n                    if (tabs) {\n                        array = $.map(array, function(line) {\n                            return line.replace(/\\x00\\x00\\x00\\x00/g, '\\t');\n                        });\n                    }\n                    var first_len = length(array[0]);\n                    //cursor in first line\n                    if (first_len === 0 && array.length === 1) {\n                        // skip empty line\n                    } else if (pos < first_len) {\n                        draw_cursor_line(array[0], {\n                            length: array.length,\n                            position: pos,\n                            prompt: prompt_last_line\n                        });\n                        lines_after(array.slice(1));\n                    } else if (pos === first_len) {\n                        // first char acter of second line\n                        cursor_line.before(div(array[0], prompt_last_line));\n                        draw_cursor_line(array[1] || '', {\n                            length: array.length,\n                            position: 0,\n                            last: array.length <= 2\n                        });\n                        if (array.length > 2) {\n                            lines_after(array.slice(2));\n                        }\n                    } else {\n                        var last = array.slice(-1)[0];\n                        var len = length(original_string);\n                        var from_last = len - pos;\n                        var last_len = length(last);\n                        var new_pos = 0;\n                        if (from_last === -1) {\n                            from_last = 0;\n                        }\n                        if (from_last <= last_len) { // in last line\n                            lines_before(array.slice(0, -1));\n                            if (last_len === from_last) {\n                                new_pos = 0;\n                            } else {\n                                new_pos = last_len - from_last;\n                            }\n                            draw_cursor_line(last, {\n                                length: array.length,\n                                position: new_pos,\n                                last: true\n                            });\n                        } else {\n                            // more lines, cursor in the middle\n                            var line_index;\n                            var current;\n                            new_pos = pos;\n                            for (i = 0; i < array.length; ++i) {\n                                var current_len = $.terminal.length(array[i]);\n                                if (new_pos > current_len) {\n                                    new_pos -= current_len;\n                                } else {\n                                    break;\n                                }\n                            }\n                            current = array[i];\n                            line_index = i;\n                            // cursor on first character in line\n                            if (new_pos === length(current)) {\n                                new_pos = 0;\n                                current = array[++line_index];\n                                if (current === undefined) {\n                                    //should never happen\n                                    var msg = $.terminal.defaults.strings.redrawError;\n                                    throw new Error(msg);\n                                }\n                            }\n                            draw_cursor_line(current, {\n                                length: array.length,\n                                position: new_pos\n                            });\n                            lines_before(array.slice(0, line_index));\n                            lines_after(array.slice(line_index + 1));\n                        }\n                    }\n                    self.find('.cmd-cursor-line ~ div:last-of-type')\n                        .append('<span></span>');\n                } else if (formatted === '') {\n                    before.html('');\n                    empty_cursor();\n                    after.html('');\n                } else {\n                    draw_cursor_line(formatted, {\n                        length: 1,\n                        position: pos\n                    });\n                }\n                var in_line = cursor_line.prevUntil('.cmd-prompt').length;\n                if (is_css_variables_supported) {\n                    self[0].style.setProperty('--cursor-line', in_line);\n                } else {\n                    clip.$node.css('top', in_line * 14 + 'px');\n                }\n                wrapper.css({\n                    display: ''\n                });\n            };\n        })();\n        // ---------------------------------------------------------------------\n        // :: find position that match display position for commands that\n        // :: change length by formatters\n        // ---------------------------------------------------------------------\n        var find_position = (function() {\n            function make_guess(string, position) {\n                var opts = $.extend({}, settings, {\n                    position: position,\n                    command: true\n                });\n                return $.terminal.apply_formatters(string, opts)[1];\n            }\n            function cmp(search_pos, pos, string) {\n                var guess = make_guess(string, pos);\n                if (guess === search_pos) {\n                    var next_guess = make_guess(string, pos + 1);\n                    if (next_guess > search_pos) {\n                        return 0;\n                    }\n                    return 1;\n                } else if (guess < search_pos) {\n                    return 1;\n                } else {\n                    return -1;\n                }\n            }\n            return function(string, formatted_position) {\n                if (formatted_position === 0) {\n                    return 0;\n                }\n                string = bare_text(string);\n                var codepoint_len = string.length;\n                var str = $.terminal.escape_brackets(command);\n                var pos = binary_search(0, codepoint_len, formatted_position, cmp, [str]);\n                var chars = $.terminal.split_characters(string);\n                if (codepoint_len > chars.length) {\n                    var len = 0;\n                    for (var i = 0; i < chars.length; ++i) {\n                        len += chars[i].length;\n                        if (len >= pos) {\n                            return len;\n                        }\n                    }\n                }\n                return pos;\n            };\n        })();\n        // ---------------------------------------------------------------------\n        // :: Draw prompt that can be a function or a string\n        // ---------------------------------------------------------------------\n        var prev_prompt_data;\n        var draw_prompt = (function() {\n            function format_prompt(prompt) {\n                if (!prompt) {\n                    just_prompt_len = 0;\n                    prompt_len = just_prompt_len + extra_prompt_margin;\n                    return prompt;\n                }\n                var lines = $.terminal.split_equal(prompt, num_chars).map(function(line) {\n                    if (!$.terminal.have_formatting(line)) {\n                        return '[[;;]' + $.terminal.escape_brackets(line) + ']';\n                    }\n                    return $.terminal.format_split(line).map(function(str) {\n                        if ($.terminal.is_formatting(str)) {\n                            return str;\n                        }\n                        return '[[;;]' + $.terminal.escape_brackets(str) + ']';\n                    }).join('');\n                });\n                var options = {\n                    charWidth: settings.charWidth\n                };\n                prompt_last_line = lines[lines.length - 1];\n                var encoded_last_line = $.terminal.encode(lines[lines.length - 1], {\n                    tabs: settings.tabs\n                });\n                var last_line = $.terminal.format(encoded_last_line, options);\n                just_prompt_len = strlen(text(encoded_last_line));\n                prompt_len = just_prompt_len + extra_prompt_margin;\n                return lines.slice(0, -1).map(function(line) {\n                    line = $.terminal.encode(line, {\n                        tabs: settings.tabs\n                    });\n                    return '<span class=\"cmd-line\">' +\n                           $.terminal.format(line, options) +\n                           '</span>';\n                }).concat([last_line]).join('\\n');\n            }\n            function set(prompt) {\n                if (prompt) {\n                    prompt = $.terminal.apply_formatters(prompt, {prompt: true});\n                    prompt = $.terminal.normalize(prompt);\n                    prompt = crlf(prompt);\n                }\n                var formatted = format_prompt(prompt);\n                last_rendered_prompt = prompt;\n                // zero width space to make sure prompt margin takes up space,\n                // so that echo with newline: false works when prompt is empty\n                formatted = formatted || $.terminal.format('[[;;]\\u200b]');\n                // update prompt if changed\n                if (prompt_node.html() !== formatted) {\n                    prompt_node.html(formatted);\n                    // fix for Chrome bug width selection\n                    // https://bugs.chromium.org/p/chromium/issues/detail?id=1087787\n                    var spans = prompt_node.find('> span span');\n                    clip.$node.attr('data-cmd-prompt', prompt_node.text());\n                    if (is_ch_unit_supported) {\n                        prompt_node.hide();\n                        spans.each(function() {\n                            var self = $(this);\n                            var len = strlen(self.text());\n                            if (len === 0) {\n                                self.css('width', 1);\n                            } else {\n                                self.css('width', len + 'ch');\n                            }\n                        });\n                        prompt_node.show();\n                    }\n                }\n            }\n            return function() {\n                // the data is used as cancelable reference because we have ref\n                // data object that is hold in closure and we remove `set` function\n                // so previous call to function prompt will be ignored\n                if (prev_prompt_data && prev_prompt_data.set) {\n                    prev_prompt_data.set = $.noop;\n                    // remove reference for garbage collector\n                    prev_prompt_data = null;\n                }\n                var data = prev_prompt_data = {\n                    set: set\n                };\n                with_prompt(prompt, function(prompt) {\n                    data.set(prompt);\n                }, self);\n            };\n        })();\n        // ---------------------------------------------------------------------\n        function fire_change_command() {\n            if (is_function(settings.onCommandChange)) {\n                settings.onCommandChange.call(self, command);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Command Line Methods\n        // ---------------------------------------------------------------------\n        $.extend(self, {\n            option: function(name, value) {\n                if (typeof value === 'undefined') {\n                    return settings[name];\n                } else {\n                    settings[name] = value;\n                }\n                return self;\n            },\n            name: function(string) {\n                if (string !== undefined) {\n                    name = string;\n                    var enabled = history && history.enabled() || !history;\n                    history = new History(\n                        name,\n                        settings.historySize,\n                        settings.history === 'memory'\n                    );\n                    // disable new history if old was disabled\n                    if (!enabled) {\n                        history.disable();\n                    }\n                    return self;\n                } else {\n                    return name;\n                }\n            },\n            purge: function() {\n                history.clear();\n                return self;\n            },\n            history: function() {\n                return history;\n            },\n            'delete': function(n, stay) {\n                var removed, string;\n                if (n === 0) {\n                    return \"\";\n                } else if (n < 0) {\n                    if (position > 0) {\n                        // this may look weird but if n is negative we need\n                        // to use +\n                        removed = command.slice(0, position).slice(n);\n                        string = bare_text(command);\n                        string = string.slice(0, position + n) +\n                            string.slice(position, string.length);\n                        if (!stay) {\n                            self.position(position + n);\n                        }\n                    }\n                } else if (command !== '') {\n                    string = text(command);\n                    if (position < string.length) {\n                        removed = string.slice(position).slice(0, n);\n                        string = string.slice(0, position) +\n                            string.slice(position + n, string.length);\n                    }\n                }\n                if (removed) {\n                    command = string;\n                }\n                redraw();\n                fix_textarea();\n                fire_change_command();\n                return removed;\n            },\n            set: function(string, stay, silent) {\n                if (string !== undefined) {\n                    command = string;\n                    if (!stay) {\n                        self.position(bare_text(command).length);\n                    }\n                    redraw();\n                    fix_textarea();\n                    if (!silent) {\n                        fire_change_command();\n                    }\n                }\n                return self;\n            },\n            keymap: function(new_keymap, value) {\n                function wrap(key, fn) {\n                    var original = default_keymap[key];\n                    if (is_function(original)) {\n                        original = original.bind(self);\n                    }\n                    return function(e) {\n                        // new keymap function will get default as 2nd argument\n                        return fn.call(self, e, original);\n                    };\n                }\n                if (new_keymap === null) {\n                    keymap = default_keymap;\n                    return self;\n                } else if (typeof new_keymap === 'undefined') {\n                    return keymap;\n                } else if (typeof new_keymap === 'string') {\n                    if (typeof value === 'undefined') {\n                        if (keymap[new_keymap]) {\n                            return keymap[new_keymap];\n                        } else if (default_keymap[new_keymap]) {\n                            return default_keymap[new_keymap];\n                        }\n                    } else {\n                        keymap[new_keymap] = wrap(new_keymap, value);\n                    }\n                } else {\n                    keymap = $.extend(\n                        {},\n                        keymap ? keymap : default_keymap,\n                        $.omap(new_keymap || {}, wrap)\n                    );\n                    return self;\n                }\n            },\n            insert: function(string, stay) {\n                var bare_command = bare_text(command);\n                var len = bare_text(string).length;\n                if (position === bare_command.length) {\n                    string = bare_command + string;\n                } else if (position === 0) {\n                    string = string + bare_command;\n                } else {\n                    string = bare_command.slice(0, position) +\n                        string + bare_command.slice(position);\n                }\n                command = string;\n                if (!stay) {\n                    self.position(len, true, true);\n                }\n                fix_textarea();\n                redraw();\n                fire_change_command();\n                return self;\n            },\n            get: function() {\n                return command;\n            },\n            commands: function(commands) {\n                if (commands) {\n                    settings.commands = commands;\n                    return self;\n                } else {\n                    return commands;\n                }\n            },\n            destroy: function() {\n                doc.unbind('keypress.cmd', keypress_event);\n                doc.unbind('keydown.cmd', keydown_event);\n                doc.unbind('input.cmd', input_event);\n                self.stopTime('blink', blink);\n                self.find('.cmd-wrapper').remove();\n                self.find('.cmd-prompt, .cmd-clipboard, .cmd-editable').remove();\n                self.removeClass('cmd').removeData('cmd').off('.cmd');\n                return self;\n            },\n            column: function(include_prompt) {\n                var before = command.substring(0, position);\n                if (position === 0 || !command.length) {\n                    return 0;\n                }\n                var re = /\\n?([^\\n]*)$/;\n                var match = before.match(re);\n                var col = match[1].length;\n                if (!have_newlines(before) &&\n                    (include_prompt || have_wrapping(before, prompt_len))) {\n                    col += prompt_len;\n                }\n                if (col === 0) {\n                    return col;\n                }\n                col %= num_chars;\n                if (col === 0) {\n                    return num_chars;\n                }\n                return col;\n            },\n            line: function() {\n                var before = command.substring(0, position);\n                if (position === 0 || !command.length) {\n                    return 0;\n                }\n                return before.split(/\\n/).length - 1;\n            },\n            // inform cursor about size of partial output line\n            __set_prompt_margin: function(len) {\n                extra_prompt_margin = len;\n                prompt_len = just_prompt_len + extra_prompt_margin;\n            },\n            prompt: function(user_prompt) {\n                if (user_prompt === true) {\n                    return last_rendered_prompt;\n                } else if (user_prompt === undefined) {\n                    return prompt;\n                } else {\n                    var should_redraw = user_prompt !== prompt;\n                    if (typeof user_prompt === 'string' ||\n                        typeof user_prompt === 'function') {\n                        prompt = user_prompt;\n                    } else {\n                        throw new Error('prompt must be a function or string');\n                    }\n                    if (should_redraw) {\n                        draw_prompt();\n                        // we could check if command is longer then numchars-new\n                        // prompt\n                        redraw();\n                    }\n                    return self;\n                }\n            },\n            kill_text: function() {\n                return kill_text;\n            },\n            position: function(n, relative, silent) {\n                if (typeof n === 'number') {\n                    var pos = position;\n                    var len = bare_text(command).length;\n                    if (relative) {\n                        position += n;\n                    } else if (n < 0) {\n                        position = 0;\n                    } else if (n > len) {\n                        position = len;\n                    } else {\n                        position = n;\n                    }\n                    if (pos !== position) {\n                        redraw();\n                        if (!silent && is_function(settings.onPositionChange)) {\n                            settings.onPositionChange(position, formatted_position);\n                        }\n                        fix_textarea(true);\n                    }\n                    return self;\n                } else {\n                    return position;\n                }\n            },\n            refresh: function() {\n                draw_prompt();\n                redraw();\n                fix_textarea(true);\n                return self;\n            },\n            // if formatter change length of the strings (like emoji demo) we need to keep\n            // track of two different positions one for command and one for display\n            display_position: function(n, relative) {\n                if (n === undefined) {\n                    return formatted_position;\n                } else {\n                    // double escape\n                    var string = formatting($.terminal.escape_formatting(command), true);\n                    var len = length(string);\n                    var command_len = bare_text(command).length;\n                    var new_formatted_pos;\n                    if (relative) {\n                        new_formatted_pos = formatted_position + n;\n                    } else if (n > len) {\n                        new_formatted_pos = len;\n                    } else {\n                        new_formatted_pos = n;\n                    }\n                    if (len === command_len) {\n                        formatted_position = new_formatted_pos;\n                        return self.position(new_formatted_pos);\n                    }\n                    if (len === new_formatted_pos) {\n                        formatted_position = new_formatted_pos;\n                        return self.position(command_len);\n                    }\n                    var pos = find_position(command, new_formatted_pos);\n                    if (pos !== -1) {\n                        formatted_position = new_formatted_pos;\n                        self.position(pos);\n                    }\n                    return self;\n                }\n            },\n            visible: (function() {\n                var visible = self.visible;\n                return function() {\n                    visible.apply(self, []);\n                    redraw();\n                    draw_prompt();\n                    return self;\n                };\n            })(),\n            show: (function() {\n                var show = self.show;\n                return function() {\n                    show.apply(self, []);\n                    redraw();\n                    draw_prompt();\n                    return self;\n                };\n            })(),\n            resize: function(num) {\n                char_width = get_char_width();\n                var new_num_chars;\n                if (typeof num === 'number') {\n                    new_num_chars = num;\n                } else {\n                    new_num_chars = get_num_chars(char_width);\n                }\n                if (num_chars !== new_num_chars || arguments[0] === true) {\n                    num_chars = new_num_chars;\n                    redraw();\n                    draw_prompt();\n                }\n                return self;\n            },\n            invoke_key: function(shortcut) {\n                if (!enabled) {\n                    warn('invoke_key(\"' + shortcut + '\") called on disabled terminal');\n                }\n                var keys = shortcut.toUpperCase().split('+');\n                var key = keys.pop();\n                var ctrl = keys.indexOf('CTRL') !== -1;\n                var shift = keys.indexOf('SHIFT') !== -1;\n                var alt = keys.indexOf('ALT') !== -1;\n                var meta = keys.indexOf('META') !== -1;\n                var e = $.Event(\"keydown\", {\n                    ctrlKey: ctrl,\n                    shiftKey: shift,\n                    altKey: alt,\n                    metaKey: meta,\n                    which: reversed_keycodes[key],\n                    key: key\n                });\n                var doc = $(document.documentElement || window);\n                doc.trigger(e);\n                e = $.Event(\"keypress\");\n                e.key = key;\n                e.which = e.keyCode = 0;\n                doc.trigger(e);\n                return self;\n            },\n            clip: function() {\n                return clip;\n            },\n            enable: function(silent) {\n                if (!enabled) {\n                    enabled = true;\n                    self.addClass('enabled');\n                    try {\n                        if (!clip.$node.is(':focus')) {\n                            clip.$node.focus();\n                        }\n                        clip.$node.caret(position);\n                    } catch (e) {\n                        // firefox throw NS_ERROR_FAILURE - ignore\n                    }\n                    animation(true);\n                    if (!silent && is_function(prompt)) {\n                        draw_prompt();\n                    }\n                    fix_cursor();\n                    fix_textarea();\n                }\n                mobile_focus();\n                return self;\n            },\n            isenabled: function() {\n                return enabled;\n            },\n            disable: function(focus) {\n                enabled = false;\n                self.removeClass('enabled');\n                animation(false);\n                if (!focus) {\n                    mobile_focus();\n                }\n                return self;\n            },\n            mask: function(new_mask) {\n                if (typeof new_mask === 'undefined') {\n                    return settings.mask;\n                } else {\n                    settings.mask = new_mask;\n                    redraw();\n                    return self;\n                }\n            }\n        });\n        // ---------------------------------------------------------------------\n        // :: INIT\n        // ---------------------------------------------------------------------\n        self.name(settings.name || settings.prompt || '');\n        if (settings.prompt !== false) {\n            prompt = settings.prompt;\n            draw_prompt();\n        }\n        if (settings.enabled === true) {\n            self.enable();\n        }\n        char_width = get_char_width();\n        num_chars = get_num_chars(char_width);\n        if (!settings.history) {\n            history.disable();\n        }\n        var first_up_history = true;\n        // skip_keypress - hack for Android that was inserting characters on\n        // backspace\n        var skip_keypress = false;\n        var dead_key = false;\n        var single_key = false;\n        var no_keypress = false;\n        var no_key = false;\n        var no_keydown = true;\n        var backspace = false;\n        var process = false;\n        var hold = false;\n        var hold_pause = false;\n        var skip_insert;\n        // we hold text before keydown to fix backspace for Android/Chrome/SwiftKey\n        // keyboard that generate keycode 229 for all keys #296\n        var prev_command = '';\n        var prev_key;\n        // ---------------------------------------------------------------------\n        // :: Keydown Event Handler\n        // ---------------------------------------------------------------------\n        function is_backspace(e) {\n            return e.key.toUpperCase() === 'BACKSPACE' || e.which === 8;\n        }\n        // ---------------------------------------------------------------------\n        function is_single(e) {\n            return e.key && e.key.length === 1 && !e.ctrlKey;\n        }\n        // ---------------------------------------------------------------------\n        function is_delay_key(key) {\n            var specials = ['HOLD+SHIFT+BACKSPACE', 'HOLD+BACKSPACE'];\n            return specials.indexOf(key) !== -1 && settings.mobileDelete ||\n                settings.repeatTimeoutKeys.indexOf(key) !== -1;\n        }\n        // ---------------------------------------------------------------------\n        function clear_reverse_search_key(e) {\n            // arrows / Home / End / ENTER\n            return e.which === 35 || e.which === 36 ||\n                e.which === 37 || e.which === 38 ||\n                e.which === 39 || e.which === 40 ||\n                e.which === 13 || e.which === 27;\n        }\n        var skip_keydown = false;\n        // ---------------------------------------------------------------------\n        // function complexicity is 35 when adding this exception\n        // eslint-disable-next-line complexity\n        function keydown_event(e) {\n            debug('keydown \"' + e.key + '\" ' + e.fake + ' ' + e.which);\n            var result;\n            process = (e.key || '').toLowerCase() === 'process' || e.which === 0;\n            dead_key = no_keypress && single_key && !is_backspace(e);\n            // special keys don't trigger keypress fix #293\n            try {\n                if (!e.fake) {\n                    single_key = is_single(e);\n                    // chrome on android support key property but it's \"Unidentified\"\n                    no_key = String(e.key).toLowerCase() === 'unidentified';\n                    backspace = is_backspace(e);\n                }\n            } catch (exception) {}\n            // keydown created in input will have text already inserted and we\n            // want text before input\n            if (e.key === \"Unidentified\") {\n                no_keydown = true;\n                // android swift keyboard have always which == 229 we will triger proper\n                // event in input with e.fake == true\n                return;\n            }\n            // meta and os are special keydown triggered by Emoji picker on Windows 10\n            // meta is in Google Chrome is is in Firefox\n            if (!e.fake && ['meta', 'os'].indexOf(e.key.toLowerCase()) === -1) {\n                no_keydown = false;\n            }\n            no_keypress = true;\n            // Meta+V did bind input but it didin't happen because terminal paste\n            // prevent native insert action\n            clip.$node.off('input', paste);\n            var key = get_key(e);\n            if (is_function(settings.keydown)) {\n                e.key = ie_key_fix(e);\n                result = settings.keydown.call(self, e);\n                if (result !== undefined) {\n                    //skip_keypress = true;\n                    if (!result) {\n                        skip_insert = true;\n                    }\n                    return result;\n                }\n            }\n            if (key !== prev_key) {\n                clear_hold();\n            }\n            // CTRL+C hanlding is only exception of cmd aware terminal logic\n            // cmd need to call CTRL+C keymap when terminal is not enabled\n            if (enabled || (key === 'CTRL+C' && is_terminal_selected(self))) {\n                if (hold) {\n                    prev_key = key;\n                    key = 'HOLD+' + key;\n                    if (hold_pause) {\n                        return;\n                    }\n                    if (settings.holdRepeatTimeout > 0 && is_delay_key(key)) {\n                        hold_pause = true;\n                        self.oneTime(settings.holdRepeatTimeout, 'delay', function() {\n                            hold_pause = false;\n                        });\n                    }\n                } else {\n                    self.oneTime(settings.holdTimeout, 'hold', function() {\n                        hold = true;\n                    });\n                    prev_key = key;\n                }\n                // if e.fake ignore of space is handled in input and next keydown\n                // is not triggered this is just in case code since on Android\n                // keydown is not triggered only input so event is always fake on Android\n                if (!e.fake && is_android) {\n                    if (skip_keydown) {\n                        clear_hold();\n                        skip_keydown = false;\n                        return false;\n                    }\n                    if (mobile_ignore_key(key)) {\n                        skip_keydown = true;\n                    } else if (mobile_ignore_key(prev_key)) {\n                        // just in case next key is different then space\n                        skip_keydown = false;\n                    }\n                }\n                restart_animation();\n                // CTRL+V don't fire keypress in IE11\n                skip_insert = ['CTRL+V', 'META+V'].indexOf(key) !== -1;\n                // only enter will reset history (and down arrow on last command)\n                if (key.toLowerCase() === 'enter') {\n                    first_up_history = true;\n                }\n                if (reverse_search && clear_reverse_search_key(e)) {\n                    clear_reverse_state();\n                    draw_prompt();\n                    if (e.which === 27) { // ESC\n                        self.set('');\n                    }\n                    redraw();\n                    if (e.which === 13) {\n                        keydown_event.call(this, e);\n                    }\n                } else if (is_function(keymap[key])) {\n                    result = keymap[key](e);\n                    if (result === true) {\n                        return;\n                    }\n                    if (result !== undefined) {\n                        return result;\n                    }\n                } else if (e.altKey) {\n                    return;\n                } else {\n                    skip_keypress = false;\n                    return;\n                }\n                // this will prevent for instance backspace to go back one page\n                //skip_keypress = true;\n                //e.preventDefault();\n            }\n        }\n        function clear_hold() {\n            self.stopTime('hold');\n            self.stopTime('delay');\n            hold_pause = hold = false;\n        }\n        var doc = $(document.documentElement || window);\n        self.keymap(settings.keymap || {});\n        function keypress_event(e) {\n            debug('keypress \"' + e.key + '\" ' + e.fake);\n            clear_hold();\n            var result;\n            if (!e.fake) {\n                no_keypress = false;\n            }\n            if ((e.ctrlKey || e.metaKey) && !e.altKey) {\n                return;\n            }\n            if (skip_keypress) {\n                return;\n            }\n            if (is_function(settings.keypress)) {\n                result = settings.keypress.call(self, e);\n                if (result !== undefined) {\n                    if (!result) {\n                        skip_insert = true;\n                    }\n                    return result;\n                }\n            }\n            if (enabled) {\n                if (e.fake) {\n                    // event created in input, we prevent inserting text\n                    // in different interpreter when keydown called pop\n                    return;\n                }\n                // key polyfill is not correct for keypress\n                // https://github.com/cvan/keyboardevent-key-polyfill/issues/15\n                var key;\n                if (is_key_native) {\n                    key = e.key;\n                    // fixing IE inconsistency #362\n                    var normalized = key.toUpperCase();\n                    if (key_mapping[normalized]) {\n                        key = key_mapping[normalized];\n                    }\n                }\n                if (!key || no_key) {\n                    key = String.fromCharCode(e.which);\n                }\n                if ($.inArray(e.which, [13, 0, 8]) > -1) {\n                    if (e.keyCode === 123) { // for F12 which === 0\n                        return;\n                    }\n                    return false;\n                    // which === 100 - d\n                } else if (key && (!e.ctrlKey || (e.ctrlKey && e.ctrlKey)) &&\n                           (!(e.altKey && e.which === 100) || e.altKey) &&\n                           !dead_key) {\n                    // dead_key are handled by input event\n                    if (reverse_search) {\n                        rev_search_str += key;\n                        reverse_history_search();\n                        draw_reverse_prompt();\n                    } else if (key.length === 1) {\n                        self.insert(key);\n                    }\n                }\n            }\n        }\n        function event(type, chr, which) {\n            var event = $.Event(type);\n            event.which = which;\n            event.key = chr;\n            event.fake = true;\n            doc.trigger(event);\n        }\n        var skip_input = false;\n        function finalize_input_event() {\n            prev_command = command;\n            skip_insert = false;\n            no_keydown = true;\n        }\n        function input_event() {\n            debug('input ' + no_keydown + ' || ' + process + ' ((' + no_keypress +\n                  ' || ' + dead_key + ') && !' + skip_insert + ' && (' + single_key +\n                  ' || ' + no_key + ') && !' + backspace + ')');\n            // correct for fake space used for select all context menu hack\n            var val = clip.val();\n            if (!is_mobile) {\n                val = val.replace(/^ /, '');\n            }\n            // Some Androids don't fire keypress - #39\n            // if there is dead_key we also need to grab real character #158\n            // Firefox/Android with google keyboard don't fire keydown and keyup #319\n            if (no_keydown || process || ((no_keypress || dead_key) &&\n                                          !skip_insert &&\n                                          (single_key || no_key) && !backspace)) {\n                if (val && val === command) {\n                    if (is_android) {\n                        // ignore autocomplete on GBoard keyboard #693\n                        if (no_keydown) {\n                            event('keydown', 'Enter', 13);\n                        }\n                    }\n                    finalize_input_event();\n                    return;\n                }\n                var pos = position;\n                // backspace is set in keydown if no keydown we need to get new one\n                if (no_keydown) {\n                    var cmd = prev_command;\n                    backspace = cmd.slice(0, cmd.length - 1).length === val.length;\n                }\n                if (skip_input) {\n                    skip_input = false;\n                    clip.val(command);\n                    return;\n                }\n                if (reverse_search) {\n                    rev_search_str = val;\n                    reverse_history_search();\n                    draw_reverse_prompt();\n                } else {\n                    var str = val.slice(position);\n                    if (str.length === 1 || backspace) {\n                        // original not optimized function called once\n                        var chr = get_next_character(str);\n                        if (mobile_ignore_key(chr)) {\n                            skip_input = true;\n                        }\n                        // we trigger events so keypress and keydown callback work\n                        if (no_keydown) {\n                            var keycode;\n                            if (backspace) {\n                                keycode = 8;\n                            } else {\n                                keycode = str.toUpperCase().charCodeAt(0);\n                            }\n                            event('keydown', backspace ? 'Backspace' : str, keycode);\n                        }\n                        if (no_keypress && !backspace) {\n                            event('keypress', chr, str.charCodeAt(0));\n                        }\n                    }\n                    if (backspace) {\n                        prev_command = command;\n                        return;\n                    }\n                    // if user return false in keydown we don't want to insert text\n                    if (skip_insert) {\n                        skip_insert = false;\n                        return;\n                    }\n                    self.set(val);\n                }\n                if (backspace) {\n                    self.position(pos - 1);\n                } else {\n                    // user enter more then one character if click on complete word\n                    // on android\n                    self.position(pos + Math.abs(val.length - prev_command.length));\n                }\n            }\n            finalize_input_event();\n        }\n        doc.bind('keypress.cmd', keypress_event);\n        doc.bind('keydown.cmd', keydown_event);\n        doc.bind('keyup.cmd', clear_hold);\n        doc.bind('input.cmd', input_event);\n        (function() {\n            if (is_mobile) {\n                $(self[0]).add(clip.$node).on('touchstart.cmd', function() {\n                    if (!self.isenabled()) {\n                        clip.focus();\n                    } else {\n                        clip.blur();\n                    }\n                });\n                self.disable();\n                return;\n            }\n            var was_down = false;\n            var count = 0;\n            self.on('mousedown.cmd', function() {\n                was_down = true;\n            }).on('mouseup.cmd', function(e) {\n                function trigger() {\n                    var $target = $(e.target);\n                    var is_prompt = $target.is('.cmd-prompt');\n                    if (!is_prompt && down && get_selected_html() === '') {\n                        if (enabled) {\n                            if ($target.is('.cmd')) {\n                                self.position(text(command).length);\n                            } else {\n                                self.display_position(get_char_pos(e));\n                            }\n                        }\n                    }\n                    count = 0;\n                }\n                // we get button from event for testing normally it's on originalEvent\n                var button;\n                if (e.originalEvent === undefined) {\n                    button = e.button;\n                } else {\n                    button = e.originalEvent.button;\n                }\n                if (button === 0 && get_selected_html() === '') {\n                    var name = 'click_' + id;\n                    if (++count === 1) {\n                        var down = was_down;\n                        if (enabled) {\n                            if (settings.clickTimeout === 0) {\n                                trigger();\n                            } else {\n                                self.oneTime(settings.clickTimeout, name, trigger);\n                            }\n                        } else {\n                            count = 0;\n                        }\n                    } else {\n                        self.stopTime(name);\n                        count = 0;\n                    }\n                }\n                was_down = false;\n            });\n        })();\n        self.data('cmd', self);\n        if (!('KeyboardEvent' in window && 'key' in window.KeyboardEvent.prototype)) {\n            setTimeout(function() {\n                throw new Error('key event property not supported try https://github.' +\n                                'com/inexorabletash/polyfill/blob/master/keyboard.js');\n            }, 0);\n        }\n        return self;\n    }; // cmd plugin\n    // -------------------------------------------------------------------------\n    var strlen = (function() {\n        if (typeof wcwidth === 'undefined') {\n            return function(string) {\n                // fix empty prompt that use 0 width space\n                string = string.replace(/\\u200B/g, '');\n                return $.terminal.length(string);\n            };\n        } else {\n            return wcwidth;\n        }\n    })();\n    // -------------------------------------------------------------------------\n    function count_selfclosing_formatting(string) {\n        var count = 0;\n        if ($.terminal.have_formatting(string)) {\n            var re = new RegExp(format_parts_re.source, 'i'); // without g flag\n            $.terminal.format_split(string).forEach(function(str) {\n                if ($.terminal.is_formatting(str)) {\n                    var m = str.match(re);\n                    if (m && m[1].match(/@/) && m[6] === '') {\n                        count++;\n                    }\n                }\n            });\n        }\n        return count;\n    }\n    // -------------------------------------------------------------------------\n    // entiteis are case sensitive\n    // generated from https://www.freeformatter.com/html-entities.html\n    // -------------------------------------------------------------------------\n    var entities = {\n        \"&amp;\": \"&\",\n        \"&lt;\": \"<\",\n        \"&gt;\": \">\",\n        \"&Agrave;\": \"\",\n        \"&Aacute;\": \"\",\n        \"&Acirc;\": \"\",\n        \"&Atilde;\": \"\",\n        \"&Auml;\": \"\",\n        \"&Aring;\": \"\",\n        \"&AElig;\": \"\",\n        \"&Ccedil;\": \"\",\n        \"&Egrave;\": \"\",\n        \"&Eacute;\": \"\",\n        \"&Ecirc;\": \"\",\n        \"&Euml;\": \"\",\n        \"&Igrave;\": \"\",\n        \"&Iacute;\": \"\",\n        \"&Icirc;\": \"\",\n        \"&Iuml;\": \"\",\n        \"&ETH;\": \"\",\n        \"&Ntilde;\": \"\",\n        \"&Ograve;\": \"\",\n        \"&Oacute;\": \"\",\n        \"&Ocirc;\": \"\",\n        \"&Otilde;\": \"\",\n        \"&Ouml;\": \"\",\n        \"&Oslash;\": \"\",\n        \"&Ugrave;\": \"\",\n        \"&Uacute;\": \"\",\n        \"&Ucirc;\": \"\",\n        \"&Uuml;\": \"\",\n        \"&Yacute;\": \"\",\n        \"&THORN;\": \"\",\n        \"&szlig;\": \"\",\n        \"&agrave;\": \"\",\n        \"&aacute;\": \"\",\n        \"&acirc;\": \"\",\n        \"&atilde;\": \"\",\n        \"&auml;\": \"\",\n        \"&aring;\": \"\",\n        \"&aelig;\": \"\",\n        \"&ccedil;\": \"\",\n        \"&egrave;\": \"\",\n        \"&eacute;\": \"\",\n        \"&ecirc;\": \"\",\n        \"&euml;\": \"\",\n        \"&igrave;\": \"\",\n        \"&iacute;\": \"\",\n        \"&icirc;\": \"\",\n        \"&iuml;\": \"\",\n        \"&eth;\": \"\",\n        \"&ntilde;\": \"\",\n        \"&ograve;\": \"\",\n        \"&oacute;\": \"\",\n        \"&ocirc;\": \"\",\n        \"&otilde;\": \"\",\n        \"&ouml;\": \"\",\n        \"&oslash;\": \"\",\n        \"&ugrave;\": \"\",\n        \"&uacute;\": \"\",\n        \"&ucirc;\": \"\",\n        \"&uuml;\": \"\",\n        \"&yacute;\": \"\",\n        \"&thorn;\": \"\",\n        \"&yuml;\": \"\",\n        \"&nbsp;\": \"\",\n        \"&iexcl;\": \"\",\n        \"&cent;\": \"\",\n        \"&pound;\": \"\",\n        \"&curren;\": \"\",\n        \"&yen;\": \"\",\n        \"&brvbar;\": \"\",\n        \"&sect;\": \"\",\n        \"&uml;\": \"\",\n        \"&copy;\": \"\",\n        \"&ordf;\": \"\",\n        \"&laquo;\": \"\",\n        \"&not;\": \"\",\n        \"&shy;\": \"\",\n        \"&reg;\": \"\",\n        \"&macr;\": \"\",\n        \"&deg;\": \"\",\n        \"&plusmn;\": \"\",\n        \"&sup2;\": \"\",\n        \"&sup3;\": \"\",\n        \"&acute;\": \"\",\n        \"&micro;\": \"\",\n        \"&para;\": \"\",\n        \"&cedil;\": \"\",\n        \"&sup1;\": \"\",\n        \"&ordm;\": \"\",\n        \"&raquo;\": \"\",\n        \"&frac14;\": \"\",\n        \"&frac12;\": \"\",\n        \"&frac34;\": \"\",\n        \"&iquest;\": \"\",\n        \"&times;\": \"\",\n        \"&divide;\": \"\",\n        \"&forall;\": \"\",\n        \"&part;\": \"\",\n        \"&exist;\": \"\",\n        \"&empty;\": \"\",\n        \"&nabla;\": \"\",\n        \"&isin;\": \"\",\n        \"&notin;\": \"\",\n        \"&ni;\": \"\",\n        \"&prod;\": \"\",\n        \"&sum;\": \"\",\n        \"&minus;\": \"\",\n        \"&lowast;\": \"\",\n        \"&radic;\": \"\",\n        \"&prop;\": \"\",\n        \"&infin;\": \"\",\n        \"&ang;\": \"\",\n        \"&and;\": \"\",\n        \"&or;\": \"\",\n        \"&cap;\": \"\",\n        \"&cup;\": \"\",\n        \"&int;\": \"\",\n        \"&there4;\": \"\",\n        \"&sim;\": \"\",\n        \"&cong;\": \"\",\n        \"&asymp;\": \"\",\n        \"&ne;\": \"\",\n        \"&equiv;\": \"\",\n        \"&le;\": \"\",\n        \"&ge;\": \"\",\n        \"&sub;\": \"\",\n        \"&sup;\": \"\",\n        \"&nsub;\": \"\",\n        \"&sube;\": \"\",\n        \"&supe;\": \"\",\n        \"&oplus;\": \"\",\n        \"&otimes;\": \"\",\n        \"&perp;\": \"\",\n        \"&sdot;\": \"\",\n        \"&Alpha;\": \"\",\n        \"&Beta;\": \"\",\n        \"&Gamma;\": \"\",\n        \"&Delta;\": \"\",\n        \"&Epsilon;\": \"\",\n        \"&Zeta;\": \"\",\n        \"&Eta;\": \"\",\n        \"&Theta;\": \"\",\n        \"&Iota;\": \"\",\n        \"&Kappa;\": \"\",\n        \"&Lambda;\": \"\",\n        \"&Mu;\": \"\",\n        \"&Nu;\": \"\",\n        \"&Xi;\": \"\",\n        \"&Omicron;\": \"\",\n        \"&Pi;\": \"\",\n        \"&Rho;\": \"\",\n        \"&Sigma;\": \"\",\n        \"&Tau;\": \"\",\n        \"&Upsilon;\": \"\",\n        \"&Phi;\": \"\",\n        \"&Chi;\": \"\",\n        \"&Psi;\": \"\",\n        \"&Omega;\": \"\",\n        \"&alpha;\": \"\",\n        \"&beta;\": \"\",\n        \"&gamma;\": \"\",\n        \"&delta;\": \"\",\n        \"&epsilon;\": \"\",\n        \"&zeta;\": \"\",\n        \"&eta;\": \"\",\n        \"&theta;\": \"\",\n        \"&iota;\": \"\",\n        \"&kappa;\": \"\",\n        \"&lambda;\": \"\",\n        \"&mu;\": \"\",\n        \"&nu;\": \"\",\n        \"&xi;\": \"\",\n        \"&omicron;\": \"\",\n        \"&pi;\": \"\",\n        \"&rho;\": \"\",\n        \"&sigmaf;\": \"\",\n        \"&sigma;\": \"\",\n        \"&tau;\": \"\",\n        \"&upsilon;\": \"\",\n        \"&phi;\": \"\",\n        \"&chi;\": \"\",\n        \"&psi;\": \"\",\n        \"&omega;\": \"\",\n        \"&thetasym;\": \"\",\n        \"&upsih;\": \"\",\n        \"&piv;\": \"\",\n        \"&OElig;\": \"\",\n        \"&oelig;\": \"\",\n        \"&Scaron;\": \"\",\n        \"&scaron;\": \"\",\n        \"&Yuml;\": \"\",\n        \"&fnof;\": \"\",\n        \"&circ;\": \"\",\n        \"&tilde;\": \"\",\n        \"&ensp;\": \"\",\n        \"&emsp;\": \"\",\n        \"&thinsp;\": \"\",\n        \"&zwnj;\": \"\",\n        \"&zwj;\": \"\",\n        \"&lrm;\": \"\",\n        \"&rlm;\": \"\",\n        \"&ndash;\": \"\",\n        \"&mdash;\": \"\",\n        \"&lsquo;\": \"\",\n        \"&rsquo;\": \"\",\n        \"&sbquo;\": \"\",\n        \"&ldquo;\": \"\",\n        \"&rdquo;\": \"\",\n        \"&bdquo;\": \"\",\n        \"&dagger;\": \"\",\n        \"&Dagger;\": \"\",\n        \"&bull;\": \"\",\n        \"&hellip;\": \"\",\n        \"&permil;\": \"\",\n        \"&prime;\": \"\",\n        \"&Prime;\": \"\",\n        \"&lsaquo;\": \"\",\n        \"&rsaquo;\": \"\",\n        \"&oline;\": \"\",\n        \"&euro;\": \"\",\n        \"&trade;\": \"\",\n        \"&larr;\": \"\",\n        \"&uarr;\": \"\",\n        \"&rarr;\": \"\",\n        \"&darr;\": \"\",\n        \"&harr;\": \"\",\n        \"&crarr;\": \"\",\n        \"&lceil;\": \"\",\n        \"&rceil;\": \"\",\n        \"&lfloor;\": \"\",\n        \"&rfloor;\": \"\",\n        \"&loz;\": \"\",\n        \"&spades;\": \"\",\n        \"&clubs;\": \"\",\n        \"&hearts;\": \"\",\n        \"&diams;\": \"\"\n    };\n    // -------------------------------------------------------------------------\n    function render_entities(str) {\n        return str.replace(/&#(x?)([0-9]+);/g, function(_, hex, code) {\n            code = parseInt(code, hex ? 16 : 10);\n            return String.fromCharCode(code);\n        }).replace(/(&[^;]+;)/g, function(_, entity) {\n            return entities[entity] || entity;\n        });\n    }\n    // -------------------------------------------------------------------------\n    function bare_text(string) {\n        if (!string.match(/&/)) {\n            return string;\n        }\n        return render_entities(safe(string));\n    }\n    // -------------------------------------------------------------------------\n    function text(string) {\n        return bare_text($.terminal.strip(string));\n    }\n    // -------------------------------------------------------------------------\n    function safe(string) {\n        if (!string.match(/[<>&]/)) {\n            return string;\n        }\n        return string.replace(/&(?![^;]+;)/g, '&amp;')\n            .replace(/>/g, '&gt;').replace(/</g, '&lt;');\n    }\n    // -------------------------------------------------------------------------\n    function crlf(string) {\n        return string.replace(/\\r/g, '');\n    }\n    // -------------------------------------------------------------------------\n    function char_len(chr) {\n        return entity_re.test(chr) ? 1 : chr.length;\n    }\n    // -------------------------------------------------------------------------\n    function make_re_fn(re) {\n        return function(string) {\n            var m = string.match(re);\n            if (starts_with(m)) {\n                return m[1];\n            }\n        };\n    }\n    // -------------------------------------------------------------------------\n    function starts_with(match) {\n        return match && match.index === 0;\n    }\n    // -------------------------------------------------------------------------\n    // :: optimized higher order function that it check complex regexes\n    // :: only when bigger string match those regexes, function is always\n    // :: used in loop when you process whole string, it's used to create local\n    // :: get_next_character function only cmd in input use original\n    // :: not optimized function\n    // -------------------------------------------------------------------------\n    function make_next_char_fun(string) {\n        var tests = [];\n        [\n            entity_re,\n            emoji_re,\n            combine_chr_re\n        ].forEach(function(re) {\n            if (string.match(re)) {\n                tests.push(make_re_fn(re));\n            }\n        });\n        if (string.match(astral_symbols_re)) {\n            tests.push(function(string) {\n                var m1 = string.match(astral_symbols_re);\n                if (starts_with(m1)) {\n                    var m2 = string.match(combine_chr_re);\n                    if (m2 && m2.index === 1) {\n                        return string.slice(0, 3);\n                    }\n                    return m1[1];\n                }\n            });\n        }\n        return function(string) {\n            for (var i = 0; i < tests.length; ++i) {\n                var test = tests[i];\n                var ret = test(string);\n                if (ret) {\n                    return ret;\n                }\n            }\n            return string[0];\n        };\n    }\n    // -------------------------------------------------------------------------\n    // :: function that return character from beginning of the string\n    // :: counting emoji, suroggate pairs and combine characters\n    // -------------------------------------------------------------------------\n    function get_next_character(string) {\n        var match_entity = string.match(entity_re);\n        if (starts_with(match_entity)) {\n            return match_entity[1];\n        }\n        var match_combo = string.match(combine_chr_re);\n        if (starts_with(match_combo)) {\n            return match_combo[1];\n        }\n        var match_emoji = string.match(emoji_re);\n        if (starts_with(match_emoji)) {\n            return match_emoji[1];\n        } else if (string.charCodeAt(0) < 255) {\n            return string[0];\n        } else {\n            var astral_match = string.match(astral_symbols_re);\n            if (starts_with(astral_match)) {\n                match_combo = string.match(combine_chr_re);\n                if (match_combo && match_combo.index === 1) {\n                    return string.slice(0, 3);\n                }\n                return string.slice(0, 2);\n            } else {\n                return string[0];\n            }\n        }\n    }\n    // -------------------------------------------------------------------------\n    // normalize position for counting emoji and extra chars\n    // -------------------------------------------------------------------------\n    function normalize_position(string, position) {\n        if (position === 0) {\n            return position;\n        }\n        string = $.terminal.strip(string);\n        var result = $.terminal.split_characters(string).reduce(function(acc, chr) {\n            if (typeof acc === 'number') {\n                return acc;\n            }\n            var length = acc.length + char_len(chr);\n            if (length >= position) {\n                return acc.position + 1;\n            }\n            return {\n                position: acc.position + 1,\n                length: length\n            };\n        }, {position: 0, length: 0});\n        if (typeof result === 'number') {\n            return result;\n        } else {\n            return result.position;\n        }\n    }\n    // -------------------------------------------------------------------------\n    function char_width_prop(len, options) {\n        if (len === 0) {\n            return 'width: 1px';\n        } else if (is_ch_unit_supported) {\n            return 'width: ' + len + 'ch';\n        } else if (!is_css_variables_supported) {\n            if (options.charWidth) {\n                return 'width: ' + (options.charWidth * len) + 'px';\n            }\n        } else {\n            return '--length: ' + len;\n        }\n        return '';\n    }\n    // -------------------------------------------------------------------------\n    // options {charWidth}\n    function extra_css(text, options) {\n        if (typeof wcwidth !== 'undefined') {\n            var bare = bare_text(text);\n            var len = strlen(bare);\n            if (len > 1 && len !== $.terminal.length(bare)) {\n                return char_width_prop(len, options);\n            }\n        }\n        return '';\n    }\n    // -------------------------------------------------------------------------\n    function wide_characters(text, options) {\n        if (typeof wcwidth !== 'undefined') {\n            var bare = bare_text(text);\n            var chars = $.terminal.split_characters(bare);\n            if (chars.length === 1) {\n                return text;\n            }\n            var specs = chars.map(function(chr) {\n                return {\n                    len: strlen(chr),\n                    chr: chr\n                };\n            }).reduce(function(arr, spec) {\n                var last = arr[arr.length - 1];\n                if (last) {\n                    if (last.len !== spec.len) {\n                        return arr.concat([{\n                            sum: spec.len,\n                            len: spec.len,\n                            specs: [spec]\n                        }]);\n                    } else {\n                        arr.pop();\n                        return arr.concat([{\n                            sum: last.sum + spec.len,\n                            len: last.len,\n                            specs: last.specs.concat(spec)\n                        }]);\n                    }\n                }\n                return [{\n                    sum: spec.len,\n                    specs: [spec],\n                    len: spec.len\n                }];\n            }, []);\n            return specs.map(function(spec) {\n                if (spec.len === 1) {\n                    return make_string(spec);\n                }\n                var style = char_width_prop(spec.sum, options);\n                if (spec.sum === chars.length || !style.length) {\n                    return '<span>' + make_string(spec) + '</span>';\n                } else if (spec.specs.length > 1) {\n                    return wrap(style, spec.specs.map(function(spec) {\n                        return wrap(char_width_prop(spec.len), spec.chr);\n                    }).join(''));\n                } else {\n                    return wrap(style, make_string(spec));\n                }\n            }).join('');\n        }\n        function make_string(spec) {\n            return spec.specs.map(function(spec) {\n                return spec.chr;\n            }).join('');\n        }\n        function wrap(style, str) {\n            return '<span style=\"' + style + '\">' + str + '</span>';\n        }\n        return text;\n    }\n    // ---------------------------------------------------------------------\n    // :: Binary search utility\n    // ---------------------------------------------------------------------\n    function binary_search(start, end, search_pos, compare_fn, more_args) {\n        var len = end - start;\n        var mid = start + Math.floor(len / 2);\n        var args = [search_pos, mid].concat(more_args);\n        var cmp = compare_fn.apply(null, args);\n        if (cmp === 0) {\n            return mid;\n        } else if (cmp > 0 && len > 1) {\n            return binary_search(\n                mid,\n                end,\n                search_pos,\n                compare_fn,\n                more_args\n            );\n        } else if (cmp < 0 && len > 1) {\n            return binary_search(\n                start,\n                mid,\n                search_pos,\n                compare_fn,\n                more_args\n            );\n        } else {\n            return -1;\n        }\n    }\n    // -----------------------------------------------------------------\n    // :: selection utilities - should work in modern browser including IE9\n    // -----------------------------------------------------------------\n    function is_terminal_selected(cmd) {\n        if (is_function(window.getSelection)) {\n            var selection = window.getSelection();\n            if (selection.toString()) {\n                var node = selection.getRangeAt(0).startContainer.parentNode;\n                var term = $(node).closest('.terminal');\n                return term.length && (cmd && term.find('.cmd').is(cmd) || !cmd);\n            }\n        }\n    }\n    // -----------------------------------------------------------------\n    function get_selected_html() {\n        var html = '';\n        if (is_function(window.getSelection)) {\n            var sel = window.getSelection();\n            if (sel.rangeCount) {\n                var container = document.createElement('div');\n                for (var i = 0, len = sel.rangeCount; i < len; ++i) {\n                    container.appendChild(sel.getRangeAt(i).cloneContents());\n                }\n                html = container.innerHTML;\n            }\n        }\n        return html;\n    }\n    // -----------------------------------------------------------------\n    function with_selection(fn) {\n        var html = '';\n        var ranges = [];\n        if (is_function(window.getSelection)) {\n            var selection = window.getSelection();\n            if (selection.rangeCount) {\n                var container = document.createElement(\"div\");\n                for (var i = 0, len = selection.rangeCount; i < len; ++i) {\n                    var range = selection.getRangeAt(i).cloneRange();\n                    ranges.push(range);\n                    container.appendChild(range.cloneContents());\n                }\n                html = container.innerHTML;\n            }\n        }\n        fn(html);\n        if (ranges.length) {\n            selection.removeAllRanges();\n            ranges.forEach(function(range) {\n                selection.addRange(range);\n            });\n        }\n        return html !== '';\n    }\n    // -----------------------------------------------------------------\n    function process_selected_line() {\n        var $self = $(this);\n        var result = $self.text();\n        if ($self.hasClass('cmd-end-line')) {\n            result += '\\n';\n        }\n        return result;\n    }\n    // -----------------------------------------------------------------\n    function process_div(element) {\n        // span is empty line, div is default case with text\n        return $(element).find('> div, > span')\n            .map(process_selected_line).get().join('\\n').replace(/\\n$/, '');\n    }\n    // -----------------------------------------------------------------\n    function process_selected_html(html) {\n        var stdout;\n        var text = '';\n        var $html = $('<div>' + html + '</div>');\n        if (html.match(/<\\/div>/)) {\n            // match multiple echo output\n            stdout = $html.find('div[data-index]').map(function() {\n                return process_div(this);\n            }).get().join('\\n');\n            // match inside single echo output\n            if (!stdout && html.match(/style=\"width: 100%;?\"/)) {\n                stdout = process_div($html);\n            }\n            text = stdout;\n        }\n        var $prompt = $html.find('.cmd-prompt');\n        if ($prompt.length) {\n            if (text.length) {\n                text += '\\n';\n            }\n            text += $prompt.text();\n        }\n        var $cmd_lines = $html.find('[role=\"presentation\"]');\n        if ($cmd_lines.length) {\n            text += $cmd_lines.map(process_selected_line).get().join('');\n        }\n        if (!text.length && html) {\n            text = $html.text();\n        }\n        return text.replace(/\\xA0/g, ' '); // fix &nbsp; space\n    }\n    // ---------------------------------------------------------------------\n    // :: copy given DOM element text to clipboard\n    // ---------------------------------------------------------------------\n    var support_copy = (function() {\n        if (typeof document === 'undefined') {\n            return false;\n        }\n        if (!is_function(document.queryCommandSupported)) {\n            return false;\n        }\n        return document.queryCommandSupported('copy');\n    })();\n    // ---------------------------------------------------------------------\n    var text_to_clipboard;\n    if (support_copy) {\n        text_to_clipboard = function text_to_clipboard($textarea, text) {\n            var val = $textarea.val();\n            var had_focus = $textarea.is(':focus');\n            var pos = $textarea.caret();\n            if (window.navigator && window.navigator.clipboard) {\n                navigator.clipboard.writeText(text);\n            } else if (had_focus) {\n                $textarea.val(text).focus();\n                $textarea[0].select();\n                document.execCommand('copy');\n                $textarea.val(val);\n                $textarea.caret(pos);\n            } else {\n                var $text = $('<textarea/>').css({\n                    position: 'fixed',\n                    top: 0,\n                    left: 0\n                }).appendTo('body');\n                $text.val(text).focus();\n                $text[0].select();\n                document.execCommand('copy');\n                $text.blur();\n                $text.remove();\n            }\n            return true;\n        };\n    } else {\n        text_to_clipboard = $.noop;\n    }\n    // ---------------------------------------------------------------------\n    var get_textarea_selection = (function() {\n        function noop() {\n            return '';\n        }\n        if (typeof document === 'undefined') {\n            return noop;\n        }\n        var textarea = document.createElement('textarea');\n        var selectionStart = 'selectionStart' in textarea;\n        textarea = null;\n        if (selectionStart) {\n            return function(textarea) {\n                var length = textarea.selectionEnd - textarea.selectionStart;\n                return textarea.value.substr(textarea.selectionStart, length);\n            };\n        } else if (document.selection) {\n            return function() {\n                var range = document.selection.createRange();\n                return range.text();\n            };\n        } else {\n            return noop;\n        }\n    })();\n    // ---------------------------------------------------------------------\n    function clear_textarea_selection(textarea) {\n        textarea.selectionStart = textarea.selectionEnd = 0;\n    }\n    // ---------------------------------------------------------------------\n    // :: return string that are common in all elements of the array\n    // ---------------------------------------------------------------------\n    function common_string(string, array, matchCase) {\n        if (!array.length) {\n            return '';\n        }\n        var type = string_case(string);\n        var result = [];\n        for (var j = string.length; j < array[0].length; ++j) {\n            var push = false;\n            var candidate = array[0].charAt(j),\n                candidateLower = candidate.toLowerCase();\n            for (var i = 1; i < array.length; ++i) {\n                push = true;\n                var current = array[i].charAt(j),\n                    currentLower = current.toLowerCase();\n                if (candidate !== current) {\n                    if (matchCase || type === 'mixed') {\n                        push = false;\n                        break;\n                    } else if (candidateLower === currentLower) {\n                        if (type === 'lower') {\n                            candidate = candidate.toLowerCase();\n                        } else if (type === 'upper') {\n                            candidate = candidate.toUpperCase();\n                        } else {\n                            push = false;\n                            break;\n                        }\n                    } else {\n                        push = false;\n                        break;\n                    }\n                }\n            }\n            if (push) {\n                result.push(candidate);\n            } else {\n                break;\n            }\n        }\n        return string + result.join('');\n    }\n    // ---------------------------------------------------------------------\n    function trigger_terminal_change(next) {\n        terminals.forEach(function(term) {\n            term.settings().onTerminalChange.call(term, next);\n        });\n    }\n    // ---------------------------------------------------------------------\n    var select = (function() {\n        if (root.getSelection) {\n            var selection = root.getSelection();\n            if (selection.setBaseAndExtent) {\n                return function(start, end) {\n                    var selection = root.getSelection();\n                    selection.setBaseAndExtent(start, 0, end, 1);\n                };\n            } else {\n                return function(start, end) {\n                    var selection = root.getSelection();\n                    var range = document.createRange();\n                    range.setStart(start, 0);\n                    range.setEnd(end, end.childNodes.length);\n                    selection.removeAllRanges();\n                    selection.addRange(range);\n                };\n            }\n        } else {\n            return $.noop;\n        }\n    })();\n    // -------------------------------------------------------------------------\n    function process_command(original, fn) {\n        var string = original.trim();\n        var array = string.match(command_re) || [];\n        if (array.length) {\n            var name = array.shift();\n            var args = $.map(array, function(arg) {\n                if (arg.match(/^[\"']/)) {\n                    arg = arg.replace(/\\n/g, '\\\\u0000\\\\u0000\\\\u0000\\\\u0000');\n                    arg = fn(arg);\n                    return arg.replace(/\\x00\\x00\\x00\\x00/g, '\\n');\n                }\n                return fn(arg);\n            });\n            var quotes = $.map(array, function(arg) {\n                var m = arg.match(/^(['\"`]).*\\1$/);\n                return m && m[1] || '';\n            });\n            var rest = string.slice(name.length).trim();\n            return {\n                command: original,\n                name: name,\n                args: args,\n                args_quotes: quotes,\n                rest: rest\n            };\n        } else {\n            return {\n                command: original,\n                name: '',\n                args: [],\n                args_quotes: [],\n                rest: ''\n            };\n        }\n    }\n    // -------------------------------------------------------------------------\n    $.terminal = {\n        version: '2.31.1',\n        date: 'Thu, 30 Dec 2021 10:56:33 +0000',\n        // colors from https://www.w3.org/wiki/CSS/Properties/color/keywords\n        color_names: [\n            'transparent', 'currentcolor', 'black', 'silver', 'gray', 'white',\n            'maroon', 'red', 'purple', 'fuchsia', 'green', 'lime', 'olive',\n            'yellow', 'navy', 'blue', 'teal', 'aqua', 'aliceblue',\n            'antiquewhite', 'aqua', 'aquamarine', 'azure', 'beige', 'bisque',\n            'black', 'blanchedalmond', 'blue', 'blueviolet', 'brown',\n            'burlywood', 'cadetblue', 'chartreuse', 'chocolate', 'coral',\n            'cornflowerblue', 'cornsilk', 'crimson', 'cyan', 'darkblue',\n            'darkcyan', 'darkgoldenrod', 'darkgray', 'darkgreen', 'darkgrey',\n            'darkkhaki', 'darkmagenta', 'darkolivegreen', 'darkorange',\n            'darkorchid', 'darkred', 'darksalmon', 'darkseagreen',\n            'darkslateblue', 'darkslategray', 'darkslategrey', 'darkturquoise',\n            'darkviolet', 'deeppink', 'deepskyblue', 'dimgray', 'dimgrey',\n            'dodgerblue', 'firebrick', 'floralwhite', 'forestgreen', 'fuchsia',\n            'gainsboro', 'ghostwhite', 'gold', 'goldenrod', 'gray', 'green',\n            'greenyellow', 'grey', 'honeydew', 'hotpink', 'indianred', 'indigo',\n            'ivory', 'khaki', 'lavender', 'lavenderblush', 'lawngreen',\n            'lemonchiffon', 'lightblue', 'lightcoral', 'lightcyan',\n            'lightgoldenrodyellow', 'lightgray', 'lightgreen', 'lightgrey',\n            'lightpink', 'lightsalmon', 'lightseagreen', 'lightskyblue',\n            'lightslategray', 'lightslategrey', 'lightsteelblue', 'lightyellow',\n            'lime', 'limegreen', 'linen', 'magenta', 'maroon',\n            'mediumaquamarine', 'mediumblue', 'mediumorchid', 'mediumpurple',\n            'mediumseagreen', 'mediumslateblue', 'mediumspringgreen',\n            'mediumturquoise', 'mediumvioletred', 'midnightblue', 'mintcream',\n            'mistyrose', 'moccasin', 'navajowhite', 'navy', 'oldlace', 'olive',\n            'olivedrab', 'orange', 'orangered', 'orchid', 'palegoldenrod',\n            'palegreen', 'paleturquoise', 'palevioletred', 'papayawhip',\n            'peachpuff', 'peru', 'pink', 'plum', 'powderblue', 'purple', 'red',\n            'rosybrown', 'royalblue', 'saddlebrown', 'salmon', 'sandybrown',\n            'seagreen', 'seashell', 'sienna', 'silver', 'skyblue', 'slateblue',\n            'slategray', 'slategrey', 'snow', 'springgreen', 'steelblue', 'tan',\n            'teal', 'thistle', 'tomato', 'turquoise', 'violet', 'wheat',\n            'white', 'whitesmoke', 'yellow', 'yellowgreen', 'rebeccapurple'],\n        // for unit tests\n        Cycle: Cycle,\n        History: History,\n        Stack: Stack,\n        // ---------------------------------------------------------------------\n        // :: Validate html color (it can be name or hex)\n        // ---------------------------------------------------------------------\n        valid_color: function valid_color(color) {\n            if (color.match(color_re)) {\n                return true;\n            } else {\n                return $.inArray(color.toLowerCase(), $.terminal.color_names) !== -1;\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: function check if given string contain invalid strings\n        // ---------------------------------------------------------------------\n        unclosed_strings: function unclosed_strings(string) {\n            return !!string.match(unclosed_strings_re);\n        },\n        // ---------------------------------------------------------------------\n        // :: Escape all special regex characters, so it can be use as regex to\n        // :: match exact string that contain those characters\n        // ---------------------------------------------------------------------\n        escape_regex: function escape_regex(str) {\n            if (typeof str === 'string') {\n                var special = /([-\\\\^$[\\]()+{}?*.|])/g;\n                return str.replace(special, '\\\\$1');\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: test if string contain formatting\n        // ---------------------------------------------------------------------\n        have_formatting: function have_formatting(str) {\n            return typeof str === 'string' && !!str.match(format_exist_re);\n        },\n        is_formatting: function is_formatting(str) {\n            return typeof str === 'string' && !!str.match(format_full_re);\n        },\n        // ---------------------------------------------------------------------\n        is_extended_command: function is_extended_command(str) {\n            return typeof str === 'string' &&\n                str.match(format_exec_re) &&\n                !$.terminal.is_formatting(str);\n        },\n        // ---------------------------------------------------------------------\n        each_extended_command: function(string, fn) {\n            var parts = string.split(format_exec_split_re);\n            return $.map(parts, function(string) {\n                if ($.terminal.is_extended_command(string)) {\n                    var command = string.replace(/^\\[\\[|\\]\\]$/g, '');\n                    return fn(command) || '';\n                }\n                return string;\n            }).join('');\n        },\n        // ---------------------------------------------------------------------\n        // :: return array of formatting and text between them\n        // ---------------------------------------------------------------------\n        format_split: function format_split(str) {\n            return str.split(format_split_re).filter(Boolean);\n        },\n        // ---------------------------------------------------------------------\n        // :: replace that return position after replace for working with\n        // :: replacement that change length of the string\n        // :: source https://stackoverflow.com/a/46756077/387194\n        // ---------------------------------------------------------------------\n        tracking_replace: function tracking_replace(string, rex, replacement, position) {\n            if (!(rex instanceof RegExp)) {\n                throw new Error('tracking_replace: Second argument need to be RegExp');\n            }\n            function substring(string, start, end) {\n                return string.slice(start, end);\n            }\n            function length(string) {\n                return $.terminal.strip(string).length;\n            }\n            var new_string = \"\";\n            var match;\n            var index = 0;\n            var rep_string;\n            var new_position = position;\n            var start;\n            rex.lastIndex = 0; // Just to be sure\n            while ((match = rex.exec(string))) {\n                // if regex don't have g flag lastIndex will not work\n                if (rex.global) {\n                    // Add any of the original string we just skipped\n                    var last_index = length(substring(string, 0, rex.lastIndex));\n                    start = last_index - length(match[0]);\n                } else {\n                    start = match.index;\n                    last_index = start + length(match[0]);\n                }\n                if (index < start) {\n                    new_string += substring(string, index, start);\n                }\n                index = last_index;\n                // Build the replacement string. This just handles $$ and $n,\n                // you may want to add handling for $`, $', and $&.\n                if (typeof replacement === 'function') {\n                    rep_string = replacement.apply(null, match);\n                } else {\n                    rep_string = replacement.replace(/\\$(\\$|\\d)/g, function(m, c0) {\n                        if (c0 === \"$\") {\n                            return \"$\";\n                        }\n                        return match[c0];\n                    });\n                }\n                // Add on the replacement\n                new_string += rep_string;\n                // If the position is affected...\n                if (start < position) {\n                    // ... update it:\n                    var rep_len = length(rep_string);\n                    rep_len += count_selfclosing_formatting(rep_string);\n                    if (last_index < position) {\n                        // It's after the replacement, move it\n                        new_position = Math.max(\n                            0,\n                            new_position +\n                            rep_len -\n                            length(match[0])\n                        );\n                    } else {\n                        // It's *in* the replacement, put it just after\n                        new_position += rep_len - (position - start);\n                    }\n                }\n                // If the regular expression doesn't have the g flag, break here so\n                // we do just one replacement (and so we don't have an endless loop!)\n                if (!rex.global) {\n                    break;\n                }\n            }\n            // Add on any trailing text in the string\n            if (index < length(string)) {\n                new_string += substring(string, index);\n            }\n            // Return the string and the updated position\n            if (string === new_string) {\n                return [string, position];\n            }\n            return [new_string, new_position];\n        },\n        // ---------------------------------------------------------------------\n        // :: helper function used by substring and split_equal it loop over\n        // :: string and execute callback with text count and other data\n        // ---------------------------------------------------------------------\n        iterate_formatting: function iterate_formatting(string, callback) {\n            function is_space(i) {\n                return string.slice(i - 6, i) === '&nbsp;' ||\n                    string.slice(i - 1, i).match(/\\s/);\n            }\n            // ----------------------------------------------------------------\n            function match_entity(index) {\n                return string.slice(index).match(entity_re);\n            }\n            // ----------------------------------------------------------------\n            function is_open_formatting(i) {\n                return string[i] === '[' && string[i + 1] === '[';\n            }\n            // ----------------------------------------------------------------\n            function is_escape_bracket(i) {\n                return string[i - 1] !== '\\\\' && string[i] === '\\\\' &&\n                    string[i + 1] === ']';\n            }\n            // ----------------------------------------------------------------\n            function is_text(i) {\n                return not_formatting && (string[i] !== ']' || !have_formatting)\n                    && !opening;\n            }\n            // ----------------------------------------------------------------\n            // :: function will skip to next character in main loop\n            // :: TODO: improve performance of emoji regex and check whole\n            // :: string it's complex string if not use simple function\n            // ----------------------------------------------------------------\n            var get_next_character = make_next_char_fun(string);\n            function next_iteration() {\n                var char = get_next_character(substring);\n                if (char.length > 1 && $.terminal.length(substring) > 1) {\n                    return char.length - 1;\n                }\n                return 0;\n            }\n            // ----------------------------------------------------------------\n            function is_next_space() {\n                return (is_space(i) && (not_formatting || opening)) &&\n                    (space === -1 && prev_space !== i || space !== -1);\n            }\n            // ----------------------------------------------------------------\n            // :: last iteration or one before closing formatting\n            // ----------------------------------------------------------------\n            var last = false;\n            function is_last() {\n                if (i === string.length - 1 && !last) {\n                    last = true;\n                } else {\n                    last = formatting && !!substring.match(/^.]$/);\n                }\n                return last;\n            }\n            // ----------------------------------------------------------------\n            var have_formatting = $.terminal.have_formatting(string);\n            var formatting = '';\n            var in_text = false;\n            var count = 0;\n            var match;\n            var space = -1;\n            var space_count = -1;\n            var prev_space;\n            var length = 0;\n            var offset = 0;\n            var re_ent = /(&[^;]+);$/;\n            for (var i = 0; i < string.length; i++) {\n                var substring = string.slice(i);\n                match = substring.match(format_start_re);\n                if (match) {\n                    formatting = match[1];\n                    in_text = false;\n                } else if (formatting) {\n                    if (string[i] === ']') {\n                        if (in_text) {\n                            formatting = '';\n                            in_text = false;\n                        } else {\n                            in_text = true;\n                        }\n                    }\n                } else {\n                    in_text = true;\n                }\n                var not_formatting = (formatting && in_text) || !formatting;\n                var opening = is_open_formatting(i);\n                if (is_next_space()) {\n                    space = i;\n                    space_count = count;\n                }\n                var braket = string[i].match(/[[\\]]/);\n                offset = 0;\n                if (not_formatting) {\n                    // treat entity as one character\n                    if (string[i] === '&') {\n                        match = match_entity(i);\n                        if (match) {\n                            i += match[1].length - 2; // 2 because continue adds 1 to i\n                            continue;\n                        }\n                        ++count;\n                        ++length;\n                    } else if (is_escape_bracket(i)) {\n                        // escape \\] and \\\\ counts as one character\n                        ++count;\n                        ++length;\n                        offset = 1;\n                        i += 1;\n                    } else if (!braket || !have_formatting) {\n                        ++count;\n                        ++length;\n                    }\n                }\n                if (is_text(i)) {\n                    if (strlen(string[i]) === 2) {\n                        length++;\n                    }\n                    var char = get_next_character(substring);\n                    var size = char.length;\n                    // begining of enity that we've skipped, we are at the end\n                    if (char === ';') {\n                        match = string.slice(0, i + 1).match(re_ent);\n                        if (match) {\n                            offset = match[1].length;\n                            size = offset + 1;\n                        }\n                    }\n                    var data = {\n                        last: is_last(),\n                        count: count,\n                        index: i - offset,\n                        formatting: formatting,\n                        length: length,\n                        text: in_text,\n                        size: size,\n                        space: space,\n                        space_count: space_count\n                    };\n                    var ret = callback(data);\n                    if (ret === false) {\n                        break;\n                    } else if (ret) {\n                        if (ret.count !== undefined) {\n                            count = ret.count;\n                        }\n                        if (ret.length !== undefined) {\n                            length = ret.length;\n                        }\n                        if (ret.space !== undefined) {\n                            prev_space = space;\n                            space = ret.space;\n                        }\n                        if (ret.index !== undefined) {\n                            i = ret.index;\n                            continue;\n                        }\n                    }\n                } else if (i === string.length - 1 && !last) {\n                    // last iteration, if formatting have last bracket,\n                    // from formatting, then last iteration\n                    // was already called (in if) #550\n                    callback({\n                        last: true,\n                        count: count + 1,\n                        index: i,\n                        formatting: formatting,\n                        length: 0,\n                        text: in_text,\n                        space: space\n                    });\n                }\n                // handle emoji, suroggate pairs and combine characters\n                if (in_text) {\n                    i += next_iteration();\n                }\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: function return string splitted into single characters\n        // :: each character is wrapped into formatting from input string\n        // :: or empty formatting so it will create span when using with ::format\n        // ---------------------------------------------------------------------\n        partition: function partition(string) {\n            if (!$.terminal.have_formatting(string)) {\n                var chars = $.terminal.split_characters(string);\n                return chars.map(wrap);\n            }\n            var result = [];\n            function wrap(string) {\n                if (string.match(/\\\\$/)) {\n                    string += '\\\\';\n                }\n                return '[[;;]' + string + ']';\n            }\n            function formatting(string) {\n                if ($.terminal.is_formatting(string)) {\n                    if (string.match(/\\\\]$/)) {\n                        string = string.replace(/\\\\]/g, '\\\\\\\\]');\n                    }\n                } else {\n                    string = wrap(string);\n                }\n                return string;\n            }\n            $.terminal.iterate_formatting(string, function(data) {\n                if (data.text) {\n                    var text = [];\n                    if (data.formatting) {\n                        text.push(data.formatting);\n                    }\n                    text.push(string.substring(data.index, data.index + data.size));\n                    if (data.formatting) {\n                        text.push(']');\n                    }\n                    result.push(formatting(text.join('')));\n                }\n            });\n            return result;\n        },\n        // ---------------------------------------------------------------------\n        // :: formatting aware substring function\n        // ---------------------------------------------------------------------\n        substring: function substring(string, start_index, end_index) {\n            var chars = $.terminal.split_characters(string);\n            if (!chars.slice(start_index, end_index).length) {\n                return '';\n            }\n            if (!$.terminal.have_formatting(string)) {\n                return chars.slice(start_index, end_index).join('');\n            }\n            var start = 0;\n            var end;\n            var start_formatting = '';\n            var end_formatting = '';\n            var prev_index;\n            var offset = 1;\n            $.terminal.iterate_formatting(string, function(data) {\n                if (start_index && data.count === start_index + 1) {\n                    start = data.index;\n                    if (data.formatting) {\n                        start_formatting = data.formatting;\n                    }\n                }\n                if (end_index && data.count === end_index) {\n                    end_formatting = data.formatting;\n                    prev_index = data.index;\n                    offset = data.size;\n                }\n                if (data.count === end_index + 1) {\n                    end = data.index;\n                    if (data.formatting) {\n                        end = prev_index + offset;\n                    }\n                }\n            });\n            if (start_index && !start) {\n                return '';\n            }\n            if (end === undefined) {\n                end = string.length;\n            }\n            string = start_formatting + string.slice(start, end);\n            if (end_formatting) {\n                string = string.replace(/(\\[\\[^\\]]+)?\\]$/, '');\n                string += ']';\n            }\n            return string;\n        },\n        // ---------------------------------------------------------------------\n        // :: add format text as 5th paramter to formatting it's used for\n        // :: data attribute in format function - and fix unclosed &\n        // ---------------------------------------------------------------------\n        normalize: function normalize(string) {\n            string = string.replace(format_re, function(_, format, text) {\n                if (format.match(self_closing_re) && text === '') {\n                    return '[[' + format + '] ]';\n                }\n                if (text === '') {\n                    return '';\n                }\n                function safe(string) {\n                    return string.replace(/\\\\\\]/g, '&#93;').replace(/\\n/g, '\\\\n')\n                        .replace(/&nbsp;/g, ' ');\n                }\n                format = safe(format);\n                var semicolons = format.match(/;/g).length;\n                // missing semicolons\n                if (semicolons >= 4) {\n                    var args = format.split(/;/);\n                    var start = args.slice(0, 4).join(';');\n                    var arg = args.slice(4).join(';');\n                    return '[[' + start + ';' + (arg || text) + ']' + text + ']';\n                } else if (semicolons === 2) {\n                    semicolons = ';;';\n                } else if (semicolons === 3) {\n                    semicolons = ';';\n                }\n                // return '[[' + format + ']' + text + ']';\n                // closing braket will break formatting so we need to escape\n                // those using html entity equvalent\n                // space is hack for images that break iterate_formatting\n                format += semicolons + safe(text);\n                return '[[' + format + ']' + text + ']';\n            });\n            return $.terminal.amp(string);\n        },\n        // ---------------------------------------------------------------------\n        // :: split text into lines with equal length so each line can be\n        // :: rendered separately (text formatting can be longer then a line).\n        // ---------------------------------------------------------------------\n        split_equal: function split_equal(str, length, keep_words) {\n            var prev_format = '';\n            var result = [];\n            var array = $.terminal.normalize(str).split(/\\n/g);\n            for (var i = 0, len = array.length; i < len; ++i) {\n                if (array[i] === '') {\n                    result.push('');\n                    continue;\n                }\n                var line = array[i];\n                var get_next_character = make_next_char_fun(line);\n                var first_index = 0;\n                var output;\n                var line_length = line.length;\n                var last_bracket = !!line.match(/\\[\\[[^\\]]+\\](?:[^\\][]|\\\\\\])+\\]$/);\n                $.terminal.iterate_formatting(line, function(data) {\n                    var chr, substring;\n                    if (data.length >= length || data.last ||\n                        (data.length === length - 1 &&\n                         strlen(line[data.index + 1]) === 2)) {\n                        var can_break = false;\n                        // TODO: this need work\n                        if (keep_words && data.space !== -1) {\n                            // replace html entities with characters\n                            var stripped = text(line).substring(data.space_count);\n                            // real length, not counting formatting\n                            stripped = stripped.slice(0, length).trim();\n                            var text_len = strlen(stripped);\n                            if (stripped.match(/\\s/) || text_len < length) {\n                                can_break = true;\n                            }\n                        }\n                        // if words is true we split at last space and make next loop\n                        // continue where the space where located\n                        var after_index = data.index + data.size;\n                        if (last_bracket) {\n                            after_index += 1;\n                        }\n                        var new_index;\n                        if (keep_words && data.space !== -1 &&\n                            after_index !== line_length && can_break) {\n                            output = line.slice(first_index, data.space);\n                            new_index = data.space - 1;\n                        } else {\n                            substring = line.slice(data.index);\n                            chr = get_next_character(substring);\n                            output = line.slice(first_index, data.index) + chr;\n                            if (data.last && last_bracket && chr !== ']') {\n                                output += ']';\n                            }\n                            new_index = data.index + chr.length - 1;\n                        }\n                        if (keep_words) {\n                            output = output.replace(/^(&nbsp;|\\s)+|(&nbsp;|\\s)+$/g, '');\n                        }\n                        first_index = (new_index || data.index) + 1;\n                        if (prev_format) {\n                            var closed_formatting = output.match(/^[^\\]]*\\]/);\n                            output = prev_format + output;\n                            if (closed_formatting) {\n                                prev_format = '';\n                            }\n                        }\n                        var matched = output.match(format_re);\n                        if (matched) {\n                            var last = matched[matched.length - 1];\n                            if (last[last.length - 1] !== ']') {\n                                prev_format = last.match(format_begin_re)[1];\n                                output += ']';\n                            } else if (output.match(format_end_re)) {\n                                output = output.replace(format_end_re, '');\n                                prev_format = last.match(format_begin_re)[1];\n                            }\n                        }\n                        result.push(output);\n                        // modify loop by returing new data\n                        return {index: new_index, length: 0, space: -1};\n                    }\n                });\n            }\n            return result;\n        },\n        // ---------------------------------------------------------------------\n        // :: Escape & that's not part of entity\n        // ---------------------------------------------------------------------\n        amp: function amp(str) {\n            return str.replace(/&(?!#[0-9]+;|#x[0-9a-f]+;|[a-z]+;)/gi, '&amp;');\n        },\n        // ---------------------------------------------------------------------\n        // :: Encode formating as html for insertion into DOM\n        // ---------------------------------------------------------------------\n        encode: function encode(str, options) {\n            var settings = $.extend({\n                tabs: 4,\n                before: ''\n            }, options);\n            return $.terminal.amp(str).replace(/</g, '&lt;').replace(/>/g, '&gt;')\n                .replace(/ /g, '&nbsp;').split('\\n').map(function(line) {\n                    var splitted = line.split(/((?:\\[\\[[^\\]]+\\])?\\t(?:\\])?)/);\n                    splitted = splitted.filter(Boolean);\n                    return splitted.map(function(str, i) {\n                        if (str.match(/\\t/)) {\n                            return str.replace(/\\t([^\\t]*)$/, function(_, end) {\n                                if (i !== 0 && splitted[i - 1].match(/\\t\\]?$/)) {\n                                    var sp = new Array(settings.tabs + 1).join('&nbsp;');\n                                    return sp + end;\n                                } else {\n                                    var before = splitted.slice(i - 1, i).join('');\n                                    if (settings.before && i <= 1) {\n                                        before = settings.before + before;\n                                    }\n                                    var len = $.terminal.length(before);\n                                    var chars = settings.tabs - (len % settings.tabs);\n                                    if (chars === 0) {\n                                        chars = 4;\n                                    }\n                                    return new Array(chars + 1).join('&nbsp;') + end;\n                                }\n                            });\n                        }\n                        return str;\n                    }).join('');\n                }).join('\\n');\n        },\n        // -----------------------------------------------------------------------\n        // :: Default formatter that allow for nested formatting, example:\n        // :: [[;;#000]hello [[;#f00;]red] world]\n        // -----------------------------------------------------------------------\n        nested_formatting: function nested_formatting(string) {\n            if (!$.terminal.have_formatting(string)) {\n                return string;\n            }\n            var stack = [];\n            var re = /((?:\\[\\[(?:[^\\][]|\\\\\\])+\\])?(?:[^\\][]|\\\\\\])*\\]?)/;\n            var format_re = /\\[\\[([^\\][]+)\\][\\s\\S]*/;\n            var format_split_re = /^\\[\\[([^;]*);([^;]*);([^\\]]*)\\]/;\n            var class_i = 3; // index of the class in formatting\n            var attrs_i = 5; // index of attributes in formatting\n            // ---------------------------------------------------------------------------\n            function unique(value, index, self) {\n                return self.indexOf(value) === index;\n            }\n            // ---------------------------------------------------------------------------\n            function update_style(new_style, old_style) {\n                new_style = parse_style(new_style);\n                if (!old_style) {\n                    return new_style;\n                }\n                return $.extend(old_style, new_style);\n            }\n            // ---------------------------------------------------------------------------\n            function parse_style(string) {\n                var style = {};\n                string.split(/\\s*;\\s*/).forEach(function(string) {\n                    var parts = string.split(':').map(function(string) {\n                        return string.trim();\n                    });\n                    var prop = parts[0];\n                    var value = parts[1];\n                    style[prop] = value;\n                });\n                return style;\n            }\n            // ---------------------------------------------------------------------------\n            function stringify_formatting(input) {\n                var result = input.slice();\n                if (input[attrs_i]) {\n                    result[attrs_i] = stringify_attrs(input[attrs_i]);\n                }\n                if (input[class_i]) {\n                    result[class_i] = stringify_class(input[class_i]);\n                }\n                result[0] = stringify_styles(input[0]);\n                return result.join(';');\n            }\n            // ---------------------------------------------------------------------------\n            function stringify_styles(input) {\n                var ignore = input.filter(function(s) {\n                    return s[0] === '-';\n                }).map(function(s) {\n                    return s[1];\n                });\n                return input.filter(function(s) {\n                    return ignore.indexOf(s) === -1 && ignore.indexOf(s[1]) === -1;\n                }).join('');\n            }\n            // ---------------------------------------------------------------------------\n            function stringify_attrs(attrs) {\n                return JSON.stringify(attrs, function(key, value) {\n                    if (key === 'style') {\n                        return stringify_style(value);\n                    }\n                    return value;\n                });\n            }\n            // ---------------------------------------------------------------------------\n            function stringify_class(klass) {\n                return klass.filter(unique).join(' ');\n            }\n            // ---------------------------------------------------------------------------\n            function stringify_style(style) {\n                return Object.keys(style).map(function(prop) {\n                    return prop + ':' + style[prop];\n                }).join(';');\n            }\n            // ---------------------------------------------------------------------------\n            function get_inherit_style(stack) {\n                function update_attrs(value) {\n                    if (!output[attrs_i]) {\n                        output[attrs_i] = {};\n                    }\n                    try {\n                        var new_attrs = JSON.parse(value);\n                        if (new_attrs.style) {\n                            var new_style = new_attrs.style;\n                            var old_style = output[attrs_i].style;\n                            new_attrs.style = update_style(new_style, old_style);\n                            output[attrs_i] = $.extend(\n                                new_attrs,\n                                output[attrs_i],\n                                {\n                                    style: update_style(new_style, old_style)\n                                }\n                            );\n                        } else {\n                            output[attrs_i] = $.extend(\n                                new_attrs,\n                                output[attrs_i]\n                            );\n                        }\n                    } catch (e) {\n                        warn('Invalid JSON ' + value);\n                    }\n                }\n                var output = [[], '', ''];\n                if (!stack.length) {\n                    return output;\n                }\n                for (var i = stack.length; i--;) {\n                    var formatting = stack[i].split(';');\n                    if (formatting.length > 5) {\n                        var last = formatting.slice(5).join(';');\n                        formatting = formatting.slice(0, 5).concat(last);\n                    }\n                    var style = formatting[0].split(/(-?[@!gbiuso])/g).filter(Boolean);\n                    style.forEach(function(s) {\n                        if (output[0].indexOf(s) === -1) {\n                            output[0].push(s);\n                        }\n                    });\n                    for (var j = 1; j < formatting.length; ++j) {\n                        var value = formatting[j].trim();\n                        if (value) {\n                            if (j === class_i) {\n                                if (!output[class_i]) {\n                                    output[class_i] = [];\n                                }\n                                var classes = value.split(/\\s+/);\n                                output[class_i] = output[class_i].concat(classes);\n                            } else if (j === attrs_i) {\n                                update_attrs(value);\n                            } else if (!output[j]) {\n                                output[j] = value;\n                            }\n                        }\n                    }\n                }\n                return stringify_formatting(output);\n            }\n            return string.split(re).filter(Boolean).map(function(string) {\n                var style;\n                if (string.match(/^\\[\\[/) && !$.terminal.is_extended_command(string)) {\n                    var formatting = string.replace(format_re, '$1');\n                    var is_formatting = $.terminal.is_formatting(string);\n                    string = string.replace(format_split_re, '');\n                    stack.push(formatting);\n                    if ($.terminal.nested_formatting.__inherit__) {\n                        style = get_inherit_style(stack);\n                    } else {\n                        style = formatting;\n                    }\n                    if (!is_formatting) {\n                        string += ']';\n                    } else {\n                        stack.pop();\n                    }\n                    string = '[[' + style + ']' + string;\n                } else {\n                    var pop = false;\n                    if (string.match(/\\]/)) {\n                        pop = true;\n                    }\n                    if (stack.length) {\n                        if ($.terminal.nested_formatting.__inherit__) {\n                            style = get_inherit_style(stack);\n                        } else {\n                            style = stack[stack.length - 1];\n                        }\n                        string = '[[' + style + ']' + string;\n                    }\n                    if (pop) {\n                        stack.pop();\n                    } else if (stack.length) {\n                        string += ']';\n                    }\n                }\n                return string;\n            }).join('');\n        },\n        // ---------------------------------------------------------------------\n        // :: safe function that will render text as it is\n        // ---------------------------------------------------------------------\n        escape_formatting: function escape_formatting(string) {\n            return $.terminal.escape_brackets(string);\n        },\n        // ---------------------------------------------------------------------\n        // :: apply custom formatters only to text\n        // ---------------------------------------------------------------------\n        apply_formatters: function apply_formatters(string, settings) {\n            if (string === \"\") {\n                if (settings && typeof settings.position === 'number') {\n                    return [\"\", settings.position];\n                } else {\n                    return \"\";\n                }\n            }\n            function test_lengths(formatter, index, ret, string) {\n                if (!formatter.__no_warn__ &&\n                    $.terminal.length(ret) !== $.terminal.length(string)) {\n                    warn('Your formatter[' + index + '] change length of the string, ' +\n                         'you should use [regex, replacement] formatter or function ' +\n                         ' that return [replacement, position] instead');\n                }\n            }\n            function should_format(options) {\n                if (!settings || !options) {\n                    return true;\n                }\n                var props = ['echo', 'command', 'prompt'];\n                var have_any = props.some(function(name) {\n                    return options[name] === true;\n                });\n                if (!have_any) {\n                    return true;\n                }\n                for (var i = props.length; i--;) {\n                    var prop = props[i];\n                    if (options[prop] === true && settings[prop] === true) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n            settings = settings || {};\n            var formatters = settings.formatters || $.terminal.defaults.formatters;\n            var i = 0;\n            function apply_function_formatter(formatter, input) {\n                var options = $.extend({}, settings, {\n                    position: input[1]\n                });\n                var ret = formatter(input[0], options);\n                if (typeof ret === 'string') {\n                    test_lengths(formatter, i - 1, ret, input[0]);\n                    if (typeof ret === 'string') {\n                        return [ret, options.position];\n                    }\n                    return input;\n                } else if (is_array(ret) && ret.length === 2) {\n                    return ret;\n                } else {\n                    return input;\n                }\n            }\n            var input;\n            if (typeof settings.position === 'number') {\n                input = [string, settings.position];\n            } else {\n                input = [string, 0];\n            }\n            try {\n                var result = formatters.reduce(function(input, formatter) {\n                    i++;\n                    // __meta__ is for safe formatter that can handle formatters\n                    // inside formatters. for other usage we use format_split so one\n                    // formatter don't mess with formatter that was previous\n                    // on the list\n                    if (typeof formatter === 'function' && formatter.__meta__) {\n                        return apply_function_formatter(formatter, input);\n                    } else {\n                        var length = 0;\n                        var found_position = false;\n                        var splitted = $.terminal.format_split(input[0]);\n                        var partials = splitted.map(function(string) {\n                            var position;\n                            var this_len = text(string).length;\n                            // first position that match is used for this partial\n                            if (input[1] < length + this_len && !found_position) {\n                                position = input[1] - length;\n                                found_position = true;\n                            } else if (found_position) {\n                                // -1 indicate that we will not track position because it\n                                // was in one of the previous parial strings\n                                position = -1;\n                            } else {\n                                // initial position for replacers\n                                position = input[1];\n                            }\n                            // length is used to correct position after replace\n                            var length_before = length;\n                            var result;\n                            length += this_len;\n                            if ($.terminal.is_formatting(string)) {\n                                if (found_position) {\n                                    return [string, position];\n                                }\n                                return [string, -1];\n                            } else {\n                                if (is_array(formatter)) {\n                                    var options = formatter[2] || {};\n                                    result = [string, position < 0 ? 0 : position];\n                                    if (result[0].match(formatter[0]) &&\n                                        should_format(formatter[2])) {\n                                        if (options.loop) {\n                                            while (result[0].match(formatter[0])) {\n                                                result = $.terminal.tracking_replace(\n                                                    result[0],\n                                                    formatter[0],\n                                                    formatter[1],\n                                                    result[1]\n                                                );\n                                            }\n                                        } else {\n                                            result = $.terminal.tracking_replace(\n                                                result[0],\n                                                formatter[0],\n                                                formatter[1],\n                                                result[1]\n                                            );\n                                        }\n                                    }\n                                    if (position < 0) {\n                                        return [result[0], -1];\n                                    }\n                                } else if (typeof formatter === 'function') {\n                                    result = apply_function_formatter(formatter, [\n                                        string, position\n                                    ]);\n                                }\n                                if (typeof result !== 'undefined') {\n                                    // correct position becuase it's relative\n                                    // to partial and we need global for whole string\n                                    if (result[1] !== -1) {\n                                        result[1] += length_before;\n                                    }\n                                    var after_len = text(result[0]).length;\n                                    if (after_len !== this_len) {\n                                    }\n                                    return result;\n                                }\n                                return [string, -1];\n                            }\n                        });\n                        var position_partial = partials.filter(function(partial) {\n                            return partial[1] !== -1;\n                        })[0];\n                        var string = partials.map(function(partial) {\n                            return partial[0];\n                        }).join('');\n                        var position;\n                        if (typeof position_partial === 'undefined') {\n                            position = input[1];\n                        } else {\n                            position = position_partial[1];\n                        }\n                        // to make sure that output position is not outside the string\n                        var max = text(string).length;\n                        max += count_selfclosing_formatting(string);\n                        if (position > max) {\n                            position = max;\n                        }\n                        if (string === input[0]) {\n                            return input;\n                        }\n                        var before = $.terminal.strip(input[0]);\n                        var after = $.terminal.strip(string);\n                        if (before === after) {\n                            return [string, input[1]];\n                        }\n                        return [string, position];\n                    }\n                }, input);\n                if (typeof settings.position === 'number') {\n                    var codepoint_len = $.terminal.strip(result[0]).length;\n                    if ($.terminal.length(result[0]) < codepoint_len) {\n                        var position = result[1];\n                        position = normalize_position(result[0], position);\n                        var max = $.terminal.length(result[0]);\n                        if (position > max) {\n                            position = max;\n                        }\n                        result[1] = position;\n                    }\n                    return result;\n                } else {\n                    return result[0];\n                }\n            } catch (e) {\n                var msg = 'Error in formatter [' + (i - 1) + ']';\n                formatters.splice(i - 1);\n                throw new $.terminal.Exception('formatting', msg, e.stack);\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: Replace terminal formatting with html\n        // ---------------------------------------------------------------------\n        format: function format(str, options) {\n            var settings = $.extend({}, {\n                linksNoReferrer: false,\n                linksNoFollow: false,\n                allowedAttributes: [],\n                charWidth: undefined,\n                escape: true,\n                anyLinks: false\n            }, options || {});\n            // -----------------------------------------------------------------\n            function filter_attr_names(names) {\n                if (names.length && settings.allowedAttributes.length) {\n                    return names.filter(function(name) {\n                        if (name === 'data-text') {\n                            return false;\n                        }\n                        var allowed = false;\n                        var filters = settings.allowedAttributes;\n                        for (var i = 0; i < filters.length; ++i) {\n                            if (filters[i] instanceof RegExp) {\n                                if (filters[i].test(name)) {\n                                    allowed = true;\n                                    break;\n                                }\n                            } else if (filters[i] === name) {\n                                allowed = true;\n                                break;\n                            }\n                        }\n                        return allowed;\n                    });\n                }\n                return [];\n            }\n            // -----------------------------------------------------------------\n            function clean_data(data, text) {\n                if (data === '') {\n                    return text;\n                } else {\n                    return data.replace(/&#93;/g, ']')\n                        .replace(/>/g, '&gt;')\n                        .replace(/</g, '&lt;')\n                        .replace(/\"/g, '&quot;');\n                }\n            }\n            // -----------------------------------------------------------------\n            function add_attrs(attrs) {\n                if (attrs) {\n                    var keys = filter_attr_names(Object.keys(attrs));\n                    if (keys.length) {\n                        return ' ' + keys.map(function(name) {\n                            var value = attrs[name].replace(/\"/g, '&quot;');\n                            return name + '=\"' + value + '\"';\n                        }).join(' ');\n                    }\n                }\n                return '';\n            }\n            // -----------------------------------------------------------------\n            function rel_attr() {\n                var rel = [\"noopener\"];\n                if (settings.linksNoReferrer) {\n                    rel.unshift(\"noreferrer\");\n                }\n                if (settings.linksNoFollow) {\n                    rel.unshift(\"nofollow\");\n                }\n                return rel;\n            }\n            // -----------------------------------------------------------------\n            // test if this is valid Path\n            // -----------------------------------------------------------------\n            function is_path(url) {\n                return url.match(/^\\.{1,2}\\//) ||\n                    url.match(/^\\//) ||\n                    !(url.match(/\\//) || url.match(/^[^:]+:/));\n            }\n            // -----------------------------------------------------------------\n            function with_url_validation(fn) {\n                return function(url) {\n                    if (settings.anyLinks) {\n                        return true;\n                    }\n                    var test = fn(url);\n                    if (!test) {\n                        warn('Invalid URL ' + url + ' only http(s) ftp and Path ' +\n                             'are allowed');\n                    }\n                    return test;\n                };\n            }\n            // -----------------------------------------------------------------\n            var valid_href = with_url_validation(function(url) {\n                return url.match(/^((https?|file|ftp):\\/\\/|\\.{0,2}\\/)/) || is_path(url);\n            });\n            // -----------------------------------------------------------------\n            var valid_src = with_url_validation(function(url) {\n                return url.match(/^(https?:|file:|blob:|data:)/) || is_path(url);\n            });\n            // -----------------------------------------------------------------\n            function format(s, style, color, background, _class, data_text, text) {\n                function pre_process_link(data) {\n                    var result;\n                    if (data.match(email_re)) {\n                        result = '<a href=\"mailto:' + data + '\"';\n                    } else {\n                        // only http and ftp links (prevent javascript)\n                        // unless user force it with anyLinks option\n                        if (!valid_href(data)) {\n                            data = '';\n                        }\n                        result = '<a target=\"_blank\"';\n                        if (data) {\n                            result += ' href=\"' + data + '\"';\n                        }\n                        result += ' rel=\"' + rel_attr().join(' ') + '\"';\n                    }\n                    return result;\n                }\n                function pre_process_image(data) {\n                    var result = '<img';\n                    if (valid_src(data)) {\n                        result += ' src=\"' + data + '\"';\n                        if (text) {\n                            result += ' alt=\"' + text + '\"';\n                        }\n                    }\n                    return result;\n                }\n                var attrs;\n                if (data_text.match(/;/)) {\n                    try {\n                        var splitted = data_text.split(';');\n                        var str = splitted.slice(1).join(';')\n                            .replace(/&nbsp;/g, ' ')\n                            .replace(/&lt;/g, '<')\n                            .replace(/&gt;/g, '>');\n                        if (str.match(/^\\s*\\{[^}]*\\}\\s*$/)) {\n                            attrs = JSON.parse(str);\n                            data_text = splitted[0];\n                        }\n                    } catch (e) {\n                    }\n                }\n                if (text === '' && !style.match(/@/)) {\n                    return ''; //'<span>&nbsp;</span>';\n                }\n                text = safe(text);\n                text = text.replace(/\\\\\\]/g, '&#93;');\n                if (settings.escape) {\n                    // inside formatting we need to unescape escaped slashes\n                    // but this escape is not needed when echo - don't know why\n                    text = text.replace(/\\\\\\\\/g, '\\\\');\n                }\n                var style_str = '';\n                if (style.indexOf('b') !== -1) {\n                    style_str += 'font-weight:bold;';\n                }\n                var text_decoration = [];\n                if (style.indexOf('u') !== -1) {\n                    text_decoration.push('underline');\n                }\n                if (style.indexOf('s') !== -1) {\n                    text_decoration.push('line-through');\n                }\n                if (style.indexOf('o') !== -1) {\n                    text_decoration.push('overline');\n                }\n                if (text_decoration.length) {\n                    style_str += 'text-decoration:' +\n                        text_decoration.join(' ') + ';';\n                }\n                if (style.indexOf('i') !== -1) {\n                    style_str += 'font-style:italic;';\n                }\n                if ($.terminal.valid_color(color)) {\n                    style_str += [\n                        'color:' + color,\n                        '--color:' + color,\n                        '--original-color:' + color\n                    ].join(';') + ';';\n                    if (style.indexOf('!') !== -1) {\n                        style_str += '--link-color:' + color + ';';\n                    }\n                    if (style.indexOf('g') !== -1) {\n                        style_str += 'text-shadow:0 0 5px ' + color + ';';\n                    }\n                }\n                if ($.terminal.valid_color(background)) {\n                    style_str += [\n                        'background-color:' + background,\n                        '--background:' + background\n                    ].join(';') + ';';\n                }\n                var data = clean_data(data_text, text);\n                var extra = extra_css(text, settings);\n                if (extra) {\n                    text = wide_characters(text, settings);\n                    style_str += extra;\n                }\n                var result;\n                if (style.indexOf('!') !== -1) {\n                    result = pre_process_link(data);\n                } else if (style.indexOf('@') !== -1) {\n                    result = pre_process_image(data);\n                } else {\n                    result = '<span';\n                }\n                if (attrs && attrs.style) {\n                    // merge style attr and colors #617\n                    attrs.style = style_str + attrs.style;\n                    style_str = '';\n                }\n                result += add_attrs(attrs);\n                if (style_str !== '') {\n                    result += ' style=\"' + style_str + '\"';\n                }\n                if (_class !== '') {\n                    result += ' class=\"' + _class + '\"';\n                }\n                // links and image need data-text attribute cmd click behavior\n                // formatter can return links.\n                if (style.indexOf('!') !== -1) {\n                    result += ' data-text>' + text + '</a>';\n                } else if (style.indexOf('@') !== -1) {\n                    result += ' data-text/>';\n                } else {\n                    result += ' data-text=\"' + data + '\">' +\n                        '<span>' + text + '</span></span>';\n                }\n                return result;\n            }\n            if (typeof str === 'string') {\n                // support for formating foo[[u;;]bar]baz[[b;#fff;]quux]zzz\n                var splitted = $.terminal.format_split(str);\n                str = $.map(splitted, function(text) {\n                    if (text === '') {\n                        return text;\n                    } else if ($.terminal.is_formatting(text)) {\n                        // fix &nbsp; inside formatting because encode is called\n                        // before format\n                        text = text.replace(/\\[\\[[^\\]]+\\]/, function(text) {\n                            return text.replace(/&nbsp;/g, ' ');\n                        });\n                        return text.replace(format_parts_re, format);\n                    } else {\n                        text = safe(text);\n                        text = text.replace(/\\\\\\]/, '&#93;');\n                        var data = clean_data(text);\n                        var extra = extra_css(text, settings);\n                        var prefix;\n                        if (extra.length) {\n                            text = wide_characters(text, settings);\n                            prefix = '<span style=\"' + extra + '\"';\n                        } else {\n                            prefix = '<span';\n                        }\n                        return prefix + ' data-text=\"' + data + '\">' + text + '</span>';\n                    }\n                }).join('');\n                return str.replace(/<span><br\\s*\\/?><\\/span>/gi, '<br/>');\n            } else {\n                return '';\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: Replace brackets with html entities\n        // ---------------------------------------------------------------------\n        escape_brackets: function escape_brackets(string) {\n            return string.replace(/\\[/g, '&#91;')\n                .replace(/\\]/g, '&#93;')\n                .replace(/\\\\/g, '&#92;');\n        },\n        // ---------------------------------------------------------------------\n        // :: complmentary function\n        // ---------------------------------------------------------------------\n        unescape_brackets: function unescape_brackets(string) {\n            return string.replace(/&#91;/g, '[')\n                .replace(/&#93;/g, ']')\n                .replace(/&#92;/g, '\\\\');\n        },\n        // ---------------------------------------------------------------------\n        // :: return number of characters without formatting\n        // ---------------------------------------------------------------------\n        length: function(string, raw) {\n            if (!string) {\n                return 0;\n            }\n            return $.terminal.split_characters(raw ? string : text(string)).length;\n        },\n        // ---------------------------------------------------------------------\n        // :: split characters handling emoji, surogate pairs and combine chars\n        // ---------------------------------------------------------------------\n        split_characters: function split_characters(string) {\n            var result = [];\n            var get_next_character = make_next_char_fun(string);\n            while (string.length) {\n                var chr = get_next_character(string);\n                string = string.slice(chr.length);\n                result.push(chr);\n            }\n            return result;\n        },\n        // ---------------------------------------------------------------------\n        // :: return string where array items are in columns padded spaces\n        // :: after adding align tabs arr.join('\\t\\t') looks much better\n        // ---------------------------------------------------------------------\n        columns: function(array, cols, space) {\n            var no_formatting = array.map(function(string) {\n                return $.terminal.strip(string);\n            });\n            var lengths = no_formatting.map(function(string) {\n                return strlen(string);\n            });\n            if (typeof space === 'undefined') {\n                space = 4;\n            }\n            var length = Math.max.apply(null, lengths) + space;\n            // we need value - 1 because index starts from 0\n            var column_limit = Math.floor(cols / length) - 1;\n            if (column_limit < 1) {\n                return array.join('\\n');\n            }\n            var lines = [];\n            for (var i = 0, len = array.length; i < len; i += column_limit) {\n                var line = array.slice(i, i + column_limit);\n                var last = line.pop();\n                lines.push(line.reduce(function(acc, string) {\n                    var stripped = $.terminal.strip(string);\n                    var pad = new Array(length - stripped.length + 1).join(' ');\n                    acc.push(string + pad);\n                    return acc;\n                }, []).join('') + last);\n            }\n            return lines.join('\\n');\n        },\n        // ---------------------------------------------------------------------\n        // :: Remove formatting from text\n        // ---------------------------------------------------------------------\n        strip: function strip(str) {\n            if (!$.terminal.have_formatting(str)) {\n                return str;\n            }\n            return $.terminal.format_split(str).map(function(str) {\n                if ($.terminal.is_formatting(str)) {\n                    str = str.replace(format_parts_re, '$6');\n                    return str.replace(/\\\\([[\\]])/g, function(whole, bracket) {\n                        return bracket;\n                    });\n                }\n                return str;\n            }).join('');\n        },\n        // ---------------------------------------------------------------------\n        // :: Return active terminal\n        // ---------------------------------------------------------------------\n        active: function active() {\n            return terminals.front();\n        },\n        // ---------------------------------------------------------------------\n        // :: Implmentation detail id is always length of terminals Cycle\n        // ---------------------------------------------------------------------\n        last_id: function last_id() {\n            var len = terminals.length();\n            return len - 1;\n        },\n        // ---------------------------------------------------------------------\n        // :: Function that works with strings like 'asd' 'asd\\' asd' \"asd asd\"\n        // :: asd\\ 123 -n -b / [^ ]+ / /\\s+/ asd\\ a it creates a regex and\n        // :: numbers and replaces escape characters in double quotes\n        // :: if strict is set to false it only strips single and double quotes\n        // :: and escapes spaces\n        // ---------------------------------------------------------------------\n        parse_argument: function parse_argument(arg, strict) {\n            function parse_string(string) {\n                // split string to string literals and non-strings\n                return string.split(string_re).map(function(string) {\n                    // remove quotes if before are even number of slashes\n                    // we don't remove slases becuase they are handled by JSON.parse\n                    if (string.match(/^['\"`]/)) {\n                        // fixing regex to match empty string is not worth it\n                        if (string === '\"\"' || string === \"''\" || string === \"``\") {\n                            return '';\n                        }\n                        var quote = string[0];\n                        var re = new RegExp(\"(\\\\\\\\\\\\\\\\(?:\\\\\\\\\\\\\\\\)*)\" + quote, \"g\");\n                        string = string.replace(re, '$1').replace(/^[`'\"]|[`'\"]$/g, '');\n                        if (quote === \"'\") {\n                            string = string.replace(/\"/g, '\\\\\"');\n                        }\n                    }\n                    string = '\"' + string + '\"';\n                    // use build in function to parse rest of escaped characters\n                    return JSON.parse(string);\n                }).join('');\n            }\n            if (strict === false) {\n                if (arg[0] === \"'\" && arg[arg.length - 1] === \"'\") {\n                    return arg.replace(/^'|'$/g, '');\n                } else if (arg[0] === \"`\" && arg[arg.length - 1] === \"`\") {\n                    return arg.replace(/^`|`$/g, '');\n                } else if (arg[0] === '\"' && arg[arg.length - 1] === '\"') {\n                    return arg.replace(/^\"|\"$/g, '').replace(/\\\\([\" ])/g, '$1');\n                } else if (arg.match(/\\/.*\\/[gimy]*$/)) {\n                    return arg;\n                } else if (arg.match(/['\"`]]/)) {\n                    // part of arg is in quote\n                    return parse_string(arg);\n                } else {\n                    return arg.replace(/\\\\ /g, ' ');\n                }\n            }\n            if (arg === 'true') {\n                return true;\n            } else if (arg === 'false') {\n                return false;\n            }\n            var regex = arg.match(re_re);\n            if (regex) {\n                return new RegExp(regex[1], regex[2]);\n            } else if (arg.match(/['\"`]/)) {\n                return parse_string(arg);\n            } else if (arg.match(/^-?[0-9]+$/)) {\n                return parseInt(arg, 10);\n            } else if (arg.match(float_re)) {\n                return parseFloat(arg);\n            } else {\n                return arg.replace(/\\\\(['\"() ])/g, '$1');\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: function split and parse arguments\n        // ---------------------------------------------------------------------\n        parse_arguments: function parse_arguments(string) {\n            return $.map(string.match(command_re) || [], $.terminal.parse_argument);\n        },\n        // ---------------------------------------------------------------------\n        // :: Function split and strips single and double quotes\n        // :: and escapes spaces\n        // ---------------------------------------------------------------------\n        split_arguments: function split_arguments(string) {\n            return $.map(string.match(command_re) || [], function(arg) {\n                return $.terminal.parse_argument(arg, false);\n            });\n        },\n        // ---------------------------------------------------------------------\n        // :: Function that returns an object {name,args}. Arguments are parsed\n        // :: using the function parse_arguments\n        // ---------------------------------------------------------------------\n        parse_command: function parse_command(string) {\n            return process_command(string, $.terminal.parse_argument);\n        },\n        // ---------------------------------------------------------------------\n        // :: Same as parse_command but arguments are parsed using split_arguments\n        // ---------------------------------------------------------------------\n        split_command: function split_command(string) {\n            return process_command(string, function(arg) {\n                return $.terminal.parse_argument(arg, false);\n            });\n        },\n        // ---------------------------------------------------------------------\n        // :; function that parse arguments like yargs library\n        // ---------------------------------------------------------------------\n        parse_options: function parse_options(arg, options) {\n            var settings = $.extend({}, {\n                boolean: []\n            }, options);\n            if (typeof arg === 'string') {\n                return parse_options($.terminal.split_arguments(arg), options);\n            }\n            var result = {\n                _: []\n            };\n            function token(value) {\n                this.value = value;\n            }\n            var rest = arg.reduce(function(acc, arg) {\n                var str = typeof arg === 'string' ? arg : '';\n                if (str.match(/^--?[^-]/) && acc instanceof token) {\n                    result[acc.value] = true;\n                }\n                if (str.match(/^--[^-]/)) {\n                    var name = str.replace(/^--/, '');\n                    if (settings.boolean.indexOf(name) === -1) {\n                        return new token(name);\n                    } else {\n                        result[name] = true;\n                    }\n                } else if (str.match(/^-[^-]/)) {\n                    var single = str.replace(/^-/, '').split('');\n                    if (settings.boolean.indexOf(single.slice(-1)[0]) === -1) {\n                        var last = single.pop();\n                    }\n                    single.forEach(function(single) {\n                        result[single] = true;\n                    });\n                    if (last) {\n                        return new token(last);\n                    }\n                } else if (acc instanceof token) {\n                    result[acc.value] = arg;\n                } else if (arg) {\n                    result._.push(arg);\n                }\n                return null;\n            }, null);\n            if (rest instanceof token) {\n                result[rest.value] = true;\n            }\n            return result;\n        },\n        // ---------------------------------------------------------------------\n        // :: function executed for each text inside [[ .... ]] in echo\n        // ---------------------------------------------------------------------\n        extended_command: function extended_command(term, string, options) {\n            var settings = $.extend({\n                invokeMethods: false\n            }, options);\n            var deferred = new $.Deferred();\n            try {\n                change_hash = false;\n                var m = string.match(extended_command_re);\n                if (m) {\n                    if (!settings.invokeMethods) {\n                        warn('To invoke terminal or cmd methods you need to enable ' +\n                             'invokeMethods option');\n                        deferred.reject();\n                    } else {\n                        string = m[1];\n                        var obj = m[2] === 'terminal' ? term : term.cmd();\n                        var fn = m[3];\n                        try {\n                            var args = eval('[' + m[4] + ']');\n                            if (!obj[fn]) {\n                                term.error('Unknow function ' + fn);\n                            } else {\n                                var ret = obj[fn].apply(term, args);\n                                if (ret && ret.then) {\n                                    return ret;\n                                }\n                            }\n                            deferred.resolve();\n                        } catch (e) {\n                            term.error('Invalid invocation in ' +\n                                       $.terminal.escape_brackets(string));\n                            deferred.reject();\n                        }\n                    }\n                } else {\n                    return term.exec(string, true).done(function() {\n                        change_hash = true;\n                    });\n                }\n            } catch (e) {\n                // error is process in exec\n                deferred.reject();\n            }\n            return deferred.promise();\n        },\n        // ---------------------------------------------------------------------\n        // :: ES6 iterator for a given string that handle emoji and formatting\n        // ---------------------------------------------------------------------\n        iterator: function(string) {\n            function formatting(string) {\n                if ($.terminal.is_formatting(string)) {\n                    if (string.match(/\\]\\\\\\]/)) {\n                        string = string.replace(/\\]\\\\\\]/g, ']\\\\\\\\]');\n                    }\n                }\n                return string;\n            }\n            if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n                var len = $.terminal.length(string);\n                var i = 0;\n                var obj = {};\n                obj[Symbol.iterator] = function() {\n                    return {\n                        next: function() {\n                            if (i < len) {\n                                var text = $.terminal.substring(string, i, i + 1);\n                                i++;\n                                return {\n                                    value: formatting(text)\n                                };\n                            } else {\n                                return {\n                                    done: true\n                                };\n                            }\n                        }\n                    };\n                };\n                return obj;\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: object that can be used in string methods intead of regex\n        // ---------------------------------------------------------------------\n        formatter: new (function() {\n            try {\n                this[Symbol.split] = function(string) {\n                    return $.terminal.format_split(string);\n                };\n                this[Symbol.match] = function(string) {\n                    return string.match(format_re);\n                };\n                this[Symbol.replace] = function(string, replacer) {\n                    return string.replace(format_parts_re, replacer);\n                };\n                this[Symbol.search] = function(string) {\n                    return string.search(format_re);\n                };\n            } catch (e) {\n            }\n        })(),\n        // ---------------------------------------------------------------------\n        // :: helper function that add formatter before nested_formatting\n        // ---------------------------------------------------------------------\n        new_formatter: function(formatter) {\n            var formatters = $.terminal.defaults.formatters;\n            for (var i = 0; i < formatters.length; ++i) {\n                if (formatters[i] === $.terminal.nested_formatting) {\n                    formatters.splice(i, 0, formatter);\n                    return;\n                }\n            }\n            formatters.push(formatter);\n        }\n    };\n    // -------------------------------------------------------------------------\n    $.terminal.Exception = function Terminal_Exception(type, message, stack) {\n        if (arguments.length === 1) {\n            this.message = arguments[0];\n            this.type = 'TERMINAL';\n        } else {\n            this.type = type;\n            this.message = message;\n            if (stack) {\n                this.stack = stack;\n            }\n        }\n    };\n    $.terminal.Exception.prototype = new Error();\n    $.terminal.Exception.prototype.toString = function() {\n        return this.message + '\\n' + this.stack;\n    };\n    // -----------------------------------------------------------------------\n    // Helper plugins and functions\n    // -----------------------------------------------------------------------\n    $.fn.visible = function() {\n        return this.css('visibility', 'visible');\n    };\n    $.fn.hidden = function() {\n        return this.css('visibility', 'hidden');\n    };\n    // -----------------------------------------------------------------------\n    var warnings = [];\n    function warn(msg) {\n        msg = '[jQuery Terminal] ' + msg;\n        if (warnings.indexOf(msg) === -1) {\n            warnings.push(msg);\n            /* eslint-disable */\n            if (console) {\n                if (console.warn) {\n                    console.warn(msg);\n                } else if (console.log) {\n                    console.log(msg);\n                }\n                /* eslint-enable */\n            } else {\n                // prevent catching in outer try..catch\n                setTimeout(function() {\n                    throw new Error('WARN: ' + msg);\n                }, 0);\n            }\n        }\n    }\n    // -----------------------------------------------------------------------\n    // JSON-RPC CALL\n    // -----------------------------------------------------------------------\n    var ids = {}; // list of url based ids of JSON-RPC\n    $.jrpc = function(url, method, params, success, error) {\n        var deferred = new $.Deferred();\n        var options;\n        if ($.isPlainObject(url)) {\n            options = url;\n        } else {\n            options = {\n                url: url,\n                method: method,\n                params: params,\n                success: success,\n                error: error\n            };\n        }\n        function validJSONRPC(response) {\n            return $.isNumeric(response.id) &&\n                (typeof response.result !== 'undefined' ||\n                 typeof response.error !== 'undefined');\n        }\n        ids[options.url] = ids[options.url] || 0;\n        var request = {\n            'jsonrpc': '2.0',\n            'method': options.method,\n            'params': options.params,\n            'id': ++ids[options.url]\n        };\n        $.ajax({\n            url: options.url,\n            beforeSend: function beforeSend(jxhr, settings) {\n                if (is_function(options.request)) {\n                    options.request(jxhr, request);\n                }\n                settings.data = JSON.stringify(request);\n            },\n            success: function success(response, status, jqXHR) {\n                var content_type = jqXHR.getResponseHeader('Content-Type');\n                if (!content_type.match(/(application|text)\\/json/)) {\n                    warn('Response Content-Type is neither application/json' +\n                         ' nor text/json');\n                }\n                var json;\n                try {\n                    json = JSON.parse(response);\n                } catch (e) {\n                    if (options.error) {\n                        options.error(jqXHR, 'Invalid JSON', e);\n                    } else {\n                        throw new $.terminal.Exception('JSON', 'Invalid JSON', e.stack);\n                    }\n                    deferred.reject({message: 'Invalid JSON', response: response});\n                    return;\n                }\n                if (is_function(options.response)) {\n                    options.response(jqXHR, json);\n                }\n                if (validJSONRPC(json) || options.method === 'system.describe') {\n                    // don't catch errors in success callback\n                    if (options.success) {\n                        options.success(json, status, jqXHR);\n                    }\n                    deferred.resolve(json);\n                } else {\n                    if (options.error) {\n                        options.error(jqXHR, 'Invalid JSON-RPC');\n                    }\n                    deferred.reject({message: 'Invalid JSON-RPC', response: response});\n                }\n            },\n            error: options.error,\n            contentType: 'application/json',\n            dataType: 'text',\n            async: true,\n            cache: false,\n            // timeout: 1,\n            type: 'POST'\n        });\n        return deferred.promise();\n    };\n    // -----------------------------------------------------------------------\n    $.rpc = function(url, method, params) {\n        var deferred = new $.Deferred();\n        function success(res) {\n            if (res.error) {\n                deferred.reject(res.error);\n            } else {\n                deferred.resolve(res.result);\n            }\n        }\n        function error(jqXHR, status, message) {\n            deferred.reject({message: message});\n        }\n        $.jrpc(url, method, params, success, error);\n        return deferred.promise();\n    };\n    // -----------------------------------------------------------------------\n    function terminal_ready(term) {\n        return !!(term.closest('body').length &&\n                  term.is(':visible') &&\n                  term.find('.cmd-prompt').length);\n    }\n    // -----------------------------------------------------------------------\n    // :: Create fake terminal to calcualte the dimention of one character\n    // :: this will make terminal work if terminal div is not added to the\n    // :: DOM at init like with:\n    // :: $('<div/>').terminal().echo('foo bar').appendTo('body');\n    // -----------------------------------------------------------------------\n    function get_char_size(term) {\n        var rect;\n        if (terminal_ready(term)) {\n            var $prompt = term.find('.cmd-prompt').clone().css({\n                visiblity: 'hidden',\n                position: 'absolute'\n            });\n            $prompt.appendTo(term.find('.cmd')).html('&nbsp;');\n            rect = $prompt[0].getBoundingClientRect();\n            $prompt.remove();\n        } else {\n            var temp = $('<div class=\"terminal terminal-temp\"><div class=\"terminal-' +\n                         'wrapper\"><div class=\"terminal-output\"><div><div class=\"te' +\n                         'rminal-line\" style=\"float: left\"><span>&nbsp;</span></div' +\n                         '></div></div></div>').appendTo('body');\n            temp.addClass(term.attr('class')).attr('id', term.attr('id'));\n            if (term) {\n                var style = term.attr('style');\n                if (style) {\n                    style = style.split(/\\s*;\\s*/).filter(function(s) {\n                        return !s.match(/display\\s*:\\s*none/i);\n                    }).join(';');\n                    temp.attr('style', style);\n                }\n            }\n            rect = temp.find('.terminal-line')[0].getBoundingClientRect();\n        }\n        var result = {\n            width: rect.width,\n            height: rect.height\n        };\n        if (temp) {\n            temp.remove();\n        }\n        return result;\n    }\n    // -----------------------------------------------------------------------\n    // :: calculate numbers of characters\n    // -----------------------------------------------------------------------\n    function get_num_chars(terminal, char_size) {\n        var width = terminal.find('.terminal-fill').width();\n        var result = Math.floor(width / char_size.width);\n        // random number to not get NaN in node.js but big enough to\n        // not wrap exception\n        return result || 1000;\n    }\n    // -----------------------------------------------------------------------\n    // :: Calculate number of lines that fit without scroll\n    // -----------------------------------------------------------------------\n    function get_num_rows(terminal, char_size) {\n        var height = terminal.find('.terminal-fill').height();\n        return Math.floor(height / char_size.height);\n    }\n    // -----------------------------------------------------------------------\n    function all(array, fn) {\n        var same = array.filter(function(item) {\n            return item[fn]() === item;\n        });\n        return same.length === array.length;\n    }\n    // -----------------------------------------------------------------------\n    function string_case(string) {\n        var array = string.split('');\n        if (all(array, 'toLowerCase')) {\n            return 'lower';\n        } else if (all(array, 'toUpperCase')) {\n            return 'upper';\n        } else {\n            return 'mixed';\n        }\n    }\n    // -----------------------------------------------------------------------\n    function same_case(string) {\n        return string_case(string) !== 'mixed';\n    }\n    // -----------------------------------------------------------------------\n    // fix for jQuery bug\n    function is_function(object) {\n        return get_type(object) === 'function';\n    }\n    // -----------------------------------------------------------------------\n    function is_object(object) {\n        return object && typeof object === 'object';\n    }\n    // -----------------------------------------------------------------------\n    function is_promise(object) {\n        return is_object(object) && is_function(object.then || object.done);\n    }\n    // -----------------------------------------------------------------------\n    function is_deferred(object) {\n        return is_promise(object) && is_function(object.promise);\n    }\n    // -----------------------------------------------------------------------\n    if (!Array.isArray) {\n        Array.isArray = function(arg) {\n            return Object.prototype.toString.call(arg) === '[object Array]';\n        };\n    }\n    // -----------------------------------------------------------------------\n    function is_array(object) {\n        return Array.isArray(object);\n    }\n    // -----------------------------------------------------------------------\n    function get_type(object) {\n        if (typeof object === 'function') {\n            return 'function';\n        }\n        if (object === null) {\n            return object + '';\n        }\n        if (Array.isArray(object)) {\n            return 'array';\n        }\n        if (typeof object === 'object') {\n            return 'object';\n        }\n        return typeof object;\n    }\n    // -----------------------------------------------------------------------\n    // :: TERMINAL PLUGIN CODE\n    // -----------------------------------------------------------------------\n    var version_set = !$.terminal.version.match(/^\\{\\{/);\n    var copyright = 'Copyright (c) 2011-2021 Jakub T. Jankiewicz ' +\n        '<https://jcubic.pl/me>';\n    var version_string = version_set ? ' v. ' + $.terminal.version : ' ';\n    // regex is for placing version string aligned to the right\n    var reg = new RegExp(' {' + version_string.length + '}$');\n    var name_ver = 'jQuery Terminal Emulator' +\n        (version_set ? version_string : '');\n    // -----------------------------------------------------------------------\n    // :: Terminal Signatures\n    // -----------------------------------------------------------------------\n    var signatures = [\n        ['jQuery Terminal', '(c) 2011-2021 jcubic'],\n        [name_ver, copyright.replace(/^Copyright | *<.*>/g, '')],\n        [name_ver, copyright.replace(/^Copyright /, '')],\n        [\n            '      _______                 ________                        __',\n            '     / / _  /_ ____________ _/__  ___/______________  _____  / /',\n            ' __ / / // / // / _  / _/ // / / / _  / _/     / /  \\\\/ / _ \\\\/ /',\n            '/  / / // / // / ___/ // // / / / ___/ // / / / / /\\\\  / // / /__',\n            '\\\\___/____ \\\\\\\\__/____/_/ \\\\__ / /_/____/_//_/_/_/_/_/  \\\\/\\\\__\\\\_\\\\___/',\n            '         \\\\/          /____/                                   '\n                .replace(reg, ' ') + version_string,\n            copyright\n        ],\n        [\n            '      __ _____                     ________                            ' +\n                '  __',\n            '     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___ ' +\n                ' / /',\n            ' __ / // // // // // _  // _// // / / // _  // _//     // //  \\\\/ // _ ' +\n                '\\\\/ /',\n            '/  / // // // // // ___// / / // / / // ___// / / / / // // /\\\\  // // ' +\n                '/ /__',\n            '\\\\___//____ \\\\\\\\___//____//_/ _\\\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\\\' +\n                '__\\\\_\\\\___/',\n            ('          \\\\/              /____/                                     ' +\n             '     ').replace(reg, '') + version_string,\n            copyright\n        ]\n    ];\n    // -----------------------------------------------------------------------\n    // :: Default options\n    // -----------------------------------------------------------------------\n    $.terminal.nested_formatting.__meta__ = true;\n    // if set to false nested formatting will not inherit styles colors and attribues\n    $.terminal.nested_formatting.__inherit__ = true;\n    // nested formatting will always return different length so we silent the warning\n    $.terminal.nested_formatting.__no_warn__ = true;\n    $.terminal.defaults = {\n        prompt: '> ',\n        history: true,\n        exit: true,\n        clear: true,\n        enabled: true,\n        maskChar: '*',\n        wrap: true,\n        checkArity: true,\n        raw: false,\n        tabindex: 1,\n        invokeMethods: false,\n        exceptionHandler: null,\n        pauseEvents: true,\n        softPause: false,\n        mousewheel: null,\n        touchscroll: null,\n        memory: false,\n        cancelableAjax: true,\n        processArguments: true,\n        execAnimation: false,\n        execAnimationDelay: 100,\n        linksNoReferrer: false,\n        useCache: true,\n        anyLinks: false,\n        linksNoFollow: false,\n        processRPCResponse: null,\n        completionEscape: true,\n        onCommandChange: null,\n        mobileDelete: is_mobile,\n        onPositionChange: null,\n        convertLinks: true,\n        extra: {},\n        tabs: 4,\n        historySize: 60,\n        scrollObject: null,\n        historyState: false,\n        importHistory: false,\n        historyFilter: null,\n        echoCommand: true,\n        scrollOnEcho: true,\n        login: null,\n        outputLimit: -1,\n        formatters: [$.terminal.nested_formatting],\n        unixFormatting: {\n            escapeBrackets: false,\n            ansiParser: {},\n            ansiArt: false\n        },\n        onAjaxError: null,\n        pasteImage: true,\n        scrollBottomOffset: 20,\n        wordAutocomplete: true,\n        caseSensitiveAutocomplete: true,\n        caseSensitiveSearch: true,\n        clickTimeout: 200,\n        holdTimeout: 400,\n        holdRepeatTimeout: 200,\n        repeatTimeoutKeys: [],\n        mobileIngoreAutoSpace: [],\n        request: $.noop,\n        response: $.noop,\n        describe: 'procs',\n        onRPCError: null,\n        keymap: null,\n        doubleTab: null,\n        doubleTabEchoCommand: false,\n        completion: false,\n        onInit: $.noop,\n        onClear: $.noop,\n        onBlur: $.noop,\n        onFocus: $.noop,\n        onTerminalChange: $.noop,\n        onExit: $.noop,\n        onPush: $.noop,\n        onPop: $.noop,\n        keypress: $.noop,\n        keydown: $.noop,\n        renderHandler: null,\n        onAfterRedraw: $.noop,\n        onEchoCommand: $.noop,\n        onPaste: $.noop,\n        onFlush: $.noop,\n        onBeforeCommand: null,\n        onAfterCommand: null,\n        onBeforeEcho: null,\n        onAfterEcho: null,\n        onBeforeLogin: null,\n        onAfterLogout: null,\n        onBeforeLogout: null,\n        allowedAttributes: ['title', /^aria-/, 'id', /^data-/],\n        strings: {\n            comletionParameters: 'From version 1.0.0 completion function need to' +\n                ' have two arguments',\n            wrongPasswordTryAgain: 'Wrong username or password try again!',\n            wrongPassword: 'Wrong username or password!',\n            ajaxAbortError: 'Error while aborting ajax call!',\n            wrongArity: \"Wrong number of arguments. Function '%s' expects %s got\" +\n                ' %s!',\n            commandNotFound: \"Command '%s' Not Found!\",\n            oneRPCWithIgnore: 'You can use only one rpc with describe == false ' +\n                'or rpc without system.describe',\n            oneInterpreterFunction: \"You can't use more than one function (rpc \" +\n                'without system.describe or with option describe == false count' +\n                 's as one)',\n            loginFunctionMissing: \"You didn't specify a login function\",\n            noTokenError: 'Access denied (no token)',\n            serverResponse: 'Server responded',\n            wrongGreetings: 'Wrong value of greetings parameter',\n            notWhileLogin: \"You can't call `%s' function while in login\",\n            loginIsNotAFunction: 'Authenticate must be a function',\n            canExitError: \"You can't exit from main interpreter\",\n            invalidCompletion: 'Invalid completion',\n            invalidSelector: 'Sorry, but terminal said that you use invalid ' +\n                'selector!',\n            invalidTerminalId: 'Invalid Terminal ID',\n            login: 'login',\n            password: 'password',\n            recursiveLoop: 'Recursive loop in echo detected, skip',\n            notAString: '%s function: argument is not a string',\n            redrawError: 'Internal error, wrong position in cmd redraw',\n            invalidStrings: 'Command %s have unclosed strings',\n            defunctTerminal: \"You can't call method on terminal that was destroyed\"\n        }\n    };\n    // -------------------------------------------------------------------------\n    // :: All terminal globals\n    // -------------------------------------------------------------------------\n    var requests = []; // for canceling on CTRL+D\n    var terminals = new Cycle(); // list of terminals global in this scope\n    // state for all terminals, terminals can't have own array fo state because\n    // there is only one popstate event\n    var save_state = []; // hold objects returned by export_view by history API\n    var hash_commands;\n    var change_hash = false; // don't change hash on Init\n    var fire_hash_change = true;\n    var first_instance = true; // used by history state\n    $.fn.terminal = function(init_interpreter, options) {\n        function StorageHelper(memory) {\n            if (memory) {\n                this.storage = {};\n            }\n            this.set = function(key, value) {\n                if (memory) {\n                    this.storage[key] = value;\n                } else {\n                    $.Storage.set(key, value);\n                }\n            };\n            this.get = function(key) {\n                if (memory) {\n                    return this.storage[key];\n                } else {\n                    return $.Storage.get(key);\n                }\n            };\n            this.remove = function(key) {\n                if (memory) {\n                    delete this.storage[key];\n                } else {\n                    $.Storage.remove(key);\n                }\n            };\n        }\n        // ---------------------------------------------------------------------\n        // :: helper function\n        // ---------------------------------------------------------------------\n        function get_processed_command(command) {\n            if ($.terminal.unclosed_strings(command)) {\n                var string = $.terminal.escape_brackets(command);\n                var message = sprintf(strings().invalidStrings, \"`\" + string + \"`\");\n                throw new $.terminal.Exception(message);\n            } else if (is_function(settings.processArguments)) {\n                return process_command(command, settings.processArguments);\n            } else if (settings.processArguments) {\n                return $.terminal.parse_command(command);\n            } else {\n                return $.terminal.split_command(command);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: helper function that use option to render objects\n        // ---------------------------------------------------------------------\n        function preprocess_value(value, options) {\n            if ($.terminal.Animation && value instanceof $.terminal.Animation) {\n                value.start(self);\n                return false;\n            }\n            if (is_function(settings.renderHandler)) {\n                var ret = settings.renderHandler.call(self, value, options, self);\n                if (ret === false) {\n                    return false;\n                }\n                if (typeof ret === 'string' || is_node(ret) || is_promise(ret)) {\n                    return ret;\n                } else {\n                    return value;\n                }\n            }\n            return value;\n        }\n        // ---------------------------------------------------------------------\n        // :: call when line is out of view when outputLimit is used\n        // :: NOTE: it's not called when less plugin is used onClear is called\n        // :: instead because less call term::clear() after export old view\n        // ---------------------------------------------------------------------\n        function unmount(node) {\n            var index = node.data('index');\n            var line = lines[index];\n            var options = line[1];\n            if (is_function(options.unmount)) {\n                options.unmount.call(self, node);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: helper function used in render and in update\n        // ---------------------------------------------------------------------\n        function prepare_render(value, options) {\n            if (is_node(value)) {\n                var settings = $.extend({}, options, {\n                    raw: true,\n                    finalize: function(div) {\n                        div.find('.terminal-render-item').replaceWith(value);\n                        if (options && is_function(options.finalize)) {\n                            options.finalize(div, self);\n                        }\n                    }\n                });\n                return ['<div class=\"terminal-render-item\"/>', settings];\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: helper function that renders DOM nodes and jQuery objects\n        // ---------------------------------------------------------------------\n        function render(value, options) {\n            var ret = prepare_render(value, options);\n            if (ret) {\n                self.echo.apply(self, ret);\n                return true;\n            }\n        }\n        // ---------------------------------------------------------------------\n        function get_node(index) {\n            return output.find('[data-index=' + index + ']');\n        }\n        // ---------------------------------------------------------------------\n        // :: test if object can be rendered\n        // ---------------------------------------------------------------------\n        function is_node(object) {\n            return object instanceof $.fn.init || object instanceof Element;\n        }\n        // ---------------------------------------------------------------------\n        // :: Display object on terminal\n        // ---------------------------------------------------------------------\n        function display_object(object) {\n            object = preprocess_value(object);\n            if (object === false) {\n                return;\n            }\n            if (render(object)) {\n                return;\n            }\n            if (typeof object === 'string') {\n                self.echo(object);\n            } else if (is_array(object)) {\n                self.echo($.map(object, function(object) {\n                    return JSON.stringify(object);\n                }).join(' '));\n            } else if (typeof object === 'object') {\n                self.echo(JSON.stringify(object));\n            } else {\n                self.echo(object);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Display line code in the file if line numbers are present\n        // ---------------------------------------------------------------------\n        function print_line(url_spec, cols) {\n            var re = /(.*):([0-9]+):([0-9]+)$/;\n            // google chrome have line and column after filename\n            var m = url_spec.match(re);\n            if (m) {\n                // TODO: do we need to call pause/resume or return promise?\n                self.pause(settings.softPause);\n                $.get(m[1], function(response) {\n                    var file = m[1];\n                    var code = response.split('\\n');\n                    var n = +m[2] - 1;\n                    var start = n > 2 ? n - 2 : 0;\n                    var lines = code.slice(start, n + 3).map(function(line, i) {\n                        var prefix = '[' + (n + i - 1) + ']: ';\n                        var limit = cols - prefix.length - 4;\n                        if (line.length > limit) {\n                            line = line.substring(0, limit) + '...';\n                        }\n                        if (n > 2 ? i === 2 : i === n) {\n                            line = '[[;#f00;]' +\n                                $.terminal.escape_brackets(line) + ']';\n                        }\n                        return prefix + line;\n                    }).filter(Boolean).join('\\n');\n                    if (lines.length) {\n                        self.echo('[[b;white;]' + file + ']');\n                        self.echo(lines).resume();\n                    }\n                }, 'text');\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Helper function\n        // ---------------------------------------------------------------------\n        function display_json_rpc_error(error) {\n            if (is_function(settings.onRPCError)) {\n                settings.onRPCError.call(self, error);\n            } else {\n                self.error('&#91;RPC&#93; ' + error.message);\n                if (error.error && error.error.message) {\n                    error = error.error;\n                    // more detailed error message\n                    var msg = '\\t' + error.message;\n                    if (error.file) {\n                        msg += ' in file \"' + error.file.replace(/.*\\//, '') + '\"';\n                    }\n                    if (error.at) {\n                        msg += ' at line ' + error.at;\n                    }\n                    self.error(msg);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Create interpreter function from url string\n        // ---------------------------------------------------------------------\n        function make_basic_json_rpc(url, auth) {\n            var interpreter = function(method, params) {\n                self.pause(settings.softPause);\n                $.jrpc({\n                    url: url,\n                    method: method,\n                    params: params,\n                    request: function(jxhr, request) {\n                        try {\n                            settings.request.call(self, jxhr, request, self);\n                        } catch (e) {\n                            display_exception(e, 'USER');\n                        }\n                    },\n                    response: function(jxhr, response) {\n                        try {\n                            settings.response.call(self, jxhr, response, self);\n                        } catch (e) {\n                            display_exception(e, 'USER');\n                        }\n                    },\n                    success: function success(json) {\n                        if (json.error) {\n                            display_json_rpc_error(json.error);\n                        } else if (is_function(settings.processRPCResponse)) {\n                            settings.processRPCResponse.call(self, json.result, self);\n                        } else if (json.result !== null) {\n                            display_object(json.result);\n                        }\n                        self.resume();\n                    },\n                    error: ajax_error\n                });\n            };\n            // this is the interpreter function\n            return function(command, terminal) {\n                if (command === '') {\n                    return;\n                }\n                try {\n                    command = get_processed_command(command);\n                } catch (e) {\n                    // exception can be thrown on invalid regex\n                    display_exception(e, 'TERMINAL (get_processed_command)');\n                    return;\n                    // throw e; // this will show stack in other try..catch\n                }\n                if (!auth || command.name === 'help') {\n                    // allows to call help without a token\n                    interpreter(command.name, command.args);\n                } else {\n                    var token = terminal.token(true);\n                    if (token) {\n                        interpreter(command.name, [token].concat(command.args));\n                    } else {\n                        // should never happen\n                        terminal.error('&#91;AUTH&#93; ' + strings().noTokenError);\n                    }\n                }\n            };\n        }\n        // ---------------------------------------------------------------------\n        // :: Create interpreter function from Object. If the value is object\n        // :: it will create nested interpreters\n        // ---------------------------------------------------------------------\n        function make_object_interpreter(object, arity, login, fallback) {\n            // function that maps commands to object methods\n            // it keeps terminal context\n            return function(user_command, terminal) {\n                if (user_command === '') {\n                    return;\n                }\n                var command;\n                try {\n                    command = get_processed_command(user_command);\n                } catch (e) {\n                    // exception can be thrown on invalid regex\n                    if (is_function(settings.exception)) {\n                        settings.exception(e, self);\n                    } else {\n                        self.error('Error: ' + (e.message || e));\n                    }\n                    return;\n                    // throw e; // this will show stack in other try..catch\n                }\n                var val = object[command.name];\n                var type = get_type(val);\n                if (type === 'function') {\n                    if (arity && val.length !== command.args.length) {\n                        self.error(\n                            '&#91;Arity&#93; ' +\n                                sprintf(\n                                    strings().wrongArity,\n                                    command.name,\n                                    val.length,\n                                    command.args.length\n                                )\n                        );\n                    } else {\n                        return val.apply(self, command.args);\n                    }\n                } else if (type === 'object' || type === 'string') {\n                    var commands = [];\n                    if (type === 'object') {\n                        commands = Object.keys(val);\n                        val = make_object_interpreter(\n                            val,\n                            arity,\n                            login\n                        );\n                    }\n                    terminal.push(val, {\n                        prompt: command.name + '> ',\n                        name: command.name,\n                        completion: type === 'object' ? commands : undefined\n                    });\n                } else if (is_function(fallback)) {\n                    fallback(user_command, self);\n                } else if (is_function(settings.onCommandNotFound)) {\n                    settings.onCommandNotFound.call(self, user_command, self);\n                } else {\n                    terminal.error(sprintf(strings().commandNotFound, command.name));\n                }\n            };\n        }\n        // ---------------------------------------------------------------------\n        function ajax_error(xhr, status, error) {\n            self.resume(); // onAjaxError can use pause/resume call it first\n            if (is_function(settings.onAjaxError)) {\n                settings.onAjaxError.call(self, xhr, status, error);\n            } else if (status !== 'abort') {\n                self.error('&#91;AJAX&#93; ' + status + ' - ' +\n                           strings().serverResponse + ':\\n' +\n                           $.terminal.escape_brackets(xhr.responseText));\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: function create interpreter object based on JSON-RPC meta data\n        // ---------------------------------------------------------------------\n        function make_json_rpc_object(url, auth, success) {\n            function jrpc_success(json) {\n                if (json.error) {\n                    display_json_rpc_error(json.error);\n                } else if (is_function(settings.processRPCResponse)) {\n                    settings.processRPCResponse.call(self, json.result, self);\n                } else {\n                    display_object(json.result);\n                }\n                self.resume();\n            }\n            function jrpc_request(jxhr, request) {\n                try {\n                    settings.request.call(self, jxhr, request, self);\n                } catch (e) {\n                    display_exception(e, 'USER');\n                }\n            }\n            function jrpc_response(jxhr, response) {\n                try {\n                    settings.response.call(self, jxhr, response, self);\n                } catch (e) {\n                    display_exception(e, 'USER');\n                }\n            }\n            function response(response) {\n                var procs = response;\n                // we check if it's false before we call this function but\n                // it don't hurt to be explicit here\n                if (settings.describe !== false && settings.describe !== '') {\n                    settings.describe.split('.').forEach(function(field) {\n                        procs = procs[field];\n                    });\n                }\n                if (procs && procs.length) {\n                    var interpreter_object = {};\n                    $.each(procs, function(_, proc) {\n                        if ($.isPlainObject(proc) && typeof proc.name === 'string') {\n                            interpreter_object[proc.name] = function() {\n                                var append = auth && proc.name !== 'help';\n                                var args = Array.prototype.slice.call(arguments);\n                                var args_len = args.length + (append ? 1 : 0);\n                                if (settings.checkArity && proc.params &&\n                                    proc.params.length !== args_len) {\n                                    self.error(\n                                        '&#91;Arity&#93; ' +\n                                            sprintf(\n                                                strings().wrongArity,\n                                                proc.name,\n                                                proc.params.length,\n                                                args_len\n                                            )\n                                    );\n                                } else {\n                                    self.pause(settings.softPause);\n                                    if (append) {\n                                        var token = self.token(true);\n                                        if (token) {\n                                            args = [token].concat(args);\n                                        } else {\n                                            self.error('&#91;AUTH&#93; ' +\n                                                       strings().noTokenError);\n                                        }\n                                    }\n                                    $.jrpc({\n                                        url: url,\n                                        method: proc.name,\n                                        params: args,\n                                        request: jrpc_request,\n                                        response: jrpc_response,\n                                        success: jrpc_success,\n                                        error: ajax_error\n                                    });\n                                }\n                            };\n                        }\n                    });\n                    var login = typeof auth === 'string' ? auth : 'login';\n                    interpreter_object.help = interpreter_object.help || function(fn) {\n                        if (typeof fn === 'undefined') {\n                            var names = procs.map(function(proc) {\n                                return proc.name;\n                            }).join(', ') + ', help';\n                            self.echo('Available commands: ' + names);\n                        } else {\n                            var found = false;\n                            $.each(procs, function(_, proc) {\n                                if (proc.name === fn) {\n                                    found = true;\n                                    var msg = '';\n                                    msg += '[[bu;;]' + proc.name + ']';\n                                    if (proc.params) {\n                                        var params = proc.params;\n                                        if (auth && proc.name !== login) {\n                                            params = params.slice(1);\n                                        }\n                                        msg += ' ' + params.join(' ');\n                                    }\n                                    if (proc.help) {\n                                        msg += '\\n' + proc.help;\n                                    }\n                                    self.echo(msg);\n                                    return false;\n                                }\n                            });\n                            if (!found) {\n                                if (fn === 'help') {\n                                    self.echo('[[bu;;]help] [method]\\ndisplay help ' +\n                                              'for the method or list of methods if not' +\n                                              ' specified');\n                                } else {\n                                    var msg = 'Method `' + fn + \"' not found \";\n                                    self.error(msg);\n                                }\n                            }\n                        }\n                    };\n                    success(interpreter_object);\n                } else {\n                    success(null);\n                }\n            }\n            return $.jrpc({\n                url: url,\n                method: 'system.describe',\n                params: [],\n                success: response,\n                request: jrpc_request,\n                response: jrpc_response,\n                error: function error() {\n                    success(null);\n                }\n            });\n        }\n        // ---------------------------------------------------------------------\n        // :: function create interpeter function and call finalize with\n        // :: interpreter and optional completion\n        // ---------------------------------------------------------------------\n        function make_interpreter(user_intrp, login, finalize) {\n            finalize = finalize || $.noop;\n            var type = get_type(user_intrp);\n            var object;\n            var result = {};\n            var rpc_count = 0; // only one rpc can be use for array\n            var fn_interpreter;\n            if (type === 'array') {\n                object = {};\n                // recur will be called when previous acync call is finished\n                (function recur(interpreters, success) {\n                    if (interpreters.length) {\n                        var first = interpreters[0];\n                        var rest = interpreters.slice(1);\n                        var type = get_type(first);\n                        if (type === 'string') {\n                            self.pause(settings.softPause);\n                            if (settings.describe === false) {\n                                if (++rpc_count === 1) {\n                                    fn_interpreter = make_basic_json_rpc(first, login);\n                                } else {\n                                    self.error(strings().oneRPCWithIgnore);\n                                }\n                                recur(rest, success);\n                            } else {\n                                make_json_rpc_object(first, login, function(new_obj) {\n                                    if (new_obj) {\n                                        $.extend(object, new_obj);\n                                    } else if (++rpc_count === 1) {\n                                        fn_interpreter = make_basic_json_rpc(\n                                            first,\n                                            login\n                                        );\n                                    } else {\n                                        self.error(strings().oneRPCWithIgnore);\n                                    }\n                                    self.resume();\n                                    recur(rest, success);\n                                });\n                            }\n                        } else if (type === 'function') {\n                            if (fn_interpreter) {\n                                self.error(strings().oneInterpreterFunction);\n                            } else {\n                                fn_interpreter = first;\n                            }\n                            recur(rest, success);\n                        } else if (type === 'object') {\n                            $.extend(object, first);\n                            recur(rest, success);\n                        }\n                    } else {\n                        success();\n                    }\n                })(user_intrp, function() {\n                    finalize({\n                        interpreter: make_object_interpreter(\n                            object,\n                            false,\n                            login,\n                            fn_interpreter && fn_interpreter.bind(self)\n                        ),\n                        completion: Object.keys(object)\n                    });\n                });\n            } else if (type === 'string') {\n                if (settings.describe === false) {\n                    object = {\n                        interpreter: make_basic_json_rpc(user_intrp, login)\n                    };\n                    if ($.isArray(settings.completion)) {\n                        object.completion = settings.completion;\n                    }\n                    finalize(object);\n                } else {\n                    self.pause(settings.softPause);\n                    make_json_rpc_object(user_intrp, login, function(object) {\n                        if (object) {\n                            result.interpreter = make_object_interpreter(\n                                object,\n                                false,\n                                login\n                            );\n                            result.completion = Object.keys(object);\n                        } else {\n                            // no procs in system.describe\n                            result.interpreter = make_basic_json_rpc(user_intrp, login);\n                        }\n                        finalize(result);\n                        self.resume();\n                    });\n                }\n            } else if (type === 'object') {\n                finalize({\n                    interpreter: make_object_interpreter(\n                        user_intrp,\n                        settings.checkArity,\n                        login\n                    ),\n                    completion: Object.keys(user_intrp)\n                });\n            } else {\n                // allow $('<div/>').terminal();\n                if (type === 'undefined') {\n                    user_intrp = $.noop;\n                } else if (type !== 'function') {\n                    var msg = type + ' is invalid interpreter value';\n                    throw new $.terminal.Exception(msg);\n                }\n                // single function don't need bind\n                finalize({\n                    interpreter: user_intrp,\n                    completion: settings.completion\n                });\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Create JSON-RPC authentication function\n        // ---------------------------------------------------------------------\n        function make_json_rpc_login(url, login) {\n            var method = get_type(login) === 'boolean' ? 'login' : login;\n            return function(user, passwd, callback) {\n                self.pause(settings.softPause);\n                $.jrpc({\n                    url: url,\n                    method: method,\n                    params: [user, passwd],\n                    request: function(jxhr, request) {\n                        try {\n                            settings.request.call(self, jxhr, request, self);\n                        } catch (e) {\n                            display_exception(e, 'USER');\n                        }\n                    },\n                    response: function(jxhr, response) {\n                        try {\n                            settings.response.call(self, jxhr, response, self);\n                        } catch (e) {\n                            display_exception(e, 'USER');\n                        }\n                    },\n                    success: function success(response) {\n                        if (!response.error && response.result) {\n                            callback(response.result);\n                        } else {\n                            // null will trigger message that login fail\n                            callback(null);\n                        }\n                        self.resume();\n                    },\n                    error: ajax_error\n                });\n            };\n            // default name is login so you can pass true\n        }\n        // ---------------------------------------------------------------------\n        // :: display Exception on terminal\n        // ---------------------------------------------------------------------\n        function display_exception(e, label, silent) {\n            if (is_function(settings.exceptionHandler)) {\n                settings.exceptionHandler.call(self, e, label);\n            } else {\n                self.exception(e, label);\n                if (!silent) {\n                    setTimeout(function() {\n                        throw e;\n                    }, 0);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        function links(string) {\n            function format(_, style, color, background, _class, data, text) {\n                function formatting(s, text) {\n                    return '[[' + [\n                        style + (s || ''),\n                        color,\n                        background,\n                        _class,\n                        text || data\n                    ].join(';') + ']';\n                }\n                function escaped(_) {\n                    return ']' + formatting('!', _) + _ + ']' + formatting();\n                }\n                if (!style.match(/!/)) {\n                    var m = text.match(email_full_re) || text.match(url_full_re);\n                    if (m) {\n                        return formatting('!', m[1]) + text + ']';\n                    } else if (text.match(email_re) || text.match(url_nf_re)) {\n                        var output = text.replace(email_re, escaped)\n                            .replace(url_nf_re, escaped);\n                        return formatting('', data) + output + ']';\n                    }\n                }\n                return _;\n            }\n            function linkify(string) {\n                return string.replace(email_re, '[[!;;]$1]').\n                    replace(url_nf_re, '[[!;;]$1]');\n            }\n            if (!$.terminal.have_formatting(string)) {\n                return linkify(string);\n            }\n            return $.terminal.format_split(string).map(function(str) {\n                if ($.terminal.is_formatting(str)) {\n                    return str.replace(format_parts_re, format);\n                } else {\n                    return linkify(str);\n                }\n            }).join('');\n        }\n        // ---------------------------------------------------------------------\n        function should_wrap(string, options) {\n            return (strlen(text(string)) > options.cols ||\n                    string.match(/\\n/)) &&\n                ((settings.wrap === true &&\n                  options.wrap === undefined) ||\n                 settings.wrap === false &&\n                 options.wrap === true);\n        }\n        // ---------------------------------------------------------------------\n        var line_cache;\n        if ('Map' in root) {\n            line_cache = new Map();\n        }\n        // ---------------------------------------------------------------------\n        function process_extended_commands(string, line, line_settings) {\n            if (line_settings.exec || line.options.clear_exec) {\n                return $.terminal.each_extended_command(string, function(command) {\n                    // redraw should not execute commands and it have\n                    // and lines variable have all extended commands\n                    if (line_settings.exec) {\n                        line.options.exec = false;\n                        line.options.clear_exec = true;\n                        var trim = command.trim();\n                        if (prev_exec_cmd && prev_exec_cmd === trim) {\n                            prev_exec_cmd = '';\n                            self.error(strings().recursiveLoop);\n                        } else {\n                            prev_exec_cmd = trim;\n                            $.terminal.extended_command(self, command, {\n                                invokeMethods: line_settings.invokeMethods\n                            }).then(function() {\n                                prev_exec_cmd = '';\n                            });\n                        }\n                    }\n                });\n            }\n            return string;\n        }\n        // ---------------------------------------------------------------------\n        function process_line(line) {\n            // prevent exception in display exception\n            try {\n                var use_cache = !is_function(line.value);\n                var line_settings = $.extend({\n                    exec: true,\n                    raw: false,\n                    finalize: $.noop,\n                    useCache: use_cache,\n                    invokeMethods: false,\n                    formatters: true,\n                    convertLinks: settings.convertLinks\n                }, line.options || {});\n                var string = stringify_value(line.value);\n                if (string && is_function(string.then)) {\n                    // handle function that return a promise #629\n                    return string.then(function(string) {\n                        process_line($.extend(line, {\n                            value: string,\n                            options: line_settings\n                        }));\n                    });\n                }\n                if (string !== '') {\n                    if (!line_settings.raw) {\n                        if (settings.useCache && line_settings.useCache) {\n                            var key = string;\n                            if (line_cache && line_cache.has(key)) {\n                                var data = line_cache.get(key);\n                                buffer.append(\n                                    data.input,\n                                    line.index,\n                                    line_settings,\n                                    data.raw\n                                );\n                                return true;\n                            }\n                        }\n                        if (line_settings.formatters) {\n                            try {\n                                string = $.terminal.apply_formatters(\n                                    string,\n                                    $.extend(settings, {echo: true})\n                                );\n                            } catch (e) {\n                                display_exception(e, 'FORMATTING');\n                            }\n                        }\n                        string = process_extended_commands(string, line, line_settings);\n                        if (string === '') {\n                            return;\n                        }\n                        if (line_settings.convertLinks) {\n                            string = links(string);\n                        }\n                        var raw_string = string;\n                        string = crlf($.terminal.normalize(string));\n                        string = $.terminal.encode(string, {\n                            tabs: settings.tabs\n                        });\n                        //string = $.terminal.normalize(string);\n                        var array;\n                        var cols = line_settings.cols = self.cols();\n                        if (should_wrap(string, line_settings)) {\n                            var words = line_settings.keepWords;\n                            array = $.terminal.split_equal(string, cols, words);\n                        } else if (string.match(/\\n/)) {\n                            array = string.split(/\\n/);\n                        }\n                    }\n                } else {\n                    raw_string = '';\n                }\n                var arg = array || string;\n                if (line_cache && key && use_cache) {\n                    line_cache.set(key, {input: arg, raw: raw_string});\n                }\n                buffer.append(arg, line.index, line_settings, raw_string);\n            } catch (e) {\n                buffer.clear();\n                // don't display exception if exception throw in terminal\n                if (is_function(settings.exceptionHandler)) {\n                    settings.exceptionHandler.call(self, e, 'TERMINAL');\n                } else {\n                    alert_exception('[Internal Exception(process_line)]', e);\n                }\n            }\n            // is it work with unpromise that ignore undefined\n            return true;\n        }\n        // ---------------------------------------------------------------------\n        // :: Update terminal lines\n        // ---------------------------------------------------------------------\n        function redraw(options) {\n            options = $.extend({}, {\n                // should be used when single line is updated\n                update: false,\n                // should be used if you want to scroll to bottom after redraw\n                scroll: true\n            }, options || {});\n            if (!options.update) {\n                command_line.resize(num_chars);\n                // we don't want reflow while processing lines\n                var detached_output = output.empty().detach();\n            }\n            try {\n                buffer.clear();\n                unpromise(lines.render(self.rows(), function(lines_to_show) {\n                    return lines_to_show.map(function(line) {\n                        return process_line(line);\n                    });\n                }), function() {\n                    self.flush(options);\n                    if (!options.update) {\n                        command_line.before(detached_output); // reinsert output\n                    }\n                    fire_event('onAfterRedraw');\n                });\n            } catch (e) {\n                if (is_function(settings.exceptionHandler)) {\n                    settings.exceptionHandler.call(self, e, 'TERMINAL (redraw)');\n                } else {\n                    alert_exception('[redraw]', e);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Function limit output lines based on outputLimit option\n        // ---------------------------------------------------------------------\n        function limit_lines() {\n            if (settings.outputLimit >= 0) {\n                var limit;\n                if (settings.outputLimit === 0) {\n                    limit = self.rows();\n                } else {\n                    limit = settings.outputLimit;\n                }\n                var $lines = output.find('> div > div');\n                if ($lines.length + 1 > limit) {\n                    var max = $lines.length - limit + 1;\n                    var for_remove = $lines.slice(0, max);\n                    // you can't get parent if you remove the\n                    // element so we first get the parent\n                    var parents = for_remove.parent();\n                    for_remove.remove();\n                    parents.each(function() {\n                        var $self = $(this);\n                        if ($self.is(':empty')) {\n                            unmount($self);\n                            // there can be divs inside parent that\n                            // was not removed\n                            $self.remove();\n                        }\n                    });\n                    lines.limit_snapshot(max);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Display user greetings or terminal signature\n        // ---------------------------------------------------------------------\n        function show_greetings() {\n            if (settings.greetings === undefined) {\n                // signature have ascii art so it's not suite for screen readers\n                self.echo(self.signature, {finalize: a11y_hide, formatters: false});\n            } else if (settings.greetings) {\n                var type = typeof settings.greetings;\n                if (type === 'string') {\n                    self.echo(settings.greetings);\n                } else if (type === 'function') {\n                    self.echo(function() {\n                        try {\n                            return settings.greetings.call(self, self.echo);\n                        } catch (e) {\n                            settings.greetings = null;\n                            display_exception(e, 'greetings');\n                        }\n                    });\n                } else {\n                    self.error(strings().wrongGreetings);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Display prompt and last command\n        // ---------------------------------------------------------------------\n        function echo_command(command) {\n            if (typeof command === 'undefined') {\n                command = self.get_command();\n            }\n            // true will return last rendered string\n            var prompt = command_line.prompt(true);\n            var mask = command_line.mask();\n            switch (typeof mask) {\n                case 'string':\n                    command = command.replace(/./g, mask);\n                    break;\n                case 'boolean':\n                    if (mask) {\n                        command = command.replace(/./g, settings.maskChar);\n                    } else {\n                        command = $.terminal.escape_formatting(command);\n                    }\n                    break;\n            }\n            var options = {\n                exec: false,\n                formatters: false,\n                finalize: function finalize(div) {\n                    a11y_hide(div.addClass('terminal-command'));\n                    fire_event('onEchoCommand', [div, command]);\n                }\n            };\n            command = $.terminal.apply_formatters(command, {command: true});\n            self.echo(prompt + command, options);\n        }\n        // ---------------------------------------------------------------------\n        function have_scrollbar() {\n            return fill.outerWidth() !== self.outerWidth();\n        }\n        // ---------------------------------------------------------------------\n        // :: Helper function that restore state. Call import_view or exec\n        // ---------------------------------------------------------------------\n        function restore_state(spec) {\n            // spec [terminal_id, state_index, command]\n            var terminal = terminals.get()[spec[0]];\n            if (!terminal) {\n                throw new $.terminal.Exception(strings().invalidTerminalId);\n            }\n            var command_idx = spec[1];\n            if (save_state[command_idx]) { // state exists\n                terminal.import_view(save_state[command_idx]);\n            } else {\n                // restore state\n                change_hash = false;\n                var command = spec[2];\n                if (command) {\n                    terminal.exec(command).done(function() {\n                        change_hash = true;\n                        save_state[command_idx] = terminal.export_view();\n                    });\n                }\n            }\n            /*if (spec[3].length) {\n                restore_state(spec[3]);\n            }*/\n        }\n        // ---------------------------------------------------------------------\n        function make_label_error(label) {\n            return function(e) {\n                self.error('[' + label + '] ' + (e.message || e)).resume();\n            };\n        }\n        // ---------------------------------------------------------------------\n        // :: Helper function\n        // ---------------------------------------------------------------------\n        function maybe_update_hash() {\n            if (change_hash) {\n                fire_hash_change = false;\n                location.hash = '#' + JSON.stringify(hash_commands);\n                setTimeout(function() {\n                    fire_hash_change = true;\n                }, 100);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Wrapper over interpreter, it implements exit and catches all\n        // :: exeptions from user code and displays them on the terminal\n        // ---------------------------------------------------------------------\n        var first_command = true;\n        var resume_callbacks = [];\n        function commands(command, silent, exec) {\n            function init_state() {\n                // execHash need first empty command too\n                if (settings.historyState || settings.execHash && exec) {\n                    if (!save_state.length) {\n                        // first command in first terminal don't have hash\n                        self.save_state();\n                    } else {\n                        self.save_state(null);\n                    }\n                }\n            }\n            // -----------------------------------------------------------------\n            function before_async_exec() {\n                // variables defined later in commands\n                if (!exec) {\n                    change_hash = true;\n                    if (settings.historyState) {\n                        self.save_state(command, false);\n                    }\n                    change_hash = saved_change_hash;\n                }\n            }\n            // -----------------------------------------------------------------\n            function after_exec() {\n                deferred.resolve();\n                fire_event('onAfterCommand', [command]);\n            }\n            // -----------------------------------------------------------------\n            function show(result) {\n                if (typeof result !== 'undefined') {\n                    display_object(result);\n                }\n                after_exec();\n                self.resume();\n            }\n            // -----------------------------------------------------------------\n            function is_animation_promise(ret) {\n                return is_function(ret.done || ret.then) && animating;\n            }\n            // -----------------------------------------------------------------\n            function invoke() {\n                // Call user interpreter function\n                var result = interpreter.interpreter.call(self, command, self);\n                before_async_exec();\n                if (result) {\n                    // auto pause/resume when user return promises\n                    // it should not pause when user return promise from read()\n                    if (!force_awake) {\n                        if (is_animation_promise(result)) {\n                            paused = true;\n                        } else {\n                            self.pause(settings.softPause);\n                        }\n                    }\n                    force_awake = false;\n                    var error = make_label_error('Command');\n                    // when for native Promise object work only in jQuery 3.x\n                    if (is_function(result.done || result.then)) {\n                        return unpromise(result, show, error);\n                    } else {\n                        return $.when(result).done(show).catch(error);\n                    }\n                } else {\n                    if (paused) {\n                        resume_callbacks.push(function() {\n                            // exec with resume/pause in user code\n                            after_exec();\n                        });\n                    } else {\n                        after_exec();\n                    }\n                    return deferred.promise();\n                }\n            }\n            // -----------------------------------------------------------------\n            // first command store state of the terminal before the command get\n            // executed\n            if (first_command) {\n                first_command = false;\n                init_state();\n            }\n            try {\n                // this callback can disable commands\n                if (fire_event('onBeforeCommand', [command]) === false) {\n                    return;\n                }\n                if (exec) {\n                    prev_exec_cmd = command.trim();\n                    prev_command = $.terminal.split_command(prev_exec_cmd);\n                } else {\n                    prev_command = $.terminal.split_command(command);\n                }\n                if (!ghost()) {\n                    // exec execute this function wihout the help of cmd plugin\n                    // that add command to history on enter\n                    if (exec && (is_function(settings.historyFilter) &&\n                                 settings.historyFilter(command) ||\n                                 command.match(settings.historyFilter))) {\n                        command_line.history().append(command);\n                    }\n                }\n                var interpreter = interpreters.top();\n                if (!silent && settings.echoCommand) {\n                    echo_command(command);\n                }\n                // new promise will be returned to exec that will resolve his\n                // returned promise\n                var deferred = new $.Deferred();\n                // we need to save sate before commands is deleyd because\n                // execute_extended_command disable it and it can be executed\n                // after delay\n                var saved_change_hash = change_hash;\n                if (command.match(/^\\s*login\\s*$/) && self.token(true)) {\n                    before_async_exec();\n                    if (self.level() > 1) {\n                        self.logout(true);\n                    } else {\n                        self.logout();\n                    }\n                    after_exec();\n                } else if (settings.exit && command.match(/^\\s*exit\\s*$/) &&\n                           !in_login) {\n                    before_async_exec();\n                    var level = self.level();\n                    if (level === 1 && self.get_token() || level > 1) {\n                        if (self.get_token(true)) {\n                            self.set_token(undefined, true);\n                        }\n                        self.pop();\n                    }\n                    after_exec();\n                } else if (settings.clear && command.match(/^\\s*clear\\s*$/) &&\n                           !in_login) {\n                    before_async_exec();\n                    self.clear();\n                    after_exec();\n                } else {\n                    var ret = invoke();\n                    if (ret) {\n                        return ret;\n                    }\n                }\n                return deferred.promise();\n            } catch (e) {\n                display_exception(e, 'USER', exec);\n                self.resume();\n                if (exec) {\n                    throw e;\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: The logout function removes Storage, disables history and runs\n        // :: the login function. This function is called only when options.login\n        // :: function is defined. The check for this is in the self.pop method\n        // ---------------------------------------------------------------------\n        function global_logout() {\n            if (fire_event('onBeforeLogout', [], true) === false) {\n                return;\n            }\n            clear_loging_storage();\n            fire_event('onAfterlogout', [], true);\n            self.login(global_login_fn, true, initialize);\n        }\n        // ---------------------------------------------------------------------\n        function clear_loging_storage() {\n            var name = self.prefix_name(true) + '_';\n            storage.remove(name + 'token');\n            storage.remove(name + 'login');\n        }\n        // ---------------------------------------------------------------------\n        // :: Save the interpreter name for use with purge\n        // ---------------------------------------------------------------------\n        function maybe_append_name(interpreter_name) {\n            var storage_key = self.prefix_name() + '_interpreters';\n            var names = storage.get(storage_key);\n            if (names) {\n                names = JSON.parse(names);\n            } else {\n                names = [];\n            }\n            if ($.inArray(interpreter_name, names) === -1) {\n                names.push(interpreter_name);\n                storage.set(storage_key, JSON.stringify(names));\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Function enables history, sets prompt, runs interpreter function\n        // ---------------------------------------------------------------------\n        function prepare_top_interpreter(silent) {\n            var interpreter = interpreters.top();\n            var name = self.prefix_name(true);\n            if (!ghost()) {\n                maybe_append_name(name);\n            }\n            var login = self.login_name(true);\n            command_line.name(name + (login ? '_' + login : ''));\n            var prompt = interpreter.prompt;\n            if (is_function(prompt)) {\n                prompt = context_callback_proxy(prompt);\n            }\n            if (prompt !== command_line.prompt()) {\n                if (is_function(interpreter.prompt)) {\n                    // prevent flicker of old prompt until async prompt finishes\n                    command_line.prompt('');\n                }\n                command_line.prompt(interpreter.prompt);\n            }\n            if (typeof interpreter.history !== 'undefined') {\n                self.history().toggle(interpreter.history);\n            }\n            if ($.isPlainObject(interpreter.keymap)) {\n                command_line.keymap(null).keymap($.extend(\n                    {},\n                    terminal_init_keymap,\n                    $.omap(interpreter.keymap, function(name, fun) {\n                        return function() {\n                            var args = [].slice.call(arguments);\n                            try {\n                                return fun.apply(self, args);\n                            } catch (e) {\n                                display_exception(e, 'USER KEYMAP');\n                            }\n                        };\n                    })\n                ));\n            }\n            command_line.set('');\n            init_queue.resolve();\n            if (!silent && is_function(interpreter.onStart)) {\n                interpreter.onStart.call(self, self);\n            }\n        }\n        // ---------------------------------------------------------------------\n        function fire_event(name, args, skip_local) {\n            args = (args || []).concat([self]); // create new array\n            // even can be fired before interpreters is created\n            var top = interpreters && interpreters.top();\n            if (top && is_function(top[name]) && !skip_local) {\n                try {\n                    return top[name].apply(self, args);\n                } catch (e) {\n                    delete top[name];\n                    display_exception(e, name);\n                }\n            } else if (is_function(settings[name])) {\n                try {\n                    return settings[name].apply(self, args);\n                } catch (e) {\n                    settings[name] = null;\n                    display_exception(e, name);\n                }\n            }\n        }\n        var scroll_to_view = (function() {\n            function scroll_to_view(visible) {\n                if (!visible) {\n                    // try catch for Node.js unit tests\n                    try {\n                        self.scroll_to(self.find('.cmd-cursor-line'));\n                        return true;\n                    } catch (e) {\n                        return true;\n                    }\n                }\n            }\n            // we don't want debounce in Unit Tests\n            if (typeof global !== 'undefined' && typeof global.it === 'function') {\n                return scroll_to_view;\n            }\n            return debounce(scroll_to_view, 100, {\n                leading: true,\n                trailing: false\n            });\n        })();\n        // ---------------------------------------------------------------------\n        function make_cursor_visible() {\n            var cursor = self.find('.cmd-cursor-line');\n            return cursor.is_fully_in_viewport(self).then(scroll_to_view);\n        }\n        // ---------------------------------------------------------------------\n        function replace_hash(state) {\n            if (typeof history !== 'undefined' && history.replaceState) {\n                var new_hash = '#' + JSON.stringify(state);\n                var url = location.href.replace(/#.*$/, new_hash);\n                history.replaceState(null, '', url);\n            }\n        }\n        // ---------------------------------------------------------------------\n        function hashchange() {\n            if (fire_hash_change && settings.execHash) {\n                try {\n                    if (location.hash) {\n                        var hash = location.hash.replace(/^#/, '');\n                        hash_commands = JSON.parse(decodeURIComponent(hash));\n                    } else {\n                        hash_commands = [];\n                    }\n                    if (hash_commands.length) {\n                        restore_state(hash_commands[hash_commands.length - 1]);\n                    } else if (save_state[0]) {\n                        self.import_view(save_state[0]);\n                    }\n                } catch (e) {\n                    display_exception(e, 'TERMINAL');\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        function initialize() {\n            prepare_top_interpreter();\n            show_greetings();\n            if (lines.length) {\n                // for case when showing long error before init\n                if (echo_delay.length) {\n                    // for case when greetting is async function\n                    $.when.apply($, echo_delay).then(self.refresh);\n                } else {\n                    self.refresh();\n                }\n            }\n            function next() {\n                onPause = $.noop;\n                if (!was_paused && self.enabled()) {\n                    // resume login if user didn't call pause in onInit\n                    // if user pause in onInit wait with exec until it\n                    // resume\n                    self.resume(true);\n                }\n            }\n            // was_paused flag is workaround for case when user call exec before\n            // login and pause in onInit, 3rd exec will have proper timing (will\n            // execute after onInit resume)\n            var was_paused = false;\n            if (is_function(settings.onInit)) {\n                onPause = function() { // local in terminal\n                    was_paused = true;\n                };\n                var ret;\n                try {\n                    ret = settings.onInit.call(self, self);\n                } catch (e) {\n                    display_exception(e, 'OnInit');\n                } finally {\n                    if (!is_promise(ret)) {\n                        next();\n                    } else {\n                        ret.then(next).catch(function(e) {\n                            display_exception(e, 'OnInit');\n                            next();\n                        });\n                    }\n                }\n            }\n            if (first_instance) {\n                first_instance = false;\n                $(window).on('hashchange', hashchange);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: If Ghost don't store anything in localstorage\n        // ---------------------------------------------------------------------\n        function ghost() {\n            return in_login || command_line.mask() !== false;\n        }\n        // ---------------------------------------------------------------------\n        // :: Keydown event handler\n        // ---------------------------------------------------------------------\n        function user_key_down(e) {\n            var result, top = interpreters.top();\n            if (is_function(top.keydown)) {\n                result = top.keydown.call(self, e, self);\n                if (result !== undefined) {\n                    return result;\n                }\n            } else if (is_function(settings.keydown)) {\n                result = settings.keydown.call(self, e, self);\n                if (result !== undefined) {\n                    return result;\n                }\n            }\n        }\n        var keymap = {\n            'CTRL+D': function(e, original) {\n                if (!in_login) {\n                    if (command_line.get() === '') {\n                        if (interpreters.size() > 1 ||\n                            is_function(global_login_fn)) {\n                            self.pop('');\n                        } else {\n                            self.resume();\n                        }\n                    } else {\n                        original();\n                    }\n                }\n                return false;\n            },\n            'CTRL+C': function() {\n                with_selection(function(html) {\n                    if (html === '') {\n                        var command = self.get_command();\n                        var position = self.get_position();\n                        command = command.slice(0, position) + '^C' +\n                            command.slice(position + 2);\n                        echo_command(command);\n                        self.set_command('');\n                    } else {\n                        var clip = self.find('textarea');\n                        text_to_clipboard(clip, process_selected_html(html));\n                    }\n                });\n                return false;\n            },\n            'CTRL+L': function() {\n                self.clear();\n                return false;\n            },\n            'TAB': function(e, orignal) {\n                // TODO: move this to cmd plugin\n                //       add completion = array | function\n                //       !!! Problem complete more then one key need terminal\n                var top = interpreters.top(), completion, caseSensitive;\n                if (typeof top.caseSensitiveAutocomplete !== 'undefined') {\n                    caseSensitive = top.caseSensitiveAutocomplete;\n                } else {\n                    caseSensitive = settings.caseSensitiveAutocomplete;\n                }\n                if (settings.completion &&\n                    get_type(settings.completion) !== 'boolean' &&\n                    top.completion === undefined) {\n                    completion = settings.completion;\n                } else {\n                    completion = top.completion;\n                }\n                if (completion === 'settings') {\n                    completion = settings.completion;\n                }\n                function resolve(commands) {\n                    // local copy\n                    commands = commands.slice();\n                    // default commands should not match for arguments\n                    if (!self.before_cursor(false).match(/\\s/)) {\n                        if (settings.clear && $.inArray('clear', commands) === -1) {\n                            commands.push('clear');\n                        }\n                        if (settings.exit && $.inArray('exit', commands) === -1) {\n                            commands.push('exit');\n                        }\n                    }\n                    self.complete(commands, {\n                        echo: true,\n                        word: settings.wordAutocomplete,\n                        escape: settings.completionEscape,\n                        caseSensitive: caseSensitive,\n                        echoCommand: settings.doubleTabEchoCommand,\n                        doubleTab: settings.doubleTab\n                    });\n                }\n                if (completion) {\n                    switch (get_type(completion)) {\n                        case 'function':\n                            var string = self.before_cursor(settings.wordAutocomplete);\n                            if (completion.length === 3) {\n                                var error = new Error(strings().comletionParameters);\n                                display_exception(error, 'USER');\n                                return false;\n                            }\n                            var result = completion.call(self, string, resolve);\n                            unpromise(result, resolve, make_label_error('Completion'));\n                            break;\n                        case 'array':\n                            resolve(completion);\n                            break;\n                        default:\n                            throw new $.terminal.Exception(strings().invalidCompletion);\n                    }\n                } else {\n                    orignal();\n                }\n                return false;\n            },\n            'CTRL+V': function(e, original) {\n                original(e);\n                self.oneTime(200, function() {\n                    self.scroll_to_bottom();\n                });\n                return true;\n            },\n            'CTRL+TAB': function() {\n                if (terminals.length() > 1) {\n                    self.focus(false);\n                    return false;\n                }\n            },\n            'PAGEDOWN': function() {\n                self.scroll(self.height());\n            },\n            'PAGEUP': function() {\n                self.scroll(-self.height());\n            }\n        };\n        // ---------------------------------------------------------------------\n        function key_down(e) {\n            // Prevent to be executed by cmd: CTRL+D, TAB, CTRL+TAB (if more\n            // then one terminal)\n            var result, i;\n            if (animating) {\n                return false;\n            }\n            if (self.enabled()) {\n                if (!self.paused()) {\n                    result = user_key_down(e);\n                    if (result !== undefined) {\n                        return result;\n                    }\n                    if (e.which !== 9) { // not a TAB\n                        tab_count = 0;\n                    }\n                } else {\n                    if (!settings.pauseEvents) {\n                        result = user_key_down(e);\n                        if (result !== undefined) {\n                            return result;\n                        }\n                    }\n                    if (e.which === 68 && e.ctrlKey) { // CTRL+D (if paused)\n                        if (settings.pauseEvents) {\n                            result = user_key_down(e);\n                            if (result !== undefined) {\n                                return result;\n                            }\n                        }\n                        if (requests.length) {\n                            for (i = requests.length; i--;) {\n                                var r = requests[i];\n                                if (r.readyState !== 4) {\n                                    try {\n                                        r.abort();\n                                    } catch (error) {\n                                        if (is_function(settings.exceptionHandler)) {\n                                            settings.exceptionHandler.call(\n                                                self,\n                                                e,\n                                                'AJAX ABORT'\n                                            );\n                                        } else {\n                                            self.error(strings().ajaxAbortError);\n                                        }\n                                    }\n                                }\n                            }\n                            requests = [];\n                        }\n                        self.resume();\n                    }\n                    return false;\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        function key_press(e) {\n            var top = interpreters.top();\n            if (enabled && (!paused || !settings.pauseEvents)) {\n                if (is_function(top.keypress)) {\n                    return top.keypress.call(self, e, self);\n                } else if (is_function(settings.keypress)) {\n                    return settings.keypress.call(self, e, self);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Typing animation generator\n        // ---------------------------------------------------------------------\n        function typed(finish_typing_fn) {\n            return function typing_animation(message, options) {\n                var formattted = $.terminal.apply_formatters(message);\n                animating = true;\n                var prompt = self.get_prompt();\n                var char_i = 0;\n                var len = $.terminal.length(formattted);\n                if (message.length > 0) {\n                    var new_prompt = '';\n                    if (options.prompt) {\n                        new_prompt = options.prompt;\n                    } else {\n                        self.set_prompt('');\n                    }\n                    var bottom = self.is_bottom();\n                    var interval = setInterval(function() {\n                        var chr = $.terminal.substring(formattted, char_i, char_i + 1);\n                        new_prompt += chr;\n                        self.set_prompt(new_prompt);\n                        if (chr === '\\n' && bottom) {\n                            self.scroll_to_bottom();\n                        }\n                        char_i++;\n                        if (char_i === len) {\n                            clearInterval(interval);\n                            setTimeout(function() {\n                                // swap command with prompt\n                                finish_typing_fn(message, prompt, options);\n                                animating = false;\n                            }, options.delay);\n                        }\n                    }, options.delay);\n                }\n            };\n        }\n        // ---------------------------------------------------------------------\n        var typed_prompt = typed(function(message, _, options) {\n            self.set_prompt(message);\n            options.finalize();\n        });\n        // ---------------------------------------------------------------------\n        var typed_message = typed(function(message, prompt, options) {\n            self.set_prompt(prompt);\n            self.echo(message, $.extend({}, options, {typing: false}));\n        });\n        // ---------------------------------------------------------------------\n        var typed_enter = (function() {\n            var helper = typed(function(message, prompt, options) {\n                self.set_prompt(prompt);\n                with_prompt(prompt, function(prompt) {\n                    self.echo(prompt + message, $.extend({}, options, {typing: false}));\n                }, self);\n            });\n            return function(prompt, message, options) {\n                return helper(message, $.extend({}, options, {prompt: prompt}));\n            };\n        })();\n        // ---------------------------------------------------------------------\n        function with_typing(kind, else_fn, finalize_fn) {\n            return function with_typing_fn(string, options) {\n                var d = new $.Deferred();\n                when_ready(function ready() {\n                    var locals = $.extend({\n                        typing: false,\n                        delay: settings.execAnimationDelay\n                    }, options);\n                    if (locals.typing) {\n                        if (typeof string !== 'string') {\n                            return d.reject(kind + ': Typing animation require string');\n                        }\n                        if (typeof locals.delay !== 'number' || isNaN(locals.delay)) {\n                            return d.reject(kind + ': Invalid argument, delay need to' +\n                                            ' be a number');\n                        }\n                        var p = self.typing(kind, locals.delay, string, locals);\n                        p.then(function() {\n                            d.resolve();\n                        });\n                    } else {\n                        else_fn(string, locals);\n                    }\n                    if (is_function(finalize_fn)) {\n                        finalize_fn(string, locals);\n                    }\n                });\n                if (options && options.typing) {\n                    return d.promise();\n                }\n                return self;\n            };\n        }\n        // ---------------------------------------------------------------------\n        function ready(queue) {\n            return function(fun) {\n                queue.add(fun);\n            };\n        }\n        // ---------------------------------------------------------------------\n        function strings() {\n            return $.extend(\n                {},\n                $.terminal.defaults.strings,\n                settings && settings.strings || {}\n            );\n        }\n        // ---------------------------------------------------------------------\n        var self = this;\n        if (this.length > 1) {\n            return this.each(function() {\n                $.fn.terminal.call(\n                    $(this),\n                    init_interpreter,\n                    $.extend({name: self.selector}, options)\n                );\n            });\n        }\n        var body_terminal;\n        if (self.is('body,html')) {\n            // terminal already exists on body\n            if (self.hasClass('full-screen-terminal')) {\n                var data = self.find('> .terminal').data('terminal');\n                if (data) {\n                    return data;\n                }\n            }\n            body_terminal = self;\n            self = $('<div/>').appendTo('body');\n            $('body').addClass('full-screen-terminal');\n        } else if (self.data('terminal')) {\n            // terminal already exists\n            return self.data('terminal');\n        }\n        // -----------------------------------------------------------------\n        // TERMINAL METHODS\n        // -----------------------------------------------------------------\n        var public_api = $.omap({\n            id: function() {\n                return terminal_id;\n            },\n            // -------------------------------------------------------------\n            // :: Clear the output\n            // -------------------------------------------------------------\n            clear: function() {\n                if (fire_event('onClear') !== false) {\n                    buffer.clear();\n                    lines.clear(function(i) {\n                        return get_node(i);\n                    });\n                    output[0].innerHTML = '';\n                    self.prop({scrollTop: 0});\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return an object that can be used with import_view to\n            // :: restore the state\n            // -------------------------------------------------------------\n            export_view: function() {\n                var user_export = fire_event('onExport');\n                user_export = user_export || {};\n                return $.extend({}, {\n                    focus: enabled,\n                    mask: command_line.mask(),\n                    prompt: self.get_prompt(),\n                    command: self.get_command(),\n                    position: command_line.position(),\n                    lines: clone(lines.data()),\n                    interpreters: interpreters.clone(),\n                    history: command_line.history().data\n                }, user_export);\n            },\n            // -------------------------------------------------------------\n            // :: Restore the state of the previous exported view\n            // -------------------------------------------------------------\n            import_view: function(view) {\n                if (in_login) {\n                    throw new Error(sprintf(strings().notWhileLogin, 'import_view'));\n                }\n                fire_event('onImport', [view]);\n                when_ready(function ready() {\n                    self.set_prompt(view.prompt);\n                    self.set_command(view.command);\n                    command_line.position(view.position);\n                    command_line.mask(view.mask);\n                    if (view.focus) {\n                        self.focus();\n                    }\n                    lines.import(clone(view.lines).filter(function(line) {\n                        return line[0];\n                    }));\n                    if (view.interpreters instanceof Stack) {\n                        interpreters = view.interpreters;\n                    }\n                    if (settings.importHistory) {\n                        command_line.history().set(view.history);\n                    }\n                    redraw();\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Store current terminal state\n            // -------------------------------------------------------------\n            save_state: function(command, ignore_hash, index) {\n                // save_state.push({view:self.export_view(), join:[]});\n                if (typeof index !== 'undefined') {\n                    save_state[index] = self.export_view();\n                } else {\n                    save_state.push(self.export_view());\n                }\n                if (!$.isArray(hash_commands)) {\n                    hash_commands = [];\n                }\n                if (command !== undefined && !ignore_hash) {\n                    var state = [\n                        terminal_id,\n                        save_state.length - 1,\n                        command\n                    ];\n                    hash_commands.push(state);\n                    maybe_update_hash();\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Execute a command, it will handle commands that do AJAX\n            // :: calls and have delays, if the second argument is set to\n            // :: true it will not echo executed command\n            // :: if second argument is object is used as options\n            // -------------------------------------------------------------\n            exec: function(command, silent, options) {\n                function invoke(silent) {\n                    // commands may return promise from user code\n                    // it will resolve exec promise when user promise\n                    // is resolved\n                    var ret = commands(command, silent, true);\n                    unpromise(ret, function() {\n                        // reset prev command for push called after exec\n                        // so push didn't get name/prompt from exec command\n                        prev_command = null;\n                        d.resolve();\n                    }, function() {\n                        prev_command = null;\n                        d.reject();\n                    });\n                }\n                if (silent && typeof silent === 'object') {\n                    options = silent;\n                    silent = null;\n                }\n                var exec_settings = $.extend({\n                    deferred: null,\n                    silent: false,\n                    typing: false,\n                    delay: settings.execAnimationDelay\n                }, options);\n                if (silent === null) {\n                    silent = exec_settings.silent;\n                }\n                if (!is_deferred(exec_settings.deferred)) {\n                    exec_settings.deferred = new $.Deferred();\n                }\n                var d = exec_settings.deferred;\n                cmd_ready(function ready() {\n                    if ($.isArray(command)) {\n                        (function recur() {\n                            var cmd = command.shift();\n                            if (cmd) {\n                                self.exec(cmd, silent, options).done(recur);\n                            } else {\n                                d.resolve();\n                            }\n                        })();\n                    } else if (paused) {\n                        // both commands executed here (resume will call Term::exec)\n                        // delay command multiple time\n                        delayed_commands.push([command, silent, exec_settings]);\n                    } else if (exec_settings.typing && !silent) {\n                        var delay = exec_settings.delay;\n                        paused = true;\n                        var ret = self.typing('enter', delay, command, {\n                            delay: delay\n                        });\n                        ret.then(function() {\n                            paused = false;\n                            invoke(true);\n                        });\n                        d.then(function() {\n                            paused = false;\n                        });\n                    } else {\n                        invoke(silent);\n                    }\n                });\n                // while testing it didn't executed last exec when using this\n                // for resolved deferred\n                return d.promise();\n            },\n            // -------------------------------------------------------------\n            // :: bypass login function that wait untill you type user/pass\n            // :: it hide implementation detail\n            // -------------------------------------------------------------\n            autologin: function(user, token, silent) {\n                self.trigger('terminal.autologin', [user, token, silent]);\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Function changes the prompt of the command line to login\n            // :: with a password and calls the user login function with\n            // :: the callback that expects a token. The login is successful\n            // :: if the user calls it with value that is truthy\n            // -------------------------------------------------------------\n            login: function(auth, infinite, success, error) {\n                logins.push([].slice.call(arguments));\n                if (in_login) {\n                    throw new Error(sprintf(strings().notWhileLogin, 'login'));\n                }\n                if (!is_function(auth)) {\n                    throw new Error(strings().loginIsNotAFunction);\n                }\n                in_login = true;\n                if (self.token() && self.level() === 1 && !autologin) {\n                    in_login = false; // logout will call login\n                    self.logout(true);\n                } else if (self.token(true) && self.login_name(true)) {\n                    in_login = false;\n                    if (is_function(success)) {\n                        success();\n                    }\n                    return self;\n                }\n                // don't store login data in history\n                if (settings.history) {\n                    command_line.history().disable();\n                }\n                function popUserPass() {\n                    while (self.level() > level) {\n                        self.pop(undefined, true);\n                    }\n                    if (settings.history) {\n                        command_line.history().enable();\n                    }\n                }\n                // so we know how many times call pop\n                var level = self.level();\n                function login_callback(user, token, silent) {\n                    if (token) {\n                        popUserPass();\n                        var name = self.prefix_name(true) + '_';\n                        storage.set(name + 'token', token);\n                        storage.set(name + 'login', user);\n                        in_login = false;\n                        fire_event('onAfterLogin', [user, token]);\n                        if (is_function(success)) {\n                            // will be used internaly since users know\n                            // when login success (they decide when\n                            // it happen by calling the callback -\n                            // this funtion)\n                            success();\n                        }\n                    } else {\n                        if (infinite) {\n                            if (!silent) {\n                                self.error(strings().wrongPasswordTryAgain);\n                            }\n                            self.pop(undefined, true).set_mask(false);\n                        } else {\n                            in_login = false;\n                            if (!silent) {\n                                self.error(strings().wrongPassword);\n                            }\n                            self.pop(undefined, true).pop(undefined, true);\n                        }\n                        // used only to call pop in push\n                        if (is_function(error)) {\n                            error();\n                        }\n                    }\n                    if (self.paused()) {\n                        self.resume();\n                    }\n                    self.off('terminal.autologin');\n                }\n                self.on('terminal.autologin', function(event, user, token, silent) {\n                    if (fire_event('onBeforeLogin', [user, token]) === false) {\n                        return;\n                    }\n                    login_callback(user, token, silent);\n                });\n                self.push(function(user) {\n                    self.set_mask(settings.maskChar).push(function(pass) {\n                        try {\n                            if (fire_event('onBeforeLogin', [user, pass]) === false) {\n                                popUserPass();\n                                return;\n                            }\n                            self.pause();\n                            var ret = auth.call(self, user, pass, function(\n                                token,\n                                silent) {\n                                login_callback(user, token, silent);\n                            });\n                            if (ret && is_function(ret.then || ret.done)) {\n                                (ret.then || ret.done).call(ret, function(token) {\n                                    login_callback(user, token);\n                                }).catch(function(err) {\n                                    self.pop(undefined, true).pop(undefined, true);\n                                    self.error(err.message);\n                                    if (is_function(error)) {\n                                        error();\n                                    }\n                                    if (self.paused()) {\n                                        self.resume();\n                                    }\n                                    self.off('terminal.autologin');\n                                });\n                            }\n                        } catch (e) {\n                            display_exception(e, 'AUTH');\n                        }\n                    }, {\n                        prompt: strings().password + ': ',\n                        name: 'password'\n                    });\n                }, {\n                    prompt: strings().login + ': ',\n                    name: 'login'\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: User defined settings and defaults as well\n            // -------------------------------------------------------------\n            settings: function() {\n                return settings;\n            },\n            // -------------------------------------------------------------\n            // :: Get string before cursor\n            // -------------------------------------------------------------\n            before_cursor: function(word) {\n                var pos = command_line.position();\n                var command = command_line.get().slice(0, pos);\n                var cmd_strings = command.split(' ');\n                var string; // string before cursor that will be completed\n                if (word) {\n                    if (cmd_strings.length === 1) {\n                        string = cmd_strings[0];\n                    } else {\n                        var m = command.match(/(\\\\?\")/g);\n                        var double_quotes = m ? m.filter(function(chr) {\n                            return !chr.match(/^\\\\/);\n                        }).length : 0;\n                        m = command.match(/'/g);\n                        var single_quote = m ? m.length : 0;\n                        if (single_quote % 2 === 1) {\n                            string = command.match(/('[^']*)$/)[0];\n                        } else if (double_quotes % 2 === 1) {\n                            string = command.match(/(\"(?:[^\"]|\\\\\")*)$/)[0];\n                        } else {\n                            string = cmd_strings[cmd_strings.length - 1];\n                            for (i = cmd_strings.length - 1; i > 0; i--) {\n                                // treat escape space as part of the string\n                                var prev_string = cmd_strings[i - 1];\n                                if (prev_string[prev_string.length - 1] === '\\\\') {\n                                    string = cmd_strings[i - 1] + ' ' + string;\n                                } else {\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    string = command;\n                }\n                return string;\n            },\n            // -------------------------------------------------------------\n            // :: complete word or command based on array of words\n            // -------------------------------------------------------------\n            complete: function(commands, options) {\n                options = $.extend({\n                    word: true,\n                    echo: false,\n                    escape: true,\n                    echoCommand: false,\n                    caseSensitive: true,\n                    doubleTab: null\n                }, options || {});\n                var sensitive = options.caseSensitive;\n                // cursor can be in the middle of the command\n                // so we need to get the text before the cursor\n                var string = self.before_cursor(options.word).replace(/\\\\\"/g, '\"');\n                var quote = false;\n                if (options.word) {\n                    if (string.match(/^\"/)) {\n                        quote = '\"';\n                    } else if (string.match(/^'/)) {\n                        quote = \"'\";\n                    }\n                    if (quote) {\n                        string = string.replace(/^[\"']/, '');\n                    }\n                }\n                if (tab_count % 2 === 0) {\n                    command = self.before_cursor(options.word);\n                } else {\n                    var test = self.before_cursor(options.word);\n                    if (test !== command) {\n                        // command line changed between TABS - ignore\n                        return;\n                    }\n                }\n                var safe = $.terminal.escape_regex(string);\n                if (options.escape) {\n                    safe = safe.replace(/(\\\\+)([\"'() ])/g, function(_, slash, chr) {\n                        if (chr.match(/[()]/)) {\n                            return slash + '\\\\?\\\\' + chr;\n                        } else {\n                            return slash + '?' + chr;\n                        }\n                    });\n                }\n                function escape(string) {\n                    if (quote === '\"') {\n                        string = string.replace(/\"/g, '\\\\\"');\n                    }\n                    if (!quote && options.escape) {\n                        string = string.replace(/([\"'() ])/g, '\\\\$1');\n                    }\n                    return string;\n                }\n                function matched_strings() {\n                    var matched = [];\n                    for (var i = commands.length; i--;) {\n                        if (commands[i].match(/\\n/) && options.word) {\n                            warn('If you use commands with newlines you ' +\n                                 'should use word option for complete or' +\n                                 ' wordAutocomplete terminal option');\n                        }\n                        if (regex.test(commands[i])) {\n                            var match = escape(commands[i]);\n                            if (!sensitive && same_case(match)) {\n                                if (string.toLowerCase() === string) {\n                                    match = match.toLowerCase();\n                                } else if (string.toUpperCase() === string) {\n                                    match = match.toUpperCase();\n                                }\n                            }\n                            matched.push(match);\n                        }\n                    }\n                    return matched;\n                }\n                var flags = sensitive ? '' : 'i';\n                var regex = new RegExp('^' + safe, flags);\n                var matched = matched_strings();\n                function replace(input, replacement) {\n                    var text = self.get_command();\n                    var pos = self.get_position();\n                    var re = new RegExp('^' + input, 'i');\n                    var pre = text.slice(0, pos);\n                    var post = text.slice(pos);\n                    var to_insert = replacement.replace(re, '') + (quote || '');\n                    self.set_command(pre + to_insert + post);\n                    self.set_position((pre + to_insert).length);\n                }\n                if (matched.length === 1) {\n                    if (options.escape) {\n                        replace(safe, matched[0]);\n                    } else {\n                        self.insert(matched[0].replace(regex, '') + (quote || ''));\n                    }\n                    command = self.before_cursor(options.word);\n                    return true;\n                } else if (matched.length > 1) {\n                    if (++tab_count >= 2) {\n                        tab_count = 0;\n                        if (options.echo) {\n                            if (is_function(options.doubleTab)) {\n                                // new API old is keep for backward compatibility\n                                if (options.echoCommand) {\n                                    echo_command();\n                                }\n                                var ret = options.doubleTab.call(\n                                    self,\n                                    string,\n                                    matched,\n                                    echo_command\n                                );\n                                if (typeof ret === 'undefined') {\n                                    return true;\n                                } else {\n                                    return ret;\n                                }\n                            } else if (options.doubleTab !== false) {\n                                echo_command();\n                                var text = matched.slice().reverse().join('\\t\\t');\n                                self.echo($.terminal.escape_brackets(text), {\n                                    keepWords: true,\n                                    formatters: false\n                                });\n                            }\n                            return true;\n                        }\n                    } else {\n                        var common = common_string(escape(string), matched, sensitive);\n                        if (common) {\n                            replace(safe, common);\n                            command = self.before_cursor(options.word);\n                            return true;\n                        }\n                    }\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Return commands function from top interpreter\n            // -------------------------------------------------------------\n            commands: function() {\n                return interpreters.top().interpreter;\n            },\n            // -------------------------------------------------------------\n            // :: Low Level method that overwrites interpreter\n            // -------------------------------------------------------------\n            set_interpreter: function(user_intrp, login) {\n                var defer = $.Deferred();\n                function overwrite_interpreter() {\n                    self.pause(settings.softPause);\n                    make_interpreter(user_intrp, login, function(result) {\n                        self.resume();\n                        var top = interpreters.top();\n                        $.extend(top, result);\n                        prepare_top_interpreter(true);\n                        defer.resolve();\n                    });\n                }\n                if (is_function(login)) {\n                    self.login(login, true, overwrite_interpreter);\n                } else if (get_type(user_intrp) === 'string' && login) {\n                    self.login(\n                        make_json_rpc_login(user_intrp, login),\n                        true,\n                        overwrite_interpreter\n                    );\n                } else {\n                    overwrite_interpreter();\n                }\n                return defer.promise();\n            },\n            // -------------------------------------------------------------\n            // :: Show user greetings or terminal signature\n            // -------------------------------------------------------------\n            greetings: function() {\n                show_greetings();\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return true if terminal is paused false otherwise\n            // -------------------------------------------------------------\n            paused: function() {\n                return paused;\n            },\n            // -------------------------------------------------------------\n            // :: Pause the terminal, it should be used for ajax calls\n            // -------------------------------------------------------------\n            pause: function(visible) {\n                cmd_ready(function ready() {\n                    onPause();\n                    paused = true;\n                    command_line.disable(visible || is_android);\n                    if (!visible) {\n                        command_line.find('.cmd-prompt').hidden();\n                    }\n                    fire_event('onPause');\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Resume the previously paused terminal\n            // -------------------------------------------------------------\n            resume: function(silent) {\n                cmd_ready(function ready() {\n                    paused = false;\n                    if (enabled && terminals.front() === self) {\n                        command_line.enable(silent);\n                    }\n                    command_line.find('.cmd-prompt').visible();\n                    var original = delayed_commands;\n                    delayed_commands = [];\n                    for (var i = 0; i < original.length; ++i) {\n                        self.exec.apply(self, original[i]);\n                    }\n                    self.trigger('resume');\n                    var fn = resume_callbacks.shift();\n                    if (fn) {\n                        fn();\n                    }\n                    self.scroll_to_bottom();\n                    fire_event('onResume');\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return the number of characters that fit into the width of\n            // :: the terminal\n            // -------------------------------------------------------------\n            cols: function() {\n                if (settings.numChars) {\n                    return settings.numChars;\n                }\n                if (!num_chars || num_chars === 1000) {\n                    num_chars = get_num_chars(self, char_size);\n                }\n                return num_chars;\n            },\n            // -------------------------------------------------------------\n            // :: Return the number of lines that fit into the height of the\n            // :: terminal\n            // -------------------------------------------------------------\n            rows: function() {\n                if (settings.numRows) {\n                    return settings.numRows;\n                }\n                if (!num_rows) {\n                    num_rows = get_num_rows(self, char_size);\n                }\n                return num_rows;\n            },\n            // -------------------------------------------------------------\n            // :: Return the History object\n            // -------------------------------------------------------------\n            history: function() {\n                return command_line.history();\n            },\n            // -------------------------------------------------------------\n            // :: Return size of the terminal instance\n            // -------------------------------------------------------------\n            geometry: function() {\n                var style = window.getComputedStyle(self[0]);\n                function padding(name) {\n                    return parseInt(style.getPropertyValue('padding-' + name), 10) || 0;\n                }\n                var left = padding('left');\n                var right = padding('right');\n                var top = padding('top');\n                var bottom = padding('bottom');\n                return {\n                    terminal: {\n                        padding: {\n                            left: left,\n                            right: right,\n                            top: top,\n                            bottom: bottom\n                        },\n                        width: old_width + left + right,\n                        height: old_height + top + bottom\n                    },\n                    char: char_size,\n                    cols: this.cols(),\n                    rows: this.rows()\n                };\n            },\n            // -------------------------------------------------------------\n            // :: toggle recording of history state\n            // -------------------------------------------------------------\n            history_state: function(toggle) {\n                function run() {\n                    settings.historyState = true;\n                    if (!save_state.length) {\n                        self.save_state();\n                    } else if (terminals.length() > 1) {\n                        self.save_state(null);\n                    }\n                }\n                if (toggle) {\n                    // if set to true and if set from user command we need\n                    // not to include the command\n                    if (typeof window.setImmediate === 'undefined') {\n                        setTimeout(run, 0);\n                    } else {\n                        setImmediate(run);\n                    }\n                } else {\n                    settings.historyState = false;\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: clear the history state\n            // -------------------------------------------------------------\n            clear_history_state: function() {\n                hash_commands = [];\n                save_state = [];\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Switch to the next terminal\n            // -------------------------------------------------------------\n            next: function() {\n                if (terminals.length() === 1) {\n                    return self;\n                } else {\n                    terminals.front().disable();\n                    var next = terminals.rotate().enable();\n                    // 50 provides buffer in viewport\n                    var x = next.offset().top - 50;\n                    $('html,body').animate({scrollTop: x}, 500);\n                    try {\n                        trigger_terminal_change(next);\n                    } catch (e) {\n                        display_exception(e, 'onTerminalChange');\n                    }\n                    return next;\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Make the terminal in focus or blur depending on the first\n            // :: argument. If there is more then one terminal it will\n            // :: switch to next one, if the second argument is set to true\n            // :: the events will be not fired. Used on init\n            // -------------------------------------------------------------\n            focus: function(toggle, silent) {\n                cmd_ready(function ready() {\n                    if (terminals.length() === 1) {\n                        if (toggle === false) {\n                            self.disable(silent);\n                        } else {\n                            self.enable(silent);\n                        }\n                    } else if (toggle === false) {\n                        self.next();\n                    } else {\n                        var front = terminals.front();\n                        if (front !== self) {\n                            // there should be only from terminal enabled but tests\n                            // sometime fail because there where more them one\n                            // where cursor have blink class\n                            terminals.forEach(function(terminal) {\n                                if (terminal !== self && terminal.enabled()) {\n                                    terminal.disable(silent);\n                                }\n                            });\n                            if (!silent) {\n                                try {\n                                    trigger_terminal_change(self);\n                                } catch (e) {\n                                    display_exception(e, 'onTerminalChange');\n                                }\n                            }\n                        }\n                        terminals.set(self);\n                        self.enable(silent);\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Disable/Enable terminal that can be enabled by click\n            // -------------------------------------------------------------\n            freeze: function(freeze) {\n                when_ready(function ready() {\n                    if (freeze) {\n                        self.disable();\n                        frozen = true;\n                    } else {\n                        frozen = false;\n                        self.enable();\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: check if terminal is frozen\n            // -------------------------------------------------------------\n            frozen: function() {\n                return frozen;\n            },\n            // -------------------------------------------------------------\n            // :: Enable the terminal\n            // -------------------------------------------------------------\n            enable: function(silent) {\n                if (!enabled && !frozen) {\n                    if (num_chars === undefined) {\n                        // enabling first time\n                        self.resize();\n                    }\n                    cmd_ready(function ready() {\n                        var ret;\n                        if (!silent && !enabled) {\n                            fire_event('onFocus');\n                        }\n                        if (!silent && ret === undefined || silent) {\n                            enabled = true;\n                            if (!self.paused()) {\n                                command_line.enable(true);\n                            }\n                        }\n                    });\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: function clear formatting cache if you don't longer need it\n            // :: cache is used if option useCache is set to true\n            // -------------------------------------------------------------\n            clear_cache: 'Map' in root ? function() {\n                buffer.clear_cache();\n                line_cache.clear();\n                return self;\n            } : function() {\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Disable the terminal\n            // -------------------------------------------------------------\n            disable: function(silent) {\n                cmd_ready(function ready() {\n                    var ret;\n                    if (!silent && enabled) {\n                        ret = fire_event('onBlur');\n                    }\n                    if (!silent && ret === undefined || silent) {\n                        enabled = false;\n                        command_line.disable();\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: return true if the terminal is enabled\n            // -------------------------------------------------------------\n            enabled: function() {\n                return enabled;\n            },\n            // -------------------------------------------------------------\n            // :: Return the terminal signature depending on the size of the terminal\n            // -------------------------------------------------------------\n            signature: function() {\n                var cols = self.cols();\n                for (var i = signatures.length; i--;) {\n                    var lengths = signatures[i].map(function(line) {\n                        return line.length;\n                    });\n                    if (Math.max.apply(null, lengths) <= cols) {\n                        return signatures[i].join('\\n') + '\\n';\n                    }\n                }\n                return '';\n            },\n            // -------------------------------------------------------------\n            // :: Return the version number\n            // -------------------------------------------------------------\n            version: function() {\n                return $.terminal.version;\n            },\n            // -------------------------------------------------------------\n            // :: Return actual command line object (jquery object with cmd\n            // :: methods)\n            // -------------------------------------------------------------\n            cmd: function() {\n                return command_line;\n            },\n            // -------------------------------------------------------------\n            // :: Return the current command entered by terminal\n            // -------------------------------------------------------------\n            get_command: function() {\n                return command_line.get();\n            },\n            // -------------------------------------------------------------\n            // :: better API than echo_command that supports animation\n            // -------------------------------------------------------------\n            enter: with_typing('enter', echo_command),\n            // -------------------------------------------------------------\n            // :: Change the command line to the new one\n            // -------------------------------------------------------------\n            set_command: function(command, silent) {\n                when_ready(function ready() {\n                    // TODO: refactor to use options - breaking change\n                    if (typeof command !== 'string') {\n                        command = JSON.stringify(command);\n                    }\n                    command_line.set(command, undefined, silent);\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Change position of the command line\n            // -------------------------------------------------------------\n            set_position: function(position, relative) {\n                when_ready(function ready() {\n                    command_line.position(position, relative);\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return position of the command line\n            // -------------------------------------------------------------\n            get_position: function() {\n                return command_line.position();\n            },\n            // -------------------------------------------------------------\n            // :: Insert text into the command line after the cursor\n            // -------------------------------------------------------------\n            insert: function(string, stay) {\n                if (typeof string === 'string') {\n                    when_ready(function ready() {\n                        var bottom = self.is_bottom();\n                        command_line.insert(string, stay);\n                        if (settings.scrollOnEcho || bottom) {\n                            self.scroll_to_bottom();\n                        }\n                    });\n                    return self;\n                } else {\n                    throw new Error(sprintf(strings().notAString, 'insert'));\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Set the prompt of the command line\n            // -------------------------------------------------------------\n            set_prompt: with_typing('prompt', function(prompt) {\n                if (is_function(prompt)) {\n                    command_line.prompt(function(callback) {\n                        return prompt.call(self, callback, self);\n                    });\n                } else {\n                    command_line.prompt(prompt);\n                }\n            }, function(prompt) {\n                interpreters.top().prompt = prompt;\n            }),\n            // -------------------------------------------------------------\n            // :: Return the prompt used by the terminal\n            // -------------------------------------------------------------\n            get_prompt: function() {\n                return interpreters.top().prompt;\n                // command_line.prompt(); - can be a wrapper\n                //return command_line.prompt();\n            },\n            // -------------------------------------------------------------\n            // :: Enable or Disable mask depedning on the passed argument\n            // :: the mask can also be character (in fact it will work with\n            // :: strings longer then one)\n            // -------------------------------------------------------------\n            set_mask: function(mask) {\n                when_ready(function ready() {\n                    command_line.mask(mask === true ? settings.maskChar : mask);\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return the ouput of the terminal as text\n            // :: the output may contain user terminal formatting\n            // -------------------------------------------------------------\n            get_output: function(raw) {\n                if (raw) {\n                    return lines.data();\n                } else {\n                    return lines.get_snapshot();\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Recalculate and redraw everything\n            // -------------------------------------------------------------\n            resize: function(width, height) {\n                if (!self.is(':visible')) {\n                    // delay resize if terminal not visible\n                    self.stopTime('resize');\n                    self.oneTime(500, 'resize', function() {\n                        self.resize(width, height);\n                    });\n                } else {\n                    if (width && height) {\n                        self.width(width);\n                        self.height(height);\n                    }\n                    width = self.width();\n                    height = self.height();\n                    if (typeof settings.numChars !== 'undefined' ||\n                        typeof settings.numRows !== 'undefined') {\n                        command_line.resize(settings.numChars);\n                        self.refresh();\n                        fire_event('onResize');\n                        return;\n                    }\n                    var new_num_chars = get_num_chars(self, char_size);\n                    var new_num_rows = get_num_rows(self, char_size);\n                    // only if number of chars changed\n                    if (new_num_chars !== num_chars ||\n                        new_num_rows !== num_rows) {\n                        self.clear_cache();\n                        num_chars = new_num_chars;\n                        num_rows = new_num_rows;\n                        command_line.resize(num_chars);\n                        self.refresh();\n                        fire_event('onResize');\n                    }\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: redraw the terminal and invalidate cache\n            // -------------------------------------------------------------\n            refresh: function() {\n                if (char_size.width !== 0) {\n                    self[0].style.setProperty('--char-width', char_size.width);\n                }\n                self.clear_cache();\n                if (command) {\n                    command_line.resize();\n                }\n                redraw({\n                    scroll: false,\n                    update: true\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Flush the output to the terminal\n            // -------------------------------------------------------------\n            flush: function(options) {\n                options = $.extend({}, {\n                    update: false,\n                    scroll: true\n                }, options || {});\n                when_ready(function ready() {\n                    try {\n                        if (buffer.is_empty()) {\n                            return self;\n                        }\n                        var bottom = self.is_bottom();\n                        var scroll = (settings.scrollOnEcho && options.scroll) || bottom;\n                        var wrapper;\n                        // print all lines\n                        var first = true;\n                        var appending_to_partial = false;\n                        var partial = $();\n                        var snapshot;\n                        if (!options.update) {\n                            partial = self.find('.partial');\n                            snapshot = lines.get_partial();\n                        }\n                        // TODO: refactor buffer.flush(), there is way\n                        //       to many levels of abstractions in one place\n                        buffer.flush(function(data) {\n                            if (!data) {\n                                if (!partial.length) {\n                                    wrapper = $('<div/>');\n                                    snapshot = [];\n                                } else if (first) {\n                                    first = false;\n                                    appending_to_partial = true;\n                                    wrapper = partial;\n                                }\n                            } else if (is_function(data.finalize)) {\n                                if (scroll) {\n                                    wrapper.find('img').on('load', function() {\n                                        self.scroll_to_bottom();\n                                    });\n                                }\n                                // this is finalize function from echo\n                                if (options.update) {\n                                    lines.update_snapshot(data.index, snapshot);\n                                    var selector = '> div[data-index=' + data.index + ']';\n                                    var node = output.find(selector);\n                                    if (node.html() !== wrapper.html()) {\n                                        node.replaceWith(wrapper);\n                                    }\n                                } else {\n                                    wrapper.appendTo(output);\n                                    if (!partial.length) {\n                                        lines.make_snapshot(snapshot);\n                                    }\n                                }\n                                wrapper.attr('data-index', data.index);\n                                appending_to_partial = !data.newline;\n                                wrapper.toggleClass('partial', appending_to_partial);\n                                if (appending_to_partial) {\n                                    partial = wrapper;\n                                }\n                                data.finalize(wrapper);\n                            } else {\n                                var line = data.line;\n                                var div;\n                                if (typeof data.raw === 'string') {\n                                    if (appending_to_partial) {\n                                        snapshot[snapshot.length - 1] += data.raw;\n                                    } else {\n                                        snapshot.push(data.raw);\n                                    }\n                                }\n                                if (appending_to_partial) {\n                                    div = wrapper.children().last().append(line);\n                                    appending_to_partial = false;\n                                } else {\n                                    div = $('<div/>').html(line);\n                                    if (data.newline) {\n                                        div.addClass('cmd-end-line');\n                                    }\n                                    wrapper.append(div);\n                                }\n                                // width = '100%' does some weird extra magic\n                                // that makes the height correct. Any other\n                                // value doesn't work.\n                                div.css('width', '100%');\n                            }\n                        });\n                        var cmd_prompt = self.find('.cmd-prompt');\n                        var cmd_outer = self.find('.cmd');\n                        partial = self.find('.partial');\n                        var last_row;\n                        if (partial.length === 0) {\n                            cmd_prompt.css('margin-left', 0);\n                            cmd_outer.css('top', 0);\n                            command_line.__set_prompt_margin(0);\n                            last_row = self.find('.terminal-output div:last-child' +\n                                                 ' div:last-child');\n                            // check if the div is parital fix #695\n                            if (last_row.css('display') === 'inline-block') {\n                                last_row.css({\n                                    width: '100%',\n                                    display: ''\n                                });\n                            }\n                        } else {\n                            last_row = partial.children().last();\n                            // Remove width='100%' for two reasons:\n                            // 1. so we can measure the width right here\n                            // 2. so that the background of this last line of output\n                            //    doesn't occlude the first line of input to the right\n                            last_row.css({\n                                width: '',\n                                display: 'inline-block'\n                            });\n                            var last_row_rect = last_row[0].getBoundingClientRect();\n                            var partial_width = last_row_rect.width;\n                            // Shift command prompt up one line and to the right\n                            // enough so that it appears directly next to the\n                            // partially constructed output line\n                            cmd_prompt.css('margin-left', partial_width);\n                            cmd_outer.css('top', -last_row_rect.height);\n                            // Measure length of partial line in characters\n                            var char_width = self.geometry().char.width;\n                            var prompt_margin = Math.round(partial_width / char_width);\n                            command_line.__set_prompt_margin(prompt_margin);\n                        }\n                        limit_lines();\n                        fire_event('onFlush');\n                        var cmd_cursor = self.find('.cmd-cursor');\n                        var offset = self.find('.cmd').offset();\n                        var self_offset = self.offset();\n                        setTimeout(function() {\n                            css(self[0], {\n                                '--terminal-height': self.height(),\n                                '--terminal-x': offset.left - self_offset.left,\n                                '--terminal-y': offset.top - self_offset.top,\n                                '--terminal-scroll': self.prop('scrollTop')\n                            });\n                            // Firefox won't reflow the cursor automatically, so\n                            // hide it briefly then reshow it\n                            cmd_cursor.hide();\n                            setTimeout(function() {\n                                cmd_cursor.show();\n                            }, 0);\n                        }, 0);\n                        if (scroll) {\n                            self.scroll_to_bottom();\n                        }\n                    } catch (e1) {\n                        if (is_function(settings.exceptionHandler)) {\n                            try {\n                                settings.exceptionHandler.call(\n                                    self,\n                                    e1,\n                                    'TERMINAL (Flush)'\n                                );\n                            } catch (e2) {\n                                settings.exceptionHandler = $.noop;\n                                alert_exception('[exceptionHandler]', e2);\n                            }\n                        } else {\n                            alert_exception('[Flush]', e1);\n                        }\n                    } finally {\n                        buffer.clear();\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Update the output line - line number can be negative\n            // -------------------------------------------------------------\n            update: function(line, value, options) {\n                when_ready(function ready() {\n                    if (line < 0) {\n                        line = lines.length() + line; // yes +\n                    }\n                    if (!lines.valid_index(line)) {\n                        self.error('Invalid line number ' + line);\n                    } else if (value === null) {\n                        lines.update(line, null);\n                        output.find('[data-index=' + line + ']').remove();\n                    } else {\n                        value = preprocess_value(value, {\n                            update: true,\n                            line: line\n                        });\n                        if (value === false) {\n                            return self;\n                        }\n                        unpromise(value, function(value) {\n                            var ret = prepare_render(value, options);\n                            if (ret) {\n                                value = ret[0];\n                                options = ret[1];\n                            }\n                            options = lines.update(line, value, options);\n                            var next = process_line({\n                                value: value,\n                                index: line,\n                                options: options\n                            });\n                            // process_line can return a promise\n                            // value is function that resolve to promise\n                            unpromise(next, function() {\n                                // trigger flush even if next is undefined\n                                self.flush({\n                                    scroll: false,\n                                    update: true\n                                });\n                            });\n                        });\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: convenience method for removing selected line\n            // -------------------------------------------------------------\n            remove_line: function(line) {\n                return self.update(line, null);\n            },\n            // -------------------------------------------------------------\n            // :: return index of last line in case when you need to update\n            // :: after something is echo on the terminal\n            // -------------------------------------------------------------\n            last_index: function() {\n                return lines.length() - 1;\n            },\n            // -------------------------------------------------------------\n            // :: Print data to the terminal output. It can have options\n            // :: * flush - indicate that arg should be send to DOM\n            // :: * raw - indicate if it should handle input as html\n            // :: * finalize - function call with container div\n            // :: * keepWords - inform how to wrap text\n            // :: * formatters - inform function if it should use formatters\n            // ::   on input string - good to prevent XSS when you want\n            // ::   advanced server side controling of terminal\n            // :: you can echo: promise, function, strings array or string\n            // -------------------------------------------------------------\n            echo: function(arg, options) {\n                var arg_defined = arguments.length > 0;\n                var d = new $.Deferred();\n                function echo(arg) {\n                    try {\n                        var locals = $.extend({\n                            flush: true,\n                            exec: true,\n                            raw: settings.raw,\n                            finalize: $.noop,\n                            unmount: $.noop,\n                            delay: settings.execAnimationDelay,\n                            ansi: false,\n                            typing: false,\n                            keepWords: false,\n                            invokeMethods: settings.invokeMethods,\n                            onClear: null,\n                            formatters: true,\n                            allowedAttributes: settings.allowedAttributes,\n                            newline: true\n                        }, options || {});\n                        // finalize function is passed around and invoked\n                        // in terminal::flush after content is added to DOM\n                        (function(finalize) {\n                            locals.finalize = function(div) {\n                                if (locals.raw) {\n                                    div.addClass('raw');\n                                }\n                                if (locals.ansi) {\n                                    div.addClass('ansi');\n                                }\n                                try {\n                                    if (is_function(finalize)) {\n                                        finalize.call(self, div);\n                                    }\n                                    var $images = div.find('img');\n                                    $images.each(function() {\n                                        var self = $(this);\n                                        var img = new Image();\n                                        img.onerror = function() {\n                                            self.replaceWith(use_broken_image);\n                                        };\n                                        img.src = this.src;\n                                    });\n                                } catch (e) {\n                                    display_exception(e, 'USER:echo(finalize)');\n                                    finalize = null;\n                                }\n                            };\n                        })(locals.finalize);\n                        if (locals.flush) {\n                            // flush buffer if there was no flush after previous echo\n                            if (!buffer.empty()) {\n                                self.flush();\n                            }\n                        }\n                        if (fire_event('onBeforeEcho', [arg]) === false) {\n                            return;\n                        }\n                        if (locals.typing) {\n                            if (typeof arg !== 'string') {\n                                return d.reject('echo: Typing animation require string' +\n                                                ' or promise that resolve to string');\n                            }\n                            if (typeof locals.delay !== 'number' || isNaN(locals.delay)) {\n                                return d.reject('echo: Invalid argument, delay need to' +\n                                                ' be a number');\n                            }\n                            var p = self.typing('echo', locals.delay, arg, locals);\n                            p.then(function() {\n                                d.resolve();\n                            });\n                            return;\n                        }\n                        var value;\n                        if (typeof arg === 'function') {\n                            value = arg.bind(self);\n                        } else if (typeof arg === 'undefined') {\n                            if (arg_defined) {\n                                value = String(arg);\n                            } else {\n                                value = '';\n                            }\n                        } else {\n                            var ret = preprocess_value(arg, {});\n                            if (ret === false) {\n                                return self;\n                            }\n                            value = ret;\n                        }\n                        if (is_promise(value)) {\n                            echo_promise = true;\n                        }\n                        unpromise(value, function(value) {\n                            if (render(value, locals)) {\n                                return self;\n                            }\n                            var index = lines.length();\n                            var last_newline = lines.has_newline();\n                            if (!last_newline) {\n                                index--;\n                            }\n                            if (!locals.newline && value[value.length - 1] === '\\n') {\n                                // This adjusts the value, so that when it updates or\n                                // refresh the lines list it does the right thing.\n                                value = value.slice(0, -1);\n                                locals.newline = true;\n                            }\n                            var next = process_line({\n                                value: value,\n                                options: locals,\n                                index: index\n                            });\n                            // queue async functions in echo\n                            if (is_promise(next)) {\n                                echo_promise = true;\n                            }\n                            lines.push([value, locals]);\n                            unpromise(next, function() {\n                                // extended commands should be processed only\n                                // once in echo and not on redraw\n                                if (locals.flush) {\n                                    self.flush();\n                                    fire_event('onAfterEcho', [arg]);\n                                }\n                                echo_promise = false;\n                                var original = echo_delay;\n                                echo_delay = [];\n                                for (var i = 0; i < original.length; ++i) {\n                                    self.echo.apply(self, original[i]);\n                                }\n                            });\n                        });\n                    } catch (e) {\n                        // if echo throw exception we can't use error to\n                        // display that exception\n                        if (is_function(settings.exceptionHandler)) {\n                            settings.exceptionHandler.call(self, e, 'TERMINAL (echo)');\n                        } else {\n                            alert_exception('[Terminal.echo]', e);\n                        }\n                    }\n                }\n                if (echo_promise) {\n                    echo_delay.push([arg, options]);\n                } else {\n                    echo(arg);\n                }\n                if (options && options.typing) {\n                    return d.promise();\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            typing: function(type, delay, string, options) {\n                var d = new $.Deferred();\n                var settings;\n                var finish;\n                if (typeof options === 'object') {\n                    finish = options.finalize || $.noop;\n                    settings = $.extend({}, options, {\n                        delay: delay,\n                        finalize: done\n                    });\n                } else {\n                    finish = options || $.noop;\n                    settings = {\n                        delay: delay,\n                        finalize: done\n                    };\n                }\n                function done() {\n                    d.resolve();\n                    if (is_function(finish)) {\n                        finish.apply(self, arguments);\n                    }\n                }\n                when_ready(function ready() {\n                    if (['prompt', 'echo', 'enter'].indexOf(type) >= 0) {\n                        if (type === 'prompt') {\n                            typed_prompt(string, settings);\n                        } else if (type === 'echo') {\n                            typed_message(string, settings);\n                        } else if (type === 'enter') {\n                            with_prompt(self.get_prompt(), function(prompt) {\n                                typed_enter(prompt, string, settings);\n                            }, self);\n                        }\n                    } else {\n                        d.reject('Invalid type only `echo` and `prompt` are supported');\n                    }\n                });\n                return d.promise();\n            },\n            // -------------------------------------------------------------\n            // :: echo red text\n            // -------------------------------------------------------------\n            error: function(message, options) {\n                options = $.extend({}, options, {raw: false, formatters: false});\n                function format(string) {\n                    if (typeof string !== 'string') {\n                        string = String(string);\n                    }\n                    // quick hack to fix trailing backslash\n                    var str = $.terminal.escape_brackets(string).\n                        replace(/\\\\$/, '&#92;').\n                        replace(url_re, ']$1[[;;;terminal-error]');\n                    return '[[;;;terminal-error]' + str + ']';\n                }\n                if (typeof message === 'function') {\n                    return self.echo(function() {\n                        return format(message.call(self));\n                    }, options);\n                }\n                if (message && message.then) {\n                    message.then(function(string) {\n                        self.echo(format(string));\n                    }).catch(make_label_error('Echo Error'));\n                    return self;\n                }\n                return self.echo(format(message), options);\n            },\n            // -------------------------------------------------------------\n            // :: Display Exception on terminal\n            // -------------------------------------------------------------\n            exception: function(e, label) {\n                var message = exception_message(e);\n                if (label) {\n                    message = '&#91;' + label + '&#93;: ' + message;\n                }\n                if (message) {\n                    self.error(message, {\n                        finalize: function(div) {\n                            div.addClass('terminal-exception terminal-message');\n                        },\n                        keepWords: true\n                    });\n                }\n                if (typeof e.fileName === 'string') {\n                    // display filename and line which throw exeption\n                    self.pause(settings.softPause);\n                    $.get(e.fileName, function(file) {\n                        var num = e.lineNumber - 1;\n                        var line = file.split('\\n')[num];\n                        if (line) {\n                            self.error('[' + e.lineNumber + ']: ' + line);\n                        }\n                        self.resume();\n                    }, 'text');\n                }\n                if (e.stack) {\n                    var stack = $.terminal.escape_brackets(e.stack);\n                    var output = stack.split(/\\n/g).map(function(trace) {\n                        // nested formatting will handle urls but that formatting\n                        // can be removed - this code was created before\n                        // that formatting existed (see commit ce01c3f5)\n                        return '[[;;;terminal-error]' +\n                            trace.replace(url_re, function(url) {\n                                return ']' + url + '[[;;;terminal-error]';\n                            }) + ']';\n                    }).join('\\n');\n                    self.echo(output, {\n                        finalize: function(div) {\n                            div.addClass('terminal-exception terminal-stack-trace');\n                        },\n                        formatters: false\n                    });\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Scroll Div that holds the terminal\n            // -------------------------------------------------------------\n            scroll: function(amount) {\n                var pos;\n                amount = Math.round(amount);\n                if (self.prop) { // work with jQuery > 1.6\n                    if (amount > self.prop('scrollTop') && amount > 0) {\n                        self.prop('scrollTop', 0);\n                    }\n                    pos = self.prop('scrollTop');\n                    self.scrollTop(pos + amount);\n                } else {\n                    if (amount > self.prop('scrollTop') && amount > 0) {\n                        self.prop('scrollTop', 0);\n                    }\n                    pos = self.prop('scrollTop');\n                    self.scrollTop(pos + amount);\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Exit all interpreters and logout. The function will throw\n            // :: exception if there is no login provided\n            // -------------------------------------------------------------\n            logout: function(local) {\n                if (in_login) {\n                    throw new Error(sprintf(strings().notWhileLogin, 'logout'));\n                }\n                when_ready(function ready() {\n                    if (local) {\n                        var login = logins.pop();\n                        self.set_token(undefined, true);\n                        self.login.apply(self, login);\n                    } else if (interpreters.size() === 1 && self.token()) {\n                        self.logout(true);\n                    } else {\n                        while (interpreters.size() > 1) {\n                            // pop will call global_logout that will call login\n                            // and size will be > 0; this is workaround the problem\n                            if (self.token()) {\n                                self.logout(true).pop().pop();\n                            } else {\n                                self.pop();\n                            }\n                        }\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Function returns the token returned by callback function\n            // :: in login function. It does nothing (return undefined) if\n            // :: there is no login\n            // -------------------------------------------------------------\n            token: function(local) {\n                return storage.get(self.prefix_name(local) + '_token');\n            },\n            // -------------------------------------------------------------\n            // :: Function sets the token to the supplied value. This function\n            // :: works regardless of wherer settings.login is supplied\n            // -------------------------------------------------------------\n            set_token: function(token, local) {\n                var name = self.prefix_name(local) + '_token';\n                if (typeof token === 'undefined') {\n                    storage.remove(name);\n                } else {\n                    storage.set(name, token);\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Function get the token either set by the login method or\n            // :: by the set_token method.\n            // -------------------------------------------------------------\n            get_token: function(local) {\n                return self.token(local);\n            },\n            // -------------------------------------------------------------\n            // :: Function return Login name entered by the user\n            // -------------------------------------------------------------\n            login_name: function(local) {\n                return storage.get(self.prefix_name(local) + '_login');\n            },\n            // -------------------------------------------------------------\n            // :: Function returns the name of current interpreter\n            // -------------------------------------------------------------\n            name: function() {\n                return interpreters.top().name;\n            },\n            // -------------------------------------------------------------\n            // :: Function return prefix name for login/token\n            // -------------------------------------------------------------\n            prefix_name: function(local) {\n                var name = (settings.name ? settings.name + '_' : '') +\n                    terminal_id;\n                if (local && interpreters.size() > 1) {\n                    var local_name = interpreters.map(function(intrp) {\n                        return intrp.name || '';\n                    }).slice(1).join('_');\n                    if (local_name) {\n                        name += '_' + local_name;\n                    }\n                }\n                return name;\n            },\n            // -------------------------------------------------------------\n            // :: wrapper for common use case\n            // -------------------------------------------------------------\n            read: function(message, success, cancel) {\n                var options;\n                if (typeof arguments[1] === 'object') {\n                    options = $.extend({\n                        typing: false,\n                        delay: settings.execAnimationDelay,\n                        success: $.noop,\n                        cancel: $.noop\n                    }, arguments[1]);\n                } else {\n                    options = {\n                        typing: false,\n                        success: success || $.noop,\n                        cancel: cancel || $.noop\n                    };\n                }\n                if (options.typing) {\n                    var prompt = self.get_prompt();\n                    options.typing = false;\n                    return self.typing('prompt', options.delay, message).then(function() {\n                        return self.set_prompt(prompt).read(message, options);\n                    });\n                }\n                // return from read() should not pause terminal\n                force_awake = true;\n                var defer = jQuery.Deferred();\n                var read = false;\n                self.push(function(string) {\n                    read = true;\n                    defer.resolve(string);\n                    if (is_function(options.success)) {\n                        options.success(string);\n                    }\n                    self.pop();\n                    if (settings.history) {\n                        command_line.history().enable();\n                    }\n                }, {\n                    name: 'read',\n                    history: false,\n                    prompt: message || '',\n                    onExit: function() {\n                        if (!read) {\n                            defer.reject();\n                            if (is_function(options.cancel)) {\n                                options.cancel();\n                            }\n                        }\n                    }\n                });\n                if (settings.history) {\n                    command_line.history().disable();\n                }\n                return defer.promise();\n            },\n            // -------------------------------------------------------------\n            // :: Push a new interenter on the Stack\n            // -------------------------------------------------------------\n            push: function(interpreter, options) {\n                cmd_ready(function ready() {\n                    options = options || {};\n                    var defaults = {\n                        infiniteLogin: false\n                    };\n                    var push_settings = $.extend({}, defaults, options);\n                    if (!push_settings.name && prev_command) {\n                        // name the interpreter from last command\n                        push_settings.name = prev_command.name;\n                    }\n                    if (push_settings.prompt === undefined) {\n                        push_settings.prompt = (push_settings.name || '>') + ' ';\n                    }\n                    // names.push(options.name);\n                    var top = interpreters.top();\n                    if (top) {\n                        top.mask = command_line.mask();\n                    }\n                    var was_paused = paused;\n                    function init() {\n                        fire_event('onPush', [top, interpreters.top()]);\n                        prepare_top_interpreter();\n                    }\n                    //self.pause();\n                    make_interpreter(interpreter, options.login, function(ret) {\n                        // result is object with interpreter and completion properties\n                        interpreters.push($.extend({}, ret, push_settings));\n                        if (push_settings.completion === true) {\n                            if ($.isArray(ret.completion)) {\n                                interpreters.top().completion = ret.completion;\n                            } else if (!ret.completion) {\n                                interpreters.top().completion = false;\n                            }\n                        }\n                        if (push_settings.login) {\n                            var error;\n                            var type = get_type(push_settings.login);\n                            if (type === 'function') {\n                                error = push_settings.infiniteLogin ? $.noop : self.pop;\n                                self.login(\n                                    push_settings.login,\n                                    push_settings.infiniteLogin,\n                                    init,\n                                    error\n                                );\n                            } else if (get_type(interpreter) === 'string' &&\n                                       type === 'string' || type === 'boolean') {\n                                error = push_settings.infiniteLogin ? $.noop : self.pop;\n                                self.login(\n                                    make_json_rpc_login(\n                                        interpreter,\n                                        push_settings.login\n                                    ),\n                                    push_settings.infiniteLogin,\n                                    init,\n                                    error\n                                );\n                            }\n                        } else {\n                            init();\n                        }\n                        if (!was_paused && self.enabled()) {\n                            self.resume();\n                        }\n                    });\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Remove the last interpreter from the Stack\n            // -------------------------------------------------------------\n            pop: function(string, silent) {\n                if (string !== undefined) {\n                    echo_command(string);\n                }\n                var token = self.token(true);\n                var top;\n                if (interpreters.size() === 1) {\n                    top = interpreters.top();\n                    if (settings.login) {\n                        if (!silent) {\n                            fire_event('onPop', [top, null]);\n                        }\n                        global_logout();\n                        fire_event('onExit');\n                    } else {\n                        self.error(strings().canExitError);\n                    }\n                } else {\n                    if (token) {\n                        clear_loging_storage();\n                    }\n                    var current = interpreters.pop();\n                    top = interpreters.top();\n                    prepare_top_interpreter();\n                    // restore mask\n                    self.set_mask(top.mask);\n                    if (!silent) {\n                        fire_event('onPop', [current, top]);\n                    }\n                    // we check in case if you don't pop from password interpreter\n                    if (in_login && self.get_prompt() !== strings().login + ': ') {\n                        in_login = false;\n                    }\n                    if (is_function(current.onExit)) {\n                        try {\n                            current.onExit.call(self, self);\n                        } catch (e) {\n                            current.onExit = $.noop;\n                            display_exception(e, 'onExit');\n                        }\n                    }\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Change terminal option(s) at runtime\n            // -------------------------------------------------------------\n            option: function(object_or_name, value) {\n                if (typeof value === 'undefined') {\n                    if (typeof object_or_name === 'string') {\n                        return settings[object_or_name];\n                    } else if (typeof object_or_name === 'object') {\n                        $.each(object_or_name, function(key, value) {\n                            settings[key] = value;\n                        });\n                    }\n                } else {\n                    settings[object_or_name] = value;\n                    if (object_or_name.match(/^num(Chars|Rows)$/)) {\n                        redraw();\n                    }\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: invoke keydown shorcut\n            // -------------------------------------------------------------\n            invoke_key: function(shortcut) {\n                command_line.invoke_key(shortcut);\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: change terminal keymap at runtime\n            // -------------------------------------------------------------\n            keymap: function(keymap, fn) {\n                if (arguments.length === 0) {\n                    return command_line.keymap();\n                }\n                if (typeof fn === 'undefined') {\n                    if (typeof keymap === 'string') {\n                        return command_line.keymap(keymap);\n                    } else if ($.isPlainObject(keymap)) {\n                        // argument is an object\n                        keymap = $.extend(\n                            {},\n                            terminal_init_keymap,\n                            $.omap(keymap || {}, function(key, fn) {\n                                if (!terminal_init_keymap[key]) {\n                                    return fn.bind(self);\n                                }\n                                return function(e, original) {\n                                    // new keymap function will get default as 2nd arg\n                                    return fn.call(self, e, function() {\n                                        return terminal_init_keymap[key](e, original);\n                                    });\n                                };\n                            })\n                        );\n                        command_line.keymap(null).keymap(keymap);\n                    }\n                } else if (typeof fn === 'function') {\n                    var key = keymap;\n                    if (!terminal_init_keymap[key]) {\n                        command_line.keymap(key, fn.bind(self));\n                    } else {\n                        command_line.keymap(key, function(e, original) {\n                            return fn.call(self, e, function() {\n                                return terminal_init_keymap[key](e, original);\n                            });\n                        });\n                    }\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Return how deep you are in nested interpreters\n            // -------------------------------------------------------------\n            level: function() {\n                return interpreters.size();\n            },\n            // -------------------------------------------------------------\n            // :: Reinitialize the terminal\n            // -------------------------------------------------------------\n            reset: function() {\n                when_ready(function ready() {\n                    self.clear();\n                    while (interpreters.size() > 1) {\n                        interpreters.pop();\n                    }\n                    initialize();\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Remove all local storage left by terminal, it will not\n            // :: logout you until you refresh the browser\n            // -------------------------------------------------------------\n            purge: function() {\n                when_ready(function ready() {\n                    var prefix = self.prefix_name() + '_';\n                    var names = storage.get(prefix + 'interpreters');\n                    if (names) {\n                        $.each(JSON.parse(names), function(_, name) {\n                            storage.remove(name + '_commands');\n                            storage.remove(name + '_token');\n                            storage.remove(name + '_login');\n                        });\n                    }\n                    command_line.purge();\n                    storage.remove(prefix + 'interpreters');\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Remove all events and DOM nodes left by terminal, it will\n            // :: not purge the terminal so you will have the same state\n            // :: when you refresh the browser\n            // -------------------------------------------------------------\n            destroy: function() {\n                when_ready(function ready() {\n                    command_line.destroy().remove();\n                    self.resizer('unbind');\n                    self.touch_scroll('unbind');\n                    font_resizer.resizer('unbind').remove();\n                    $(document).unbind('.terminal_' + self.id());\n                    $(window).unbind('.terminal_' + self.id());\n                    self.unbind('click wheel mousewheel mousedown mouseup');\n                    self.removeData('terminal').removeClass('terminal').\n                        unbind('.terminal');\n                    if (settings.width) {\n                        self.css('width', '');\n                    }\n                    if (settings.height) {\n                        self.css('height', '');\n                    }\n                    $(window).off('blur', blur_terminal).\n                        off('focus', focus_terminal);\n                    self.find('.terminal-fill, .terminal-font').remove();\n                    self.stopTime();\n                    terminals.remove(terminal_id);\n                    if (visibility_observer) {\n                        if (visibility_observer.unobserve) {\n                            visibility_observer.unobserve(self[0]);\n                        } else {\n                            clearInterval(visibility_observer);\n                        }\n                    }\n                    var scroll_marker = self.find('.terminal-scroll-marker');\n                    if (is_bottom_observer) {\n                        is_bottom_observer.unobserve(scroll_marker[0]);\n                    }\n                    scroll_marker.remove();\n                    if (mutation_observer) {\n                        mutation_observer.disconnect();\n                    }\n                    if (!terminals.length()) {\n                        $(window).off('hashchange');\n                    }\n                    if (is_mobile) {\n                        self.off([\n                            'touchstart.terminal',\n                            'touchmove.terminal',\n                            'touchend.terminal'\n                        ].join(' '));\n                    }\n                    output.remove();\n                    wrapper.remove();\n                    if (body_terminal) {\n                        var $body = $(body_terminal);\n                        if ($body.attr('class') === 'full-screen-terminal') {\n                            $body.removeAttr('class');\n                        } else {\n                            $body.removeClass('full-screen-terminal');\n                        }\n                        self.remove();\n                    }\n                    defunct = true;\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: ref: https://stackoverflow.com/a/18927969/387194\n            // -------------------------------------------------------------\n            scroll_to: function(elem) {\n                var scroll = self.scrollTop() - self.offset().top + $(elem).offset().top;\n                self.scrollTop(scroll);\n                return self;\n            },\n            // -------------------------------------------------------------\n            scroll_to_bottom: function() {\n                var scrollHeight;\n                if (self.prop) {\n                    scrollHeight = self.prop('scrollHeight');\n                } else {\n                    scrollHeight = self.attr('scrollHeight');\n                }\n                self.scrollTop(scrollHeight);\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: return true if terminal div or body is at the bottom\n            // :: is use scrollBottomOffset option as margin for the check\n            // -------------------------------------------------------------\n            is_bottom: function() {\n                if (settings.scrollBottomOffset === -1) {\n                    return false;\n                } else if (typeof is_bottom_detected === 'boolean') {\n                    return is_bottom_detected;\n                } else {\n                    var scroll_height, scroll_top, height;\n                    scroll_height = self[0].scrollHeight;\n                    scroll_top = self[0].scrollTop;\n                    height = self[0].offsetHeight;\n                    var limit = scroll_height - settings.scrollBottomOffset;\n                    return scroll_top + height > limit;\n                }\n            },\n            // -------------------------------------------------------------\n            // :: create terminal object clone, used by pipe\n            // -------------------------------------------------------------\n            duplicate: function() {\n                var copy = $(self);\n                return $.extend(copy, public_api);\n            },\n            // -------------------------------------------------------------\n            // :: return output flush buffer\n            // -------------------------------------------------------------\n            get_output_buffer: function(options) {\n                var settings = $.extend({\n                    html: false\n                }, options);\n                var result = [];\n                var append = false;\n                buffer.forEach(function(data) {\n                    if (data) {\n                        if (is_function(data.finalize)) {\n                            append = !data.newline;\n                        } else {\n                            var output;\n                            if (settings.html) {\n                                output = data.line;\n                            } else {\n                                output = data.raw;\n                            }\n                            if (append) {\n                                var last = result.length - 1;\n                                result[last] += output;\n                            } else {\n                                result.push(output);\n                            }\n                        }\n                    }\n                });\n                if (settings.html) {\n                    return result.map(function(line) {\n                        return '<div>' + line + '</div>';\n                    }).join('\\n');\n                }\n                return result.join('\\n');\n            },\n            // -------------------------------------------------------------\n            // :: clear flush buffer\n            // -------------------------------------------------------------\n            clear_buffer: function() {\n                buffer.clear();\n                return self;\n            }\n        }, function(name, fun) {\n            // wrap all functions and display execptions\n            return function() {\n                if (defunct) {\n                    if (!settings.exceptionHandler) {\n                        throw new $.terminal.Exception(strings().defunctTerminal);\n                    }\n                }\n                try {\n                    return fun.apply(self, [].slice.apply(arguments));\n                } catch (e) {\n                    // exec catch by command (resume call exec)\n                    if (name !== 'exec' && name !== 'resume') {\n                        display_exception(e, e.type || 'TERMINAL', true);\n                    }\n                    if (!settings.exceptionHandler) {\n                        throw e;\n                    }\n                }\n            };\n        });\n        $.extend(self, public_api);\n        // -----------------------------------------------------------------\n        // :: INIT CODE\n        // -----------------------------------------------------------------\n        if (self.length === 0) {\n            var msg = sprintf(strings().invalidSelector);\n            throw new $.terminal.Exception(msg);\n        }\n        self.data('terminal', self);\n        // synchronize the echo calls (used for async functions) that need\n        // to be called in order\n        var echo_delay = [];\n        var echo_promise = false;\n        // var names = []; // stack if interpreter names\n        var prev_command; // used for name on the terminal if not defined\n        var prev_exec_cmd;\n        var tab_count = 0; // for tab completion\n        var output; // .terminal-output jquery object\n        var terminal_id = terminals.length();\n        var force_awake = false; // flag used to don't pause when user return read() call\n        var num_chars; // numer of chars in line\n        var num_rows; // number of lines that fit without scrollbar\n        var command; // for tab completion\n        var logins = new Stack(); // stack of logins\n        var command_queue = new DelayQueue();\n        var animating = false; // true on typing animation\n        var init_queue = new DelayQueue();\n        var when_ready = ready(init_queue);\n        var cmd_ready = ready(command_queue);\n        var is_bottom_detected;\n        var is_bottom_observer;\n        var in_login = false;// some Methods should not be called when login\n        // TODO: Try to use mutex like counter for pause/resume\n        var onPause = $.noop;// used to indicate that user call pause onInit\n        var old_width, old_height;\n        var delayed_commands = []; // used when exec commands while paused\n        var settings = $.extend(\n            {},\n            $.terminal.defaults,\n            {\n                name: self.selector,\n                exit: !!(options && options.login || !options)\n            },\n            options || {}\n        );\n        if (typeof settings.width === 'number') {\n            self.width(settings.width);\n        }\n        if (typeof settings.height === 'number') {\n            self.height(settings.height);\n        }\n        var char_size = get_char_size(self);\n        // this is needed when terminal have selector with --size that is not\n        // bare .terminal so fake terminal will not get the proper size #602\n        var need_char_size_recalculate = !terminal_ready(self);\n        // so it's the same as in TypeScript definition for options\n        delete settings.formatters;\n        // used to throw error when calling methods on destroyed terminal\n        var defunct = false;\n        // ---------------------------------------------------------------------\n        // :: FormatBuffer is used to to buffer the lines that echoed\n        // :: it have append function that have 2 options raw and finalize\n        // :: raw - will not encode the string and finalize if a function that\n        // :: will have div container of the line as first argument\n        // :: actuall echo to the terminal happen when calling flush\n        // ---------------------------------------------------------------------\n        var buffer = new FormatBuffer(function(options) {\n            return {\n                linksNoReferrer: settings.linksNoReferrer,\n                linksNoFollow: settings.linksNoFollow,\n                anyLinks: settings.anyLinks,\n                charWidth: char_size.width,\n                useCache: settings.useCache,\n                escape: false,\n                allowedAttributes: options.allowedAttributes || []\n            };\n        });\n        var lines = new OutputLines(function() {\n            return settings;\n        });\n        var storage = new StorageHelper(settings.memory);\n        var enabled = settings.enabled;\n        var frozen = false;\n        var paused = false;\n        var autologin = true; // set to false if onBeforeLogin return false\n        var interpreters;\n        var command_line;\n        var old_enabled;\n        var visibility_observer;\n        var mutation_observer;\n        // backward compatibility\n        if (settings.ignoreSystemDescribe === true) {\n            settings.describe = false;\n        }\n        // register ajaxSend for cancel requests on CTRL+D\n        $(document).bind('ajaxSend.terminal_' + self.id(), function(e, xhr) {\n            requests.push(xhr);\n        });\n        var wrapper = $('<div class=\"terminal-wrapper\"/>').appendTo(self);\n        $(broken_image).hide().appendTo(wrapper);\n        var font_resizer = $('<div class=\"terminal-font\">&nbsp;</div>').appendTo(self);\n        var fill = $('<div class=\"terminal-fill\"/>').appendTo(self);\n        output = $('<div>').addClass('terminal-output').attr('role', 'log')\n            .appendTo(wrapper);\n        self.addClass('terminal');\n        // before login event\n        if (settings.login && fire_event('onBeforeLogin') === false) {\n            autologin = false;\n        }\n        // create json-rpc authentication function\n        var base_interpreter;\n        if (typeof init_interpreter === 'string') {\n            base_interpreter = init_interpreter;\n        } else if (is_array(init_interpreter)) {\n            // first JSON-RPC\n            for (var i = 0, len = init_interpreter.length; i < len; ++i) {\n                if (typeof init_interpreter[i] === 'string') {\n                    base_interpreter = init_interpreter[i];\n                    break;\n                }\n            }\n        }\n        var global_login_fn;\n        if (is_function(settings.login)) {\n            global_login_fn = settings.login;\n        } else if (base_interpreter &&\n            (typeof settings.login === 'string' || settings.login === true)) {\n            global_login_fn = make_json_rpc_login(base_interpreter, settings.login);\n        }\n        terminals.append(self);\n        function focus_terminal() {\n            if (old_enabled) {\n                self.focus();\n                self.scroll_to_bottom();\n            }\n        }\n        // -------------------------------------------------------------------------------\n        function blur_terminal() {\n            old_enabled = enabled;\n            self.disable().find('.cmd textarea').trigger('blur', [true]);\n        }\n        // -------------------------------------------------------------------------------\n        function stringify_value(value) {\n            if (is_function(value)) {\n                value = value();\n            }\n            if (value && is_function(value.then)) {\n                return value.then(stringify_value);\n            }\n            if (get_type(value) !== 'string') {\n                if (is_function(settings.parseObject)) {\n                    var ret = settings.parseObject(value);\n                    if (get_type(ret) === 'string') {\n                        value = ret;\n                    }\n                } else if (is_array(value)) {\n                    value = $.terminal.columns(value, self.cols(), settings.tabs);\n                } else {\n                    value = String(value);\n                }\n            }\n            return value;\n        }\n        // -------------------------------------------------------------------------------\n        function context_callback_proxy(fn) {\n            if (fn.proxy) {\n                return fn;\n            }\n            var wrapper = function(callback) {\n                return fn.call(self, callback, self);\n            };\n            wrapper.proxy = true;\n            return wrapper;\n        }\n        // -------------------------------------------------------------------------------\n        // paste event is not testable in node\n        // istanbul ignore next\n        function paste_event(e) {\n            e = e.originalEvent;\n            // we don't care about browser that don't support clipboard data\n            // those browser simple will not have this feature normal paste\n            // is cross-browser and it's handled by cmd plugin\n            function is_type(item, type) {\n                return item.type.indexOf(type) !== -1;\n            }\n            function echo_image(image) {\n                self.echo('<img src=\"' + image + '\"/>', {raw: true});\n            }\n            function data_uri(blob) {\n                var URL = window.URL || window.webkitURL;\n                return URL.createObjectURL(blob);\n            }\n            function echo(object, ignoreEvents) {\n                if (!ignoreEvents) {\n                    var event = {\n                        target: self\n                    };\n                    if (typeof object === 'string') {\n                        event.text = object;\n                    } else if (object instanceof Blob) {\n                        event.image = data_uri(object);\n                    }\n                    var ret = fire_event('onPaste', [event]);\n                    if (ret) {\n                        if (is_function(ret.then || ret.done)) {\n                            return (ret.then || ret.done).call(ret, function(ret) {\n                                echo(ret, true);\n                            });\n                        } else {\n                            echo(ret, true);\n                        }\n                    } else if (ret !== false) {\n                        echo(event.image || event.text, true);\n                    }\n                } else if (object instanceof Blob) {\n                    echo_image(data_uri(object));\n                } else if (typeof object === 'string') {\n                    if (object.match(/^(data:|blob:)/)) {\n                        echo_image(object);\n                    } else {\n                        self.insert(object);\n                    }\n                }\n            }\n            if (e.clipboardData) {\n                if (self.enabled()) {\n                    var items = e.clipboardData.items;\n                    if (items) {\n                        for (var i = 0; i < items.length; i++) {\n                            if (is_type(items[i], 'image') && settings.pasteImage) {\n                                var blob = items[i].getAsFile();\n                                echo(blob);\n                            } else if (is_type(items[i], 'text/plain')) {\n                                items[i].getAsString(function(text) {\n                                    echo(text.replace(/\\r/g, ''));\n                                });\n                            }\n                        }\n                    } else if (e.clipboardData.getData) {\n                        var text = e.clipboardData.getData('text/plain');\n                        echo(text.replace(/\\r/g, ''));\n                    }\n                    return false;\n                }\n            }\n        }\n        $(document).on('paste.terminal_' + self.id(), paste_event);\n        var terminal_init_keymap = $.extend(\n            {},\n            keymap,\n            $.omap(settings.keymap || {}, function(key, fn) {\n                if (!keymap[key]) {\n                    return fn.bind(self);\n                }\n                return function(e, original) {\n                    // new keymap function will get default as 2nd argument\n                    return fn.call(self, e, function() {\n                        return keymap[key](e, original);\n                    });\n                };\n            })\n        );\n        make_interpreter(init_interpreter, settings.login, function(interpreter) {\n            if (settings.completion && typeof settings.completion !== 'boolean' ||\n                !settings.completion) {\n                // overwrite interpreter completion by global setting #224\n                // we use string to indicate that it need to be taken from settings\n                // so we are able to change it using option API method\n                interpreter.completion = 'settings';\n            }\n            var prompt = settings.prompt;\n            if (is_function(prompt)) {\n                prompt = context_callback_proxy(prompt);\n            }\n            interpreters = new Stack($.extend({}, settings.extra, {\n                name: settings.name,\n                prompt: prompt,\n                keypress: settings.keypress,\n                keydown: settings.keydown,\n                resize: settings.onResize,\n                greetings: settings.greetings,\n                mousewheel: settings.mousewheel,\n                history: settings.history,\n                keymap: terminal_init_keymap\n            }, interpreter));\n            // CREATE COMMAND LINE\n            command_line = $('<div/>').appendTo(wrapper).cmd({\n                tabindex: settings.tabindex,\n                mobileDelete: settings.mobileDelete,\n                mobileIngoreAutoSpace: settings.mobileIngoreAutoSpace,\n                prompt: global_login_fn ? false : prompt,\n                history: settings.memory ? 'memory' : settings.history,\n                historyFilter: settings.historyFilter,\n                historySize: settings.historySize,\n                caseSensitiveSearch: settings.caseSensitiveSearch,\n                onPaste: settings.onPaste,\n                width: '100%',\n                enabled: false,\n                charWidth: char_size.width,\n                keydown: key_down,\n                keymap: terminal_init_keymap,\n                clickTimeout: settings.clickTimeout,\n                holdTimeout: settings.holdTimeout,\n                holdRepeatTimeout: settings.holdRepeatTimeout,\n                repeatTimeoutKeys: settings.repeatTimeoutKeys,\n                allowedAttributes: settings.allowedAttributes,\n                keypress: key_press,\n                tabs: settings.tabs,\n                onPositionChange: function() {\n                    var args = [].slice.call(arguments);\n                    make_cursor_visible();\n                    fire_event('onPositionChange', args);\n                },\n                onCommandChange: function(command) {\n                    // resize is not triggered when insert called just after init\n                    //  and scrollbar appear\n                    if (old_width !== fill.width()) {\n                        // resizer handler will update old_width\n                        self.resizer();\n                    }\n                    fire_event('onCommandChange', [command]);\n                    make_cursor_visible();\n                },\n                commands: commands\n            });\n            function disable(e) {\n                if (is_mobile) {\n                    return;\n                }\n                e = e.originalEvent;\n                if (e) {\n                    // e.terget is body when click outside of context menu to close it\n                    // even if you click on terminal\n                    var node = document.elementFromPoint(e.clientX, e.clientY);\n                    if (!$(node).closest('.terminal').length && self.enabled()) {\n                        // we only need to disable when click outside of terminal\n                        // click on other terminal is handled by focus event\n                        self.disable();\n                    }\n                }\n            }\n            self.oneTime(100, function() {\n                $(document).bind('click.terminal_' + self.id(), disable).\n                    bind('contextmenu.terminal_' + self.id(), disable);\n            });\n            var $win = $(window);\n            // cordova application, if keyboard was open and we resume, it will be\n            // closed so we need to disable terminal so you can enable it with tap\n            document.addEventListener(\"resume\", function() {\n                self.disable();\n            });\n            // istanbul ignore next\n            if (is_mobile) {\n                (function() {\n                    self.addClass('terminal-mobile');\n                    var start;\n                    var move;\n                    var enabled;\n                    var SENSITIVITY = 3;\n                    var clip = command_line.clip();\n                    var HOLD_TIME = 200;\n                    var timer;\n                    clip.$node.off('touchstart.cmd');\n                    self.on('touchstart.terminal', function(e) {\n                        e = e.originalEvent;\n                        window.touch_event = e;\n                        if (e.target.tagName.toLowerCase() === 'a') {\n                            return;\n                        }\n                        if (!frozen && e.touches.length === 1) {\n                            enabled = self.enabled();\n                            var point = e.touches[0];\n                            start = {\n                                x: point.clientX,\n                                y: point.clientY\n                            };\n                            timer = setTimeout(function() {\n                                start = null;\n                            }, HOLD_TIME);\n                        }\n                    }).on('touchmove.terminal', function(e) {\n                        if (e.touches.length === 1 && start) {\n                            var point = e.touches[0];\n                            var diff_x = Math.abs(point.clientX - start.x);\n                            var diff_y = Math.abs(point.clientY - start.y);\n                            if (diff_x > SENSITIVITY || diff_y > SENSITIVITY) {\n                                move = true;\n                            }\n                        }\n                    }).on('touchend.terminal', function() {\n                        if (start) {\n                            clearTimeout(timer);\n                            if (!move) {\n                                if (!enabled) {\n                                    clip.focus();\n                                    self.focus();\n                                } else {\n                                    clip.blur();\n                                    self.disable();\n                                }\n                            }\n                        }\n                        move = false;\n                        start = null;\n                    });\n                })();\n            } else {\n                // work weird on mobile\n                $win.on('focus.terminal_' + self.id(), focus_terminal).\n                    on('blur.terminal_' + self.id(), blur_terminal);\n                // context is used to check if terminal should not scroll to bottom\n                // after right click on  e.g. img, canvas, a and then click to hide\n                // the menu. The problem is that right click on those elements don't\n                // move the textarea to show proper context menu like save as on images\n                // or open on links. See #644 bug\n                var was_ctx_event;\n                // detect mouse drag\n                (function() {\n                    var count = 0;\n                    var $target;\n                    var name = 'click_' + self.id();\n                    var textarea = self.find('.cmd textarea');\n                    function click() {\n                        if ($target.is('.terminal') ||\n                            $target.is('.terminal-wrapper')) {\n                            var len = self.get_command().length;\n                            self.set_position(len);\n                        } else if ($target.closest('.cmd-prompt').length) {\n                            self.set_position(0);\n                        }\n                        if (!textarea.is(':focus')) {\n                            textarea.focus();\n                        }\n                        reset();\n                    }\n                    function reset() {\n                        count = 0;\n                        $target = null;\n                    }\n                    var ignore_elements = '.terminal-output textarea,' +\n                        '.terminal-output input';\n                    self.mousedown(function(e) {\n                        if (!scrollbar_event(e, fill)) {\n                            $target = $(e.target);\n                        }\n                    }).mouseup(function() {\n                        if (was_ctx_event) {\n                            was_ctx_event = false;\n                            return;\n                        }\n                        if ($target && $target.closest(ignore_elements).length) {\n                            if (enabled) {\n                                self.disable();\n                            }\n                        } else if (get_selected_html() === '' && $target) {\n                            if (++count === 1) {\n                                if (!frozen) {\n                                    if (!enabled) {\n                                        self.focus();\n                                        self.scroll_to_bottom();\n                                    } else {\n                                        var timeout = settings.clickTimeout;\n                                        self.oneTime(timeout, name, click);\n                                        return;\n                                    }\n                                }\n                            } else {\n                                self.stopTime(name);\n                            }\n                        }\n                        reset();\n                    }).dblclick(function() {\n                        reset();\n                        self.stopTime(name);\n                    });\n                })();\n                (function() {\n                    var $clip = command_line.clip().$node;\n                    function is_context_event(e) {\n                        return e.type === 'mousedown' && e.buttons === 2 ||\n                            e.type === 'contextmenu';\n                    }\n                    var event_name;\n                    if ('oncontextmenu' in window) {\n                        event_name = 'contextmenu.terminal';\n                    } else {\n                        event_name = 'mousedown.terminal';\n                    }\n                    self.on(event_name, function(e) {\n                        was_ctx_event = get_selected_html() === '' && is_context_event(e);\n                        if (was_ctx_event) {\n                            var $target = $(e.target);\n                            if ($target.is('img,value,audio,object,canvas,a')) {\n                                return;\n                            }\n                            if (!self.enabled()) {\n                                self.enable();\n                            }\n                            var cmd_offset = command_line.offset();\n                            var cmd_rect = command_line[0].getBoundingClientRect();\n                            var self_offset = self.offset();\n                            var top_limit = self_offset.top - cmd_offset.top;\n                            var top = Math.max(e.pageY - cmd_offset.top - 20, top_limit);\n                            var left = e.pageX - cmd_offset.left - 20;\n                            var height = 4 * 14;\n                            var width = 5 * 14;\n                            var rect = self[0].getBoundingClientRect();\n                            // we need width without scrollbar\n                            var content_width = fill.outerWidth();\n                            // fix jumping when click near bottom or left edge #592\n                            var diff_h = (top + cmd_rect.top + height);\n                            diff_h = diff_h - rect.height - rect.top;\n                            var diff_w = (left + cmd_rect.left + width);\n                            // in Chrome scrollbar is added even when width\n                            // of textarea is smaller, adding 1px solved the issue\n                            diff_w = diff_w - content_width - rect.left;\n                            if (diff_h > 0) {\n                                height -= Math.ceil(diff_h);\n                            }\n                            if (diff_w > 0) {\n                                width -= Math.ceil(diff_w);\n                            }\n                            $clip.attr('style', [\n                                'left:' + left + 'px !important',\n                                'top:' + top + 'px !important',\n                                'width:' + width + 'px !important',\n                                'height:' + height + 'px !important'\n                            ].join(';'));\n                            if (!$clip.is(':focus')) {\n                                $clip.focus();\n                            }\n                            self.stopTime('textarea');\n                            self.oneTime(100, 'textarea', function() {\n                                var props = {\n                                    left: '',\n                                    top: '',\n                                    width: '',\n                                    height: ''\n                                };\n                                if (!is_css_variables_supported) {\n                                    var in_line = self.find('.cmd .cmd-cursor-line')\n                                        .prevUntil('.cmd-prompt').length;\n                                    props.top = in_line * 14 + 'px';\n                                }\n                                $clip.css(props);\n                            });\n                            self.stopTime('selection');\n                            self.everyTime(20, 'selection', function() {\n                                if ($clip[0].selection !== $clip[0].value) {\n                                    if (get_textarea_selection($clip[0])) {\n                                        clear_textarea_selection($clip[0]);\n                                        select(\n                                            self.find('.terminal-output')[0],\n                                            self.find('.cmd div:last-of-type')[0]\n                                        );\n                                        self.stopTime('selection');\n                                    }\n                                }\n                            });\n                        }\n                    });\n                })();\n                self.on('scroll', function() {\n                    var $textarea = self.find('textarea');\n                    var rect = self[0].getBoundingClientRect();\n                    var height = self[0].scrollHeight;\n                    var scrollTop = self.scrollTop();\n                    var diff = height - (scrollTop + rect.height);\n                    // if scrolled to bottom top need to be aligned with cursor line\n                    // done by CSS file using css variables\n                    if (diff === 0) {\n                        $textarea.css('top', '');\n                    } else {\n                        $textarea.css('top', -diff);\n                    }\n                });\n            }\n            self.on('click', 'a', function(e) {\n                var $this = $(this);\n                if ($this.closest('.terminal-exception').length) {\n                    var href = $this.attr('href');\n                    if (href.match(/:[0-9]+$/)) { // display line if specified\n                        e.preventDefault();\n                        print_line(href, self.cols());\n                    }\n                }\n                // refocus because links have tabindex in case where user want\n                // tab change urls, we can ignore this function on click\n                if (enabled) {\n                    self.find('.cmd textarea').focus();\n                }\n            });\n            function calculate_char_size() {\n                var width = char_size.width;\n                char_size = get_char_size(self);\n                if (width !== char_size.width) {\n                    command_line.option('charWidth', char_size.width).refresh();\n                }\n            }\n            resize();\n            function resize() {\n                if (self.is(':visible')) {\n                    var width = fill.width();\n                    var height = fill.height();\n                    if (need_char_size_recalculate) {\n                        need_char_size_recalculate = !terminal_ready(self);\n                        calculate_char_size();\n                    }\n                    // prevent too many calculations in IE\n                    if (old_height !== height || old_width !== width) {\n                        self.resize();\n                    }\n                    old_height = height;\n                    old_width = width;\n                }\n            }\n            function create_resizers() {\n                var options = {\n                    prefix: 'terminal-'\n                };\n                self.resizer('unbind').resizer(resize, options);\n                font_resizer.resizer('unbind').resizer(function() {\n                    calculate_char_size();\n                    self.resize();\n                }, options);\n            }\n            function bottom_detect(intersections) {\n                is_bottom_detected = intersections[0].intersectionRatio === 1;\n            }\n            function create_bottom_detect() {\n                if (window.IntersectionObserver) {\n                    var top = $('<div class=\"terminal-scroll-marker\"/>').appendTo(self);\n                    var marker = top;\n                    if (settings.scrollBottomOffset !== -1) {\n                        marker = $('<div/>').css({\n                            height: settings.scrollBottomOffset\n                        }).appendTo(top);\n                    }\n                    is_bottom_observer = new IntersectionObserver(bottom_detect, {\n                        root: self[0]\n                    });\n                    is_bottom_observer.observe(marker[0]);\n                }\n            }\n            // this observer can be added imedietely even if terminal is not in the DOM\n            // because both of the elements (root and target) are in same fragment\n            create_bottom_detect();\n            if (self.is(':visible')) {\n                create_resizers();\n            }\n            function observe_visibility() {\n                if (visibility_observer) {\n                    if (visibility_observer.unobserve) {\n                        visibility_observer.unobserve(self[0]);\n                    } else {\n                        clearInterval(visibility_observer);\n                    }\n                }\n                var was_enabled = self.enabled();\n                var visible = self.is(':visible');\n                if (was_enabled && !visible) {\n                    self.disable();\n                }\n                if (visible) {\n                    create_resizers();\n                } else {\n                    // hide terminal content until it's resized (and num chars calculated)\n                    wrapper.css('visibility', 'hidden');\n                }\n                function visibility_checker() {\n                    if (self.is(':visible') && !visible) {\n                        visible = true;\n                        create_resizers();\n                        calculate_char_size();\n                        resize();\n                        if (was_enabled) {\n                            self.enable();\n                        }\n                        wrapper.css('visibility', '');\n                    } else if (visible && !self.is(':visible')) {\n                        visible = false;\n                        was_enabled = $.terminal.active() === self && self.enabled();\n                        self.disable();\n                        wrapper.css('visibility', 'hidden');\n                    }\n                }\n                if (window.IntersectionObserver && self.css('position') !== 'fixed') {\n                    visibility_observer = new IntersectionObserver(visibility_checker, {\n                        root: null\n                    });\n                    visibility_observer.observe(self[0]);\n                } else {\n                    visibility_observer = setInterval(visibility_checker, 100);\n                }\n            }\n            var in_dom = !!self.closest('body').length;\n            var MutationObsrv = window.MutationObserver || window.WebKitMutationObserver;\n            if (MutationObsrv) {\n                mutation_observer = new MutationObsrv(function() {\n                    if (self.closest('body').length) {\n                        if (!in_dom) {\n                            self.scroll_to_bottom();\n                            // this observer need to be added when terminal is in the DOM\n                            observe_visibility();\n                            resize();\n                        }\n                        in_dom = true;\n                    } else if (in_dom) {\n                        in_dom = false;\n                    }\n                });\n                mutation_observer.observe(document.body, {childList: true});\n            }\n            if (in_dom) {\n                // check if element is in the DOM if not running IntersectionObserver\n                // don't make sense\n                observe_visibility();\n            }\n            command_queue.resolve();\n            // touch devices need touch event to get virtual keyboard\n            if (enabled && self.is(':visible') && !is_mobile) {\n                self.focus(undefined, true);\n            } else {\n                self.disable();\n            }\n            // -------------------------------------------------------------\n            // Run Login\n            if (is_function(global_login_fn)) {\n                self.login(global_login_fn, true, initialize);\n            } else {\n                initialize();\n            }\n            // -------------------------------------------------------------\n            // :: helper\n            function exec_spec(spec, options) {\n                var terminal = terminals.get()[spec[0]];\n                // execute if belong to this terminal\n                var defer = $.Deferred();\n                if (terminal && terminal_id === terminal.id()) {\n                    if (!spec[2]) {\n                        defer.resolve();\n                        return defer.promise();\n                    } else if (paused) {\n                        resume_callbacks.push(function() {\n                            return terminal.exec(spec[2], options).done(function() {\n                                terminal.save_state(spec[2], true, spec[1]);\n                                defer.resolve();\n                            });\n                        });\n                        return defer.promise();\n                    } else {\n                        return terminal.exec(spec[2], options).done(function() {\n                            terminal.save_state(spec[2], true, spec[1]);\n                        });\n                    }\n                }\n            }\n            // exec from hash called in each terminal instance\n            if (settings.execHash) {\n                if (location.hash) {\n                    // wait until login is initialized\n                    setTimeout(function() {\n                        try {\n                            var hash = location.hash.replace(/^#/, '');\n                            // yes no var - local inside terminal\n                            hash_commands = JSON.parse(decodeURIComponent(hash));\n                            if (!hash.match(/\\[/)) {\n                                // fix the hash to look like array if it's not\n                                replace_hash(hash_commands);\n                            }\n                            var i = 0;\n                            var options = {\n                                typing: settings.execAnimation,\n                                delay: settings.execAnimationDelay\n                            };\n                            (function recur() {\n                                var spec = hash_commands[i++];\n                                if (spec) {\n                                    exec_spec(spec, options).done(recur);\n                                } else {\n                                    change_hash = true;\n                                }\n                            })();// */\n                        } catch (e) {\n                            // invalid json - ignore\n                        }\n                    });\n                } else {\n                    change_hash = true;\n                }\n            } else {\n                change_hash = true; // if enabled later\n            }\n            // change_hash = true; // exec can now change hash\n            // -------------------------------------------------------------\n            /* istanbul ignore next */\n            (function() {\n                var shift = false;\n                $(document).bind('keydown.terminal_' + self.id(), function(e) {\n                    if (e.shiftKey) {\n                        shift = true;\n                    }\n                }).bind('keyup.terminal_' + self.id(), function(e) {\n                    // in Google Chromium/Linux shiftKey is false\n                    if (e.shiftKey || e.which === 16) {\n                        shift = false;\n                    }\n                });\n                // this could work without calling scroll on wheel event but we\n                // need it for cases where you have mouse wheel work differently\n                // like with less command that scroll text\n                function mousewheel(event, delta) {\n                    if (!shift) {\n                        var interpreter = interpreters.top();\n                        var ret;\n                        if (is_function(interpreter.mousewheel)) {\n                            ret = interpreter.mousewheel(event, delta, self);\n                        } else if (is_function(settings.mousewheel)) {\n                            ret = settings.mousewheel(event, delta, self);\n                        }\n                        if (ret === true) {\n                            return;\n                        }\n                        if ((have_scrollbar() || ret === false) && !event.ctrlKey) {\n                            event.stopPropagation();\n                            event.preventDefault();\n                        }\n                        if (ret === false) {\n                            return false;\n                        }\n                        if (delta > 0) {\n                            self.scroll(-40);\n                        } else {\n                            self.scroll(40);\n                        }\n                    }\n                }\n                if ($.event.special.mousewheel) {\n                    // we keep mousewheel plugin just in case\n                    self.on('mousewheel', mousewheel);\n                } else {\n                    // detection take from:\n                    // https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n                    var event;\n                    var div = document.createElement(\"div\");\n                    if (\"onwheel\" in div) {\n                        event = \"wheel\"; // Modern browsers support \"wheel\"\n                    } else if (document.onmousewheel !== undefined) {\n                        // Webkit and IE support at least \"mousewheel\"\n                        event = \"mousewheel\";\n                    } else {\n                        // let's assume that remaining browsers are older Firefox\n                        event = \"DOMMouseScroll\";\n                    }\n                    div = null;\n                    self.on(event, function(e) {\n                        var delta;\n                        if (event === 'mousewheel') {\n                            delta = - 1 / 40 * e.originalEvent.wheelDelta;\n                        } else {\n                            delta = e.originalEvent.deltaY || e.originalEvent.detail;\n                        }\n                        mousewheel(e, -delta);\n                    });\n                }\n                self.touch_scroll(function(event) {\n                    var delta = event.current.clientY - event.previous.clientY;\n                    var ret;\n                    var interpreter = interpreters.top();\n                    if (is_function(interpreter.touchscroll)) {\n                        ret = interpreter.touchscroll(event, delta, self);\n                    } else if (is_function(settings.touchscroll)) {\n                        ret = settings.touchscroll(event, delta, self);\n                    }\n                    css(self[0], {\n                        '--terminal-scroll': self.prop('scrollTop')\n                    });\n                    if (ret === true) {\n                        return;\n                    }\n                    return false;\n                });\n            })();\n        }); // make_interpreter\n        return self;\n    }; // terminal plugin\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--12-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--12-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--12-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--12-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataBlock.vue?vue&type=style&index=1&lang=stylus&\"","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\nimport Quasar from 'quasar/src/vue-plugin.js';\n\nlet lang = document.getElementsByTagName('html')[0].getAttribute('lang')\nif (lang !== null) {\n    lang = lang.split('-', 2)[0]\n}\nVue.use(VueI18n)\n\nfunction loadLocaleMessages() {\n    const locales = require.context('../locales', true, /[A-Za-z0-9-_,\\s]+\\.json$/i)\n    const messages = {}\n    locales.keys().forEach(key => {\n        const matched = key.match(/([A-Za-z0-9-_]+)\\./i)\n        if (matched && matched.length > 1) {\n            const locale = matched[1]\n            messages[locale] = locales(key)\n        }\n    })\n    return messages\n}\n\nexport class I18n extends VueI18n {\n    public readonly $v: typeof VueI18n\n\n    constructor(options: VueI18n.I18nOptions) {\n        super(options)\n        this.$v = VueI18n\n    }\n}\n\nexport const i18n: I18n = new I18n({\n    locale: lang || process.env.VUE_APP_I18N_LOCALE || 'en',\n    fallbackLocale: process.env.VUE_APP_I18N_FALLBACK_LOCALE || 'en',\n    messages: loadLocaleMessages()\n})\n\nexport default i18n\nVue.prototype.$l = (key: string, values?: any[]): string => {\n    const res = i18n.t(key, values)\n    return res.toString()\n}\nVue.$l = Vue.prototype.$l\n"],"sourceRoot":""}