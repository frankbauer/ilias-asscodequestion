{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/PlaygroundCanvas.vue?354f","webpack:///./src/lib/BlocklyHelper.ts","webpack:///./src/components/CodeBlockButton.vue?274c","webpack:///./src/components/ErrorTip.vue?249a","webpack:///./src/locales sync [A-Za-z0-9-_,\\s]+\\.json$/","webpack:///./src/components/RandomizerSettings.vue?73d0","webpack:///./src/lib/glsl/glsl.js","webpack:///./src/lib/ICompilerRegistry.ts","webpack:///./src/components/CodeBlocks.vue?93e8","webpack:///./src/components/CodePlayground.vue?ad5f","webpack:///./src/components/CodeBlock.vue?6838","webpack:///./src/components/ErrorTip.vue?861e","webpack:///./src/components/ErrorTip.vue?368c","webpack:///./src/components/ErrorTip.vue?9e19","webpack:///./src/components/ErrorTip.vue?6dd0","webpack:///./src/components/CodeBlockButton.vue?c8af","webpack:///./src/components/CodeBlockButton.vue?43f5","webpack:///./src/components/CodeBlockButton.vue?1843","webpack:///./src/components/CodeBlockButton.vue?a7ca","webpack:///./src/components/CodeBlock.vue?a019","webpack:///./src/components/CodeBlock.vue?0991","webpack:///./src/components/CodeBlock.vue?4e17","webpack:///./src/components/BaseBlock.vue?5d89","webpack:///./src/components/BaseBlock.vue","webpack:///./src/components/BaseBlock.vue?9ddd","webpack:///./src/lib/ICodeBlocks.ts","webpack:///./src/AppEditor.vue?3de5","webpack:///./src/components/TipTap.vue?6d63","webpack:///./src/components/CodeBlockContainer.vue?77f6","webpack:///./src/lib/IBlocklyHelper.ts","webpack:///./src/components/CodePanel.vue?a358","webpack:///./src/plugins/uuid.ts","webpack:///./src/plugins/quasar.ts","webpack:///./src/plugins/codemirror.ts","webpack:///./src/plugins/codeBlocks.ts","webpack:///./src/plugins/compilerState.ts","webpack:///./src/plugins/highlight.ts","webpack:///./src/plugins/tagger.ts","webpack:///./src/compiler/doppio.v001.js","webpack:///./src/compiler/teavm.v100.ts","webpack:///./src/compiler/teavm.v101.ts","webpack:///./src/compiler/java.ts","webpack:///./src/compiler/javascript.v100.ts","webpack:///./src/compiler/javascript.v101.ts","webpack:///./src/compiler/javascript.v102.ts","webpack:///./src/compiler/javascript.ts","webpack:///./src/compiler/python.v100.ts","webpack:///./src/compiler/python.v101.ts","webpack:///./src/compiler/python.v102.ts","webpack:///./src/compiler/python.ts","webpack:///./src/compiler/glsl.v100.ts","webpack:///./src/compiler/glsl.ts","webpack:///./src/lib/CompilerRegistry.ts","webpack:///./src/lib/scriptBlock.ts","webpack:///./src/App.vue?5701","webpack:///./src/components/CodeBlocks.vue?4ed6","webpack:///./src/components/CodeBlockContainer.vue?b625","webpack:///./src/lib/BlockloadManagers/PositioningManager.ts","webpack:///./src/lib/BlockloadManagers/BlocklyManager.ts","webpack:///./src/components/CodeBlockContainer.vue?26dc","webpack:///./src/components/CodeBlockContainer.vue?9993","webpack:///./src/components/CodeBlockContainer.vue?a19f","webpack:///./src/components/CodeBlocksSettings.vue?b77c","webpack:///./src/components/RandomizerSettings.vue?302a","webpack:///./src/components/RandomizerSetEditor.vue?ddad","webpack:///./src/components/RandomizerSetEditor.vue?fd32","webpack:///./src/components/RandomizerSetEditor.vue?187a","webpack:///./src/components/RandomizerSetEditor.vue","webpack:///./src/components/RandomizerSettings.vue?730d","webpack:///./src/components/RandomizerSettings.vue?882d","webpack:///./src/components/RandomizerSettings.vue?a708","webpack:///./src/components/CodeBlocksSettings.vue?734e","webpack:///./src/components/CodeBlocksSettings.vue?4c33","webpack:///./src/components/CodeBlocksSettings.vue?5b50","webpack:///./src/components/CodePanel.vue?1d09","webpack:///./src/components/CodePanel.vue?b290","webpack:///./src/components/CodePanel.vue?35ff","webpack:///./src/components/CodePanel.vue?8bf3","webpack:///./src/components/CodePlayground.vue?94ec","webpack:///./src/components/PlaygroundCanvas.vue?b61c","webpack:///./src/components/PlaygroundCanvas.vue?6a7f","webpack:///./src/components/PlaygroundCanvas.vue?136b","webpack:///./src/components/PlaygroundCanvas.vue?4be2","webpack:///./src/components/CodePlayground.vue?3245","webpack:///./src/components/CodePlayground.vue?65f0","webpack:///./src/components/CodePlayground.vue?4e9b","webpack:///./src/components/SimpleText.vue?d779","webpack:///./src/components/TipTap.vue?e600","webpack:///./src/components/TipTap.vue?9805","webpack:///./src/components/TipTap.vue?761b","webpack:///./src/components/TipTap.vue?16b5","webpack:///./src/components/SimpleText.vue?7f68","webpack:///./src/components/SimpleText.vue?4ea4","webpack:///./src/components/SimpleText.vue","webpack:///./src/components/CodeBlocks.vue?f8ce","webpack:///./src/components/CodeBlocks.vue?34b1","webpack:///./src/components/CodeBlocks.vue?b09b","webpack:///src/App.vue","webpack:///./src/App.vue?7d88","webpack:///./src/App.vue?1d3a","webpack:///./src/AppEditor.vue?dcef","webpack:///./src/components/CodeBlocksEditor.vue?2c50","webpack:///./src/components/CodeBlocksEditor.vue","webpack:///./src/components/CodeBlocksEditor.vue?6133","webpack:///src/AppEditor.vue","webpack:///./src/AppEditor.vue?ba18","webpack:///./src/AppEditor.vue?0e82","webpack:///./src/lib/BlockloadManagers/BlockManager.ts","webpack:///./src/lib/BlockloadManagers/PlaygroundManager.ts","webpack:///./src/lib/codeBlocksManager.ts","webpack:///./src/main.ts","webpack:///./src/App.vue?e2c2","webpack:///./src/components/CodePlayground.vue?f26c","webpack:///./src/components/CodeBlocksSettings.vue?2799","webpack:///./src/components/CodeBlock.vue?481d","webpack:///./src/plugins/i18n.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","ColorThemeSelection","label","ColorHues","PredefinedBlockTypes","keys","map","ret","$l","ColorSelection","ColorSelectionWithNone","blockStyles","colour_blocks","colourPrimary","Colour","colourSecondary","colourTertiary","hat","list_blocks","List","logic_blocks","Logic","loop_blocks","Loop","math_blocks","Math","procedure_blocks","Procedure","text_blocks","Text","variable_blocks","Variable","variable_dynamic_blocks","Variable_dynamic","hat_blocks","categoryStyles","colour_category","colour","list_category","logic_category","loop_category","math_category","procedure_category","text_category","variable_category","variable_dynamic_category","BlocklyHelper","a","items","item","serializeToolboxItem","join","res","color","custom","this","serializeToolboxItems","serializeToolboxCategory","toolbox","catCount","categories","serializeToolboxCategories","cat","bl","cp","JSON","toHTMLColor","stringify","getBlockDescription","bls","xml","replace","cc","codeUndefines","Blockly","prepareBlocklyCode","codeString","_code","Function","$CodeBlock","itemForValue","forEach","cl","toColor","blocklyHelper","webpackContext","req","id","webpackContextResolve","mod","require","define","CodeMirror","words","str","obj","split","defineMode","config","parserConfig","curPunc","indentUnit","statementIndentUnit","dontAlignCalls","keywords","builtin","blockKeywords","atoms","hooks","multiLineStrings","indentStatements","isOperatorChar","tokenBase","stream","state","ch","next","tokenize","tokenString","test","eatWhile","eat","tokenComment","skipToEnd","cur","current","propertyIsEnumerable","quote","escaped","end","maybeEnd","Context","indented","column","align","prev","pushContext","col","indent","context","popContext","startState","basecolumn","startOfLine","token","ctx","sol","indentation","eatSpace","style","textAfter","Pass","firstChar","charAt","closing","electricChars","blockCommentStart","blockCommentEnd","lineComment","fold","cppHook","skipTo","eol","def","mimes","add","prop","helperType","registerHelper","defineMIME","modeProps","ErrorSeverity","render","_vm","_h","$createElement","_c","_self","class","typeName","directives","rawName","expression","attrs","block","isBookmarkPanel","ref","boxClass","options","namePrefix","parentID","on","onCodeReady","onCodeFocus","onCodeChangeDefered","onCodeKeyHandle","staticClass","_v","_s","$t","altCode","altOptions","onAltCodeReady","onAltCodeFocus","onAltCodeChangeDefered","_e","staticRenderFns","severityClass","severityIcon","_l","iconForSeverity","severity","classForSeverity","component","QIcon","QTooltip","iconName","onClick","bookmarked","uuid","appSettings","$GlobalEventHub","$emit","bookmarkMe","$on","onBookmark","$off","required","default","QBtn","ErrorTipCtor","extend","codeUpdateTimer","codeUpdateStartTime","continuousCodeUpdateTimer","codeNeedsTagUpdate","altCodeUpdateTimer","altCodeUpdateStartTime","canBookmark","editMode","codemirror","allMarks","getDoc","getAllMarks","className","$tagger","rnd","templ","clear","altcodemirror","clearGutter","editor","display","input","textarea","codeBox","$el","querySelectorAll","el","trim","$","text","content","iliasTypeNr","updateDiagnosticDisplay","onCodeChange","whenBlockIsReady","altBox","$nextTick","onAltCodeChange","alternativeContent","updateTagDisplay","updateHeight","newCode","now","Date","getTime","doIt","lineCountHint","doc","size","firstLineNumber","firstLine","tb","querySelector","emitWhenTypingInViewMode","indexOf","arguments","didAddText","keyCode","visibleLines","static","setSize","round","max","scopeUUID","replaceTemplateTagInString","newValue","randomizer","active","clearTagMarkers","getMarkers","markText","start","inclusiveLeft","inclusiveRight","title","startStyle","endStyle","hookClick","val","errors","clearErrorDisplay","first","line","info","lineInfo","element","gutterMarkers","$component","setGutterMarker","propsData","$mount","$refs","hasAlternativeContent","tagSet","hidden","readonly","toLowerCase","actualContent","theme","lineNumbers","tabSize","autoCloseBrackets","readOnly","gutters","refresh","readyWhenMounted","buildIt","log","addKeyMap","cMirror","Tab","execCommand","replaceTemplateTags","BaseBlock","validator","b","components","CodeBlockButton","muteReadyState","readyCount","whenBlockIsDestroyed","KnownBlockTypes","CodeOutputTypes","CodeExpansionType","BlockPrimaryColors","BlockSecondaryColors","BlockTertiaryColors","BlockOutputTypes","BlockSequenceTypes","BlockArgumentTypes","KnownBlocklyTypes","use","plugins","Dialog","animations","lang","set","mimeTypesForLanguage","mime","displayName","css","fortran","glsl","html","java","javascript","perl","php","python","loadSettings","scope","baseurl","settings","opt","outputObject","magicString","resultData","Array","isArray","json","idx","AUTO","MAGIC","substr","pString","parse","ee","parsedString","too","language","k","sort","refreshAllCodeMirrorsSync","find","globalState","SEVERITY_ERROR","SEVERITY_WARNING","Warning","$SEVERITY_ERROR","$SEVERITY_WARNING","$compilerState","globalStateHidden","globalStateMessage","runButtonForceHide","methods","hideGlobalState","displayGlobalState","setAllRunButtons","what","configure","useBR","registerLanguage","reg_hl","reg_code","$vue","processElements","inLang","elements","hasAttribute","processElement","processElementSimple","txt","innerHTML","m1","m2","m3","m4","m5","highlight","highlightAuto","MathJax","Hub","Register","StartupHook","highlightAll","highlightElement","hljs","$hljs","directive","binding","componentUpdated","randomAndTemplateTag","lines","markers","regex","RegExp","exec","index","lastIndex","marker","h","$uuid","v4","calle","processString","m0","tags","inTag","innerText","onclick","clickFunction","values","tagEl","$q","dialog","i18n","persistent","prompt","model","ok","icon","cancel","onOk","replaceTemplateTag","onCancel","onDismiss","me","self","highlighted","javaRunOverhead","runJavaWorker","questionID","callingCodeBlocks","max_ms","log_callback","info_callback","err_callback","compileFailedCallback","finishedExecutionCB","forceReload","exp","match","worker","Worker","Vue","timer","addEventListener","stdout","stderr","postMessage","cmd","terminate","JavaExec","setRunButton","showMessage","msg","enabled","singleton","loadedlibs","version","canRun","canStop","allowsContinousCompilation","allowsPersistentArguments","allowsMessagePassing","acceptsJSONArgument","didPreload","requestedPreload","isReady","isRunning","preload","triggerResourceLoad","lock","initialize","initFileSystems","reroutStdStreams","ready","compileAndRun","args","runCreate","created","teaVMRunOverhead","experimental","deprecated","teaworker","sessionCompileListener","sessionID","sessionWorker","createTeaWorker","whenReady","command","mainClass","url","executionFinished","booted","compilerTimeout","time","replaceRec","getMainClass","regexpMainClass","myListener","phase","lineNumber","startLineNumber","startColumn","endLineNumber","endColumn","kind","humanReadable","runTimeout","removeEventListener","status","runListener","workerrun","runStart","javaCompiler_V100","keepAlive","didReceiveMessage","postMessageFunction","wr","dequeuePostponedMessages","whenFinishedHandler","beforeStartHandler","messagePosting","allowMessagePassing","javaCompiler_V101","versions","JavaCompilers","runJavaScriptWorker","not_allowed_keywords","prefixCode","postfixCode","URL","createObjectURL","Blob","testTimeout","testTimeoutIntern","onmessage","lineno","colno","javascriptCompiler_V100","startTime","performance","triggerTimeout","startExecution","willStartExecution","workerLibraries","$compilerRegistry","loadLibraries","libraries","compilerRegistry","registerDOMLib","javascriptCompiler_V101","javascriptCompiler_V102","JavascriptCompilers","runPythonWorker","prog","maxRuntime","logCallback","infoCallback","errCallback","finishCallback","replaceAllPoly","pyInp","messageData","pyProg","maxMS","stdOut","pythonCompiler_V100","legacy","pythonCompiler_V101","pythonLegacyCompiler_V101","legacyPython","python3","pythonCompiler_V102","PythonCompilers","runGLSLWorker","outputData","blocks","filter","hasCode","v100","GLSLCompilers","compilers","loadedURIs","afterLoadFinished","isLoadingLibs","langs","libs","utility","registerSingle","v","registerLibs","compilerInfo","cmps","languageType","uri","order","onBuildSandboxEnv","didLoad","sandbox","domLibs","getLibObjects","uris","reduce","concat","domLibraries","whenLoaded","urisForDOMLibs","dlibs","loadURIs","loadCount","u","loadLib","register","Chart","THREE","Phaser","IsometricMapGame","d3","brain","tf","legacyCodeTemplate","prefix","postfix","v101CodeTemplate","v102CodeTemplate","jsErrorParser","columnNumber","stack","Number","$jsErrorParser","sandboxProxies","WeakMap","compileCode","addLoadedToSandbox","create$","getElementById","getElementsByClassName","has","sandboxProxy","Proxy","unscopables","fkt","didInit","_runConfig","queuedMessages","queuedIncomingMessages","init","update","requestsOriginalVersion","dequeueIncoming","pushError","rebuild","lazyInit","addArgumentsTo","cfg","doPostMessageToWorker","onMessage","beforeStart","whenFinished","canvasElement","runner","arunner","run","outputElement","parents","reset","output","processedOutput","initialOutput","parseError","onParseError","staticStyle","addonClass","backgroundColorClass","blockInfo","hasBookmark","panelBlock","onCompilerChange","onCompilerVersionChange","onRunStateChange","onContinousCompileStateChange","onMessagePassingChange","onKeepAliveChange","onPersistentArgumentsChange","onLanguageChange","onCharacterLimitChange","onTimeoutChange","onWorkerLibChange","onDomLibChange","onThemeChange","onOutputParserChange","onTypeChange","onVisibleLinesChange","onPlacementChange","onScriptVersionChange","moveUp","moveDown","removeBlock","onSetAutoReset","themeForBlock","mimeType","activeTagSet","continuousCompile","blockBecameReady","onViewCodeChange","finalOutputObject","eventHub","onPlaygroundChangedOutput","onRunFromPlayground","callback","$$v","$set","addNewBlock","center","domProps","stop","outputHTML","colorClass","bgClass","types","scopedSlots","_u","fn","showTypeInfoDialog","proxy","typeObj","validNumber","hasAltComntent","scriptVersions","scriptVersionObj","shouldAutoReset","width","height","alignments","canMoveUp","canMoveDown","expanded","toggleExpanded","$event","composing","serializedOptions","_t","inBlock","positioninLoadManager","customBlocks","arr","prepareCode","message0","args0","nextStatement","previousStatement","toString","blockly","toolboxInput","toolboxStr","defaultToolbox","toolboxOverride","useOverride","codes","loadFromDatablock","showControls","isTrue","loadCustomBlocks","loadToolbox","loadOverrideToolbox","loadCode","_expanded","blocklyLoader","loaders","blockTag","frank","settingsMenu","PLAYGROUND","TEXT","BLOCKHIDDEN","BLOCKSTATIC","BLOCK","BLOCKLY","scriptVersion","isNaN","refreshAllCodeMirrors","isLast","objIn","extended","path","nr","filteredCopy","shouldAutoreset","toArray","cm","QCard","QCardSection","QSelect","QPopupProxy","QInput","QToggle","QSlideTransition","QBanner","QItem","QItemSection","QItemLabel","languageHasCompiler","runCode","canContinousCompile","compiledLanguages","compilerLanguageObj","compilerVersions","compilerVersion","_g","_b","itemProps","itemEvents","isDeprecatedVersion","compilerLanguage","isExperimentalVersion","accepstArguments","showArgsInfoDialog","canPersistentArguments","persistentArguments","showPersistentArgsInfoDialog","messagePassing","showMessagesInfoDialog","showAliveInfoDialog","maxCharacters","outputParsers","outputParser","themes","codeTheme","solutionTheme","domLibrary","workerLibrary","addTag","tagClass","removeTag","addSet","isVisible","isCompleteSet","setVisible","getFullSet","removeSet","onShow","knownTags","_newTagName","previewIndex","sets","flat","ct","odata","RandomizerSetEditor","QList","QAvatar","languages","getCompiler","knownLanguages","versionsForLanguage","cmp","compiler","executionTimeout","vv","workerLibs","solution","continuousCompilation","showInfoDialog","RandomizerSettings","onExpandClick","saveBlock","visibleLinesNow","noContent","codeExpanded","actualAltContent","themeForCodeBlock","getThemeForBlock","_blockErrors","panelWidth","CodeBlock","runCount","emitRun","onCanvasChange","onDidInit","isExpandedAuto","setExpandedAuto","isExpandedLarge","setExpandedLarge","isExpandedTiny","setExpandedTiny","innerPlaygroundContainer","canvas","scopeSelector","whenMounted","isPreparingRun","lastRun","needsCodeRebuild","initAndRebuildErrors","TINY","LARGE","resetBeforeRun","updateErrors","hasErrors","onFinalOutputObject","setExpanded","rebuildCode","reInitCode","onNextTick","invalidate","doInit","can","jStr","originalMode","PlaygroundCanvas","QBtnGroup","updatedContentDefered","previewValue","updatedContent","eb","editBox","QField","textUpdateTimer","textUpdateStartTime","newVal","TipTap","formatOutput","didInitialize","sansoutput","didClip","_finalOutputObject","didRunOnce","bookmarkedBlock","triggerRecompileWhenFinished","randomizerActive","nfo","newOutput","format_info","format_error","last","nextLine","infoErrorOutput","processed","playgrounds","processMixedOutput","onRunFinished","resetOutput","clearDiagnostics","_args","initArgsForLanguage","runOptions","logInfo","logError","processDiagnostics","success","overrideOutput","returnState","finishedExecution","storeDefaultArgs","clearDefaultArgs","runConfig","blockid","completeSource","ctrlKey","metaKey","preventDefault","onkey","onBookmarkBlock","forceRun","CodeBlockContainer","CodeBlocksSettings","CodePlayground","SimpleText","CodePanel","QLayout","QPageContainer","blockById","alts","textContent","blockLoader","playgroundLoader","replaceRandomTagsInString","so","recreateScriptObject","lineCount","newType","oldType","useShadowDOM","shadowRoot","outerHTML","parent","parentElement","rewrap","replaceChild","shadow","attachShadow","each","st","link","cloneNode","inData","dataset","tagName","randomizerPreviewIndex","randomizerKnownTags","randomizerSets","question","cInfo","blIn","as","toUpperCase","loader","constructBlock","MainBlock","defaultArgs","id1","id2","swap","props","AppEditor","App","instantiateVue","CodeBlocksManager","allCodeBlockParents","cbm","String","search","replacement","pattern","newstr","productionTip","mount","mountInElement","mountCodeBlocks","loadLocaleMessages","locales","messages","matched","locale","I18n","$v","fallbackLocale"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-a6f16fe6\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"Customizing/global/plugins/Modules/TestQuestionPool/Questions/assCodeQuestion/codeblocks/0.2.11/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=style&index=0&id=29a639c7&lang=sass&scoped=true&\"","import Vue from 'vue'\nimport '../styles/blockly.styl' \n\nimport {\n    IBlocklyToolbox,\n    IBlocklyToolboxItem,\n    IBlocklyToolboxCategory,\n    BlockPrimaryColors,\n    KnownBlocklyTypes,\n    BlockArgumentTypes,\n    IBlockDefinition,\n    IBlockLine,\n    IBlockArgument,\n    BlockSecondaryColors,\n    BlockTertiaryColors,\n} from '@/lib/IBlocklyHelper'\nimport { IListItemData } from './ICompilerRegistry'\n\nexport const ColorThemeSelection: IListItemData[] = [\n    { label: 'Colors', value: '{!PrimaryColors.Colour}' },\n    { label: 'Arrays', value: '{!PrimaryColors.List}' },\n    { label: 'Logic', value: '{!PrimaryColors.Logic}' },\n    { label: 'Loops', value: '{!PrimaryColors.Loop}' },\n    { label: 'Math', value: '{!PrimaryColors.Math}' },\n    { label: 'Procedures', value: '{!PrimaryColors.Procedure}' },\n    { label: 'String', value: '{!PrimaryColors.Text}' },\n    { label: 'Variables', value: '{!PrimaryColors.Variable}' },\n    { label: 'Variables (dynamic)', value: '{!PrimaryColors.Variable_dynamic}' },\n]\n\nexport const ColorHues: IListItemData[] = [\n    { label: '0', value: '0' },\n    { label: '15', value: '15' },\n    { label: '30', value: '30' },\n    { label: '45', value: '45' },\n    { label: '60', value: '60' },\n    { label: '75', value: '75' },\n    { label: '90', value: '90' },\n    { label: '105', value: '105' },\n    { label: '120', value: '120' },\n    { label: '135', value: '135' },\n    { label: '150', value: '150' },\n    { label: '165', value: '165' },\n    { label: '180', value: '180' },\n    { label: '195', value: '195' },\n    { label: '210', value: '210' },\n    { label: '225', value: '225' },\n    { label: '240', value: '240' },\n    { label: '255', value: '255' },\n    { label: '270', value: '270' },\n    { label: '285', value: '285' },\n    { label: '300', value: '300' },\n    { label: '315', value: '315' },\n    { label: '330', value: '330' },\n    { label: '345', value: '345' },\n]\n\nexport const PredefinedBlockTypes: IListItemData[] = Object.keys(KnownBlocklyTypes).map((key) => {\n    const ret: IListItemData = {\n        label: Vue.$l(`Blockly.BlockTypeNames.${key}`),\n        value: KnownBlocklyTypes[key],\n    }\n    return ret\n})\n\nexport const ColorSelection: IListItemData[] = [...ColorThemeSelection, ...ColorHues]\n\nexport const ColorSelectionWithNone: IListItemData[] = [\n    { label: 'None', value: '' },\n    ...ColorSelection,\n]\n\nexport const PredefinedArgumentTypes: IListItemData[] = Object.keys(BlockArgumentTypes).map(\n    (key) => {\n        const ret: IListItemData = {\n            label: Vue.$l(`Blockly.ArgumentTypeNames.${key}`),\n            value: key,\n        }\n        return ret\n    }\n)\n\nexport const blockStyles = {\n    colour_blocks: {\n        colourPrimary: BlockPrimaryColors.Colour,\n        colourSecondary: BlockSecondaryColors.Colour,\n        colourTertiary: BlockTertiaryColors.Colour,\n        hat:'cap',\n    },\n    list_blocks: {\n        colourPrimary: BlockPrimaryColors.List,\n        colourSecondary: BlockSecondaryColors.List,\n        colourTertiary: BlockTertiaryColors.List,\n        hat:'cap',\n    },\n    logic_blocks: {\n        colourPrimary: BlockPrimaryColors.Logic,\n        colourSecondary: BlockSecondaryColors.Logic,\n        colourTertiary: BlockTertiaryColors.Logic,\n        hat:'cap',\n    },\n    loop_blocks: {\n        colourPrimary: BlockPrimaryColors.Loop,\n        colourSecondary: BlockSecondaryColors.Loop,\n        colourTertiary: BlockTertiaryColors.Loop,\n        hat:'cap',\n    },\n    math_blocks: {\n        colourPrimary: BlockPrimaryColors.Math,\n        colourSecondary: BlockSecondaryColors.Math,\n        colourTertiary: BlockTertiaryColors.Math,\n        hat:'cap',\n    },\n    procedure_blocks: {\n        colourPrimary: BlockPrimaryColors.Procedure,\n        colourSecondary: BlockSecondaryColors.Procedure,\n        colourTertiary: BlockTertiaryColors.Procedure,\n        hat:'cap',\n    },\n    text_blocks: {\n        colourPrimary: BlockPrimaryColors.Text,\n        colourSecondary: BlockSecondaryColors.Text,\n        colourTertiary: BlockTertiaryColors.Text,\n        hat:'cap',\n    },\n    variable_blocks: {\n        colourPrimary: BlockPrimaryColors.Variable,\n        colourSecondary: BlockSecondaryColors.Variable,\n        colourTertiary: BlockTertiaryColors.Variable,\n        hat:'cap',\n    },\n    variable_dynamic_blocks: {\n        colourPrimary: BlockPrimaryColors.Variable_dynamic,\n        colourSecondary: BlockSecondaryColors.Variable_dynamic,\n        colourTertiary: BlockTertiaryColors.Variable_dynamic,\n        hat:'cap',\n    },\n    hat_blocks: {\n        colourPrimary: '330',\n        colourSecondary: '330',\n        colourTertiary: '330',\n        hat: 'cap',\n    },\n}\n\nexport const categoryStyles = {\n    colour_category: { colour: blockStyles.colour_blocks.colourPrimary },\n    list_category: { colour: blockStyles.list_blocks.colourPrimary },\n    logic_category: { colour: blockStyles.logic_blocks.colourPrimary },\n    loop_category: { colour: blockStyles.loop_blocks.colourPrimary },\n    math_category: { colour: blockStyles.math_blocks.colourPrimary },\n    procedure_category: { colour: blockStyles.procedure_blocks.colourPrimary },\n    text_category: { colour: blockStyles.text_blocks.colourPrimary },\n    variable_category: { colour: blockStyles.variable_blocks.colourPrimary },\n    variable_dynamic_category: {\n        colour: blockStyles.variable_dynamic_blocks.colourPrimary,\n    },\n}\n\n//export const theme = new Blockly.Theme('CodeBlocks', blockStyles as any, categoryStyles)\n\nexport class BlocklyHelper {\n    \n    public toArgumentDescription(a: BlockArgumentTypes) {\n        const n = Vue.$l(`Blockly.ArgumentTypeNames.${a}`)\n        return n ? `${n} (${a})` : a\n    }\n    private serializeToolboxItem(i: IBlocklyToolboxItem): string {\n        return `<block type=\"${i.type}\"></block>`\n    }\n    private serializeToolboxItems(items: IBlocklyToolboxItem[]): string {\n        return items.map((item) => this.serializeToolboxItem(item)).join('\\n')\n    }\n    private serializeToolboxCategory(i: IBlocklyToolboxCategory): string {\n        let res = `<category name=\"${i.name}\"`\n        if (i.color && i.color != '') {\n            res += ` colour=\"${i.color}\"`\n        }\n        if (i.custom && i.custom != '') {\n            res += ` custom=\"${i.custom}\"`\n        }\n        res += `>${this.serializeToolboxItems(i.items)}</category>`\n        return res\n    }\n    private serializeToolboxCategories(items: IBlocklyToolboxCategory[]): string {\n        return items.map((item) => this.serializeToolboxCategory(item)).join('\\n')\n    }\n\n    public serializeToolbox(toolbox: IBlocklyToolbox): string {\n        const catCount = toolbox.categories.length\n        if (toolbox.categories && catCount > 1) {\n            return `${this.serializeToolboxCategories(toolbox.categories)}`\n        } else if (catCount === 1) {\n            const cat = toolbox.categories[0]\n            if (cat.color === undefined || cat.color == '' || cat.name == '') {\n                return '' + this.serializeToolboxItems(cat.items)\n            } else {\n                return '' + this.serializeToolboxCategories(toolbox.categories)\n            }\n        } else {\n            return ''\n        }\n    }\n\n    public getBlockDescription(bl: IBlockDefinition): object {\n        const cp = { ...bl.JSON }\n        cp.colour = this.toHTMLColor(cp.colour)\n        return cp\n    }\n\n    public serializeCustomBlock(bl: IBlockDefinition): string {\n        return JSON.stringify(this.getBlockDescription(bl))\n    }\n\n    public serializeCustomBlocks(bls: IBlockDefinition[]): string {\n        return JSON.stringify(bls.map((bl) => this.getBlockDescription(bl)))\n    }\n\n    get codeUndefines(): string {\n        return 'const window = undefined; const Window = undefined; const document = undefined;const $ = undefined;const _ = undefined;'\n    }\n\n    public removeSelfClosingTags(xml: string): string {\n        //console.log(xml, '\\n', xml.replace(/<(\\w+)([^<]*)\\/>/g, '<$1$2></$1>'))\n        return xml.replace(/<(\\w+)([^<]*)\\/>/g, '<$1$2></$1>')\n    }\n\n    public prepareCode(cc: string): string {\n        return `\"use strict\"; ${this.codeUndefines} return function(){ return {o: ${cc}}.o}.call({})`\n    }\n\n    public prepareBlocklyCode(cc: string): string {\n        return `var Blockly = B;${this.codeUndefines}return { o:function(block) { ${cc} }}.o`\n    }\n\n    public compile(bl: IBlockDefinition, Blockly: any): any | undefined {\n        const cc = this.prepareBlocklyCode(bl.codeString)\n        bl._code = undefined\n        try {\n            //console.log(cc, Blockly)\n            const code = new Function('B', cc)\n            bl._code = code(Blockly)\n        } catch (e) {\n            bl._code = undefined\n            console.error('Error Compiling', cc, e)\n            return e + ''\n        }\n        return undefined\n    }\n\n    public itemForValue(items: IListItemData[], value: string): IListItemData {\n        return Vue.$CodeBlock.itemForValue(items, value)\n    }\n\n    public toColorCode(color: string): string | undefined {\n        if (color === '') {\n            return undefined\n        }\n        return color\n    }\n\n    public toColor(color: string | undefined): string {\n        if (color === undefined) {\n            return ''\n        }\n        Object.keys(BlockPrimaryColors).forEach((key) => {\n            if (color == `{!PrimaryColors.${key}}`) {\n                color = BlockPrimaryColors[key]\n            }\n        })\n        return color\n    }\n\n    public toHTMLColor(color: string | undefined): string {\n        const cl = this.toColor(color)\n        if (cl.length > 0 && cl[0] != '#' && cl[0] != 'h' && cl[0] != 'r') {\n            return `hsl(${cl}, 100%, 50%)`\n        }\n        return cl\n    }\n\n    mounted() {}\n}\n\nexport const blocklyHelper = new BlocklyHelper()\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=style&index=0&id=0bd2a5d9&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=style&index=0&lang=sass&\"","var map = {\n\t\"./de.json\": \"6ce2\",\n\t\"./en.json\": \"edd4\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"49f8\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=style&index=0&id=8b99c0d6&lang=stylus&scoped=true&\"","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n    if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n      mod(require(\"codemirror\"));\n    else if (typeof define == \"function\" && define.amd) // AMD\n      define([\"codemirror\"], mod);\n    else // Plain browser env\n      mod(CodeMirror);\n  })(function(CodeMirror) {\n  \"use strict\";\n  \n  CodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n    var indentUnit = config.indentUnit,\n        statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n        dontAlignCalls = parserConfig.dontAlignCalls,\n        keywords = parserConfig.keywords || {},\n        builtin = parserConfig.builtin || {},\n        blockKeywords = parserConfig.blockKeywords || {},\n        atoms = parserConfig.atoms || {},\n        hooks = parserConfig.hooks || {},\n        multiLineStrings = parserConfig.multiLineStrings,\n        indentStatements = parserConfig.indentStatements !== false;\n    var isOperatorChar = /[+\\-*&%=<>!?|\\/]/;\n  \n    var curPunc;\n  \n    function tokenBase(stream, state) {\n      var ch = stream.next();\n      if (hooks[ch]) {\n        var result = hooks[ch](stream, state);\n        if (result !== false) return result;\n      }\n      if (ch == '\"' || ch == \"'\") {\n        state.tokenize = tokenString(ch);\n        return state.tokenize(stream, state);\n      }\n      if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n        curPunc = ch;\n        return null;\n      }\n      if (/\\d/.test(ch)) {\n        stream.eatWhile(/[\\w\\.]/);\n        return \"number\";\n      }\n      if (ch == \"/\") {\n        if (stream.eat(\"*\")) {\n          state.tokenize = tokenComment;\n          return tokenComment(stream, state);\n        }\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return \"comment\";\n        }\n      }\n      if (isOperatorChar.test(ch)) {\n        stream.eatWhile(isOperatorChar);\n        return \"operator\";\n      }\n      stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n      var cur = stream.current();\n      if (keywords.propertyIsEnumerable(cur)) {\n        if (blockKeywords.propertyIsEnumerable(cur)) curPunc = \"newstatement\";\n        return \"keyword\";\n      }\n      if (builtin.propertyIsEnumerable(cur)) {\n        if (blockKeywords.propertyIsEnumerable(cur)) curPunc = \"newstatement\";\n        return \"builtin\";\n      }\n      if (atoms.propertyIsEnumerable(cur)) return \"atom\";\n      return \"variable\";\n    }\n  \n    function tokenString(quote) {\n      return function(stream, state) {\n        var escaped = false, next, end = false;\n        while ((next = stream.next()) != null) {\n          if (next == quote && !escaped) {end = true; break;}\n          escaped = !escaped && next == \"\\\\\";\n        }\n        if (end || !(escaped || multiLineStrings))\n          state.tokenize = null;\n        return \"string\";\n      };\n    }\n  \n    function tokenComment(stream, state) {\n      var maybeEnd = false, ch;\n      while (ch = stream.next()) {\n        if (ch == \"/\" && maybeEnd) {\n          state.tokenize = null;\n          break;\n        }\n        maybeEnd = (ch == \"*\");\n      }\n      return \"comment\";\n    }\n  \n    function Context(indented, column, type, align, prev) {\n      this.indented = indented;\n      this.column = column;\n      this.type = type;\n      this.align = align;\n      this.prev = prev;\n    }\n    function pushContext(state, col, type) {\n      var indent = state.indented;\n      if (state.context && state.context.type == \"statement\")\n        indent = state.context.indented;\n      return state.context = new Context(indent, col, type, null, state.context);\n    }\n    function popContext(state) {\n      var t = state.context.type;\n      if (t == \")\" || t == \"]\" || t == \"}\")\n        state.indented = state.context.indented;\n      return state.context = state.context.prev;\n    }\n  \n    // Interface\n  \n    return {\n      startState: function(basecolumn) {\n        return {\n          tokenize: null,\n          context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", false),\n          indented: 0,\n          startOfLine: true\n        };\n      },\n  \n      token: function(stream, state) {\n        var ctx = state.context;\n        if (stream.sol()) {\n          if (ctx.align == null) ctx.align = false;\n          state.indented = stream.indentation();\n          state.startOfLine = true;\n        }\n        if (stream.eatSpace()) return null;\n        curPunc = null;\n        var style = (state.tokenize || tokenBase)(stream, state);\n        if (style == \"comment\" || style == \"meta\") return style;\n        if (ctx.align == null) ctx.align = true;\n  \n        if ((curPunc == \";\" || curPunc == \":\" || curPunc == \",\") && ctx.type == \"statement\") popContext(state);\n        else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n        else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n        else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n        else if (curPunc == \"}\") {\n          while (ctx.type == \"statement\") ctx = popContext(state);\n          if (ctx.type == \"}\") ctx = popContext(state);\n          while (ctx.type == \"statement\") ctx = popContext(state);\n        }\n        else if (curPunc == ctx.type) popContext(state);\n        else if (indentStatements &&\n                 (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != ';') ||\n                  (ctx.type == \"statement\" && curPunc == \"newstatement\")))\n          pushContext(state, stream.column(), \"statement\");\n        state.startOfLine = false;\n        return style;\n      },\n  \n      indent: function(state, textAfter) {\n        if (state.tokenize != tokenBase && state.tokenize != null) return CodeMirror.Pass;\n        var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n        if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n        var closing = firstChar == ctx.type;\n        if (ctx.type == \"statement\") return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n        else if (ctx.align && (!dontAlignCalls || ctx.type != \")\")) return ctx.column + (closing ? 0 : 1);\n        else if (ctx.type == \")\" && !closing) return ctx.indented + statementIndentUnit;\n        else return ctx.indented + (closing ? 0 : indentUnit);\n      },\n  \n      electricChars: \"{}\",\n      blockCommentStart: \"/*\",\n      blockCommentEnd: \"*/\",\n      lineComment: \"//\",\n      fold: \"brace\"\n    };\n  });\n  \n    function words(str) {\n      var obj = {}, words = str.split(\" \");\n      for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n      return obj;\n    }\n    var cKeywords = \"auto if break int case long char register continue return default short do sizeof \" +\n      \"double static else struct entry switch extern typedef float union for unsigned \" +\n      \"goto while enum void const signed volatile\";\n  \n    function cppHook(stream, state) {\n      if (!state.startOfLine) return false;\n      for (;;) {\n        if (stream.skipTo(\"\\\\\")) {\n          stream.next();\n          if (stream.eol()) {\n            state.tokenize = cppHook;\n            break;\n          }\n        } else {\n          stream.skipToEnd();\n          state.tokenize = null;\n          break;\n        }\n      }\n      return \"meta\";\n    }\n  \n    function cpp11StringHook(stream, state) {\n      stream.backUp(1);\n      // Raw strings.\n      if (stream.match(/(R|u8R|uR|UR|LR)/)) {\n        var match = stream.match(/\"([^\\s\\\\()]{0,16})\\(/);\n        if (!match) {\n          return false;\n        }\n        state.cpp11RawStringDelim = match[1];\n        state.tokenize = tokenRawString;\n        return tokenRawString(stream, state);\n      }\n      // Unicode strings/chars.\n      if (stream.match(/(u8|u|U|L)/)) {\n        if (stream.match(/[\"']/, /* eat */ false)) {\n          return \"string\";\n        }\n        return false;\n      }\n      // Ignore this hook.\n      stream.next();\n      return false;\n    }\n  \n    // C#-style strings where \"\" escapes a quote.\n    function tokenAtString(stream, state) {\n      var next;\n      while ((next = stream.next()) != null) {\n        if (next == '\"' && !stream.eat('\"')) {\n          state.tokenize = null;\n          break;\n        }\n      }\n      return \"string\";\n    }\n  \n    // C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n    // <delim> can be a string up to 16 characters long.\n    function tokenRawString(stream, state) {\n      // Escape characters that have special regex meanings.\n      var delim = state.cpp11RawStringDelim.replace(/[^\\w\\s]/g, '\\\\$&');\n      var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n      if (match)\n        state.tokenize = null;\n      else\n        stream.skipToEnd();\n      return \"string\";\n    }\n  \n    function def(mimes, mode) {\n      if (typeof mimes == \"string\") mimes = [mimes];\n      var words = [];\n      function add(obj) {\n        if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n          words.push(prop);\n      }\n      add(mode.keywords);\n      add(mode.builtin);\n      add(mode.atoms);\n      if (words.length) {\n        mode.helperType = mimes[0];\n        CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n      }\n  \n      for (var i = 0; i < mimes.length; ++i)\n        CodeMirror.defineMIME(mimes[i], mode);\n    }\n  \n    def([\"x-shader/x-vertex\", \"x-shader/x-fragment\", \"text/x-glsl\"], {\n      name: \"clike\",\n      keywords: words(\"float int bool void \" +\n                      \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                      \"mat2 mat3 mat4 \" +\n                      \"sampler2D sampler3D samplerCube \" +\n                      \"const attribute uniform varying \" +\n                      \"break continue discard return \" +\n                      \"for while do if else struct \" +\n                      \"in out inout\"),\n      blockKeywords: words(\"for while do if else struct\"),\n      builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                      \"pow exp log exp2 sqrt inversesqrt \" +\n                      \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                      \"length distance dot cross normalize faceforward \" +\n                      \"reflect refract matrixCompMult \" +\n                      \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                      \"equal notEqual any all not \" +\n                      \"texture2D texture2DLod texture2DProjLod \" +\n                      \"textureCube textureCubeLod \"),\n      atoms: words(\"true false \" +\n                  \"gl_FragColor \" +\n                  \"gl_PointCoord \" +\n                  \"gl_Position gl_PointSize \" +\n                  \"gl_FragCoord gl_FrontFacing \" +\n                  \"gl_FragData \" +\n                  \"gl_DepthRangeParameters \" +\n                  \"gl_MaxVertexAttribs gl_MaxVaryingVectors gl_MaxVertexUniformVectors\" +\n                  \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                  \"gl_MaxFragmentUniformVectors \" +\n                  \"gl_MaxDrawBuffers\"),\n      hooks: {\"#\": cppHook},\n      modeProps: {fold: [\"brace\", \"include\"]}\n    });\n  \n  });","export type finishedCallbackSignatur = (\n    success: boolean,\n    overrideOutput?: any,\n    returnState?: any\n) => void\n\nexport interface IListItemData {\n    readonly label: string\n    readonly value: string\n}\n\nexport enum ErrorSeverity {\n    Error = 2,\n    Warning = 1,\n}\nexport interface IErrorPosition {\n    line: number\n    column: number\n}\nexport interface ICompilerErrorDescription {\n    start: IErrorPosition\n    end: IErrorPosition\n    message: string\n    severity: ErrorSeverity\n}\n\nexport interface IDomLibraray {\n    key: string\n    uri: string[]\n    name: string\n    version: string\n    displayName: string\n    didLoad: boolean\n    utility: boolean\n    order: number\n    onBuildSandboxEnv: (sandbox: any) => void\n}\n\nexport interface ICompilerHashMap {\n    [lang: string]: ICompilerInfo\n}\n\nexport interface ICompilerState {\n    hideGlobalState(): void\n    setAllRunButtons(what: boolean): void\n    displayGlobalState(message: string | null): void\n\n    readonly globalStateHidden: boolean\n    readonly globalStateMessage: string\n    readonly runButtonForceHide: boolean\n}\n\nexport interface ICompilerRegistry {\n    readonly languages: IListItemData[]\n    readonly domLibraries: IListItemData[]\n\n    register(compilers: ICompilerInfo[] | ICompilerInfo): void\n\n    registerSingle(c: ICompilerInfo): void\n    getCompiler(compilerInfo: ICompilerIDQuery): ICompilerInstance | undefined\n\n    versionsForLanguage(languageType: string): string[] | ['none']\n\n    registerDOMLib(\n        uri: string[],\n        name: string,\n        version: string,\n        displayName: string,\n        utility?: boolean,\n        order?: number\n    ): void\n\n    getLibObjects(domLibs: string[]): IDomLibraray[]\n    urisForDOMLibs(domLibs: string[]): string[]\n    loadLibraries(domLibraries: string[], whenLoaded: () => void): void\n}\n\nexport interface ICompileAndRunArguments {\n    max_ms: number\n    log_callback: (txt: string) => void\n    info_callback: (txt: string) => void\n    err_callback: (txt: string) => void\n    compileFailedCallback: (info: ICompilerErrorDescription) => void\n    finishedExecutionCB: finishedCallbackSignatur\n    args: object\n    didReceiveMessage: (cmd: string, data: any) => void\n    postMessageFunction: null | ((cmd: string, data: any) => void)\n    dequeuePostponedMessages: () => void\n    beforeStartHandler: () => void\n    whenFinishedHandler(args: string[] | object): void\n    allowMessagePassing: boolean\n    keepAlive: boolean\n    resultData: Object | any[] | undefined\n}\n\nexport interface ICompilerInstance {\n    readonly version: string\n    readonly language: string\n    readonly canRun: boolean\n    readonly canStop: boolean\n    readonly allowsMessagePassing: boolean\n    readonly allowsContinousCompilation: boolean\n    readonly allowsPersistentArguments: boolean\n    readonly acceptsJSONArgument: boolean\n    readonly experimental: boolean\n    readonly deprecated: boolean\n    isReady: boolean\n    isRunning: boolean\n    readonly libraries?: ICompilerLibraryInfo[]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void\n    preload(): void\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate?: boolean\n    ): void\n    stop?(): void\n}\n\nexport interface ICompilerLibraryInfo {\n    readonly key: string\n    readonly name: string\n    readonly version: string\n    readonly displayName: string\n}\n\nexport interface ICompilerInfo {\n    readonly type: string\n    readonly displayName: string\n    readonly versions: ICompilerInstance[]\n    readonly default: ICompilerInstance\n}\n\nexport interface ICompilerID {\n    languageType: string\n    version: string\n}\n\nexport interface ICompilerIDQuery {\n    languageType: string\n    version?: string\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=style&index=0&id=02275a87&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"codeblock block-\" + _vm.typeName)},[_c('CodeBlockButton',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showBookmarkButton),expression:\"showBookmarkButton\"}],attrs:{\"block\":_vm.block,\"isBookmarkPanel\":_vm.isBookmarkPanel}}),_c('codemirror',{ref:\"codeBox\",class:(\"accqstXmlInput noRTEditor codebox \" + _vm.boxClass),attrs:{\"value\":_vm.code,\"options\":_vm.options,\"name\":(_vm.namePrefix + \"block[\" + (_vm.block.parentID) + \"][\" + (_vm.block.id) + \"]\"),\"id\":(\"teQ\" + (_vm.block.parentID) + \"B\" + (_vm.block.id)),\"data-question\":_vm.block.parentID,\"events\":['keyup']},on:{\"ready\":_vm.onCodeReady,\"focus\":_vm.onCodeFocus,\"input\":_vm.onCodeChangeDefered,\"input-read\":_vm.onCodeKeyHandle,\"keyup\":_vm.onCodeKeyHandle}}),(_vm.editMode)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasAlternativeContent),expression:\"hasAlternativeContent\"}]},[_c('div',{staticClass:\"q-mt-lg text-subtitle2\"},[_vm._v(_vm._s(_vm.$t('CodeBlock.Initial_Content')))]),_c('codemirror',{ref:\"altBox\",class:(\"accqstXmlInput noRTEditor \" + _vm.boxClass),attrs:{\"value\":_vm.altCode,\"options\":_vm.altOptions,\"name\":(_vm.namePrefix + \"alt_block[\" + (_vm.block.parentID) + \"][\" + (_vm.block.id) + \"]\")},on:{\"ready\":_vm.onAltCodeReady,\"focus\":_vm.onAltCodeFocus,\"input\":_vm.onAltCodeChangeDefered}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-icon',{class:(\"mdi \" + _vm.severityClass + \" mainTipIcon\"),attrs:{\"name\":_vm.severityIcon}},[_c('q-tooltip',[_c('div',[_c('ul',{staticClass:\"tiplist\"},_vm._l((_vm.errors),function(error){return _c('li',{key:error.message},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-1\"},[_c('q-icon',{attrs:{\"name\":_vm.iconForSeverity(error.severity)}})],1),_c('div',{staticClass:\"col-11 q-pr-md\"},[_c('div',{staticClass:\"q-my-none tipper\"},[_vm._v(_vm._s(error.message))])])])])}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { ErrorSeverity, ICompilerErrorDescription } from '@/lib/ICompilerRegistry'\n\n@Component\nexport default class ErrorTip extends Vue {\n    @Prop() errors!: ICompilerErrorDescription\n    @Prop() severity!: ErrorSeverity\n\n    get severityClass(): string {\n        return this.classForSeverity(this.severity)\n    }\n    get severityIcon(): string {\n        return this.iconForSeverity(this.severity)\n    }\n\n    classForSeverity(s: ErrorSeverity): string {\n        if (s == ErrorSeverity.Error) {\n            return 'gutter-error'\n        }\n        return 'gutter-warning'\n    }\n    iconForSeverity(s: ErrorSeverity): string {\n        if (s == ErrorSeverity.Error) {\n            return 'report'\n        }\n        return 'warning'\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ErrorTip.vue?vue&type=template&id=67eb593e&\"\nimport script from \"./ErrorTip.vue?vue&type=script&lang=ts&\"\nexport * from \"./ErrorTip.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ErrorTip.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QIcon,QTooltip});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"floatingButton\"},[_c('q-btn',{attrs:{\"color\":_vm.color,\"text-color\":\"black\",\"icon\":_vm.iconName,\"round\":\"\",\"size\":\"xs\"},on:{\"click\":_vm.onClick}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Emit } from 'vue-property-decorator'\nimport { BlockData, IBlockBookmarkPayload } from '@/lib/codeBlocksManager'\n\n@Component\nexport default class CodeBlockButton extends Vue {\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ default: false }) isBookmarkPanel!: boolean\n\n    get color(): string {\n        return this.isBookmarkPanel ? 'red-4' : 'amber'\n    }\n\n    get iconName(): string {\n        if (this.isBookmarkPanel) {\n            return 'close'\n        }\n        return this.bookmarked ? 'bookmark' : 'bookmark_border'\n    }\n\n    bookmarked: boolean = false\n    bookmarkMe() {\n        const data: IBlockBookmarkPayload = {\n            uuid: this.block.appSettings.uuid,\n            block: this.isBookmarkPanel ? null : this.block\n        }\n        Vue.$GlobalEventHub.$emit('bookmark-block', data)\n    }\n    onClick() {\n        this.bookmarkMe()\n    }\n\n    onBookmark(data: IBlockBookmarkPayload) {\n        this.bookmarked =\n            data.block === null || this.block === null ? false : this.block.uuid === data.block.uuid\n    }\n\n    mounted() {\n        Vue.$GlobalEventHub.$on('bookmark-block', this.onBookmark)\n    }\n\n    beforeDestroy() {\n        Vue.$GlobalEventHub.$off('bookmark-block')\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlockButton.vue?vue&type=template&id=0bd2a5d9&scoped=true&\"\nimport script from \"./CodeBlockButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlockButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlockButton.vue?vue&type=style&index=0&id=0bd2a5d9&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bd2a5d9\",\n  null\n  \n)\n\nexport default component.exports\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtn});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport ErrorTip from './ErrorTip.vue'\nimport BaseBlock from './BaseBlock.vue'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { ICompilerErrorDescription } from '@/lib/ICompilerRegistry'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { ITagReplaceAction } from '@/plugins/tagger'\n\nimport codemirror from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\n//themes\nimport 'codemirror/theme/solarized.css'\nimport 'codemirror/theme/base16-dark.css'\nimport 'codemirror/theme/base16-light.css'\nimport 'codemirror/theme/duotone-dark.css'\nimport 'codemirror/theme/duotone-light.css'\nimport 'codemirror/theme/xq-dark.css'\nimport 'codemirror/theme/xq-light.css'\nimport 'codemirror/theme/blackboard.css'\nimport 'codemirror/theme/midnight.css'\nimport 'codemirror/theme/neo.css'\nimport 'codemirror/theme/mbo.css'\nimport 'codemirror/theme/mdn-like.css'\n\n//languages\nimport 'codemirror/mode/clike/clike.js'\nimport 'codemirror/mode/fortran/fortran.js'\nimport 'codemirror/mode/javascript/javascript.js'\nimport 'codemirror/mode/perl/perl.js'\nimport 'codemirror/mode/python/python.js'\nimport 'codemirror/mode/r/r.js'\nimport 'codemirror/mode/ruby/ruby.js'\nimport '@/lib/glsl/glsl'\n\n//plugins\nimport 'codemirror/addon/edit/closebrackets.js'\n\n//helper to create tooltips at runtime\nimport CodeBlockButton from '@/components/CodeBlockButton.vue'\nconst ErrorTipCtor = Vue.extend(ErrorTip)\n\n@Component({ components: { CodeBlockButton } })\nexport default class CodeBlock extends BaseBlock {\n    @Prop({ default: '' }) namePrefix!: string\n    @Prop({ default: false }) emitWhenTypingInViewMode!: boolean\n    @Prop({ default: true }) canBookmark!: boolean\n    @Prop({ default: false }) isBookmarkPanel!: boolean\n    @Prop({ default: false }) readonly!: boolean\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: number | 'auto'\n    @Prop({ default: 'base16-dark' }) theme!: string\n    @Prop({ default: 'text/javascript' }) mode!: string\n    @Prop({ default: undefined }) tagSet!: IRandomizerSet\n    @Prop({\n        required: true,\n        validator: function(b) {\n            if (b === null || b.content === undefined) {\n                return false\n            }\n            if (b.firstLine === undefined) {\n                return false\n            }\n            return true\n        }\n    })\n    block!: BlockData\n\n    get showBookmarkButton(): boolean {\n        return this.canBookmark && this.editMode\n    }\n\n    clearTagMarkers() {\n        if (this.codemirror === undefined) {\n            return\n        }\n\n        let allMarks = this.codemirror.getDoc().getAllMarks()\n        allMarks.forEach(e => {\n            if (\n                e.className == Vue.$tagger.className.rnd ||\n                e.className == Vue.$tagger.className.templ\n            ) {\n                e.clear()\n            }\n        })\n\n        if (this.altcodemirror) {\n            allMarks = this.altcodemirror.getDoc().getAllMarks()\n            allMarks.forEach(e => {\n                if (\n                    e.className == Vue.$tagger.className.rnd ||\n                    e.className == Vue.$tagger.className.templ\n                ) {\n                    e.clear()\n                }\n            })\n        }\n    }\n    clearErrorDisplay() {\n        if (this.codemirror === undefined) {\n            return\n        }\n        let allMarks = this.codemirror.getDoc().getAllMarks()\n        //console.log(\"marks\", this.block.type, allMarks)\n        allMarks.forEach(e => {\n            if (e.className == 'red-wave') {\n                e.clear()\n            }\n        })\n\n        this.codemirror.getDoc().clearGutter('diagnostics')\n    }\n    onCodeReady(editor) {\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        if (\n            this.codemirror &&\n            this.codemirror.display &&\n            this.codemirror.display.input &&\n            this.codemirror.display.input.textarea\n        ) {\n            this.codemirror.display.input.textarea.className = 'noRTEditor'\n        }\n        this.codeBox!.$el.querySelectorAll('textarea[name]').forEach(el => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n            el.id = this.codeBox!.$el.id\n\n            $(el).text(this.block.content)\n            el.setAttribute('data-question', `${this.block.parentID}`)\n            el.setAttribute('data-blocktype', `${this.iliasTypeNr}`)\n            if (this.editMode) {\n                el.setAttribute('is-editmode', `${this.editMode}`)\n            }\n        })\n        this.updateDiagnosticDisplay()\n        this.onCodeChange(this.block.content)\n\n        this.whenBlockIsReady()\n    }\n    onAltCodeReady(editor) {\n        console.d('READY')\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        if (\n            this.altcodemirror &&\n            this.altcodemirror.display &&\n            this.altcodemirror.display.input &&\n            this.altcodemirror.display.input.textarea\n        ) {\n            this.altcodemirror.display.input.textarea.className = 'noRTEditor'\n        }\n        this.altBox!.$el.querySelectorAll('textarea[name]').forEach(el => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n        })\n        this.$nextTick(() => {\n            this.onAltCodeChange(this.block.alternativeContent)\n            this.updateTagDisplay()\n            this.updateHeight()\n        })\n    }\n    onCodeFocus(editor) {}\n    onAltCodeFocus(editor) {}\n\n    codeUpdateTimer: number | null = null\n    codeUpdateStartTime: number = 0\n    onCodeChangeDefered(newCode) {\n        if (!this.editMode) {\n            this.onCodeChange(newCode)\n            return\n        }\n\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.codeUpdateTimer !== null) {\n            clearTimeout(this.codeUpdateTimer)\n            this.codeUpdateTimer = null\n        } else {\n            this.codeUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.codeUpdateTimer = null\n            this.onCodeChange(newCode)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.codeUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.codeUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n\n    continuousCodeUpdateTimer: number | null = null\n    onCodeChange(newCode) {\n        //update line numbers manually (changing in options takes too long)\n        this.block.lineCountHint = this.codemirror.doc.size\n        this.codemirror.options.firstLineNumber = this.block.firstLine\n\n        //copy the content to the actual textbox processed by StudON\n        const tb = this.codeBox.$el.querySelector('textarea[name]') as HTMLTextAreaElement\n        tb.value = newCode\n\n        //copy code to the block structure\n        this.block.content = newCode\n\n        //find all tags\n        this.updateTagDisplay()\n\n        //send out the event for processing\n        if (this.editMode) {\n            this.$emit('code-changed-in-edit-mode', undefined)\n        } else if (this.emitWhenTypingInViewMode) {\n            if (this.continuousCodeUpdateTimer !== null) {\n                clearTimeout(this.continuousCodeUpdateTimer)\n                this.continuousCodeUpdateTimer = null\n            }\n            this.continuousCodeUpdateTimer = setTimeout(() => {\n                this.$emit('code-changed-in-view-mode', undefined)\n            }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n        }\n    }\n\n    codeNeedsTagUpdate: boolean = true\n    didAddText(t: string): void {\n        //console.log('    ', t)\n        if (\n            t.indexOf('!') >= 0 ||\n            t.indexOf('+') >= 0 ||\n            t.indexOf('{') >= 0 ||\n            t.indexOf('{') >= 0 ||\n            t.indexOf('\\n') >= 0\n        ) {\n            this.codeNeedsTagUpdate = true\n        }\n    }\n    onCodeKeyHandle(e) {\n        //console.log('IR', e, arguments)\n        if (arguments.length > 1 && arguments[1] !== undefined) {\n            if (arguments[1].text !== undefined) {\n                arguments[1].text.forEach(t => {\n                    this.didAddText(t)\n                })\n            } else if (arguments[1].key !== undefined) {\n                if (arguments[1].keyCode == 13) {\n                    this.didAddText('\\n')\n                } else {\n                    this.didAddText(arguments[1].key)\n                }\n            }\n        }\n    }\n\n    altCodeUpdateTimer: number | null = null\n    altCodeUpdateStartTime: number = 0\n    onAltCodeChangeDefered(newCode) {\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.altCodeUpdateTimer !== null) {\n            clearTimeout(this.altCodeUpdateTimer)\n            this.altCodeUpdateTimer = null\n        } else {\n            this.altCodeUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.altCodeUpdateTimer = null\n            this.onAltCodeChange(newCode)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.altCodeUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.altCodeUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n    onAltCodeChange(newCode) {\n        if (this.altBox !== undefined) {\n            const tb = this.altBox.$el.querySelector('textarea[name]') as HTMLTextAreaElement\n            tb.value = newCode\n        }\n\n        this.block.alternativeContent = newCode\n        this.updateTagDisplay()\n    }\n    updateHeight() {\n        if (this.visibleLines === 'auto' || this.block.static) {\n            if (this.codemirror) {\n                this.codemirror.setSize('height', 'auto')\n            }\n            if (this.altcodemirror) {\n                this.altcodemirror.setSize('height', 'auto')\n            }\n        } else {\n            if (this.codemirror) {\n                this.codemirror.setSize(null, Math.round(20 * Math.max(1, this.visibleLines)) + 9)\n            }\n            if (this.altcodemirror) {\n                this.altcodemirror.setSize(\n                    null,\n                    Math.round(20 * Math.max(1, this.visibleLines)) + 9\n                )\n            }\n        }\n    }\n    replaceTemplateTags(o: ITagReplaceAction) {\n        if (!this.editMode) {\n            return\n        }\n        if (o.scopeUUID != this.block.scopeUUID) {\n            return\n        }\n        this.block.content = Vue.$tagger.replaceTemplateTagInString(\n            this.block.content,\n            o.name,\n            o.newValue\n        )\n    }\n    updateTagDisplay() {\n        if (\n            !this.editMode ||\n            this.block === undefined ||\n            this.block.appSettings === undefined ||\n            this.block.appSettings.randomizer === undefined ||\n            !this.block.appSettings.randomizer.active ||\n            !this.codeNeedsTagUpdate\n        ) {\n            return\n        }\n\n        this.codeNeedsTagUpdate = false\n        //console.log('Updating Tags')\n        this.clearTagMarkers()\n        Vue.$tagger.getMarkers(this.block.content).forEach(m => {\n            this.codemirror.getDoc().markText(m.start, m.end, {\n                className: Vue.$tagger.className[m.type],\n                inclusiveLeft: true,\n                inclusiveRight: true,\n                title: m.name,\n                startStyle: 'tag-mark-start',\n                endStyle: 'tag-mark-end'\n            })\n        })\n        this.$nextTick(() => {\n            Vue.$tagger.hookClick(this.codeBox.$el, this.block.scopeUUID)\n        })\n\n        if (this.altcodemirror) {\n            Vue.$tagger.getMarkers(this.block.alternativeContent).forEach(m => {\n                this.altcodemirror.getDoc().markText(m.start, m.end, {\n                    className: Vue.$tagger.className[m.type],\n                    inclusiveLeft: true,\n                    inclusiveRight: true,\n                    title: m.name,\n                    startStyle: 'tag-mark-start',\n                    endStyle: 'tag-mark-end'\n                })\n            })\n\n            this.$nextTick(() => {\n                if (this.altBox !== undefined) {\n                    Vue.$tagger.hookClick(this.altBox.$el, this.block.scopeUUID)\n                }\n            })\n        }\n    }\n    updateDiagnosticDisplay() {\n        const val = this.errors\n        if (val !== undefined) {\n            this.clearErrorDisplay()\n\n            const first = this.block.firstLine\n            val.forEach(error => {\n                if (error.start.column >= 0) {\n                    //console.log(\"squiggle\", this.block.type);\n                    //put a squigly line as code marker\n                    this.codemirror.getDoc().markText(\n                        { line: error.start.line - first, ch: error.start.column },\n                        { line: error.end.line - first, ch: error.end.column },\n                        {\n                            className: 'red-wave',\n                            inclusiveLeft: true,\n                            inclusiveRight: true,\n                            title: error.message\n                        }\n                    )\n                }\n\n                //read existing gutter marker or create a new one\n                let info = this.codemirror.getDoc().lineInfo(error.start.line - first)\n                let element =\n                    info && info.gutterMarkers ? info.gutterMarkers['diagnostics'].$component : null\n                if (element == null) {\n                    //console.log(\"Gutter\", this.block.type, error.start.line, error.message, first);\n                    element = document.createElement('span')\n\n                    //place the updated element\n                    this.codemirror\n                        .getDoc()\n                        .setGutterMarker(error.start.line - first, 'diagnostics', element)\n\n                    element.$component = new ErrorTipCtor({\n                        propsData: {\n                            errors: [],\n                            severity: error.severity\n                        }\n                    }).$mount(element)\n\n                    element = element.$component\n                }\n\n                //make sure we use the proper class for the given severity.\n                //We allways choose the maximum severity for each marking\n                element.severity = Math.max(error.severity, element.severity)\n\n                //Build the hint text\n                if (element.errors.indexOf(error) == -1) {\n                    element.errors.push(error)\n                }\n            })\n        } else {\n            this.clearErrorDisplay()\n        }\n    }\n\n    get codeBox(): Vue {\n        return this.$refs.codeBox as Vue\n    }\n\n    get altBox(): Vue | undefined {\n        return this.$refs.altBox as Vue\n    }\n\n    get hasAlternativeContent() {\n        return this.block.hasAlternativeContent && this.typeName == 'block'\n    }\n    get errors(): ICompilerErrorDescription[] {\n        return this.block.errors\n    }\n    get randomizerActive() {\n        return this.tagSet !== undefined\n    }\n    get boxClass() {\n        let cl = ''\n        if (this.block.hidden && !this.editMode) {\n            cl += 'hiddenBox '\n        }\n        if (this.block.readonly || this.readonly) {\n            cl += 'readonlyBox '\n        }\n        if (this.block.static) {\n            cl += 'staticBox '\n        }\n        return cl\n    }\n    get iliasTypeNr() {\n        const t = this.typeName\n        if (t == 'text') {\n            return 0\n        }\n        if (t == 'block-static') {\n            return 1\n        }\n        if (t == 'block') {\n            return 2\n        }\n        if (t == 'block-hidden') {\n            return 3\n        }\n        if (t == 'playground') {\n            return 4\n        }\n        if (t == 'blockly') {\n            return 5\n        }\n        return -1\n    }\n    get typeName() {\n        let s = this.block.type.toLowerCase()\n        if (this.block.hidden) {\n            s += '-hidden'\n        }\n        if (this.block.static) {\n            s += '-static'\n        }\n        return s\n    }\n    get altCode() {\n        if (this.block.alternativeContent === null) {\n            return ''\n        }\n        return this.block.alternativeContent\n    }\n    get code() {\n        if (!this.editMode) {\n            return this.block.actualContent()\n        }\n        return this.block.content\n    }\n    get options() {\n        return {\n            // codemirror options\n            mode: this.mode,\n            theme: this.theme,\n            lineNumbers: true,\n            line: true,\n            tabSize: 4,\n            indentUnit: 4,\n            autoCloseBrackets: true,\n            readOnly:\n                !this.editMode &&\n                (this.block.readonly || this.block.static || this.block.hidden || this.readonly),\n            //firstLineNumber: this.block.firstLine, //make sure to change altOptions as well when activating this\n            gutters: ['diagnostics', 'CodeMirror-linenumbers']\n        }\n    }\n    get altOptions() {\n        return this.options\n        // let o = { ...this.options }\n        // o.firstLineNumber = 1\n        // return o\n    }\n    get codemirror(): any | undefined {\n        return (this.codeBox as any).codemirror\n    }\n    get altcodemirror(): any | undefined {\n        if (this.altBox === undefined) {\n            return undefined\n        }\n        return (this.altBox as any).codemirror\n    }\n    get readyWhenMounted() {\n        return false\n    }\n    @Watch('block.firstLine')\n    onFirstLineChanged(val) {\n        if (this.codemirror) {\n            if (this.codemirror.options.firstLineNumber != this.block.firstLine) {\n                this.codemirror.options.firstLineNumber = this.block.firstLine\n                this.codemirror.refresh()\n            }\n        }\n    }\n    @Watch('visibleLines')\n    onVisibleLinesChanged(val) {\n        this.updateHeight()\n    }\n    @Watch('errors')\n    onErrorsChanged(val) {\n        this.updateDiagnosticDisplay()\n    }\n\n    created() {\n        console.d('ReadyWhenMounted in CodeBlock', this.readyWhenMounted)\n        //this.$options.readyWhenMounted = false;\n    }\n    mounted() {\n        this.updateHeight()\n\n        if (this.editMode && this.codemirror) {\n            console.d('Attach')\n            const buildIt = () => {\n                console.log('EMIT')\n                this.$emit('build')\n            }\n\n            this.codemirror.addKeyMap({\n                'Cmd-B': function(cMirror) {\n                    buildIt()\n                },\n                'Ctrl-B': function(cMirror) {\n                    buildIt()\n                }\n            })\n\n            this.codemirror.addKeyMap({\n                Tab: function(cMirror) {\n                    cMirror.execCommand('insertSoftTab')\n                }\n            })\n        }\n\n        Vue.$tagger.$on('replace-template-tag', this.replaceTemplateTags)\n        this.codeNeedsTagUpdate = true\n        this.updateTagDisplay()\n    }\n    beforeDestroy() {\n        Vue.$tagger.$off('replace-template-tag', this.replaceTemplateTags)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlock.vue?vue&type=template&id=0368514c&scoped=true&\"\nimport script from \"./CodeBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlock.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlock.vue?vue&type=style&index=0&id=0368514c&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0368514c\",\n  null\n  \n)\n\nexport default component.exports","\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport { BlockData } from '@/lib/codeBlocksManager'\n@Component\nexport default class BaseBlock extends Vue {\n    @Prop({ default: false }) muteReadyState!: boolean\n    @Prop({ required: true }) block!: BlockData\n\n    whenBlockIsReady() {\n        if (this.muteReadyState) {\n            return\n        }\n        this.block.readyCount++\n        this.$emit('ready', this.block)\n    }\n    whenBlockIsDestroyed() {\n        if (this.muteReadyState) {\n            return\n        }\n        this.block.readyCount--\n    }\n\n    get readyWhenMounted() {\n        return true\n    }\n\n    mounted() {\n        if (this.readyWhenMounted) {\n            this.whenBlockIsReady()\n        }\n    }\n\n    beforeDestroy() {\n        this.whenBlockIsDestroyed()\n    }\n}\n","var render, staticRenderFns\nimport script from \"./BaseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseBlock.vue?vue&type=script&lang=ts&\"","import { ICompilerID, IListItemData } from './ICompilerRegistry'\nimport { IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport { IBlockDefinition, IBlocklyToolbox } from './IBlocklyHelper'\n\nexport enum KnownBlockTypes {\n    PLAYGROUND = 'PLAYGROUND',\n    TEXT = 'TEXT',\n    BLOCKHIDDEN = 'BLOCK-hidden',\n    BLOCKSTATIC = 'BLOCK-static',\n    BLOCK = 'BLOCK',\n    BLOCKLY = 'BLOCKLY',\n}\n\nexport enum CodeOutputTypes {\n    AUTO = 'auto',\n    TEXT = 'text',\n    JSON = 'json',\n    MAGIC = 'magic',\n}\n\nexport enum CodeExpansionType {\n    LARGE = 2,\n    AUTO = 1,\n    TINY = 0,\n}\n\nexport interface IBlockloadManager {\n    readonly blockTag: string\n    loadFromDatablock: (\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ) => void\n}\n\nexport interface IRandomizerSet {\n    uuid: string\n    values: IRandomizerSetTag[]\n}\n\nexport interface IRandomizerSetTag {\n    tag: string\n    value: string\n}\nexport interface IRandomizerSettings {\n    active: boolean\n    previewIndex: number\n    knownTags: string[]\n    sets: IRandomizerSet[]\n}\n\nexport interface IBlockDataPlayground {\n    width: string\n    height: string\n    align: string\n}\n\nexport interface IBlockError {\n    error: string\n    uuid: string\n}\n\nexport interface IBlockElementData {\n    readonly?: string\n    static?: string\n    hidden?: string\n    visibleLines?: string\n    shouldAutoreset?: string\n    expanded?: string\n    codeExpanded?: string\n    noContent?: string\n    alternativeContent?: string\n    width?: string\n    height?: string\n    align?: string\n    version?: string\n    scopeUUID?: string\n    scopeSelector?: string\n    showControls?: boolean\n    as?: string\n}\n\nexport interface IBlockDataBlockly {\n    toolbox: IBlocklyToolbox\n    blocks: IBlockDefinition[]\n    _blockErrors: IBlockError[]\n    useOverride: boolean\n    toolboxOverride: string\n    showControls: boolean\n}\n\nexport interface ICodeBlockDataState {\n    readonly: boolean\n    static: boolean\n    hidden: boolean\n}\nexport interface IBlockDataBase extends IBlockDataPlayground, ICodeBlockDataState {\n    hasCode: boolean\n    type: KnownBlockTypes\n    content: string\n    alternativeContent: string | null\n    noContent: boolean\n    id: number\n    uuid: string\n    parentID: number\n    expanded: boolean\n    codeExpanded: CodeExpansionType\n    obj: object | null\n    version: string\n    readyCount: number\n    errors: any[]\n    scopeUUID?: string\n    scopeSelector?: string\n    visibleLines: number | 'auto'\n    hasAlternativeContent: boolean\n    shouldAutoreset: boolean\n    blockly: IBlockDataBlockly\n    lineCountHint: number\n    as?: KnownBlockTypes\n}\n\nexport interface IBlockData extends IBlockDataBase {\n    getThemeForBlock(bl: ICodeBlockDataState): string\n    readonly themeForCodeBlock: string\n}\n\nexport interface IGlobalSettings {\n    baseurl: string\n}\nexport interface IGlobalState extends IGlobalSettings {\n    format_info(text: string): string\n    format_error(text: string): string\n\n    /**\n     * Seperates an outputObject (like the one you will get in the update-method of a playground handler) into a string and a json object seperated by a magic String. Returns an object that contains\n     *  <code>type</code> = <code>'dual'</code> parsed a magic string, <code>'json'</code> parsed as json, <code>'text'</code> plain text\n     *  <code>json</code> = the JSON object that was sent after the magicString\n     *  <code>text</code> = the String that was sent before the magicString\n     * @param {*} outputObject  The outputObject generated by the student code\n     * @param {*} type  'auto' = (default, try to determin what kind of output was generated), 'text', 'json' = (force json parsing), 'magic' = (force use of magic string seperator)\n     * @param {*} magicString The seperating String. By default it is '\\n\\n<JSON>\\n'\n     */\n    processMixedOutput(\n        outputObject: string[] | string,\n        type: CodeOutputTypes,\n        magicString?: string,\n        resultData?: object | any[]\n    ): IProcessedScriptOutput\n    mimeType(language: string): string\n    knownLanguages(): IListItemData[]\n\n    refreshAllCodeMirrors(): void\n    refreshAllCodeMirrorsSync(): void\n\n    itemForValue(items: IListItemData[], value: string): IListItemData\n}\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=style&index=0&id=5a368702&lang=stylus&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=style&index=0&lang=sass&\"","export enum BlockPrimaryColors {\n    Colour = '#cf63cf',\n    List = '#5cb1d6',\n    Logic = '#ffab19',\n    Loop = '#ffbf00',\n    Math = '#4c97ff',\n    Procedure = '#ff6680',\n    Text = '#bbbbca',\n    Variable = '#59c059',\n    Variable_dynamic = '#0fbd8c'\n}\n\nexport enum BlockSecondaryColors {\n    Colour = '#c55ec5',\n    List = '#57a8cb',\n    Logic = '#f2a218',\n    Loop = '#f2b500',\n    Math = '#488ff2',\n    Procedure = '#f2617a',\n    Text = '#b2b2c0',\n    Variable = '#55b655',\n    Variable_dynamic = '#0eb485'\n}\nexport enum BlockTertiaryColors {\n    Colour = '#ba59ba',\n    List = '#539fc1',\n    Logic = '#e69a17',\n    Loop = '#e6ac00',\n    Math = '#4488e6',\n    Procedure = '#e65c73',\n    Text = '#a8a8b6',\n    Variable = '#50ad50',\n    Variable_dynamic = '#0eaa7e'\n}\n\nexport enum BlockOutputTypes {\n    Number = 'Number',\n    Boolean = 'Boolean',\n    String = 'String',\n    Array = 'Array',\n    Color = 'Colour',\n    Any = ''\n}\n\nexport enum BlockSequenceTypes {\n    Action = 'Action'\n}\n\nexport enum BlockArgumentTypes {\n    field_input = 'field_input',\n    field_dropdown = 'field_dropdown',\n    field_checkbox = 'field_checkbox',\n    field_colour = 'field_colour',\n    field_number = 'field_number',\n    field_angle = 'field_angle',\n    field_variable = 'field_variable',\n    field_date = 'field_date',\n    field_label = 'field_label',\n    field_image = 'field_image',\n    input_value = 'input_value',\n    input_statement = 'input_statement',\n    input_dummy = 'input_dummy'\n}\n\nexport interface IBlocklyToolboxItem extends IBlockUIExtension {\n    uuid: string\n    type: string\n}\nexport interface IBlocklyToolboxCategory {\n    uuid: string\n    items: IBlocklyToolboxItem[]\n    color?: string\n    custom?: string\n    name: string\n}\nexport interface IBlocklyToolbox {\n    categories: IBlocklyToolboxCategory[]\n}\n\nexport interface IBlockArgument extends IBlockUIExtension {\n    uuid: string\n    type: BlockArgumentTypes\n    name: string\n    check?: BlockOutputTypes\n    variable?: string\n    variableTypes?: string[]\n}\n\nexport interface IBlockLine extends IBlockUIExtension {\n    uuid: string\n    message: string\n    args: IBlockArgument[]\n}\n\nexport interface IBlockDefinitionJSON {\n    type: string\n    message0: string\n    args0: IBlockArgument[]\n    message1?: string\n    args1?: IBlockArgument[]\n    message2?: string\n    args2?: IBlockArgument[]\n    message3?: string\n    args3?: IBlockArgument[]\n    message4?: string\n    args4?: IBlockArgument[]\n\n    output?: BlockOutputTypes\n    previousStatement: BlockSequenceTypes | null\n    nextStatement: BlockSequenceTypes | null\n    colour: string\n    tooltip?: string\n    helpUrl?: string\n}\n\nexport interface IBlockDefinition extends IBlockUIExtension {\n    uuid: string\n    _code?: Function\n    JSON: IBlockDefinitionJSON\n    XML?: string\n    codeStub?: string\n    codeString: string\n}\n\nexport enum KnownBlocklyTypes {\n    controls_if = 'controls_if',\n    logic_compare = 'logic_compare',\n    logic_operation = 'logic_operation',\n    logic_negate = 'logic_negate',\n    logic_boolean = 'logic_boolean',\n    logic_null = 'logic_null',\n    logic_ternary = 'logic_ternary',\n    controls_repeat_ext = 'controls_repeat_ext',\n    controls_whileUntil = 'controls_whileUntil',\n    controls_for = 'controls_for',\n    controls_forEach = 'controls_forEach',\n    controls_flow_statements = 'controls_flow_statements',\n    math_number = 'math_number',\n    math_arithmetic = 'math_arithmetic',\n    math_single = 'math_single',\n    math_trig = 'math_trig',\n    math_constant = 'math_constant',\n    math_number_property = 'math_number_property',\n    math_round = 'math_round',\n    math_on_list = 'math_on_list',\n    math_modulo = 'math_modulo',\n    math_constrain = 'math_constrain',\n    math_random_int = 'math_random_int',\n    math_random_float = 'math_random_float',\n    text = 'text',\n    text_join = 'text_join',\n    text_append = 'text_append',\n    text_length = 'text_length',\n    text_isEmpty = 'text_isEmpty',\n    text_indexOf = 'text_indexOf',\n    variables_get = 'variables_get',\n    text_charAt = 'text_charAt',\n    text_getSubstring = 'text_getSubstring',\n    text_changeCase = 'text_changeCase',\n    text_trim = 'text_trim',\n    text_print = 'text_print',\n    text_prompt_ext = 'text_prompt_ext',\n    lists_create_with = 'lists_create_with',\n    lists_repeat = 'lists_repeat',\n    lists_length = 'lists_length',\n    lists_isEmpty = 'lists_isEmpty',\n    lists_indexOf = 'lists_indexOf',\n    lists_getIndex = 'lists_getIndex',\n    lists_setIndex = 'lists_setIndex',\n    lists_getSublist = 'lists_getSublist',\n    lists_split = 'lists_split',\n    lists_sort = 'lists_sort',\n    colour_picker = 'colour_picker',\n    colour_random = 'colour_random',\n    colour_rgb = 'colour_rgb',\n    colour_blend = 'colour_blend'\n}\n\nexport interface IBlockUIExtension {\n    _expanded: boolean\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=style&index=0&id=b56b8b2a&lang=sass&scoped=true&\"","import Vue from 'vue'\nimport UUID from 'vue-uuid'\n\nVue.use(UUID as any)\n","import Vue from 'vue'\n\nimport '../styles/quasar.styl'\nimport '@quasar/extras/material-icons/material-icons.css'\n\nimport '@quasar/extras/animate/fadeInUp.css'\nimport '@quasar/extras/animate/fadeInDown.css'\nimport '@quasar/extras/animate/fadeOutUp.css'\nimport '@quasar/extras/animate/fadeOutDown.css'\n\nimport '@quasar/extras/animate/fadeIn.css'\nimport '@quasar/extras/animate/fadeOut.css'\n\nimport '@quasar/extras/animate/zoomInDown.css'\nimport '@quasar/extras/animate/zoomInUp.css'\n\nimport Dialog from 'quasar/src/plugins/Dialog.js';import Quasar from 'quasar/src/vue-plugin.js';\n\nconst lang = document.getElementsByTagName('html')[0].getAttribute('lang')\nimport langDe from 'quasar/dist/lang/de.umd.min.js'\nimport langEn from 'quasar/dist/lang/en-gb.umd.min.js'\n\nVue.use(Quasar, {\n    config: {},\n    components: {\n        /* not needed if importStrategy is not 'manual' */\n    },\n    directives: {\n        /* not needed if importStrategy is not 'manual' */\n    },\n    plugins: {\n        Dialog,\n    },\n    animations: ['fadeIn', 'fadeOut'],\n    lang: lang == 'de' ? langDe : langEn,\n})\nQuasar.lang.set(lang == 'de' ? langDe : langEn)\n\nimport 'reflect-metadata'\n","import Vue from 'vue'\nimport { install } from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\ninstall(Vue)\n//Vue.use(VueCodeMirror, {})\n","import Vue from 'vue'\nimport { CodeOutputTypes, IGlobalSettings, IGlobalState } from '@/lib/ICodeBlocks'\nimport { IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport { IListItemData } from '@/lib/ICompilerRegistry'\n\n/**\n * This object defines the programming languages supported for code highlighting\n * using CodeMirror\n * @namespace cmMode The programminglanguages supported\n */\nconst mimeTypesForLanguage = {\n    c: { mime: 'text/x-csrc', displayName: 'C' }, // (C),\n    'c++': { mime: 'text/x-c++src', displayName: 'C++' }, // (C++),\n    'c#': { mime: 'text/x-csharp', displayName: 'C#' }, // (C#),\n    css: { mime: 'text/css', displayName: 'CSS' }, // (CSS)\n    fortran: { mime: 'text/x-fortran', displayName: 'Fortran' }, // (Fortran)\n    glsl: { mime: 'text/x-glsl', displayName: 'GLSL' }, // (GLSL)\n    html: { mime: 'text/html', displayName: 'HTML' }, // (HTML)\n    java: { mime: 'text/x-java', displayName: 'Java' }, // (Java),\n    javascript: { mime: 'text/javascript', displayName: 'JavaScript' }, // (JavaScript)\n    perl: { mime: 'text/x-perl', displayName: 'Perl' }, // (Perl)\n    php: { mime: 'application/x-httpd-php', displayName: 'PHP' }, // (PHP)\n    python: { mime: 'text/x-python', displayName: 'Python' }, // (Python)\n    r: { mime: 'text/x-rsrc', displayName: 'R' }, //(R)\n}\n\nfunction loadSettings(scope: HTMLElement | Document): IGlobalSettings {\n    const options = {\n        baseurl: '',\n    }\n    const settings = scope.querySelectorAll('meta[name^=codeblocks]')\n    settings.forEach((opt) => {\n        const name = opt.getAttribute('name')\n        const value = opt.getAttribute('content')\n\n        if (name == 'codeblocks-baseurl' && value) {\n            options.baseurl = value\n        }\n    })\n    return options\n}\n\nexport class GlobalState implements IGlobalState {\n    public readonly baseurl: string\n\n    constructor() {\n        const options = loadSettings(document)\n        this.baseurl = options.baseurl\n    }\n    format_info(text: string): string {\n        return '<span style=\"color:green\">' + text + '</span>'\n    }\n    format_error(text: string): string {\n        return '<span style=\"color:red\">' + text + '</span>'\n    }\n\n    /**\n     * Seperates an outputObject (like the one you will get in the update-method of a playground handler) into a string and a json object seperated by a magic String. Returns an object that contains\n     *  <code>type</code> = <code>'dual'</code> parsed a magic string, <code>'json'</code> parsed as json, <code>'text'</code> plain text\n     *  <code>json</code> = the JSON object that was sent after the magicString\n     *  <code>text</code> = the String that was sent before the magicString\n     * @param {*} outputObject  The outputObject generated by the student code\n     * @param {*} type  'auto' = (default, try to determin what kind of output was generated), 'text', 'json' = (force json parsing), 'magic' = (force use of magic string seperator)\n     * @param {*} magicString The seperating String. By default it is '\\n\\n<JSON>\\n'\n     */\n    processMixedOutput(\n        outputObject: string[] | string,\n        type: CodeOutputTypes,\n        magicString?: string,\n        resultData?: object | any[]\n    ): IProcessedScriptOutput {\n        if (outputObject !== undefined && Array.isArray(outputObject)) {\n            return {\n                type: 'json',\n                json: outputObject,\n                text: '',\n            }\n        }\n\n        if (magicString === undefined) {\n            magicString = '\\n\\n<JSON>\\n'\n        }\n        const idx = outputObject.indexOf(magicString)\n\n        if (type === CodeOutputTypes.AUTO && resultData != undefined) {\n            return {\n                type: 'dual',\n                json: resultData,\n                text: outputObject,\n            }\n        } else if ((type === CodeOutputTypes.AUTO && idx >= 0) || type === CodeOutputTypes.MAGIC) {\n            const str = outputObject.substr(0, idx)\n            let json = undefined\n            const pString = outputObject.substr(idx + magicString.length)\n            try {\n                json = JSON.parse(pString)\n            } catch (ee) {\n                const e: any = ee\n                e.parsedString = pString\n                console.log('catch')\n                throw e\n            }\n\n            return {\n                type: 'dual',\n                json: json,\n                text: str,\n            }\n        } else {\n            if (type === CodeOutputTypes.JSON && resultData !== undefined) {\n                return {\n                    type: CodeOutputTypes.JSON,\n                    json: resultData,\n                    text: '',\n                }\n            }\n            const too = outputObject.trim()\n            if (\n                (type === CodeOutputTypes.AUTO &&\n                    (too.indexOf('[') == 0 || too.indexOf('{') == 0)) ||\n                type === CodeOutputTypes.JSON\n            ) {\n                return {\n                    type: CodeOutputTypes.JSON,\n                    json: JSON.parse(outputObject),\n                    text: '',\n                }\n            }\n        }\n\n        return {\n            type: 'text',\n            json: resultData,\n            text: outputObject,\n        }\n    }\n    mimeType(language: string): string {\n        const o = mimeTypesForLanguage[language]\n        if (o === undefined) {\n            return 'text/javascript'\n        }\n        return o.mime\n    }\n    knownLanguages(): IListItemData[] {\n        return Object.keys(mimeTypesForLanguage)\n            .map((k) => {\n                return { label: mimeTypesForLanguage[k].displayName, value: k }\n            })\n            .sort((a, b) => (a.value < b.value ? -1 : 1))\n    }\n    refreshAllCodeMirrorsSync(): void {\n        document.querySelectorAll('.CodeMirror').forEach((e: any) => e.CodeMirror.refresh())\n    }\n    refreshAllCodeMirrors(): void {\n        setTimeout(() => {\n            this.refreshAllCodeMirrorsSync()\n        }, 100)\n        setTimeout(() => {\n            this.refreshAllCodeMirrorsSync()\n        }, 500)\n    }\n    public itemForValue(items: IListItemData[], value: string): IListItemData {\n        const ret = items.find((i) => i.value == value)\n        if (ret === undefined) {\n            return {\n                label: '???',\n                value: '???',\n            }\n        }\n        return ret\n    }\n}\nexport const globalState = new GlobalState()\nVue.prototype.$CodeBlock = globalState\nVue.$CodeBlock = globalState\n\nVue.$GlobalEventHub = new Vue()\n","import Vue from 'vue'\nimport { ErrorSeverity } from '@/lib/ICompilerRegistry'\n\nVue.prototype.SEVERITY_ERROR = ErrorSeverity.Error\nVue.prototype.SEVERITY_WARNING = ErrorSeverity.Warning\nVue.$SEVERITY_ERROR = ErrorSeverity.Error\nVue.$SEVERITY_WARNING = ErrorSeverity.Warning\n\nVue.prototype.$compilerState = new Vue({\n    data: function() {\n        return {\n            globalStateHidden: true,\n            globalStateMessage: '',\n            runButtonForceHide: false\n        }\n    },\n    methods: {\n        hideGlobalState() {\n            this.displayGlobalState(null)\n        },\n        setAllRunButtons(what: boolean) {\n            this.runButtonForceHide = !what\n        },\n        displayGlobalState(message: string | null) {\n            this.globalStateHidden = message === null || message === undefined || message === ''\n            this.globalStateMessage = message ? message : ''\n        }\n    }\n})\n","import Vue from 'vue'\nimport hljs from 'highlight.js/lib/core'\n//import 'highlight.js/styles/ocean.css'\nimport 'highlight.js/styles/tomorrow.css'\nimport '../styles/highlight.styl'\nimport { DirectiveBinding } from 'vue/types/options'\n\nhljs.configure({ useBR: false })\n\nhljs.registerLanguage('c', require('highlight.js/lib/languages/cpp'))\nhljs.registerLanguage('c++', require('highlight.js/lib/languages/cpp'))\nhljs.registerLanguage('c#', require('highlight.js/lib/languages/csharp'))\nhljs.registerLanguage('css', require('highlight.js/lib/languages/css'))\nhljs.registerLanguage('fortran', require('highlight.js/lib/languages/fortran'))\nhljs.registerLanguage('glsl', require('highlight.js/lib/languages/glsl'))\nhljs.registerLanguage('java', require('highlight.js/lib/languages/java'))\nhljs.registerLanguage('javascript', require('highlight.js/lib/languages/javascript'))\nhljs.registerLanguage('perl', require('highlight.js/lib/languages/perl'))\nhljs.registerLanguage('php', require('highlight.js/lib/languages/php'))\nhljs.registerLanguage('python', require('highlight.js/lib/languages/python'))\nhljs.registerLanguage('r', require('highlight.js/lib/languages/r'))\n\nconst reg_hl = /(\\[hl\\]|\\[hl\\s+language=\"?(.*?)\"?\\])(.*?)(\\[\\/hl\\])/gm\nconst reg_code = /(\\[code\\]|\\[code\\s+language=\"?(.*?)\"?\\])([\\s\\S]*?)(\\[\\/code\\])/gm\n\nhljs.$vue = {\n    processElements: function (\n        scope: Document | HTMLElement | undefined,\n        inLang: string | undefined\n    ) {\n        if (scope === undefined) {\n            scope = document\n        }\n        const elements = scope.querySelectorAll('[highlight]')\n        elements.forEach((el) => {\n            if (inLang === undefined && el.hasAttribute('highlight')) {\n                const lang = el.getAttribute('highlight')\n                inLang = lang === null ? undefined : lang\n            }\n            this.processElement(el, inLang)\n        })\n    },\n    /////The Folowing Code will not replace tags on a string level as this will\n    /////destroy attached objects in the DOM but aims to replace the strings in\n    /////TextNodes only. Changes ar recorded in the q and applied once all nodes\n    /////Were visited. This is probably a lot slower than the pure string version\n    // processTextElement: function(el, inLang, q){\n    //     let txt = el.textContent.replace(reg_hl, function(m1, m2, m3, m4, m5){\n    //         const lang = m3===undefined?inLang:m3;\n    //         //console.log(\"m1\", m1, \"m2\", m2, \"m3\", m3, \"m4\", m4, \"m5\", m5, \"in\", inLang, \"res\", lang)\n    //         if (lang) return '<span is-code>'+hljs.highlight(lang, m4).value + '</span>';\n    //         else return '<span is-code>'+hljs.highlightAuto(m4).value + '</span>';\n    //     });\n\n    //     txt = txt.replace(reg_code, function(m1, m2, m3, m4, m5){\n    //         const lang = m3===undefined?inLang:m3;\n    //         m4 = m4.replace(/<br( +\\/)?>/g, \"\\n\").replace(/&nbsp;/g, \" \");\n    //         if (lang) return '<pre is-code>'+hljs.highlight(lang, m4).value + '</pre>';\n    //         else return '<pre is-code>'+hljs.highlightAuto(m4).value + '</pre>';\n    //     });\n    //     if (txt != el.textContent) {\n    //       q.push(()=>{\n    //          let nel = document.createElement('span');\n    //          nel.innerHTML = txt;\n    //          el.parentNode.replaceChild(nel, el);\n    //       })\n    //     }\n    // },\n    // processElementRec: function(el, inLang, updateList){\n    //     let q = updateList;\n    //     if (q === undefined) q = [];\n\n    //     if (inLang === undefined && el.hasAttribute('highlight')){\n    //         inLang = el.getAttribute('highlight');\n    //     }\n    //     el.innerHTML = el.innerHTML;\n\n    //     el.childNodes.forEach(c => {\n    //        if (c.nodeType==Node.TEXT_NODE) {\n    //            this.processTextElement(c, inLang, q);\n    //        } else {\n    //            this.processElement(c, inLang, q);\n    //        }\n    //     })\n\n    //     if (updateList === undefined){\n    //         q.forEach(f => f());\n    //     }\n    // },\n    processElementSimple(el: HTMLElement, inLang: string | undefined) {\n        if (inLang === undefined && el.hasAttribute('highlight')) {\n            const lang = el.getAttribute('highlight')\n            inLang = lang === null ? 'javascript' : lang\n        }\n\n        let txt = el.innerHTML.replace(reg_hl, function (m1, m2, m3, m4, m5) {\n            const lang = m3 === undefined ? inLang : m3\n            //console.log(\"m1\", m1, \"m2\", m2, \"m3\", m3, \"m4\", m4, \"m5\", m5, \"in\", inLang, \"res\", lang)\n            if (lang) {\n                return '<span is-code>' + hljs.highlight(lang, m4).value + '</span>'\n            } else {\n                return '<span is-code>' + hljs.highlightAuto(m4).value + '</span>'\n            }\n        })\n\n        txt = txt.replace(reg_code, function (m1, m2, m3, m4, m5) {\n            const lang = m3 === undefined ? inLang : m3\n            m4 = m4\n                .replace(/<br( +\\/)?>/g, '\\n')\n                .replace(/&nbsp;/g, ' ')\n                .replace(/&lt;/g, '<')\n                .replace(/&gt;/g, '>')\n                .replace(/&amp;/g, '&')\n\n            if (lang) {\n                return '<pre is-code>' + hljs.highlight(lang, m4).value + '</pre>'\n            } else {\n                return '<pre is-code>' + hljs.highlightAuto(m4).value + '</pre>'\n            }\n        })\n\n        el.innerHTML = txt\n    },\n    processElement(el: HTMLElement, inLang: string | undefined) {\n        if (window.MathJax === undefined) {\n            this.processElementSimple(el, inLang)\n        } else {\n            MathJax.Hub.Register.StartupHook('End', () => {\n                this.processElementSimple(el, inLang)\n            })\n        }\n    },\n}\n\nwindow.highlightAll = function () {\n    hljs.$vue.processElements()\n}\nwindow.highlightElement = function (el: HTMLElement) {\n    hljs.$vue.processElement(el, el.getAttribute('highlight'))\n}\nwindow.hljs = hljs\nVue.$hljs = hljs\n\nVue.directive('highlight', {\n    //deep: true,\n    bind: function (el: HTMLElement, binding: DirectiveBinding) {\n        console.log('DIRECTIVE - bind', el, binding)\n        hljs.$vue.processElement(el, binding.value)\n    },\n    componentUpdated: function (el: HTMLElement, binding: DirectiveBinding) {\n        console.log('DIRECTIVE - update', el, binding)\n        hljs.$vue.processElement(el, binding.value)\n    },\n})\n","import 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport i18n from './i18n'\n//!!! make sure to also change the expression in ilias-builder.js !!!\nconst randomAndTemplateTag = /\\{(:|!)([\\w]*)}/g\n\nimport '../styles/tagger.styl'\nimport { DirectiveBinding } from 'vue/types/options'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\n\nexport interface ITagReplaceAction {\n    name: string\n    newValue: string\n    scopeUUID: string\n}\n\nexport interface ITagMarkers {\n    start: { line: number; ch: number }\n    end: { line: number; ch: number }\n    type: 'rnd' | 'templ'\n    name: string\n}\n@Component\nexport default class Tagger extends Vue {\n    private className = {\n        rnd: 'random-tag-placeholder',\n        templ: 'template-tag-placeholder'\n    }\n\n    getMarkers(s: string): ITagMarkers[] {\n        if (s === undefined || s === null) {\n            return []\n        }\n        let lines = s.split('\\n')\n        let markers: ITagMarkers[] = []\n        let m: RegExpExecArray | null\n        for (let i = 0; i < lines.length; i++) {\n            let regex = new RegExp(randomAndTemplateTag)\n\n            while ((m = regex.exec(lines[i])) !== null) {\n                if (m.index === regex.lastIndex) {\n                    regex.lastIndex++\n                }\n\n                const marker: ITagMarkers = {\n                    start: { line: i, ch: m.index },\n                    end: { line: i, ch: regex.lastIndex },\n                    type: m[1] == ':' ? 'rnd' : 'templ',\n                    name: m[2]\n                }\n                markers.push(marker)\n            }\n        }\n        return markers\n    }\n    processElements(scope: Document | HTMLElement | undefined): void {\n        let uuid: string = ''\n        if (scope === undefined) {\n            scope = document\n        } else {\n            const h = scope as HTMLElement\n            if (!h.hasAttribute('uuid')) {\n                uuid = this.$uuid.v4()\n                h.setAttribute('uuid', uuid)\n            } else {\n                uuid = h.getAttribute('uuid')!\n            }\n        }\n\n        const elements = scope.querySelectorAll('[tagged]')\n        const calle = () => {\n            elements.forEach(el => {\n                this.processElement(el as HTMLElement, uuid)\n            })\n        }\n        if (window.MathJax === undefined) {\n            calle()\n        } else {\n            MathJax.Hub.Register.StartupHook('End', calle)\n        }\n    }\n\n    processElement(el: HTMLElement, scopeUUID: string): void {\n        el.innerHTML = this.processString(el.innerHTML, scopeUUID)\n        this.hookClick(el, scopeUUID)\n    }\n\n    processString(str: string, scopeUUID: string): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            const className = m1 === ':' ? this.className.rnd : this.className.templ\n            return (\n                `<span class=\"q-mb-xs  tag-mark-start tag-mark-end ${className}\" >` + m0 + '</span>'\n            )\n        })\n    }\n    hookClick(el: HTMLElement, scopeUUID: string): void {\n        let tags = el.querySelectorAll('.' + this.className.templ)\n        tags.forEach(inTag => {\n            const tag = inTag as HTMLElement\n            let name = tag.innerText.replace(randomAndTemplateTag, (m0, m1, m2) => {\n                return m2\n            })\n            tag.onclick = () => {\n                this.clickFunction(name, tag, scopeUUID)\n            }\n        })\n    }\n    replaceTemplateTag(\n        scope: HTMLElement | Document | undefined,\n        name: string,\n        newValue: string\n    ): void {\n        if (scope === undefined) {\n            scope = document\n        }\n        let tags = scope.querySelectorAll('.' + this.className.templ)\n        tags.forEach(tag => {\n            tag.innerHTML = this.replaceTemplateTagInString(tag.innerHTML, name, newValue)\n        })\n    }\n    replaceTemplateTagInString(str: string, name: string, newValue: string): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            if (m1 == '!' && m2 == name) {\n                return newValue\n            }\n            return m0\n        })\n    }\n    replaceRandomTagsInString(str: string, tagSet: IRandomizerSet): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            if (m1 == ':') {\n                const tag = tagSet.values.find(t => t.tag == m2)\n                if (tag !== undefined) {\n                    return tag.value\n                }\n                return m0\n            }\n            return m0\n        })\n    }\n    clickFunction(name: string, tagEl: HTMLElement, scopeUUID: string): void {\n        //console.log(i18n)\n        Vue.prototype.$q\n            .dialog({\n                title: i18n.t('Tagger.ConfirmRepl'),\n                message: i18n.t('Tagger.ConfirmReplMsg', {\n                    name: '<span class=\"template-tag-placeholder-noclick\">' + name + '</span>'\n                }),\n                html: true,\n                persistent: true,\n                prompt: {\n                    model: '{!' + name + '}',\n                    type: 'text' // optional\n                },\n                ok: {\n                    push: true,\n                    color: 'negative',\n                    icon: 'warning'\n                },\n                cancel: {\n                    push: true,\n                    color: 'positive'\n                }\n            })\n            .onOk((data: string) => {\n                //this.replaceTemplateTag($(tagEl).parents(\".codeblocks\").get(0), name, data)\n                this.replaceTemplateTag($(`[uuid=${scopeUUID}]`).get(0), name, data)\n                console.log(scopeUUID)\n                this.$emit('replace-template-tag', {\n                    name: name,\n                    newValue: data,\n                    scopeUUID: scopeUUID\n                })\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                const me = self as any\n                me.highlighted = false\n            })\n    }\n}\n\nVue.directive('tagged', {\n    //deep: true,\n    bind: function(el: HTMLElement, binding: DirectiveBinding) {\n        Vue.$tagger.processElement(el, binding.value)\n    },\n    componentUpdated: function(el: HTMLElement, binding: DirectiveBinding) {\n        //console.log(\"DIRECTIVE - update\", el, binding)\n        Vue.$tagger.processElement(el, binding.value)\n    }\n})\n\nVue.$tagger = new Tagger()\n","import Vue from 'vue'\n\n/**\n * The overhead time we need to spin up the execution environment. The value is added to the execution time defined for this question\n * @type {int} javaRunOverhead execution overhead in ms\n */\nvar javaRunOverhead = 4000\n\nfunction runJavaWorker(\n    questionID,\n    code,\n    callingCodeBlocks,\n    max_ms,\n    log_callback,\n    info_callback,\n    err_callback,\n    compileFailedCallback,\n    finishedExecutionCB,\n    forceReload = false\n) {\n    let exp = new RegExp('public[ \\n]*class[ \\n]*([a-zA-Z_$0-9]*)[ \\n]*({|implements|extends)')\n    let match = exp.exec(code)\n    if (match == null) {\n        console.error('Unable to determine class Name!', match, code)\n        return\n    }\n\n    let className = match[1]\n\n    let worker = new Worker(Vue.$CodeBlock.baseurl + 'js/doppio/v001/javaWorker.js')\n    let timer = null\n\n    worker.addEventListener(\n        'message',\n        function (e) {\n            const data = e.data\n            //console.log(data)\n            switch (data.event) {\n                case 'finished':\n                    if (timer) {\n                        clearTimeout(timer)\n                        timer = null\n                    }\n\n                    /*if (data.stderr && data.stderr != '') err_callback(data.stderr + \"\\n\") ;\n        if (data.stdout && data.stdout != '') log_callback(data.stdout);*/\n\n                    console.log('Done', data.stdout, data.stderr, finishedExecutionCB)\n                    finishedExecutionCB()\n                    break\n\n                case 'startTimer':\n                    timer = setTimeout(function (e) {\n                        console.log('Sending kill command')\n                        worker.postMessage({ cmd: 'kill' })\n                        timer = setTimeout(function () {\n                            console.log('Terminating Worker')\n                            worker.terminate()\n                        }, 5000)\n                        err_callback(\n                            'Terminated long running Process (>' +\n                                Math.round((max_ms + javaRunOverhead) / 1000) +\n                                's).'\n                        )\n                        JavaExec.setRunButton(true, 'run')\n                        JavaExec.setRunButton(true)\n                        JavaExec.showMessage(null)\n                    }, max_ms + javaRunOverhead) //we need about 4000ms to spin up the execution unit\n                    break\n\n                case 'showMessage':\n                    //console.log(\"showMessage\", data)\n                    JavaExec.showMessage(data.msg)\n                    break\n                case 'output':\n                    if (data.type == 'err') {\n                        err_callback(data.msg)\n                    } else if (data.type == 'nfo') {\n                        info_callback(data.msg)\n                    } else {\n                        log_callback(data.msg)\n                    }\n                    break\n\n                case 'setRunButton':\n                    //console.log(\"setRunButton\", data)\n                    JavaExec.setRunButton(data.enabled, data.info)\n                    break\n\n                case 'cleanCache':\n                    //log_callback('')\n                    if (!forceReload) {\n                        worker.postMessage({ cmd: 'kill' })\n                        console.log('Restarting...')\n                        setTimeout(function () {\n                            runJavaWorker(\n                                questionID,\n                                code,\n                                callingCodeBlocks,\n                                max_ms,\n                                log_callback,\n                                info_callback,\n                                err_callback,\n                                compileFailedCallback,\n                                finishedExecutionCB,\n                                true\n                            )\n                        }, 500)\n                    } else {\n                        JavaExec.setRunButton(false)\n                        JavaExec.showMessage('Failed to initialize JVM.')\n                    }\n                    break\n            }\n        },\n        false\n    )\n\n    worker.postMessage({\n        cmd: 'run',\n        code: code,\n        className: className,\n        max_ms: max_ms + 1000,\n        questionID: questionID,\n        forceReload: forceReload,\n    })\n}\n\nconst singleton = new Vue({\n    data: function () {\n        return {\n            loadedlibs: 0,\n            version: '001',\n            language: 'java',\n            canRun: true,\n            canStop: true,\n            allowsContinousCompilation: false,\n            allowsPersistentArguments: false,\n            allowsMessagePassing: false,\n            acceptsJSONArgument: false,\n            didPreload: false,\n            requestedPreload: false,\n            isReady: false,\n            isRunning: false,\n        }\n    },\n    methods: {\n        preload() {\n            if (this.loadedlibs < 3) {\n                if (this.requestedPreload == false) {\n                    this.requestedPreload = true\n                    this.triggerResourceLoad()\n                }\n\n                return\n            }\n            if (this.didPreload) {\n                return\n            }\n            this.didPreload = true\n            console.log('[Preloading Doppio]')\n            try {\n                JavaExec.showMessage = function (msg) {\n                    this.$compilerState.displayGlobalState(msg)\n                }.bind(this)\n\n                const lock = []\n                JavaExec.setRunButton = function (enabled, info = undefined) {\n                    if (info && !enabled && lock.indexOf(info) == -1) {\n                        lock.push(info)\n                    }\n                    if (info && enabled && lock.indexOf(info) > -1) {\n                        lock.splice(lock.indexOf(info), 1)\n                    }\n\n                    if (!enabled || lock.length == 0) {\n                        this.$compilerState.setAllRunButtons(enabled)\n                    }\n                }.bind(this)\n\n                const self = this\n                JavaExec.initialize(function () {\n                    console.log('Initializing Filesystem')\n                    JavaExec.initFileSystems(\n                        Vue.$CodeBlock.baseurl + 'js/doppio/v001/',\n                        false,\n                        function () {\n                            //JavaExec.printDirContent('sys/vendor');\n\n                            JavaExec.reroutStdStreams()\n                            JavaExec.ready = true\n                            self.isReady = true\n                        }\n                    )\n                })\n            } catch (e) {\n                console.error(e)\n            }\n        },\n        compileAndRun(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n            runCreate = false\n        ) {\n            if (!this.isReady) {\n                return\n            }\n\n            return runJavaWorker(\n                questionID,\n                code,\n                callingCodeBlocks,\n                max_ms,\n                log_callback,\n                info_callback,\n                err_callback,\n                compileFailedCallback,\n                finishedExecutionCB,\n                runCreate\n            )\n        },\n        triggerResourceLoad() {\n            console.log('[Preparing Dependencies for Doppio]')\n            let script = document.createElement('script')\n            script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/browserfs/browserfs.min.js'\n            script.onload = function () {\n                this.loadedlibs++\n                console.log('[BrowserFS loaded]')\n\n                let script = document.createElement('script')\n                script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/doppio/doppio.js'\n                script.onload = function () {\n                    this.loadedlibs++\n                    console.log('[Doppio loaded]')\n\n                    let script = document.createElement('script')\n                    script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/JavaExec.js'\n                    script.onload = function () {\n                        this.loadedlibs++\n                        console.log('[JavaExec loaded]')\n                        if (this.requestedPreload) {\n                            this.preload()\n                        }\n                    }.bind(this)\n                    document.head.appendChild(script)\n                }.bind(this)\n                document.head.appendChild(script)\n            }.bind(this)\n            document.head.appendChild(script)\n        },\n    },\n    created() {},\n})\nexport default singleton\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string, terminate?: boolean): void\n    }\n}\n\nconst teaVMRunOverhead = 30000\n\n//ICompilerInstance\n@Component\nexport class JavaV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'java'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = true\n    readonly experimental = false\n    readonly deprecated = false\n    didPreload: boolean = false\n    teaworker: Worker | undefined = undefined\n    isReady = false\n    isRunning = false\n\n    preload() {\n        if (this.didPreload) {\n            return\n        }\n        this.didPreload = true\n        this.$compilerState.setAllRunButtons(false)\n\n        console.log(`[Preloading TeaVM ${this.version} for Java]`)\n        this.isRunning = true\n        this.createTeaWorker(() => {\n            this.isRunning = false\n            this.$compilerState.hideGlobalState()\n            this.$compilerState.setAllRunButtons(true)\n            //console.log('setAllRun', true)\n        })\n    }\n\n    private createTeaWorker(whenReady: () => void): boolean {\n        if (this.teaworker === undefined) {\n            this.$compilerState.setAllRunButtons(false)\n            this.$compilerState.displayGlobalState('Initializing Runtime')\n            try {\n                this.teaworker = new Worker(\n                    `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/worker.js`\n                )\n            } catch (e) {\n                //this should throw in the offline environment, thus we look for the worker at a different\n                this.teaworker = new Worker('../assCodeQuestion/js/teavm/worker.js')\n            }\n\n            this.teaworker.addEventListener('message', (e: any) => {\n                //console.log('teastuff', e.data)\n                if (e.data.command == 'ok' && e.data.id == 'didload-classlib') {\n                    if (this.teaworker) {\n                        this.teaworker.postMessage({\n                            command: 'compile',\n                            id: 'prep',\n                            text:\n                                'public class Bootstrap { public static void main(String[] args){}}',\n                            mainClass: 'Bootstrap',\n                        })\n                    }\n                    this.isReady = true\n                    if (whenReady) {\n                        //console.log(\"loopback to initial caller\");\n                        whenReady()\n                    } else {\n                        this.$compilerState.setAllRunButtons(true)\n                        this.$compilerState.hideGlobalState()\n                    }\n                } else if (e.data.id == 'prep' && e.data.command == 'compilation-complete') {\n                    /* We could finish initialization here if there appear to be races when compiling multiple sources at once */\n                }\n            })\n\n            //bootstrap environment\n            this.teaworker.postMessage({\n                command: 'load-classlib',\n                id: 'didload-classlib',\n                url: 'classlib.txt',\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    sessionCompileListener: ((e: any) => void) | undefined = undefined\n    sessionID: string = '-1'\n    sessionWorker: any = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate: boolean = true\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        const start = Date.now()\n        let executionFinished = false\n        let booted = false\n\n        if (this.isRunning) {\n            err_callback('System is busy. Please wait until compilation finishes or call a tutor.')\n            return\n        }\n        this.isRunning = true\n        if (runCreate) {\n            if (\n                this.createTeaWorker(() => {\n                    this.isRunning = false\n                    this.compileAndRun(\n                        questionID,\n                        code,\n                        callingCodeBlocks,\n                        options,\n                        false\n                    )\n                })\n            ) {\n                return\n            }\n        }\n\n        if (!this.isReady) {\n            err_callback(\n                'System is not yet ready. Please wait until Initialization finishes or call a tutor.'\n            )\n            return\n        }\n\n        const compilerTimeout = setTimeout(() => {\n            if (!booted) {\n                const time = Date.now() - start\n\n                if (this.teaworker) {\n                    this.teaworker.end(\n                        'TimeoutError:  Compilation took too long (>' +\n                            time +\n                            'ms) and was terminated. Trying to reset the System. Please re-run your code and call a Tutor if this Problem persists.'\n                    )\n                }\n\n                this.teaworker = undefined\n            }\n        }, teaVMRunOverhead)\n\n        let text = code\n            .replace(/\"(?:[^\"\\\\]|\\\\.)*\"|\\/\\*[\\s\\S]*?\\*\\//gm, '')\n            .replace(/(^.*)\\/\\/.*$/gm, '$1') //replace strings and comments\n        //let text = code.replace(/\"(?:[^\"\\\\]+?|(?!\")\"|\\\\{2}|\\\\[\\s\\S])*?\"|^.*(\\/\\/.*$)|\\/\\*[\\s\\S]*?\\*\\//gm, ''); //replace strings and comments\n\n        text = text.replaceRec(/(\\{[^{}]*\\})/gm, '[]') //replace parentheses\n\n        const getMainClass = (_code: string) => {\n            let ret = 'Unknown'\n            //above replaces all {} with [], so look for public class <name> []\n            const regexpMainClass = /public\\s+?class\\s+?([a-zA-Z_$0-9]+?)\\s*?(\\[|\\simplements|\\sextends)/gm\n            let match: RegExpExecArray | null\n            while ((match = regexpMainClass.exec(_code)) !== null) {\n                if (match[1]) {\n                    ret = match[1]\n                    break\n                }\n            }\n            return ret\n        }\n        let mainClass = getMainClass(text)\n        //fallback if the above regExps mangled the student code and we can not find the main class\n        if (mainClass == 'Unknown') {\n            mainClass = getMainClass(code.replace('{', '['))\n        }\n\n        //console.log(mainClass, code);\n        const myListener = (e: any) => {\n            //console.log('this.teaworker', questionID, e.data);\n            if (e.data.id == '' + questionID) {\n                if (e.data.command == 'phase') {\n                    if (e.data.phase == 'DEPENDENCY_ANALYSIS') {\n                        this.$compilerState.displayGlobalState(\n                            'Compiling & Analyzing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'LINKING') {\n                        this.$compilerState.displayGlobalState(\n                            'Linking <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'OPTIMIZATION') {\n                        this.$compilerState.displayGlobalState(\n                            'Optimizing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'RENDERING') {\n                        this.$compilerState.displayGlobalState(\n                            'Creating <b>' + mainClass + '.class</b>'\n                        )\n                    }\n                } else if (e.data.command == 'diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.text,\n                            start: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            end: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            severity:\n                                e.data.severity == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.text + '\\n'\n                    if (e.data.severity == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'compiler-diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.message,\n                            start: {\n                                line: e.data.startLineNumber,\n                                column: e.data.startColumn,\n                            },\n                            end: {\n                                line: e.data.endLineNumber,\n                                column: e.data.endColumn,\n                            },\n                            severity:\n                                e.data.kind == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.humanReadable + '\\n'\n                    if (e.data.kind == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'error') {\n                    if (this.teaworker) {\n                        this.teaworker.end('Error:  An internal compiler Error occured')\n                    }\n                    this.teaworker = undefined\n                } else if (e.data.command == 'compilation-complete') {\n                    booted = true\n                    let runTimeout: number | undefined = undefined\n                    if (this.teaworker) {\n                        this.teaworker.removeEventListener('message', myListener)\n                        this.sessionCompileListener = undefined\n                    }\n                    try {\n                        clearTimeout(compilerTimeout)\n                    } catch (e) {\n                        /* nothing to report */\n                    }\n\n                    if (e.data.status == 'errors') {\n                        finishedExecutionCB(false)\n                        this.isRunning = false\n                    } else {\n                        const runListener = (ee: any) => {\n                            //console.log('JAVA-WORKER-MSG', ee.data)\n                            //console.log('tearunner', questionID, ee.data);\n                            if (ee.data.command == 'run-finished-setup') {\n                                //Nothing to do here\n                            } else if (ee.data.command == 'run-completed') {\n                                finishedExecutionCB(true)\n\n                                console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n                                // info_callback(\n                                //     'Info: Execution finished in ' + (Date.now() - start) + ' ms\\n'\n                                // )\n                                executionFinished = true\n                                this.isRunning = false\n                                workerrun.end()\n                            } else if (ee.data.command == 'stdout') {\n                                log_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command == 'stderr') {\n                                err_callback(ee.data.line + '\\n')\n                            }\n                        }\n                        this.$compilerState.displayGlobalState('Executing <b>' + mainClass + '</b>')\n                        const workerrun = new Worker(\n                            `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/workerrun.js?&v=001`\n                        )\n                        this.sessionWorker = workerrun\n                        workerrun.addEventListener('message', runListener.bind(this))\n\n                        workerrun.postMessage({\n                            command: 'run',\n                            id: '' + questionID,\n                            code: e.data.script,\n                            args: args,\n                        })\n\n                        workerrun.end = (msg: string) => {\n                            this.sessionWorker = undefined\n                            //when we end it IS over, no matter how often we tried :)\n                            try {\n                                workerrun.terminate()\n                                if (runTimeout) {\n                                    clearTimeout(runTimeout)\n                                }\n                            } catch (e) {\n                                /* nothing to report */\n                            }\n\n                            if (executionFinished) {\n                                return\n                            }\n                            executionFinished = true\n                            finishedExecutionCB(false)\n                            this.isRunning = false\n                            if (msg) {\n                                err_callback(msg + '\\n')\n                            }\n                        }\n\n                        const runStart = Date.now()\n                        runTimeout = setTimeout(function () {\n                            const time = Date.now() - runStart\n                            workerrun.end(\n                                'TimeoutError:  Execution took too long (>' +\n                                    time +\n                                    'ms) and was terminated. There might be an endless loop in your code.'\n                            )\n                        }, max_ms)\n                    }\n                }\n            }\n        }\n\n        if (this.teaworker) {\n            this.sessionID = questionID\n            this.sessionCompileListener = myListener\n            this.teaworker.addEventListener('message', myListener)\n        }\n        //console.log(code);\n        this.$compilerState.setAllRunButtons(false)\n        this.$compilerState.displayGlobalState(\n            'Starting Compiler for <b>' + mainClass + '.java</b>'\n        )\n\n        if (this.teaworker) {\n            this.teaworker.postMessage({\n                command: 'compile',\n                id: '' + questionID,\n                text: code,\n                mainClass: mainClass,\n            })\n        }\n\n        if (this.teaworker) {\n            this.teaworker.end = (msg: string, terminate: boolean = true) => {\n                try {\n                    clearTimeout(compilerTimeout)\n                } catch (e) {\n                    //nothing to see here\n                }\n\n                if (booted) {\n                    return\n                }\n                if (this.teaworker && terminate) {\n                    console.log('TERMINATING')\n                    this.teaworker.terminate()\n                }\n                finishedExecutionCB(false)\n                this.isRunning = false\n                this.isReady = true\n                if (msg) {\n                    err_callback(msg + '\\n')\n                }\n            }\n        }\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.sessionWorker) {\n            this.sessionWorker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        } else if (this.teaworker) {\n            if (this.sessionCompileListener) {\n                // this.sessionCompileListener({\n                //     data: {\n                //         id: '' + this.sessionID,\n                //         command: 'compilation-complete',\n                //         status: 'errors',\n                //         errors: [Vue.$l('CodeBlocks.UserCanceled')]\n                //     }\n                // })\n                this.teaworker.removeEventListener('message', this.sessionCompileListener)\n                this.sessionCompileListener = undefined\n            }\n            this.teaworker.end(Vue.$l('CodeBlocks.UserCanceled'), false)\n        }\n    }\n}\n\nexport const javaCompiler_V100 = new JavaV100Compiler()\nexport default javaCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string, terminate?: boolean): void\n    }\n}\n\nconst teaVMRunOverhead = 30000\n\n//ICompilerInstance\n@Component\nexport class JavaV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'java'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = true\n    readonly acceptsJSONArgument = true\n    readonly experimental = true\n    readonly deprecated = false\n    didPreload: boolean = false\n    teaworker: Worker | undefined = undefined\n    isReady = false\n    isRunning = false\n\n    preload() {\n        if (this.didPreload) {\n            return\n        }\n        this.didPreload = true\n        this.$compilerState.setAllRunButtons(false)\n\n        console.log(`[Preloading TeaVM ${this.version} for Java]`)\n        this.isRunning = true\n        this.createTeaWorker(() => {\n            this.isRunning = false\n            this.$compilerState.hideGlobalState()\n            this.$compilerState.setAllRunButtons(true)\n            //console.log('setAllRun', true)\n        })\n    }\n\n    private createTeaWorker(whenReady: () => void): boolean {\n        if (this.teaworker === undefined) {\n            this.$compilerState.setAllRunButtons(false)\n            this.$compilerState.displayGlobalState('Initializing Runtime')\n            try {\n                this.teaworker = new Worker(\n                    `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/worker.js`\n                )\n            } catch (e) {\n                //this should throw in the offline environment, thus we look for the worker at a different\n                this.teaworker = new Worker('../assCodeQuestion/js/teavm/worker.js')\n            }\n\n            this.teaworker.addEventListener('message', (e: any) => {\n                //console.log('teastuff', e.data)\n                if (e.data.command == 'ok' && e.data.id == 'didload-classlib') {\n                    if (this.teaworker) {\n                        this.teaworker.postMessage({\n                            command: 'compile',\n                            id: 'prep',\n                            text: 'public class Bootstrap { public static void main(String[] args){}}',\n                            mainClass: 'Bootstrap',\n                        })\n                    }\n                    this.isReady = true\n                    if (whenReady) {\n                        //console.log(\"loopback to initial caller\");\n                        whenReady()\n                    } else {\n                        this.$compilerState.setAllRunButtons(true)\n                        this.$compilerState.hideGlobalState()\n                    }\n                } else if (e.data.id == 'prep' && e.data.command == 'compilation-complete') {\n                    /* We could finish initialization here if there appear to be races when compiling multiple sources at once */\n                }\n            })\n\n            //bootstrap environment\n            this.teaworker.postMessage({\n                command: 'load-classlib',\n                id: 'didload-classlib',\n                url: 'classlib.txt',\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    sessionCompileListener: ((e: any) => void) | undefined = undefined\n    sessionID: string = '-1'\n    sessionWorker: any = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate: boolean = true\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        console.log(`[Starting TeaVM${options.keepAlive ? ' keepAlive' : ''}]`, args)\n        const start = Date.now()\n        let executionFinished = false\n        let booted = false\n\n        if (this.isRunning) {\n            err_callback('System is busy. Please wait until compilation finishes or call a tutor.')\n            return\n        }\n        this.isRunning = true\n        if (runCreate) {\n            if (\n                this.createTeaWorker(() => {\n                    this.isRunning = false\n                    this.compileAndRun(questionID, code, callingCodeBlocks, options, false)\n                })\n            ) {\n                return\n            }\n        }\n\n        if (!this.isReady) {\n            err_callback(\n                'System is not yet ready. Please wait until Initialization finishes or call a tutor.'\n            )\n            return\n        }\n\n        const compilerTimeout = setTimeout(() => {\n            if (!booted) {\n                const time = Date.now() - start\n\n                if (this.teaworker) {\n                    this.teaworker.end(\n                        'TimeoutError:  Compilation took too long (>' +\n                            time +\n                            'ms) and was terminated. Trying to reset the System. Please re-run your code and call a Tutor if this Problem persists.'\n                    )\n                }\n\n                this.teaworker = undefined\n            }\n        }, teaVMRunOverhead)\n\n        let text = code\n            .replace(/\"(?:[^\"\\\\]|\\\\.)*\"|\\/\\*[\\s\\S]*?\\*\\//gm, '')\n            .replace(/(^.*)\\/\\/.*$/gm, '$1') //replace strings and comments\n        //let text = code.replace(/\"(?:[^\"\\\\]+?|(?!\")\"|\\\\{2}|\\\\[\\s\\S])*?\"|^.*(\\/\\/.*$)|\\/\\*[\\s\\S]*?\\*\\//gm, ''); //replace strings and comments\n\n        text = text.replaceRec(/(\\{[^{}]*\\})/gm, '[]') //replace parentheses\n\n        const getMainClass = (_code: string) => {\n            let ret = 'Unknown'\n            //above replaces all {} with [], so look for public class <name> []\n            const regexpMainClass =\n                /public\\s+?class\\s+?([a-zA-Z_$0-9]+?)\\s*?(\\[|\\simplements|\\sextends)/gm\n            let match: RegExpExecArray | null\n            while ((match = regexpMainClass.exec(_code)) !== null) {\n                if (match[1]) {\n                    ret = match[1]\n                    break\n                }\n            }\n            return ret\n        }\n        let mainClass = getMainClass(text)\n        //fallback if the above regExps mangled the student code and we can not find the main class\n        if (mainClass == 'Unknown') {\n            mainClass = getMainClass(code.replace('{', '['))\n        }\n\n        //console.log(mainClass, code);\n        const myListener = (e: any) => {\n            //console.log('this.teaworker', questionID, e.data);\n            if (e.data.id == '' + questionID) {\n                if (e.data.command == 'phase') {\n                    if (e.data.phase == 'DEPENDENCY_ANALYSIS') {\n                        this.$compilerState.displayGlobalState(\n                            'Compiling & Analyzing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'LINKING') {\n                        this.$compilerState.displayGlobalState(\n                            'Linking <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'OPTIMIZATION') {\n                        this.$compilerState.displayGlobalState(\n                            'Optimizing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'RENDERING') {\n                        this.$compilerState.displayGlobalState(\n                            'Creating <b>' + mainClass + '.class</b>'\n                        )\n                    }\n                } else if (e.data.command == 'diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.text,\n                            start: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            end: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            severity:\n                                e.data.severity == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.text + '\\n'\n                    if (e.data.severity == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'compiler-diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.message,\n                            start: {\n                                line: e.data.startLineNumber,\n                                column: e.data.startColumn,\n                            },\n                            end: {\n                                line: e.data.endLineNumber,\n                                column: e.data.endColumn,\n                            },\n                            severity:\n                                e.data.kind == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.humanReadable + '\\n'\n                    if (e.data.kind == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'error') {\n                    if (this.teaworker) {\n                        this.teaworker.end('Error:  An internal compiler Error occured')\n                    }\n                    this.teaworker = undefined\n                } else if (e.data.command == 'compilation-complete') {\n                    booted = true\n                    let runTimeout: number | undefined = undefined\n                    if (this.teaworker) {\n                        this.teaworker.removeEventListener('message', myListener)\n                        this.sessionCompileListener = undefined\n                    }\n                    try {\n                        clearTimeout(compilerTimeout)\n                    } catch (e) {\n                        /* nothing to report */\n                    }\n\n                    if (e.data.status == 'errors') {\n                        finishedExecutionCB(false, undefined, options.args)\n                        this.isRunning = false\n                    } else {\n                        this.$compilerState.displayGlobalState('Executing <b>' + mainClass + '</b>')\n                        const workerrun = new Worker(\n                            `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/workerrun.js?&v=001`\n                        )\n                        this.sessionWorker = workerrun\n\n                        const runListener = (ee: any) => {\n                            //console.log('JAVA-WORKER-MSG', ee.data)\n                            console.d('tearunner message', questionID, ee.data, ee.data.command)\n                            if (ee.data.command == 'run-finished-setup') {\n                                //Nothing to do here\n                            } else if (\n                                ee.data.command == 'w-exit-keepalive' ||\n                                ee.data.command == 'exit-keepalive'\n                            ) {\n                                //Make sure a keep-alive session can do proper cleanup\n                                if (options.keepAlive) {\n                                    workerrun.postMessage({\n                                        command: 'session-ended',\n                                        id: '' + questionID,\n                                    })\n                                }\n                            } else if (ee.data.command == 'run-completed') {\n                                if (ee.data.args) {\n                                    options.args['return'] = ee.data.args\n                                }\n                                finishedExecutionCB(true, undefined, options.args['return'])\n\n                                console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n                                // info_callback(\n                                //     'Info: Execution finished in ' + (Date.now() - start) + ' ms\\n'\n                                // )\n                                executionFinished = true\n                                this.isRunning = false\n                                workerrun.end()\n                            } else if (ee.data.command == 'stdout') {\n                                log_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command == 'stderr') {\n                                err_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command.indexOf('w-') === 0) {\n                                //Message sent from the workter to the playground\n                                const cmd = ee.data.command.substr(2)\n                                ee.data.command = cmd\n                                options.didReceiveMessage(cmd, ee.data)\n                            } else if (ee.data.command == 'main-finished') {\n                                console.d('MESSAGE - Main Finished')\n                                //set up the real message handler\n                                options.postMessageFunction = (cmd, data) => {\n                                    data = { ...data }\n                                    console.d('MESSAGE - TeaVM Post ', cmd, data)\n                                    data.command = cmd\n                                    data.id = questionID\n                                    wr.postMessage(data)\n                                }\n\n                                options.postMessageFunction('main-finished', {})\n\n                                //make sure to send all queued messages now\n                                options.dequeuePostponedMessages()\n\n                                options.whenFinishedHandler(ee.data.args)\n                            } else if (ee.data.command == 'main-will-start') {\n                                options.beforeStartHandler()\n                            } else if (ee.data.command == 'f-FINAL') {\n                                options.resultData = JSON.parse(ee.data.value)\n                            } else {\n                                console.log('Unknown Message', ee.data)\n                            }\n                        }\n\n                        workerrun.addEventListener('message', runListener.bind(this))\n\n                        workerrun.postMessage({\n                            command: 'run',\n                            id: '' + questionID,\n                            code: e.data.script,\n                            args: args,\n                            messagePosting: options.allowMessagePassing,\n                            keepAlive: options.keepAlive,\n                        })\n                        const wr = workerrun\n\n                        workerrun.end = (msg: string) => {\n                            this.sessionWorker = undefined\n                            //when we end it IS over, no matter how often we tried :)\n                            try {\n                                workerrun.terminate()\n                                if (runTimeout) {\n                                    clearTimeout(runTimeout)\n                                }\n                            } catch (e) {\n                                /* nothing to report */\n                            }\n\n                            if (executionFinished) {\n                                return\n                            }\n                            executionFinished = true\n                            finishedExecutionCB(false, undefined, options.args)\n                            this.isRunning = false\n                            if (msg) {\n                                err_callback(msg + '\\n')\n                            }\n                        }\n\n                        const runStart = Date.now()\n                        runTimeout = setTimeout(function () {\n                            const time = Date.now() - runStart\n                            workerrun.end(\n                                'TimeoutError:  Execution took too long (>' +\n                                    time +\n                                    'ms) and was terminated. There might be an endless loop in your code.'\n                            )\n                        }, max_ms)\n                    }\n                }\n            }\n        }\n\n        if (this.teaworker) {\n            this.sessionID = questionID\n            this.sessionCompileListener = myListener\n            this.teaworker.addEventListener('message', myListener)\n        }\n        //console.log(code);\n        this.$compilerState.setAllRunButtons(false)\n        this.$compilerState.displayGlobalState(\n            'Starting Compiler for <b>' + mainClass + '.java</b>'\n        )\n\n        if (this.teaworker) {\n            this.teaworker.postMessage({\n                command: 'compile',\n                id: '' + questionID,\n                text: code,\n                mainClass: mainClass,\n            })\n        }\n\n        if (this.teaworker) {\n            this.teaworker.end = (msg: string, terminate: boolean = true) => {\n                try {\n                    clearTimeout(compilerTimeout)\n                } catch (e) {\n                    //nothing to see here\n                }\n\n                if (booted) {\n                    return\n                }\n                if (this.teaworker && terminate) {\n                    console.log('TERMINATING')\n                    this.teaworker.terminate()\n                }\n                finishedExecutionCB(false, undefined, options.args)\n                this.isRunning = false\n                this.isReady = true\n                if (msg) {\n                    err_callback(msg + '\\n')\n                }\n            }\n        }\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.sessionWorker) {\n            this.sessionWorker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        } else if (this.teaworker) {\n            if (this.sessionCompileListener) {\n                // this.sessionCompileListener({\n                //     data: {\n                //         id: '' + this.sessionID,\n                //         command: 'compilation-complete',\n                //         status: 'errors',\n                //         errors: [Vue.$l('CodeBlocks.UserCanceled')]\n                //     }\n                // })\n                this.teaworker.removeEventListener('message', this.sessionCompileListener)\n                this.sessionCompileListener = undefined\n            }\n            this.teaworker.end(Vue.$l('CodeBlocks.UserCanceled'), false)\n        }\n    }\n}\n\nexport const javaCompiler_V101 = new JavaV101Compiler()\nexport default javaCompiler_V101\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v001 from './doppio.v001'\nimport v100 from './teavm.v100'\nimport v101 from './teavm.v101'\n\n@Component\nexport class JavaCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'java'\n    displayName = 'Java'\n\n    //attach all version\n    versions = [v001, v100, v101]\n\n    //declare the default one\n    default = v100\n}\n\nexport const JavaCompilers: ICompilerInfo[] | ICompilerInfo = new JavaCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\n//function runJavaScriptWorker( code, log_callback, max_ms, questionID){\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    max_ms: number,\n    log_callback: (txt: string) => void,\n    info_callback: (txt: string) => void,\n    err_callback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishedExecutionCB: finishedCallbackSignatur\n) {\n    log_callback('')\n\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const not_allowed_keywords = ['postMessage', 'close', 'onmessage', 'debugger'] // blacklist (can be evaded, ... see below)\n    for (const key in not_allowed_keywords) {\n        if (code.indexOf(not_allowed_keywords[key]) != -1) {\n            // the user is not allowed to use the functionallity of the WebWorker\n            err_callback(\n                \"PermissionError: The usage of '\" +\n                    not_allowed_keywords[key] +\n                    \"' is not allowed (reserved keyword)!\"\n            )\n            return\n        }\n    }\n    const lines = code.split('\\n').length\n\n    // The user-code is sourrounded by webworker start and finish code (one line each)\n    // additionally, the console.log fnc is replaced, because the original log fnc is consuming much cpu ressources,\n    //      and continues logging, even after the worker was terminated.\n\n    const prefixCode = [\n        'for(var c in console) console[c]=null;', //delete all console functionality\n        \"for(var t in this) if(t!='close' && t!='postMessage' && t!='console') this[t]=null;\", //delete all worker functionality\n        'this.console = {};',\n        'console.log = function(s){', // only allow .log , .warn\n        \"   postMessage(['log',''+s]);\",\n        '};',\n        'console.error = function(s){', // only allow .error\n        \"   postMessage(['err',''+s]);\",\n        '};',\n        'console.warn = console.log;',\n        'onmessage = function(input){',\n        \"   postMessage(['finished',\",\n        \"   ''+(function(input){\",\n        \"           'use strict';\",\n        '\\n',\n    ]\n    const postfixCode = ['\\n', '})(input.data[1])]);', '   close();', '};']\n    code = prefixCode.join('') + code + postfixCode.join('')\n\n    //TODO:: creating a WebWorker from an URL is throwing a SecurityError in  IE 11  ...\n    //          is there any workaround?\n    const worker = new Worker(URL.createObjectURL(new Blob([code], { type: 'text/javascript' })))\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishedExecutionCB(false)\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n    }\n\n    const start = Date.now()\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                time +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > max_ms) {\n            testTimeout\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n\n        testTimeoutIntern()\n        if (e.data[0] == 'finished') {\n            finishedExecutionCB(true)\n            info_callback('Info: Execution finished in ' + (Date.now() - start) + ' ms\\n')\n            worker.end()\n        } else if (e.data[0] == 'log') {\n            log_callback(e.data[1] + '\\n')\n        } else if (e.data[0] == 'err') {\n            err_callback(e.data[1] + '\\n')\n        } else {\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n    worker.onerror = function (e) {\n        if (e.lineno == 1) {\n            compileFailedCallback({\n                start: { line: -1, column: -1 },\n                end: { line: -1, column: -1 },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('Error: ' + e.message)\n        } else if (e.lineno >= lines + 2) {\n            compileFailedCallback({\n                start: { line: lines + 2, column: 0 },\n                end: { line: lines + 2, column: 0 },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('EndOfFile: ' + e.message)\n        } else {\n            compileFailedCallback({\n                start: { line: e.lineno - 2, column: e.colno - 1 },\n                end: { line: e.lineno - 2, column: e.colno },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('Line ' + (e.lineno - 2) + ': ' + e.message)\n        }\n    }\n    worker.postMessage(['start', [10, 200]]) //start worker execution\n\n    setTimeout(testTimeout, max_ms)\n}\n\n//ICompilerInstance\n@Component\nexport class JavascriptV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = true\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runJavaScriptWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const javascriptCompiler_V100 = new JavascriptV100Compiler()\nexport default javascriptCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string): void\n    }\n}\n\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    max_ms: number,\n    log_callback: (txt: string) => void,\n    info_callback: (txt: string) => void,\n    err_callback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishedExecutionCB: finishedCallbackSignatur,\n    args: object\n): Worker | undefined {\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/javascript/v101/jsWorker.js')\n\n    worker.onmessage = function (msg) {\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms) {\n            triggerTimeout()\n        }\n\n        switch (msg.data[0]) {\n            case 'finished':\n                if (msg && msg.data && msg.data.length >= 3) {\n                    args['return'] = msg.data[2]\n                } else {\n                    args['return'] = {}\n                }\n                console.d('returned msg:', msg, ', args:', args)\n                executionFinished = true\n                finishedExecutionCB(true, undefined, args['return'])\n                console.i('Execution finished in ' + time + ' ms\\n')\n                //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n                worker.end()\n                break\n            case 'log':\n                log_callback(msg.data[1] + '\\n')\n                break\n            case 'err':\n                err_callback(msg.data[1] + '\\n')\n                break\n            default:\n                worker.end(\n                    'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n                )\n                break\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                (performance.now() - startTime) +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const startExecution = function (args: object) {\n        //start worker execution\n        worker.postMessage(['start', { code: code, args: args }])\n\n        //stop Worker execution when the time limit is exceeded;\n        setTimeout(triggerTimeout, max_ms)\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage(['importD3'])\n                    startExecution(args)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage(['importBrain'])\n                startExecution(args)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args)\n    }\n\n    return worker\n}\n@Component\nexport class JavascriptV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly isReady = true\n    isRunning = false\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = true\n    readonly experimental = false\n    readonly deprecated = false\n    libraries = [\n        {\n            key: 'd3-101',\n            name: 'd3',\n            version: '5.14.3',\n            displayName: 'D3 - Proxy',\n        },\n        {\n            key: 'brain-2.0.0',\n            name: 'Brain.js',\n            version: '2.0.0-alpha',\n            displayName: 'Brain.js',\n        },\n    ]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void {\n        compilerRegistry.registerDOMLib(\n            [Vue.$CodeBlock.baseurl + 'js/javascript/v101/d3DomProxyToHTML.js'],\n            'd3proxy',\n            '101',\n            'D3 - Proxy',\n            true //makes it a utility lib => not selectable by users\n        )\n    }\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runJavaScriptWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const javascriptCompiler_V101 = new JavascriptV101Compiler()\nexport default javascriptCompiler_V101\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string): void\n    }\n}\n\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    options: ICompileAndRunArguments\n): Worker | undefined {\n    const {\n        max_ms,\n        log_callback,\n        info_callback,\n        err_callback,\n        compileFailedCallback,\n        finishedExecutionCB,\n        args,\n    } = options\n\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/javascript/v102/jsWorker.js')\n\n    worker.onmessage = function (msg: any) {\n        console.d('jsrunner message', questionID, executionFinished, msg.data, msg.data.command)\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms) {\n            triggerTimeout()\n        }\n\n        if (msg.data.command == 'finished') {\n            if (options.allowMessagePassing) {\n                options.whenFinishedHandler(msg.data.args)\n            }\n            if (msg && msg.data && msg.data.args) {\n                args['return'] = msg.data.args\n            } else {\n                args['return'] = {}\n            }\n            console.d('returned msg:', msg, ', args:', args)\n            executionFinished = true\n            finishedExecutionCB(true, undefined, args['return'])\n            console.i('Execution finished in ' + time + ' ms\\n')\n            //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n            worker.end()\n        } else if (msg.data.command == 'log') {\n            log_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'err') {\n            err_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'main-will-start') {\n            options.beforeStartHandler()\n        } else if (msg.data.command == 'main-finished') {\n            console.d('MESSAGE - Main Finished')\n            //set up the real message handler\n            options.postMessageFunction = (cmd, data) => {\n                data = { ...data }\n                console.d('MESSAGE - JS Post ', cmd, data)\n                data.command = cmd\n                data.id = questionID\n                worker.postMessage(data)\n            }\n\n            options.postMessageFunction('main-finished', {})\n\n            //make sure to send all queued messages now\n            options.dequeuePostponedMessages()\n\n            options.whenFinishedHandler(msg.data.args)\n        } else if (msg.data.command == 'w-exit-keepalive' || msg.data.command == 'exit-keepalive') {\n            //Make sure a keep-alive session can do proper cleanup\n            if (options.keepAlive) {\n                worker.postMessage({\n                    command: 'session-ended',\n                    id: '' + questionID,\n                })\n            }\n        } else if (msg.data.command.indexOf('w-') == 0) {\n            msg.data.command = msg.data.command.substr(2)\n        } else if (msg.data.command == 'f-FINAL') {\n            options.resultData = msg.data.value\n        } else {\n            console.i('MESSAGE - ', msg.data)\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                (performance.now() - startTime) +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const startExecution = function (args: object, options: ICompileAndRunArguments) {\n        //start worker execution\n        worker.postMessage({\n            command: 'start',\n            code: code,\n            args: args,\n            messagePosting: options.allowMessagePassing,\n            keepAlive: options.keepAlive,\n        })\n\n        //stop Worker execution when the time limit is exceeded;\n        setTimeout(triggerTimeout, max_ms)\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage({ command: 'importD3' })\n                    startExecution(args, options)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importBrain' })\n                startExecution(args, options)\n            })\n        } else if (l === 'tf-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importTF' })\n                startExecution(args, options)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args, options)\n    }\n\n    return worker\n}\n@Component\nexport class JavascriptV102Compiler extends Vue implements ICompilerInstance {\n    readonly version = '102'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly isReady = true\n    isRunning = false\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = true\n    readonly acceptsJSONArgument = true\n    readonly experimental = true\n    readonly deprecated = false\n    libraries = [\n        {\n            key: 'd3-101',\n            name: 'd3',\n            version: '5.14.3',\n            displayName: 'D3 - Proxy',\n        },\n        {\n            key: 'brain-2.0.0',\n            name: 'Brain.js',\n            version: '2.0.0-alpha',\n            displayName: 'Brain.js',\n        },\n        {\n            key: 'tf-2.0.0',\n            name: 'tf',\n            version: '2.0.0',\n            displayName: 'TensorFlow.js',\n        },\n    ]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void {\n        compilerRegistry.registerDOMLib(\n            [Vue.$CodeBlock.baseurl + 'js/javascript/v101/d3DomProxyToHTML.js'],\n            'd3proxy',\n            '101',\n            'D3 - Proxy',\n            true //makes it a utility lib => not selectable by users\n        )\n    }\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        this.worker = runJavaScriptWorker(questionID, code, callingCodeBlocks, options)\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const javascriptCompiler_V102 = new JavascriptV102Compiler()\nexport default javascriptCompiler_V102\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v100 from './javascript.v100'\nimport v101 from './javascript.v101'\nimport v102 from './javascript.v102'\n\n@Component\nexport class JavascriptCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'javascript'\n    displayName = 'JavaScript'\n\n    //attach all version\n    versions = [v100, v101, v102]\n\n    //declare the default one\n    default = v101\n}\n\nexport const JavascriptCompilers: ICompilerInfo[] | ICompilerInfo = new JavascriptCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runPythonWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur\n) {\n    // the Python program\n    prog = prog.replaceAllPoly('\\t', '    ')\n\n    if (!window.Worker) {\n        errCallback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v100/pyWorker.js')\n\n    // construct message for worker\n    const pyInp = [] // not used jet\n\n    const messageData = { pyProg: prog, pyInp: pyInp, maxMS: maxRuntime }\n    worker.postMessage(['b8e493ca02970aeb0ef734555526bf9b', messageData])\n    const start = Date.now()\n\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (> ' +\n                time +\n                ' ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > maxRuntime) {\n            testTimeout()\n            return true\n        }\n        return false\n    }\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishCallback(false)\n        if (msg) {\n            errCallback(msg)\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n        if (testTimeoutIntern() === true) {\n            return\n        }\n        if (e.data[0] == 'finished') {\n            logCallback(e.data[1].stdOut)\n            finishCallback(true)\n            infoCallback('Info: Execution finished in : ' + (Date.now() - start) + ' ms')\n            worker.end()\n        } else if (e.data[0] === 'err') {\n            const err = JSON.parse(e.data[2])\n            if (err && err.lineno !== undefined && err.colno !== undefined) {\n                compileFailedCallback({\n                    start: { line: err.lineno - 1, column: err.colno },\n                    end: { line: err.lineno - 1, column: err.colno + 1 },\n                    message: err.message,\n                    severity: ErrorSeverity.Error,\n                })\n            } else {\n                if (err && err.lineno !== undefined) {\n                    compileFailedCallback({\n                        start: { line: err.lineno - 1, column: 0 },\n                        end: { line: err.lineno - 1, column: 0 },\n                        message: err.message,\n                        severity: ErrorSeverity.Error,\n                    })\n                }\n            }\n            worker.end('ERROR: ' + e.data[1])\n        } else {\n            worker.end('Unknown error: ' + e.data[1])\n        }\n    }\n    // in any case use the window timeout to terminate the worker\n    setTimeout(testTimeout, maxRuntime)\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = true\n    isReady = true\n    isRunning = false\n\n    preload() {}\n\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const pythonCompiler_V100 = new PythonV100Compiler()\nexport default pythonCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runPythonWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur,\n    legacy: boolean\n): Worker | undefined {\n    console.log('Python Version:', legacy ? '2.7' : '3')\n\n    // the Python program\n    prog = prog.replaceAllPoly('\\t', '    ')\n\n    if (!window.Worker) {\n        errCallback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v101/pyWorker.js')\n\n    // construct message for worker\n    const pyInp = [] // not used jet\n\n    const messageData = {\n        pyProg: prog,\n        pyInp: pyInp,\n        maxMS: maxRuntime,\n        legacy: legacy,\n    }\n    worker.postMessage(['b8e493ca02970aeb0ef734556526bf9b', messageData])\n    const start = Date.now()\n\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (> ' +\n                time +\n                ' ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > maxRuntime) {\n            testTimeout()\n            return true\n        }\n        return false\n    }\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishCallback(false)\n        if (msg) {\n            errCallback(msg)\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n        if (testTimeoutIntern() === true) {\n            return\n        }\n        if (e.data[0] == 'finished') {\n            logCallback(e.data[1].stdOut)\n            finishCallback(true)\n            console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n            //infoCallback('Info: Execution finished in : ' + (Date.now() - start) + ' ms')\n            worker.end()\n        } else if (e.data[0] === 'err') {\n            const err = JSON.parse(e.data[2])\n            if (err && err.lineno !== undefined && err.colno !== undefined) {\n                compileFailedCallback({\n                    start: {\n                        line: err.lineno - 1,\n                        column: err.colno,\n                    },\n                    end: {\n                        line: err.lineno - 1,\n                        column: err.colno + 1,\n                    },\n                    message: err.message,\n                    severity: ErrorSeverity.Error,\n                })\n            } else {\n                if (err && err.lineno !== undefined) {\n                    compileFailedCallback({\n                        start: {\n                            line: err.lineno - 1,\n                            column: 0,\n                        },\n                        end: {\n                            line: err.lineno - 1,\n                            column: 0,\n                        },\n                        message: err.message,\n                        severity: ErrorSeverity.Error,\n                    })\n                }\n            }\n            worker.end('ERROR: ' + e.data[1])\n        } else {\n            worker.end('Unknown error: ' + e.data[1])\n        }\n    }\n    // in any case use the window timeout to terminate the worker\n    setTimeout(testTimeout, maxRuntime)\n\n    return worker\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV101LegacyCompiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            true\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            false\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const pythonCompiler_V101 = new PythonV101Compiler()\nexport const pythonLegacyCompiler_V101 = new PythonV101LegacyCompiler()\n\nexport default {\n    legacyPython: pythonLegacyCompiler_V101,\n    python3: pythonCompiler_V101,\n}\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runPythonWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    options: ICompileAndRunArguments\n): Worker | undefined {\n    const {\n        max_ms,\n        log_callback,\n        info_callback,\n        err_callback,\n        compileFailedCallback,\n        finishedExecutionCB,\n        args,\n    } = options\n\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v102/pyWorker.js')\n\n    worker.onmessage = function (msg: any) {\n        console.d('jsrunner message', questionID, executionFinished, msg.data, msg.data.command)\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms) {\n            triggerTimeout()\n        }\n\n        if (msg.data.command == 'finished') {\n            if (options.allowMessagePassing) {\n                options.whenFinishedHandler(msg.data.args)\n            }\n            if (msg && msg.data && msg.data.args) {\n                args['return'] = msg.data.args\n            } else {\n                args['return'] = {}\n            }\n            console.d('returned msg:', msg, ', args:', args)\n            executionFinished = true\n            finishedExecutionCB(true, undefined, args['return'])\n            console.i('Execution finished in ' + time + ' ms\\n')\n            //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n            worker.end()\n        } else if (msg.data.command == 'exception') {\n            if (compileFailedCallback) {\n                compileFailedCallback({\n                    message: msg.data.text,\n                    start: {\n                        line: msg.data.lineNumber,\n                        column: 0,\n                    },\n                    end: {\n                        line: msg.data.lineNumber,\n                        column: 0,\n                    },\n                    severity:\n                        msg.data.severity == 'ERROR' ? ErrorSeverity.Error : ErrorSeverity.Warning,\n                })\n            }\n        } else if (msg.data.command == 'log') {\n            log_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'err') {\n            err_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'main-will-start') {\n            options.beforeStartHandler()\n        } else if (msg.data.command == 'main-finished') {\n            console.d('MESSAGE - Main Finished')\n            //set up the real message handler\n            options.postMessageFunction = (cmd, data) => {\n                data = { ...data }\n                console.d('MESSAGE - JS Post ', cmd, data)\n                data.command = cmd\n                data.id = questionID\n                worker.postMessage(data)\n            }\n\n            options.postMessageFunction('main-finished', {})\n\n            //make sure to send all queued messages now\n            options.dequeuePostponedMessages()\n\n            options.whenFinishedHandler(msg.data.args)\n        } else if (msg.data.command == 'w-exit-keepalive' || msg.data.command == 'exit-keepalive') {\n            //Make sure a keep-alive session can do proper cleanup\n            if (options.keepAlive) {\n                worker.postMessage({\n                    command: 'session-ended',\n                    id: '' + questionID,\n                })\n            }\n        } else if (msg.data.command.indexOf('w-') == 0) {\n            msg.data.command = msg.data.command.substr(2)\n        } else {\n            console.i('MESSAGE - ', msg.data)\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                (performance.now() - startTime) +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const startExecution = function (args: object, options: ICompileAndRunArguments) {\n        //start worker execution\n        worker.postMessage({\n            command: 'start',\n            code: code,\n            args: args,\n            messagePosting: options.allowMessagePassing,\n            keepAlive: options.keepAlive,\n        })\n\n        //stop Worker execution when the time limit is exceeded;\n        setTimeout(triggerTimeout, max_ms)\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage({ command: 'importD3' })\n                    startExecution(args, options)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importBrain' })\n                startExecution(args, options)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args, options)\n    }\n\n    return worker\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV102Compiler extends Vue implements ICompilerInstance {\n    readonly version = '102'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = true\n    readonly experimental = true\n    readonly deprecated = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        this.worker = runPythonWorker(questionID, code, callingCodeBlocks, options)\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const pythonCompiler_V102 = new PythonV102Compiler()\n\nexport default {\n    python3: pythonCompiler_V102,\n}\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v100 from './python.v100'\nimport v101 from './python.v101'\nimport v102 from './python.v102'\n\n@Component\nexport class PythonCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'python'\n    displayName = 'Python 2.7'\n\n    //attach all version\n    versions = [v100, v101.legacyPython]\n\n    //declare the default one\n    default = v101.legacyPython\n}\n\n@Component\nexport class Python3CompilerInfo extends Vue implements ICompilerInfo {\n    type = 'python3'\n    displayName = 'Python 3'\n\n    //attach all version\n    versions = [v101.python3, v102.python3]\n\n    //declare the default one\n    default = v101.python3\n}\n\nexport const PythonCompilers: ICompilerInfo[] | ICompilerInfo = [\n    new PythonCompilerInfo(),\n    new Python3CompilerInfo(),\n]\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runGLSLWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur\n) {\n    const outputData: string[] = []\n    callingCodeBlocks.blocks\n        .filter((b) => b.hasCode)\n        .forEach((block) => outputData.push(block.content))\n    /*$(\"[data-contains-code][data-question=\"+questionID+\"]\").each(function(i, block) {\n        if (block.getAttribute('data-ignore')) return;\n        if (!blockHasProgramCode(block)) return;\n        const editor = editors[block.id];\n        if (editor) {\n            outputData.push(block.value);\n        } else {\n            outputData.push(block.innerHTML);\n        }\n    });*/\n    finishCallback(true, outputData)\n}\n\n@Component\nexport class GLSLV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'glsl'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly acceptsJSONArgument = false\n    readonly allowsMessagePassing = false\n    readonly deprecated = false\n    readonly experimental = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runGLSLWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const v100 = new GLSLV100Compiler()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport { v100 } from './glsl.v100'\n\n@Component\nexport class GLSLCompilerInfo extends Vue implements ICompilerInfo {\n    readonly type = 'glsl'\n    readonly displayName = 'GLSL Shader'\n\n    //attach all version\n    readonly versions = [v100]\n\n    //declare the default one\n    readonly default = v100\n}\n\nexport const GLSLCompilers: ICompilerInfo[] | ICompilerInfo = new GLSLCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    ICompilerHashMap,\n    IDomLibraray,\n    ICompilerID,\n    ICompilerInfo,\n    IListItemData,\n    ICompilerInstance,\n    ICompilerRegistry,\n    ICompilerIDQuery,\n} from './ICompilerRegistry'\n\n//prepare Compiler Registry\n@Component\nexport class CompilerRegistry extends Vue implements ICompilerRegistry {\n    compilers: ICompilerHashMap = {}\n    libraries: IDomLibraray[] = []\n    loadedURIs: string[] = []\n    afterLoadFinished: (() => void)[] = []\n    isLoadingLibs = false\n\n    get languages(): IListItemData[] {\n        const langs = Object.keys(this.compilers)\n            .map((k) => this.compilers[k])\n            .map((c) => {\n                return { label: c.displayName, value: c.type }\n            })\n            .sort((a, b) => (a.label < b.label ? -1 : 1))\n        return langs\n    }\n\n    get domLibraries(): IListItemData[] {\n        const libs: IDomLibraray[] = this.libraries.filter((l) => !l.utility)\n        return libs.map((l) => {\n            return { label: l.displayName + ' (' + l.version + ')', value: l.key }\n        })\n    }\n\n    register(compilers: ICompilerInfo[] | ICompilerInfo): void {\n        if (Array.isArray(compilers)) {\n            compilers.forEach((c) => this.registerSingle(c))\n        } else {\n            this.registerSingle(compilers)\n        }\n    }\n\n    registerSingle(c: ICompilerInfo): void {\n        this.compilers[c.type] = c\n        c.versions.forEach((v) => {\n            if (v.registerLibs) {\n                v.registerLibs(this)\n            }\n        })\n    }\n\n    getCompiler(compilerInfo: ICompilerIDQuery): ICompilerInstance | undefined {\n        const cmps = this.compilers[compilerInfo.languageType]\n        if (!cmps) {\n            return undefined\n        }\n        if (compilerInfo.version === undefined) {\n            return cmps.default\n        }\n        let res = cmps.versions.find((e) => e.version == compilerInfo.version)\n        if (res === undefined) {\n            res = cmps.default\n        }\n        return res\n    }\n\n    versionsForLanguage(languageType: string): string[] | ['none'] {\n        const c = this.compilers[languageType]\n        if (c === undefined) {\n            return ['none']\n        }\n        return c.versions.map((v) => v.version)\n    }\n\n    registerDOMLib(\n        uri: string[],\n        name: string,\n        version: string,\n        displayName: string,\n        utility: boolean = false,\n        order: number = 0,\n        onBuildSandboxEnv: (sandbox: any) => void = () => {}\n    ): void {\n        this.libraries.push({\n            key: name + '-' + version,\n            uri: uri,\n            name: name,\n            version: version,\n            displayName: displayName,\n            didLoad: false,\n            utility: utility,\n            order: order,\n            onBuildSandboxEnv: onBuildSandboxEnv,\n        })\n    }\n\n    addLoadedToSandbox(sandbox: any) {\n        this.libraries.filter((l) => l.didLoad).forEach((l) => l.onBuildSandboxEnv(sandbox))\n    }\n\n    getLibObjects(domLibs: string[]): IDomLibraray[] {\n        return this.libraries.filter((l) => domLibs.indexOf(l.key) >= 0)\n    }\n\n    urisForDOMLibs(domLibs: string[]): string[] {\n        const libs = this.getLibObjects(domLibs)\n        const uris = libs\n            .filter((l) => !l.didLoad)\n            .sort((a, b) => (a.order < b.order ? 1 : -1))\n            .map((l) => l.uri)\n            .reduce((p, c) => c.concat(p), [])\n\n        return uris\n    }\n    loadLibraries(domLibraries: string[], whenLoaded: () => void): void {\n        const libs = this.urisForDOMLibs(domLibraries)\n        const dlibs = this.getLibObjects(domLibraries)\n        this.loadURIs(\n            libs,\n            function () {\n                dlibs.forEach((l) => (l.didLoad = true))\n                whenLoaded()\n            }.bind(this)\n        )\n    }\n    private loadURIsIter(libs: string[], whenLoaded: () => void): void {\n        console.log(libs)\n        let loadCount = 0\n        const didLoad = (u: string) => {\n            loadCount++\n            if (loadCount == libs.length) {\n                whenLoaded()\n            }\n        }\n        libs.forEach((uri: string) => {\n            if (this.loadedURIs.indexOf(uri) >= 0) {\n                didLoad(uri)\n                return\n            }\n            this.loadedURIs.push(uri)\n\n            const script = document.createElement('script')\n            script.src = uri\n            console.log('[Loading Library from ' + uri + ']')\n            script.onload = function () {\n                console.log('[Loaded ' + uri + ']')\n                didLoad(uri)\n            }\n            document.head.appendChild(script)\n        })\n    }\n\n    private loadURIs(libs: string[], whenLoaded: () => void): void {\n        //make sure we serialize all loads !!!\n        if (this.isLoadingLibs) {\n            //queue the load\n            this.afterLoadFinished.push(() => {\n                this.loadURIs(libs, whenLoaded)\n            })\n            return\n        }\n        this.isLoadingLibs = true\n\n        const self = this\n\n        const loadLib = function (uris, idx) {\n            if (idx >= uris.length) {\n                whenLoaded()\n\n                //something tried to queue another load\n                // => dequeu it and run it now\n                self.isLoadingLibs = false\n                if (self.afterLoadFinished.length > 0) {\n                    const next = self.afterLoadFinished.shift()\n                    if (next) {\n                        next()\n                    }\n                }\n                return\n            }\n\n            const uri = uris[idx]\n\n            //already loaded\n            if (self.loadedURIs.indexOf(uri) >= 0) {\n                loadLib(uris, idx + 1)\n                return\n            }\n            self.loadedURIs.push(uri)\n\n            const script = document.createElement('script')\n            script.src = uri\n            console.log('[Loading Library from ' + uri + ']')\n            script.onload = function () {\n                loadLib(uris, idx + 1)\n            }\n            document.head.appendChild(script)\n        }\n\n        loadLib(libs, 0)\n    }\n}\n\nexport const compilerRegistry = new CompilerRegistry()\n\n//load all available compilers\nimport { JavaCompilers } from '../compiler/java'\ncompilerRegistry.register(JavaCompilers)\n\nimport { JavascriptCompilers } from '../compiler/javascript'\ncompilerRegistry.register(JavascriptCompilers)\n\nimport { PythonCompilers } from '../compiler/python'\ncompilerRegistry.register(PythonCompilers)\n\nimport { GLSLCompilers } from '../compiler/glsl'\ncompilerRegistry.register(GLSLCompilers)\n\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/chart.js/3.6.0/chart.min.js'],\n    'chart',\n    '3.6.0',\n    'Chart.JS',\n    false,\n    1000,\n    (sandbox) => {\n        sandbox.Chart = (window as any).Chart\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/three.min.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/controls/OrbitControls.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/controls/TrackballControls.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/Detector.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/helper.r0.js',\n    ],\n    '3js',\n    'r0',\n    'Three.JS',\n    false,\n    2000,\n    (sandbox) => {\n        sandbox.THREE = (window as any).THREE\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/phaser/3.54.0/phaser.min.js',\n        Vue.$CodeBlock.baseurl + 'js/phaser/3.54.0/support.js',\n    ],\n    'phaser',\n    '3.54',\n    'Phaser',\n    false,\n    3000,\n    (sandbox: any) => {\n        sandbox.Phaser = (window as any).Phaser\n        sandbox.IsometricMapGame = (window as any).IsometricMapGame\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/5.16.0/d3.v5.min.js',\n        Vue.$CodeBlock.baseurl + 'js/d3/5.3.8/helper.js',\n    ],\n    'd3',\n    '5.16.0',\n    'D3',\n    false,\n    4210,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/5.3.8/d3.v5.min.js',\n        Vue.$CodeBlock.baseurl + 'js/d3/5.3.8/helper.js',\n    ],\n    'd3',\n    '5.3.8',\n    'D3',\n    false,\n    4200,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/6.7.0/d3.v6.min.js',\n        //Vue.$CodeBlock.baseurl + 'js/d3/6.2.0/helper.v6.js'\n    ],\n    'd3',\n    '6.7.0',\n    'D3',\n    false,\n    4010,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/6.2.0/d3.v6.min.js',\n        //Vue.$CodeBlock.baseurl + 'js/d3/6.2.0/helper.v6.js'\n    ],\n    'd3',\n    '6.2.0',\n    'D3',\n    false,\n    4000,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/d3/7.1.1/d3.v7.min.js'],\n    'd3',\n    '7.1.1',\n    'D3',\n    false,\n    4100,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/brain.js/2.0.0-alpha/brain-browser.min.js'],\n    'brain',\n    '2.0.0',\n    'Brain.JS',\n    false,\n    5000,\n    (sandbox) => {\n        sandbox.brain = (window as any).brain\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/tensorflow.js/2.0.0/tf.min.js',\n        //Vue.$CodeBlock.baseurl + 'js/tensorflow.js/2.0.0/tfjs-vis.umd.min.js',\n    ],\n    'tf',\n    '2.0.0',\n    'TensorFlow.JS',\n    false,\n    6000,\n    (sandbox) => {\n        sandbox.tf = (window as any).tf\n        //sandbox.tfvis = (window as any).tfvis\n    }\n)\n\nexport default compilerRegistry\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    IParsedError,\n    ILegacyPlaygroundObject,\n    IPlaygroundObject,\n    IProcessedScriptOutput,\n    IScriptOutputObject,\n    IScriptBlock,\n} from '@/lib/IScriptBlock'\nimport { ICompileAndRunArguments } from './ICompilerRegistry'\nimport compilerRegistry from './CompilerRegistry'\ninterface ICodeTemplate {\n    prefix: string\n    postfix: string\n}\n\nconst legacyCodeTemplate: ICodeTemplate = {\n    prefix: 'let editors=[]; $(\".CodeMirror\").toArray().forEach(cm =>  {if (!cm.CodeMirror.getTextArea().hasAttribute(\"is-editmode\")) editors[cm.CodeMirror.getTextArea().id] = cm.CodeMirror}); return function(){ return {o:',\n    postfix: '}.o}.call({})',\n}\nconst v101CodeTemplate: ICodeTemplate = {\n    prefix: '\"use strict\"; return function(){ return {o:',\n    postfix: '}.o}.call({})',\n}\nconst v102CodeTemplate: ICodeTemplate = {\n    prefix: 'with(sandbox) { return function(){ return {o:',\n    postfix: '}.o}.call({})}',\n}\n\nconst jsErrorParser = function (e: any, templ?: ICodeTemplate): IParsedError {\n    console.error(e)\n    let line: number | undefined = undefined\n    let column: number | undefined = undefined\n    if (e.line) {\n        line = e.line\n    } else if (e.lineNumber) {\n        line = e.lineNumber\n    }\n\n    if (e.column) {\n        column = e.column\n    } else if (e.columnNumber) {\n        column = e.columnNumber\n    }\n\n    if (line === undefined) {\n        const lines = e.stack.split('\\n')\n        if (lines.length > 1) {\n            const regex = /<anonymous>:(\\d+):(\\d+)/gm\n            let m: RegExpExecArray | null = null\n            if ((m = regex.exec(lines[1])) !== null) {\n                line = Number(m[1]) - 1\n                column = Number(m[2]) - 1\n            }\n        }\n    }\n\n    if (line !== undefined) {\n        line--\n        if (line == 1) {\n            if (column === undefined) {\n                column = 0\n            }\n            if (templ !== undefined) {\n                column -= templ.prefix.length\n            }\n        }\n    }\n    return { line: line!, column: column!, msg: e.message }\n}\nVue.prototype.$jsErrorParser = jsErrorParser\n\nconst sandboxProxies = new WeakMap()\n\nfunction compileCode(src: string) {\n    const code = new Function('sandbox', src)\n\n    return function (sandbox: any) {\n        compilerRegistry.addLoadedToSandbox(sandbox)\n\n        sandbox.$ = (input: any) => {\n            if (typeof input === 'string') {\n                console.error('You can not use JQuerry globally from this context')\n            } else {\n                if (input.getAttribute === undefined) {\n                    console.error('You may only wrap DOMElements using $')\n                    return\n                }\n                return $(input)\n            }\n        }\n        sandbox.console = console\n        sandbox.document = {\n            create$: (what: any) => $(document.createElement(what)),\n            createElement: (what: any) => document.createElement(what),\n            getElementById: (id: String) =>\n                console.error(\n                    `document.getElementById is not supported. Please use scope.find('#${id}') instead`\n                ),\n            getElementsByTagName: (tag: String) =>\n                console.error(\n                    `document.getElementsByTagName is not supported. Please use scope.find('${tag}') instead`\n                ),\n            getElementsByClassName: (cl: String) =>\n                console.error(\n                    `document.getElementsByClassName is not supported. Please use scope.find('.${cl}') instead`\n                ),\n        }\n\n        if (!sandboxProxies.has(sandbox)) {\n            const sandboxProxy = new Proxy(sandbox, { has, get })\n            sandboxProxies.set(sandbox, sandboxProxy)\n        }\n        return code(sandboxProxies.get(sandbox))\n    }\n}\n\nfunction has(target: any, key: any) {\n    return true\n}\n\nfunction get(target: any, key: any) {\n    if (key === Symbol.unscopables) {\n        return undefined\n    }\n    return target[key]\n}\n\nexport class ScriptBlock implements IScriptBlock {\n    public err: IParsedError[] = []\n\n    private src: string | undefined = undefined\n    private fkt: Function | undefined = undefined\n    private obj: IPlaygroundObject | ILegacyPlaygroundObject | undefined = undefined\n    private didInit: boolean = false\n    constructor(script: string, public version: string) {\n        //this.rebuild(script)\n        this.didInit = false\n        this.src = script\n        this.obj = {\n            init: () => {\n                console.error('FAILED INIT ATTEMPT')\n            },\n            update: () => {\n                console.error('FAILED UPDATE ATTEMPT')\n                return undefined\n            },\n        }\n    }\n\n    requestsOriginalVersion() {\n        return this.version == '100' || this.version == '' || this.version === undefined\n    }\n\n    invalidate() {\n        this.obj = undefined\n    }\n\n    rebuild(code?: string) {\n        if (code !== undefined) {\n            try {\n                this.err = []\n                console.i('!!! REBUILDING !!!')\n                this.src = code\n\n                //wrap the users code in a helper object, otherwise\n                //evaluating would fail if the code does not start in the first line\n\n                //we also return a function to make and call (.call({})) it with a clean object\n                //to ensure that 'this' is will allways be in a defined state inside the users code\n                if (this.requestsOriginalVersion()) {\n                    this.fkt = new Function(\n                        legacyCodeTemplate.prefix + code + legacyCodeTemplate.postfix\n                    )\n                } else if (this.version === '101' || this.version === '102') {\n                    this.fkt = new Function(\n                        v101CodeTemplate.prefix + code + v101CodeTemplate.postfix\n                    )\n                } else {\n                    this.fkt = compileCode(\n                        v102CodeTemplate.prefix + code + v102CodeTemplate.postfix\n                    )\n                }\n\n                this.obj = this.fkt({})\n                this.dequeueIncoming()\n            } catch (e) {\n                this.pushError(e)\n            }\n        } else if (this.fkt !== undefined) {\n            this.obj = this.fkt({})\n            this.dequeueIncoming()\n        }\n    }\n\n    pushError(e: any) {\n        this.err.push(jsErrorParser(e))\n    }\n\n    private lazyInit() {\n        if (!this.didInit) {\n            this.obj = undefined\n            this.rebuild(this.src)\n            this.didInit = true\n        }\n    }\n\n    addArgumentsTo(args: object | string[]) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.addArgumentsTo) {\n                try {\n                    o.addArgumentsTo(args)\n                } catch (e) {\n                    this.pushError(e)\n                }\n            }\n        }\n    }\n\n    _runConfig: null | ICompileAndRunArguments = null\n    get runConfig(): null | ICompileAndRunArguments {\n        return this._runConfig\n    }\n    set runConfig(cfg: null | ICompileAndRunArguments) {\n        if (this._runConfig) {\n            this._runConfig.dequeuePostponedMessages = function () {}\n        }\n        this._runConfig = cfg\n        if (this._runConfig) {\n            const self = this\n            this._runConfig.dequeuePostponedMessages = function () {\n                const msg = [...self.queuedMessages]\n                self.queuedMessages = []\n                msg.forEach((args) => self.doPostMessageToWorker(args.c, args.d))\n            }\n            if (this._runConfig.postMessageFunction !== null) {\n                this._runConfig.dequeuePostponedMessages()\n            }\n        }\n    }\n    queuedMessages: any[] = []\n    doPostMessageToWorker(cmd: string, data: any) {\n        if (data === undefined) {\n            data = {}\n        }\n        if (\n            this._runConfig !== undefined &&\n            this._runConfig !== null &&\n            this._runConfig.postMessageFunction !== null\n        ) {\n            cmd = `d-${cmd}`\n            data.command = cmd\n            console.i('MESSAGE - Posted to Worker', cmd, data)\n            this._runConfig.postMessageFunction(cmd, data)\n        } else {\n            console.i('MESSAGE - Posted to Queue', cmd)\n            this.queuedMessages.push({ c: cmd, d: data })\n        }\n    }\n    queuedIncomingMessages: any[] = []\n    didReceiveMessage(cmd: string, data: any) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.onMessage === undefined) {\n                console.i('MESSAGE - Received to Queue', cmd)\n                this.queuedIncomingMessages.push({ c: cmd, d: data })\n            } else {\n                console.i('MESSAGE - Received from Worker', cmd, data)\n                o.onMessage(cmd, data)\n            }\n        } else {\n            console.i('MESSAGE - Received to Queue', cmd)\n            this.queuedIncomingMessages.push({ c: cmd, d: data })\n        }\n    }\n    dequeueIncoming() {\n        console.i('MESSAGE - Dequeue Incoming')\n        const msg = [...this.queuedIncomingMessages]\n        this.queuedIncomingMessages = []\n        msg.forEach((args) => this.didReceiveMessage(args.c, args.d))\n    }\n\n    beforeStart() {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.beforeStart) {\n                console.i('MESSAGE - beforeStart')\n                o.beforeStart()\n            }\n        }\n    }\n\n    whenFinished(args: string[] | object, resultData?: object | any[]) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.whenFinished) {\n                console.i('MESSAGE - whenFinished')\n                o.whenFinished(args, resultData)\n            }\n        }\n    }\n\n    init(canvasElement: JQuery<HTMLElement>, scope: JQuery<HTMLElement>, runner: () => void): void {\n        this.queuedMessages = []\n        this.queuedIncomingMessages = []\n        this.lazyInit()\n        console.i('MESSAGE - Reset Queue from Init')\n        if (this.obj === undefined) {\n            return\n        }\n        try {\n            console.i('!!! INIT CANVAS !!!')\n            if (this.requestsOriginalVersion()) {\n                const o = this.obj as ILegacyPlaygroundObject\n                o.init(canvasElement)\n            } else {\n                const arunner: any = runner\n                arunner.run = runner\n                arunner.postMessage = this.doPostMessageToWorker.bind(this)\n\n                let outputElement: JQuery<HTMLElement> | undefined = undefined\n                if (scope === undefined || scope.length === 0) {\n                    scope = canvasElement.parents('.codeblocks')\n                }\n                if (scope !== undefined) {\n                    outputElement = scope.find('div.runner pre.output')\n                }\n                if (outputElement === undefined) {\n                    console.error('[Internal Error] No Output Element found!')\n                    this.pushError('[Internal Error] No Output Element found!')\n                } else {\n                    const o = this.obj as IPlaygroundObject\n                    o.init(canvasElement, outputElement, scope, runner)\n                }\n            }\n        } catch (e) {\n            this.pushError(e)\n        }\n    }\n\n    reset(canvasElement: JQuery<HTMLElement>): void {\n        this.queuedMessages = []\n        this.queuedIncomingMessages = []\n        this.lazyInit()\n        console.i('MESSAGE - Reset Queue from Reset')\n        if (this.obj && this.obj.reset && !this.requestsOriginalVersion()) {\n            this.obj.reset(canvasElement)\n        }\n    }\n\n    update(\n        outputObject: IScriptOutputObject,\n        canvasElement: JQuery<HTMLElement>\n    ): string | undefined {\n        this.lazyInit()\n        if (this.obj === undefined) {\n            return outputObject.output\n        }\n        try {\n            if (this.obj.update) {\n                //console.log(this.obj.update.length, outputObject, this.obj);\n                //this is the old behaviour\n                if (this.obj.update.length == 2 || this.requestsOriginalVersion()) {\n                    const o = this.obj as ILegacyPlaygroundObject\n                    if (outputObject.processedOutput.type == 'json') {\n                        console.i('!!! UPDATE (org, json) !!!')\n                        return o.update(outputObject.processedOutput.json, canvasElement)\n                    } else {\n                        console.i('!!! UPDATE (org, text) !!!')\n                        return o.update(outputObject.output, canvasElement)\n                    }\n                } else {\n                    const o = this.obj as IPlaygroundObject\n                    console.i('!!! UPDATE (v' + this.version + ')!!!')\n                    return o.update(\n                        outputObject.processedOutput.text,\n                        outputObject.processedOutput.json,\n                        canvasElement,\n                        outputObject.outputElement\n                    )\n                }\n            }\n        } catch (e) {\n            this.pushError(e)\n        }\n        return outputObject.initialOutput\n    }\n\n    onParseError(initialOutput: string, parseError: string): boolean {\n        this.lazyInit()\n        if (this.obj === undefined) {\n            return false\n        }\n        try {\n            if (this.obj.onParseError) {\n                this.obj.onParseError(initialOutput, parseError)\n            } else {\n                console.error(parseError)\n                return false\n            }\n        } catch (e) {\n            this.pushError(e)\n            return false\n        }\n        return true\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-layout',{staticStyle:{\"min-height\":\"0\"},attrs:{\"view\":\"hHh lpR fFf\"}},[_c('q-page-container',[_c('CodeBlocks',{attrs:{\"blockInfo\":_vm.blocks}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"codeblocks \" + _vm.addonClass + \"  \" + _vm.backgroundColorClass + \" q-mx-sm q-mb-md\"),attrs:{\"data-question\":_vm.blockInfo.id,\"uuid\":_vm.blockInfo.uuid}},[_c('CodePanel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasBookmark && _vm.editMode),expression:\"hasBookmark && editMode\"}],attrs:{\"editMode\":_vm.editMode,\"visibleLines\":\"auto\",\"block\":_vm.panelBlock}}),(_vm.editMode)?_c('CodeBlocksSettings',{attrs:{\"options\":_vm.options},on:{\"compiler-change\":_vm.onCompilerChange,\"compiler-version-change\":_vm.onCompilerVersionChange,\"run-state-change\":_vm.onRunStateChange,\"continuous-compile-change\":_vm.onContinousCompileStateChange,\"message-passing-change\":_vm.onMessagePassingChange,\"keep-alive-change\":_vm.onKeepAliveChange,\"persistent-arguments-change\":_vm.onPersistentArgumentsChange,\"language-change\":_vm.onLanguageChange,\"character-limit-change\":_vm.onCharacterLimitChange,\"timeout-change\":_vm.onTimeoutChange,\"worker-libs-change\":_vm.onWorkerLibChange,\"dom-libs-change\":_vm.onDomLibChange,\"theme-change\":_vm.onThemeChange,\"output-parser-change\":_vm.onOutputParserChange}}):_vm._e(),_vm._l((_vm.blocks),function(block){return _c('CodeBlockContainer',{key:block.id,attrs:{\"block\":block,\"editMode\":_vm.editMode},on:{\"type-change\":_vm.onTypeChange,\"visible-lines-change\":_vm.onVisibleLinesChange,\"placement-change\":_vm.onPlacementChange,\"script-version-change\":_vm.onScriptVersionChange,\"move-up\":_vm.moveUp,\"move-down\":_vm.moveDown,\"remove-block\":_vm.removeBlock,\"auto-reset-change\":_vm.onSetAutoReset}},[(block.hasCode && block.type != 'BLOCKLY')?_c('CodeBlock',{attrs:{\"block\":block,\"theme\":_vm.themeForBlock(block),\"mode\":_vm.mimeType,\"visibleLines\":block.visibleLines,\"editMode\":_vm.editMode,\"readonly\":_vm.readonly,\"tagSet\":_vm.activeTagSet,\"emitWhenTypingInViewMode\":_vm.continuousCompile},on:{\"ready\":_vm.blockBecameReady,\"build\":_vm.run,\"code-changed-in-view-mode\":_vm.onViewCodeChange}}):(block.type == 'PLAYGROUND')?_c('CodePlayground',{attrs:{\"block\":block,\"editMode\":_vm.editMode,\"finalOutputObject\":_vm.finalOutputObject,\"theme\":_vm.themeForBlock(block),\"tagSet\":_vm.activeTagSet,\"eventHub\":_vm.eventHub},on:{\"changeOutput\":_vm.onPlaygroundChangedOutput,\"ready\":_vm.blockBecameReady,\"run\":_vm.onRunFromPlayground}}):(block.type == 'TEXT')?_c('SimpleText',{attrs:{\"block\":block,\"previewValue\":block.actualContent(),\"editMode\":_vm.editMode,\"name\":(\"block[\" + (block.parentID) + \"][\" + (block.id) + \"]\"),\"scopeUUID\":block.scopeUUID,\"tagSet\":_vm.activeTagSet,\"language\":_vm.language},on:{\"ready\":_vm.blockBecameReady},model:{value:(block.content),callback:function ($$v) {_vm.$set(block, \"content\", $$v)},expression:\"block.content\"}}):(block.type == 'BLOCKLY')?_c('Blockly',{attrs:{\"block\":block,\"mode\":_vm.mimeType,\"theme\":_vm.themeForBlock(block),\"editMode\":_vm.editMode,\"readonly\":_vm.readonly,\"tagSet\":_vm.activeTagSet,\"emitWhenTypingInViewMode\":_vm.continuousCompile,\"blockInfo\":_vm.blockInfo},on:{\"code-changed-in-view-mode\":_vm.onViewCodeChange}}):_vm._e()],1)}),(_vm.editMode)?_c('div',{staticClass:\"row justify-end\"},[_c('div',[_c('q-btn',{attrs:{\"push\":\"\",\"color\":\"green\"},on:{\"click\":_vm.addNewBlock}},[_vm._v(_vm._s(_vm.$t('CodeBlocks.AddBlock'))+\" \"),_c('q-icon',{staticClass:\"q-ml-sm\",attrs:{\"name\":\"library_add\"}})],1)],1)]):_vm._e(),(_vm.canRun)?_c('div',{class:(\"runner \" + (_vm.editMode ? 'q-pt-lg q-mx-lg' : '')),attrs:{\"id\":\"runContainer\",\"data-question\":_vm.blockInfo.id}},[_c('div',{staticClass:\"row runnerState\",attrs:{\"id\":\"stateBox\",\"data-question\":_vm.blockInfo.id}},[_c('q-btn',{staticClass:\"white--text\",staticStyle:{\"border-radius\":\"0px\"},attrs:{\"id\":\"allow_run_button\",\"loading\":!_vm.isReady,\"disabled\":!_vm.isReady,\"color\":\"primary\",\"ripple\":{ center: true },\"data-question\":_vm.blockInfo.id},on:{\"click\":_vm.run}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocks.run'))+\" \"),_c('q-icon',{attrs:{\"right\":\"\",\"dark\":\"\",\"name\":\"play_arrow\"}}),(_vm.editMode)?_c('q-tooltip',{attrs:{\"delay\":200}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.$t('CodeBlocks.run_hint'))}})]):_vm._e()],1),_c('div',{staticClass:\"animated fadeIn\"}),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canStop),expression:\"canStop\"}],staticClass:\"q-pl-sm\"},[_c('q-btn',{staticStyle:{\"border-radius\":\"0px\"},attrs:{\"id\":\"cancel_button\",\"color\":\"negative\",\"ripple\":{ center: true },\"data-question\":_vm.blockInfo.id},on:{\"click\":_vm.stop}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocks.stop'))+\" \"),_c('q-icon',{attrs:{\"right\":\"\",\"dark\":\"\",\"name\":\"stop\"}})],1)],1)]),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showGlobalMessages),expression:\"showGlobalMessages\"}],staticClass:\"globalState col-grow\",staticStyle:{\"align-self\":\"center\"}},[_c('div',{attrs:{\"id\":\"message\"},domProps:{\"innerHTML\":_vm._s(_vm.$compilerState.globalStateMessage)}})])])],1),_c('q-slide-transition',[(_vm.hasOutput)?_c('pre',{ref:\"output\",staticClass:\"output\",attrs:{\"id\":((_vm.blockInfo.id) + \"Output\")}},[_c('div',{attrs:{\"id\":\"out\"},domProps:{\"innerHTML\":_vm._s(_vm.outputHTML)}})]):_vm._e()])],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-container\",attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id,\"uuid\":_vm.block.uuid}},[(_vm.editMode)?_c('q-card',{class:(\"q-mx-none q-my-xs q-pa-none editModeBlockContainer \" + _vm.colorClass + \" \" + _vm.bgClass)},[_c('q-card-section',{staticClass:\"q-mb-none q-pb-sm q-pt-sm\"},[_c('div',{staticClass:\"row q-my-none q-py-none\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 col-sm-4 col-md-4 q-my-none q-py-none\"},[_c('q-select',{staticStyle:{\"margin-top\":\"-5px !important\"},attrs:{\"options\":_vm.types,\"dense\":\"\"},scopedSlots:_vm._u([{key:\"after\",fn:function(){return [_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showTypeInfoDialog}})]},proxy:true}],null,false,3671508059),model:{value:(_vm.typeObj),callback:function ($$v) {_vm.typeObj=$$v},expression:\"typeObj\"}})],1),_c('div',{staticClass:\"col-grow\"}),_c('div',{staticClass:\"order-xs-first order-sm-last col-xs-12 col-sm-8 col-md-5 q-my-none q-py-none text-right\"},[(_vm.hasExtendedSettings)?_c('q-btn',{attrs:{\"icon\":\"settings\",\"color\":\"blue-7\",\"push\":\"\",\"dense\":\"\"}},[_c('q-popup-proxy',[(_vm.canSetLineNumbers)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Display'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Lines'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\",domProps:{\"innerHTML\":_vm._s(_vm.$l('CodeBlockContainer.Lines_detail'))}})]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{staticStyle:{\"width\":\"132px\"},attrs:{\"rules\":[_vm.validNumber],\"maxlength\":\"4\"},model:{value:(_vm.visibleLines),callback:function ($$v) {_vm.visibleLines=$$v},expression:\"visibleLines\"}})],1)]),(_vm.canHaveAlternativeContent)?_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Prepopulate'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\",attrs:{\"lines\":\"2\"}},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Prepopulate_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-toggle',{model:{value:(_vm.hasAltComntent),callback:function ($$v) {_vm.hasAltComntent=$$v},expression:\"hasAltComntent\"}})],1)]):_vm._e()]):_vm._e(),(_vm.isVersionedPlayground)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Behaviour'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.ScriptV'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.ScriptV_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-select',{attrs:{\"options\":_vm.scriptVersions},model:{value:(_vm.scriptVersionObj),callback:function ($$v) {_vm.scriptVersionObj=$$v},expression:\"scriptVersionObj\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.AutoReset'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.AutoReset_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-toggle',{model:{value:(_vm.shouldAutoReset),callback:function ($$v) {_vm.shouldAutoReset=$$v},expression:\"shouldAutoReset\"}})],1)])]):_vm._e(),(_vm.canDefinePlacement)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Positioning'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md q-pb-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Width'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Width_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{attrs:{\"maxlength\":\"7\",\"dense\":\"\"},model:{value:(_vm.width),callback:function ($$v) {_vm.width=$$v},expression:\"width\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md q-pb-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Height'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Height_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{attrs:{\"maxlength\":\"7\",\"dense\":\"\"},model:{value:(_vm.height),callback:function ($$v) {_vm.height=$$v},expression:\"height\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Alignment'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Alignment_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-select',{attrs:{\"options\":_vm.alignments,\"dense\":\"\"},model:{value:(_vm.align),callback:function ($$v) {_vm.align=$$v},expression:\"align\"}})],1)])]):_vm._e()])],1):_vm._e(),_c('q-btn',{staticClass:\"q-ml-md q-mr-xs\",attrs:{\"disable\":!_vm.canMoveUp,\"icon\":\"arrow_drop_up\",\"push\":\"\",\"dense\":\"\",\"color\":\"orange-6\",\"ripple\":{ center: true }},on:{\"click\":_vm.moveUp}}),_c('q-btn',{staticClass:\"q-mr-md\",attrs:{\"disabled\":!_vm.canMoveDown,\"icon\":\"arrow_drop_down\",\"push\":\"\",\"dense\":\"\",\"color\":\"orange-6\",\"ripple\":{ center: true }},on:{\"click\":_vm.moveDown}}),_c('q-btn',{staticClass:\"gt-xs q-mr-sm-sm q-mr-md-lg q-pr-sm\",attrs:{\"label\":_vm.$l('CodeBlockContainer.Delete'),\"icon\":\"warning\",\"push\":\"\",\"dense\":\"\",\"color\":\"red-6\",\"right\":\"\",\"ripple\":{ center: true }},on:{\"click\":_vm.removeBlock}}),_c('q-btn',{staticClass:\"lt-sm q-mr-lg q-pr-none\",attrs:{\"icon\":\"warning\",\"push\":\"\",\"dense\":\"\",\"color\":\"red-6\",\"right\":\"\",\"ripple\":{ center: true }},on:{\"click\":_vm.removeBlock}}),_c('q-btn',{staticStyle:{\"margin-right\":\"-9px\"},attrs:{\"icon\":_vm.expanded ? 'expand_less' : 'expand_more',\"color\":\"primary\",\"small\":\"\",\"flat\":\"\",\"round\":\"\"},on:{\"click\":_vm.toggleExpanded}})],1)]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.serializedOptions),expression:\"serializedOptions\"}],staticClass:\"blockoptions\",attrs:{\"name\":(\"block_options[\" + (this.block.parentID) + \"][\" + (this.block.id) + \"]\")},domProps:{\"value\":(_vm.serializedOptions)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.serializedOptions=$event.target.value}}})]),_c('q-slide-transition',[(this.isExperimentalScriptVersion)?_c('q-card-section',[_c('q-banner',{staticClass:\"bg-orange text-white col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"whatshot\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.ExperimentalScriptVersion'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.ExperimentalScriptVersionDesc'))+\" \")])],1)],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[(this.isDeprecatedScriptVersion)?_c('q-card-section',[_c('q-banner',{staticClass:\"bg-yellow-12 text-black col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"hourglass_disabled\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.DeprecatedScriptVersion'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.DeprecatedScriptVersionDesc'))+\" \")])],1)],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[_c('q-card-section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}],staticClass:\"my-0 q-pt-1 q-pb-0\"},[_vm._t(\"default\")],2)],1)],1):_c('div',{staticClass:\"ma-0 pa-0\"},[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\n\nexport class PositioninLoadManager {\n    loadFromDatablock(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase): void {\n        block.width = bl.getAttribute('width')\n            ? bl.getAttribute('width')!\n            : inBlock.width\n            ? inBlock.width\n            : '100%'\n        block.height = bl.getAttribute('height')\n            ? bl.getAttribute('height')!\n            : inBlock.height\n            ? inBlock.height\n            : '300px'\n        block.align = bl.getAttribute('align')\n            ? bl.getAttribute('align')!\n            : inBlock.align\n            ? inBlock.align\n            : 'center'\n    }\n}\n\nexport const positioninLoadManager = new PositioninLoadManager()\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport {\n    IBlocklyToolbox,\n    BlockPrimaryColors,\n    BlockArgumentTypes,\n    IBlockDefinition\n} from '@/lib/IBlocklyHelper'\nimport { blocklyHelper } from '@/lib/BlocklyHelper'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\n\nexport class BlocklyLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'BLOCKLY'\n    }\n\n    private loadCustomBlocks(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const customBlocks = bl.querySelectorAll('script#customblocks') //bl.getElementsByTagName('CUSTOMBLOCKS')\n        if (customBlocks.length > 0) {\n            const str: string = customBlocks[0].innerHTML ? customBlocks[0].innerHTML : '{}'\n\n            try {\n                const arr: IBlockDefinition[] = new Function(blocklyHelper.prepareCode(str))()\n                arr.forEach(bl => {\n                    if (bl.JSON === undefined) {\n                        bl.JSON = {\n                            type: '',\n                            message0: '',\n                            args0: [],\n                            nextStatement: null,\n                            previousStatement: null,\n                            colour: ''\n                        }\n                    }\n                    if (bl.uuid === undefined || bl.uuid === '') {\n                        bl.uuid = uuid.v4()\n                    }\n\n                    if (bl.codeString === undefined && bl._code !== undefined) {\n                        bl.codeString = bl._code.toString()\n                    }\n                    bl._code = undefined\n                })\n                block.blockly.blocks = arr\n            } catch (e) {\n                console.error('Error parsing Blocks JSON', e)\n            }\n        }\n    }\n\n    private loadToolbox(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const toolboxInput = bl.getElementsByTagName('TOOLBOX')\n        if (toolboxInput.length > 0) {\n            const toolboxStr: string = toolboxInput[0].innerHTML ? toolboxInput[0].innerHTML : ''\n\n            if (toolboxStr === '') {\n                block.blockly.toolbox = this.defaultToolbox\n            } else {\n                try {\n                    const obj: IBlocklyToolbox = new Function(\n                        blocklyHelper.prepareCode(toolboxStr)\n                    )()\n                    obj.categories.forEach(c => {\n                        if (c.uuid === undefined || c.uuid === '') {\n                            c.uuid = uuid.v4()\n                        }\n                        if (c.color === undefined) {\n                            c.color = ''\n                        }\n                        c.items.forEach(i => {\n                            if (i.uuid === undefined || i.uuid === '') {\n                                i.uuid = uuid.v4()\n                            }\n                        })\n                    })\n                    block.blockly.toolbox = obj\n                } catch (e) {\n                    console.error('Error Parsing ToolboxJSON', e)\n                }\n            }\n        } else {\n            block.blockly.toolbox = this.defaultToolbox\n        }\n    }\n\n    private loadOverrideToolbox(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase\n    ) {\n        const toolboxOverride = bl.querySelectorAll('script#toolboxoverride') //bl.getElementsByTagName('TOOLBOXOVERRIDE')\n        if (toolboxOverride.length > 0) {\n            block.blockly.toolboxOverride = toolboxOverride[0].innerHTML\n                ? toolboxOverride[0].innerHTML\n                : ''\n\n            block.blockly.useOverride =\n                toolboxOverride[0].hasAttribute('use') &&\n                toolboxOverride[0].getAttribute('use') != 'false' &&\n                toolboxOverride[0].getAttribute('use') != '0'\n        }\n    }\n\n    private loadCode(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const codes = bl.querySelectorAll('script#content') //bl.getElementsByTagName('SCRIPT')\n\n        if (codes.length > 0) {\n            block.content = codes[0].innerHTML ? codes[0].innerHTML : ''\n        } else {\n            block.content = '<xml xmlns=\"https://developers.google.com/blockly/xml\"></xml>'\n        }\n        block.hasCode = true\n    }\n\n    private isTrue(val: any): boolean {\n        return val !== undefined && val != 'false' && val != '0'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        block.obj = null\n        positioninLoadManager.loadFromDatablock(bl, inBlock, block)\n\n        block.blockly.showControls = this.isTrue(inBlock.showControls)\n\n        this.loadCustomBlocks(bl, inBlock, block)\n        this.loadToolbox(bl, inBlock, block)\n        this.loadOverrideToolbox(bl, inBlock, block)\n        this.loadCode(bl, inBlock, block)\n    }\n\n    get defaultToolbox(): IBlocklyToolbox {\n        const tb: IBlocklyToolbox = {\n            categories: [\n                {\n                    uuid: uuid.v4(),\n                    name: 'Logic',\n                    color: '{!PrimaryColors.Logic}',\n                    items: [\n                        { _expanded: false, type: 'controls_if', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_compare', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_operation', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_negate', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_boolean', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_arithmetic', uuid: uuid.v4() },\n                        { _expanded: false, type: 'lists_create_empty', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Loops',\n                    color: '{!PrimaryColors.Loop}',\n                    items: [\n                        { _expanded: false, type: 'controls_repeat_ext', uuid: uuid.v4() },\n                        { _expanded: false, type: 'controls_whileUntil', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Math',\n                    color: '{!PrimaryColors.Math}',\n                    items: [\n                        { _expanded: false, type: 'math_number', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_arithmetic', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_single', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Text',\n                    color: '{!PrimaryColors.Text}',\n                    items: [\n                        { _expanded: false, type: 'text', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_length', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_print', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_join', uuid: uuid.v4() },\n                        { _expanded: false, type: 'colour_rgb', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Variables',\n                    custom: 'VARIABLE',\n                    color: '{!PrimaryColors.Variable}',\n                    items: []\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Procedures',\n                    custom: 'PROCEDURE',\n                    color: '{!PrimaryColors.Procedure}',\n                    items: []\n                }\n            ]\n        }\n        return tb\n    }\n}\n\nexport const blocklyLoader = new BlocklyLoadManager()\n\nexport default function(loaders: { [index: string]: IBlockloadManager }) {\n    loaders[blocklyLoader.blockTag] = blocklyLoader\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport { IListItemData } from '@/lib/ICompilerRegistry'\nimport { KnownBlockTypes } from '@/lib/ICodeBlocks'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { blocklyLoader } from '@/lib/BlockloadManagers/BlocklyManager'\n\n@Component\nexport default class CodeBlocksContainer extends Vue {\n    frank = 'hello'\n    settingsMenu: boolean = false\n    highlighted: boolean = false\n\n    get types(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.Canvas'),\n                value: KnownBlockTypes.PLAYGROUND,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Text'),\n                value: KnownBlockTypes.TEXT,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Hidden'),\n                value: KnownBlockTypes.BLOCKHIDDEN,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Static'),\n                value: KnownBlockTypes.BLOCKSTATIC,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Block'),\n                value: KnownBlockTypes.BLOCK,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Blockly'),\n                value: KnownBlockTypes.BLOCKLY,\n            },\n        ]\n    }\n    get alignments(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.Start'),\n                value: 'left',\n            },\n            {\n                label: this.$l('CodeBlockContainer.Center'),\n                value: 'center',\n            },\n            {\n                label: this.$l('CodeBlockContainer.End'),\n                value: 'right',\n            },\n        ]\n    }\n    get scriptVersions(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_1'),\n                value: '100',\n            },\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_2'),\n                value: '101',\n            },\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_3'),\n                value: '102',\n            },\n        ]\n    }\n\n    get isDeprecatedScriptVersion(): boolean {\n        return this.scriptVersion === '100'\n    }\n\n    get isExperimentalScriptVersion(): boolean {\n        return this.scriptVersion === '102'\n    }\n\n    // mounted() {\n    //     console.log('Mounted', this)\n    // }\n\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ default: false }) editMode!: boolean\n\n    validNumber(v: 'auto' | number): boolean | string {\n        //console.log(v, isNaN(v), v!='auto');\n        if (v != 'auto' && isNaN(v)) {\n            return \"Must be a valid Number or 'auto'.\"\n        }\n        return true\n    }\n    toggleExpanded(): void {\n        this.$CodeBlock.refreshAllCodeMirrors()\n        this.expanded = !this.expanded\n    }\n    moveUp(): void {\n        this.$emit('move-up', this.block.id)\n    }\n    moveDown(): void {\n        this.$emit('move-down', this.block.id)\n    }\n    showTypeInfoDialog(): void {\n        this.$q\n            .dialog({\n                title: this.$l('CodeBlockContainer.TypesCaption'),\n                message: this.$l('CodeBlockContainer.Types'),\n                html: true,\n                style: 'width:75%',\n            })\n            .onOk(() => {\n                // console.log('OK')\n            })\n            .onCancel(() => {\n                // console.log('Cancel')\n            })\n            .onDismiss(() => {\n                // console.log('I am triggered on both OK and Cancel')\n            })\n    }\n    removeBlock(): void {\n        const self = this\n        self.highlighted = true\n        this.$q\n            .dialog({\n                title: this.$l('CodeBlockContainer.Confirm'),\n                message: this.$l('CodeBlockContainer.DeleteQuestion'),\n                html: true,\n                ok: {\n                    push: true,\n                    color: 'negative',\n                    icon: 'warning',\n                },\n                cancel: {\n                    push: true,\n                    color: 'positive',\n                },\n                persistent: true,\n            })\n            .onOk(() => {\n                this.$emit('remove-block', this.block.id)\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                self.highlighted = false\n            })\n    }\n\n    get expanded(): boolean {\n        return this.block.expanded\n    }\n    set expanded(v: boolean) {\n        this.block.expanded = v\n    }\n\n    get canMoveUp(): boolean {\n        return this.block.id > 0\n    }\n    get canMoveDown(): boolean {\n        return !this.block.isLast\n    }\n\n    filteredCopy(objIn: object, extended: boolean = true, path: string = 'this'): object {\n        let obj = {}\n        Object.keys(objIn)\n            .filter(\n                (k) =>\n                    k.indexOf('appSettings') != 0 &&\n                    k.indexOf('$') != 0 &&\n                    k.indexOf('_') != 0 &&\n                    (!extended ||\n                        (k != 'obj' &&\n                            k != 'errors' &&\n                            k != 'content' &&\n                            k != 'firstLine' &&\n                            k != 'nextLine' &&\n                            k != 'lineCount' &&\n                            k != 'hasCode' &&\n                            k != 'isLast' &&\n                            k != 'readyCount' &&\n                            k != 'noContent' &&\n                            (this.block.type === KnownBlockTypes.BLOCKLY || k != 'blockly'))) &&\n                    k != 'uuid' &&\n                    k != 'scopeUUID' &&\n                    k != 'scopeSelector'\n            )\n            .forEach((k) => {\n                let v = objIn[k]\n                if (v !== undefined && v !== null && typeof v === 'object') {\n                    if (Array.isArray(v)) {\n                        v = v.map((item, nr) =>\n                            this.filteredCopy(item, false, path + '.' + k + `[${nr}]`)\n                        )\n                    } else {\n                        v = this.filteredCopy(v, false, path + '.' + k)\n                    }\n                }\n                obj[k] = v\n            })\n\n        return obj\n    }\n    get serializedOptions(): string {\n        return JSON.stringify(this.filteredCopy(this.block))\n    }\n    set serializedOptions(v: string) {}\n\n    get hasExtendedSettings(): boolean {\n        return (\n            this.type == KnownBlockTypes.PLAYGROUND ||\n            this.type == KnownBlockTypes.BLOCK ||\n            this.type == KnownBlockTypes.BLOCKLY\n        )\n    }\n    get isVersionedPlayground(): boolean {\n        return this.type == KnownBlockTypes.PLAYGROUND\n    }\n    get canSetLineNumbers() {\n        return this.type == KnownBlockTypes.BLOCK\n    }\n    get canHaveAlternativeContent() {\n        return this.type == KnownBlockTypes.BLOCK\n    }\n    get canDefinePlacement() {\n        return this.type == KnownBlockTypes.PLAYGROUND || this.type == KnownBlockTypes.BLOCKLY\n    }\n    get shouldAutoReset(): boolean {\n        return this.block.shouldAutoreset\n    }\n    set shouldAutoReset(v: boolean) {\n        this.$emit('auto-reset-change', {\n            shouldAutoreset: v,\n            id: this.block.id,\n        })\n    }\n\n    get scriptVersion(): string {\n        if (\n            this.block === undefined ||\n            this.block.version === undefined ||\n            this.block.version == ''\n        ) {\n            return '100'\n        }\n        return this.block.version\n    }\n    get scriptVersionObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.scriptVersions, this.scriptVersion)\n    }\n    set scriptVersionObj(v: IListItemData) {\n        this.$emit('script-version-change', {\n            version: v.value,\n            id: this.block.id,\n        })\n    }\n\n    get hasAltComntent(): boolean {\n        return this.block.hasAlternativeContent\n    }\n    set hasAltComntent(v: boolean) {\n        if (v != this.block.hasAlternativeContent && v) {\n            this.$nextTick(() => {\n                setTimeout(function () {\n                    $('.CodeMirror')\n                        .toArray()\n                        .forEach((cm) => {\n                            const element = cm as any\n                            element.CodeMirror.refresh()\n                        })\n                }, 200)\n            })\n        }\n        this.block.hasAlternativeContent = v\n    }\n\n    get colorClass(): string {\n        const t = this.type\n        if (t == KnownBlockTypes.TEXT) {\n            return 'text-border'\n        } else if (t == KnownBlockTypes.PLAYGROUND) {\n            return 'playground-border'\n        } else if (t == KnownBlockTypes.BLOCK) {\n            return 'block-border'\n        } else if (t == KnownBlockTypes.BLOCKHIDDEN) {\n            return 'block-hidden-border'\n        } else if (t == KnownBlockTypes.BLOCKSTATIC) {\n            return 'block-static-border'\n        }\n        return 'default-border'\n    }\n    get bgClass(): string {\n        if (this.highlighted) {\n            return 'highlightedCard'\n        }\n        return ''\n    }\n    get type(): KnownBlockTypes {\n        if (this.block.type == KnownBlockTypes.BLOCK) {\n            if (this.block.hidden) {\n                return KnownBlockTypes.BLOCKHIDDEN\n            }\n            if (this.block.static) {\n                return KnownBlockTypes.BLOCKSTATIC\n            }\n        }\n        return this.block.type\n    }\n    get typeObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.types, this.type)\n    }\n    set typeObj(val: IListItemData) {\n        const v = val.value\n        let ret = {\n            type: v.match(/([^-]*)/)![0],\n            hidden: v == KnownBlockTypes.BLOCKHIDDEN,\n            static: v == KnownBlockTypes.BLOCKSTATIC,\n            id: this.block.id,\n            hasCode: false,\n        }\n        ret.hasCode = ret.type == KnownBlockTypes.BLOCK\n\n        if (ret.type == KnownBlockTypes.PLAYGROUND && this.block.content === '' && this.editMode) {\n            if (this.block.scriptVersion == '100') {\n                this.block.content =\n                    '{\\n    init: function(canvasElement) {\\n\\n    },\\n    update: function(output, canvasElement) {\\n\\n    }\\n}'\n            } else {\n                this.block.content =\n                    '{\\n    init: function(canvasElement, outputElement, scope, runner) {\\n\\n    },\\n    addArgumentsTo(args) {},\\n    reset(canvasElement) {},\\n    update: function(txt, json, canvasElement, outputElement) {\\n\\n    }\\n}'\n            }\n        } else if (\n            ret.type == KnownBlockTypes.BLOCKLY &&\n            this.block.blockly.toolbox.categories.length === 0 &&\n            this.editMode\n        ) {\n            this.block.blockly.toolbox = blocklyLoader.defaultToolbox\n        }\n\n        this.$emit('type-change', ret)\n    }\n    get visibleLines(): number | 'auto' {\n        const v = this.block.visibleLines\n        if (v == 'auto' || isNaN(v)) {\n            return 'auto'\n        }\n        return v\n    }\n    set visibleLines(v: number | 'auto') {\n        if (v == 'auto' || isNaN(v)) {\n            v = 'auto'\n        }\n        console.log('set', v)\n\n        this.$emit('visible-lines-change', {\n            visibleLines: v,\n            id: this.block.id,\n        })\n    }\n\n    get width(): string {\n        return this.block.width\n    }\n    set width(v: string) {\n        this.$emit('placement-change', {\n            width: v,\n            height: this.block.height,\n            align: this.block.align,\n            id: this.block.id,\n        })\n    }\n    get height(): string {\n        return this.block.height\n    }\n    set height(v: string) {\n        this.$emit('placement-change', {\n            width: this.block.width,\n            height: v,\n            align: this.block.align,\n            id: this.block.id,\n        })\n    }\n    get align(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.alignments, this.block.align)\n    }\n    set align(v: IListItemData) {\n        this.$emit('placement-change', {\n            width: this.block.width,\n            height: this.block.height,\n            align: v.value,\n            id: this.block.id,\n        })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlockContainer.vue?vue&type=template&id=998d0d38&\"\nimport script from \"./CodeBlockContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlockContainer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlockContainer.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QPopupProxy from 'quasar/src/components/popup-proxy/QPopupProxy.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport QBanner from 'quasar/src/components/banner/QBanner.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCard,QCardSection,QSelect,QBtn,QPopupProxy,QInput,QToggle,QSlideTransition,QBanner,QItem,QItemSection,QIcon,QItemLabel});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row q-pa-none q-mb-md\"},[_c('div',{staticClass:\"col-xs-12 col-sm-4\"},[_c('q-card',{staticClass:\"q-mb-sm q-mr-sm-xs\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Language')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.languageHasCompiler,\"label\":_vm.$t('CodeBlocksSettings.AllowExec')},model:{value:(_vm.runCode),callback:function ($$v) {_vm.runCode=$$v},expression:\"runCode\"}})],1),_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.canContinousCompile,\"label\":_vm.$t('CodeBlocksSettings.ContinousCompile')},model:{value:(_vm.continuousCompile),callback:function ($$v) {_vm.continuousCompile=$$v},expression:\"continuousCompile\"}})],1),_c('div',{class:(\"col-xs-12 col-sm-\" + (_vm.runCode ? 6 : 12) + \" col-md-\" + (_vm.runCode ? 8 : 12) + \" \" + (_vm.runCode ? 'q-pr-md-sm' : ''))},[_c('q-select',{attrs:{\"options\":_vm.compiledLanguages,\"label\":_vm.$t('CodeBlocksSettings.Language')},model:{value:(_vm.compilerLanguageObj),callback:function ($$v) {_vm.compilerLanguageObj=$$v},expression:\"compilerLanguageObj\"}})],1),(_vm.runCode)?_c('div',{staticClass:\"col-xs-12 col-sm-6 col-md-4\"},[_c('q-select',{attrs:{\"options\":_vm.compilerVersions,\"stack-label\":\"\",\"label\":_vm.$t('CodeBlocksSettings.CVersion')},scopedSlots:_vm._u([{key:\"selected\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.compilerVersion)+\" \"),(_vm.isDeprecated)?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"yellow\",\"text-color\":\"brown-10\",\"icon\":\"hourglass_disabled\"}}):_vm._e(),(_vm.isExperimental)?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"orange\",\"text-color\":\"white\",\"icon\":\"whatshot\"}}):_vm._e()]},proxy:true},{key:\"option\",fn:function(scope){return [_c('q-item',_vm._g(_vm._b({},'q-item',scope.itemProps,false),scope.itemEvents),[_c('q-item-section',[_c('q-item-label',[_vm._v(\" \"+_vm._s(scope.opt)+\" \"),(\n                                                    _vm.isDeprecatedVersion(\n                                                        _vm.compilerLanguage,\n                                                        scope.opt\n                                                    )\n                                                )?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"yellow\",\"text-color\":\"brown-10\",\"icon\":\"hourglass_disabled\"}}):_vm._e(),(\n                                                    _vm.isExperimentalVersion(\n                                                        _vm.compilerLanguage,\n                                                        scope.opt\n                                                    )\n                                                )?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"orange\",\"text-color\":\"white\",\"icon\":\"whatshot\"}}):_vm._e()],1)],1)],1)]}}],null,false,541447989),model:{value:(_vm.compilerVersion),callback:function ($$v) {_vm.compilerVersion=$$v},expression:\"compilerVersion\"}})],1):_vm._e(),_c('q-slide-transition',[(_vm.isExperimental)?_c('q-banner',{staticClass:\"bg-orange text-white col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"whatshot\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.ExperimentalCompiler'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.ExperimentalCompilerDesc'))+\" \")])],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[(_vm.isDeprecated)?_c('q-banner',{staticClass:\"bg-yellow-12 text-black col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"hourglass_disabled\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.DeprecatedCompiler'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.DeprecatedCompilerDesc'))+\" \")])],1)],1)],1):_vm._e()],1),(_vm.runCode)?_c('div',{staticClass:\"col-12\"},[_c('q-input',{attrs:{\"rules\":[_vm.validNumber],\"label\":_vm.$t('CodeBlocksSettings.RunTime'),\"maxlength\":\"6\"},model:{value:(_vm.maxRuntime),callback:function ($$v) {_vm.maxRuntime=$$v},expression:\"maxRuntime\"}})],1):_vm._e(),(_vm.runCode && (_vm.accepstArguments || _vm.allowsMessagePassing))?_c('div',{staticClass:\"col-12 text-body2\"},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.AllowArguments'))+\" \"),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showArgsInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.accepstArguments)?_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.canPersistentArguments,\"label\":_vm.$t('CodeBlocksSettings.PersistentArguments')},model:{value:(_vm.persistentArguments),callback:function ($$v) {_vm.persistentArguments=$$v},expression:\"persistentArguments\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showPersistentArgsInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.allowsMessagePassing)?_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.allowsMessagePassing,\"label\":_vm.$t('CodeBlocksSettings.MessagePassing')},model:{value:(_vm.messagePassing),callback:function ($$v) {_vm.messagePassing=$$v},expression:\"messagePassing\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showMessagesInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.allowsMessagePassing)?_c('div',{staticClass:\"col-12 q-pl-lg\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.allowsMessagePassing || !_vm.messagePassing,\"label\":_vm.$t('CodeBlocksSettings.KeepAlive')},model:{value:(_vm.keepAlive),callback:function ($$v) {_vm.keepAlive=$$v},expression:\"keepAlive\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showAliveInfoDialog}})],1):_vm._e()],1)])],1)],1),_c('div',{staticClass:\"col-xs-12 col-sm-4\"},[_c('q-slide-transition',[(_vm.runCode)?_c('q-card',{staticClass:\"q-mb-sm q-mr-sm-xs\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Output')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-md-6 col-12 q-pr-md-sm\"},[_c('q-input',{attrs:{\"rules\":[_vm.validNumber],\"label\":_vm.$t('CodeBlocksSettings.MaxCharacters'),\"maxlength\":\"6\"},model:{value:(_vm.maxCharacters),callback:function ($$v) {_vm.maxCharacters=$$v},expression:\"maxCharacters\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('q-select',{attrs:{\"options\":_vm.outputParsers,\"label\":_vm.$t('CodeBlocksSettings.Parser')},model:{value:(_vm.outputParser),callback:function ($$v) {_vm.outputParser=$$v},expression:\"outputParser\"}})],1)])])],1):_vm._e()],1),_c('q-card',{staticClass:\"q-mr-sm-xs\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Themes')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 col-md-6 q-pr-md-sm\"},[_c('q-select',{attrs:{\"options\":_vm.themes,\"label\":_vm.$t('CodeBlocksSettings.TGeneral')},model:{value:(_vm.codeTheme),callback:function ($$v) {_vm.codeTheme=$$v},expression:\"codeTheme\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('q-select',{attrs:{\"options\":_vm.themes,\"label\":_vm.$t('CodeBlocksSettings.TSolution')},model:{value:(_vm.solutionTheme),callback:function ($$v) {_vm.solutionTheme=$$v},expression:\"solutionTheme\"}})],1)])])],1)],1),_c('q-slide-transition',[(_vm.runCode)?_c('div',{staticClass:\"col-xs-12 col-sm-4\"},[_c('q-card',[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Libraries')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row q-my-none q-py-none\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 q-my-none q-py-none\"},[_c('q-select',{attrs:{\"options\":_vm.domLibraries,\"multiple\":\"\",\"use-chips\":\"\",\"stack-label\":\"\",\"deletable-chips\":\"\",\"label\":_vm.$t('CodeBlocksSettings.DomLibs')},model:{value:(_vm.domLibrary),callback:function ($$v) {_vm.domLibrary=$$v},expression:\"domLibrary\"}})],1),(_vm.runCode && _vm.workerLibraries.length > 0)?_c('div',{staticClass:\"col-xs-12 q-my-none q-py-none\"},[_c('q-select',{attrs:{\"options\":_vm.workerLibraries,\"multiple\":\"\",\"use-chips\":\"\",\"stack-label\":\"\",\"deletable-chips\":\"\",\"label\":_vm.$t('CodeBlocksSettings.WorkLibs')},model:{value:(_vm.workerLibrary),callback:function ($$v) {_vm.workerLibrary=$$v},expression:\"workerLibrary\"}})],1):_vm._e()])])],1)],1):_vm._e()]),_c('div',{class:(\"col-xs-\" + (_vm.options.randomizer.active ? '12' : '12') + \" q-mt-sm\")},[_c('RandomizerSettings',{attrs:{\"options\":_vm.options}})],1),_c('div',{staticClass:\"col-xs-12\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.serializedOptions),expression:\"serializedOptions\"}],staticClass:\"blocksettings\",attrs:{\"name\":(\"block_settings[\" + (this.options.id) + \"]\")},domProps:{\"value\":(_vm.serializedOptions)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.serializedOptions=$event.target.value}}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('q-card',[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('RandomizerSettings.Caption'))+\" \"),_c('q-toggle',{model:{value:(_vm.options.randomizer.active),callback:function ($$v) {_vm.$set(_vm.options.randomizer, \"active\", $$v)},expression:\"options.randomizer.active\"}})],1),_c('q-slide-transition',[_c('q-card-section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.randomizer.active),expression:\"options.randomizer.active\"}],staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"tagList\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$t('RandomizerSettings.Available'))+\" \"),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"color\":\"primary\",\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"add\"},on:{\"click\":_vm.addTag}})],1),_c('div',{staticClass:\"row q-mb-sm\"},_vm._l((_vm.options.randomizer.knownTags),function(tag,i){return _c('div',{key:tag,class:(\"tagItem q-ml-sm \" + _vm.tagClass)},[_c('div',{staticClass:\"row no-wrap\"},[_c('div',{staticClass:\"tagInfo col-shrink\"},[_c('div',{staticClass:\"tagName\"},[_vm._v(_vm._s(tag))]),_c('div',{staticClass:\"tagString\"},[_vm._v(\"{:\"+_vm._s(tag)+\"}\")])]),_c('div',{staticClass:\"tagAction col-4 q-pl-sm text-right\"},[_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"delete\"},on:{\"click\":function($event){return _vm.removeTag(i)}}})],1)])])}),0)]),_c('div',{staticClass:\"tagList q-mt-lg\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$t('RandomizerSettings.Sets'))+\" \"),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"color\":\"primary\",\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"add\"},on:{\"click\":_vm.addSet}})],1),_c('q-list',{staticClass:\"setList\"},_vm._l((_vm.options.randomizer.sets),function(s,i){return _c('q-item',{key:s.uuid},[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-avatar',{attrs:{\"color\":\"primary\",\"text-color\":\"white\",\"disabled\":!_vm.isVisible(i)}},[_vm._v(\" \"+_vm._s(i)+\" \")])],1),_c('q-item-section',[_c('q-item-label',[_vm._v(_vm._s(s.title))]),_c('q-item-label',{attrs:{\"caption\":\"\",\"lines\":\"2\"}},[_c('div',{staticClass:\"row q-mb-sm\"},_vm._l((s.values),function(tag){return _c('div',{key:tag.name,class:(\"tagItem q-ml-sm \" + _vm.tagClass)},[_c('div',{staticClass:\"row no-wrap\"},[_c('div',{staticClass:\"tagInfo col-shrink\"},[_c('div',{staticClass:\"tagName\"},[_vm._v(_vm._s(tag.tag))]),_c('div',{staticClass:\"tagString\"},[_vm._v(_vm._s(tag.value))])])])])}),0)])],1),_c('q-item-section',{attrs:{\"side\":\"\",\"top\":\"\"}},[_c('div',{staticClass:\"text-grey-8 q-gutter-xs\"},[_c('q-icon',{staticClass:\"q-mr-lg\",attrs:{\"name\":_vm.isCompleteSet(s) ? 'check' : 'warning',\"color\":_vm.isCompleteSet(s) ? 'positive' : 'negative',\"size\":\"24px\"}}),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":_vm.isVisible(i) ? 'visibility' : 'visibility_off'},on:{\"click\":function($event){return _vm.setVisible(i)}}},[_c('q-tooltip',{attrs:{\"delay\":200,\"offset\":[0, 10]}},[_vm._v(\" Use this set when running code in preview or editMode. \")])],1),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"edit\"}},[_c('RandomizerSetEditor',{attrs:{\"options\":_vm.options,\"tagSet\":_vm.getFullSet(s),\"nr\":i}})],1),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"delete\"},on:{\"click\":function($event){return _vm.removeSet(i)}}})],1)])],1)}),1)],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-popup-proxy',{attrs:{\"transition-show\":\"flip-up\",\"transition-hide\":\"flip-down\"},on:{\"before-show\":_vm.onShow}},[_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('RandomizerSetEditor.Caption', { nr: _vm.nr })))])]),_vm._l((_vm.tagSet.values),function(tag){return _c('div',{key:tag.tag,staticClass:\"q-pl-md\"},[_c('q-input',{attrs:{\"label\":tag.tag},model:{value:(tag.value),callback:function ($$v) {_vm.$set(tag, \"value\", $$v)},expression:\"tag.value\"}})],1)})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\n\n@Component\nexport default class RandomizerSetEditor extends Vue {\n    @Prop({ required: true }) options!: any\n    @Prop({ required: true }) tagSet!: IRandomizerSet\n    @Prop({ required: true }) nr!: number\n\n    get tags(): string[] {\n        return this.tagSet.values.map(v => v.tag)\n    }\n\n    onShow(o) {\n        this.tagSet.values = this.tagSet.values.filter(\n            v => this.options.randomizer.knownTags.indexOf(v.tag) >= 0\n        )\n        this.options.randomizer.knownTags.forEach(t => {\n            if (this.tagSet.values.find(v => v.tag == t) === undefined) {\n                this.tagSet.values.push({\n                    tag: t,\n                    value: ''\n                })\n            }\n        })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RandomizerSetEditor.vue?vue&type=template&id=e5082460&\"\nimport script from \"./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QPopupProxy from 'quasar/src/components/popup-proxy/QPopupProxy.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QPopupProxy,QInput});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport RandomizerSetEditor from '@/components/RandomizerSetEditor.vue'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { ICodeBlockSettingsOptions } from '@/components/CodeBlocksSettings.vue'\n\n@Component({ components: { RandomizerSetEditor } })\nexport default class RandomizerSettings extends Vue {\n    _newTagName: string = ''\n\n    @Prop({ required: true }) options!: ICodeBlockSettingsOptions\n\n    get tagClass(): string {\n        return Vue.$tagger.className.rnd + ' tag-mark-start tag-mark-end tag-mark-shadow'\n    }\n\n    isVisible(nr: number): boolean {\n        return nr == this.options.randomizer.previewIndex\n    }\n    setVisible(nr: number): void {\n        this.options.randomizer.previewIndex = nr\n    }\n    isValidTag(tag: string): boolean {\n        return this.options.randomizer.knownTags.find(t => t == tag) !== undefined\n    }\n    isCompleteSet(s: IRandomizerSet): boolean {\n        if (s.values.filter(v => this.options.randomizer.knownTags.indexOf(v.tag) < 0).length > 0) {\n            return false\n        }\n        if (\n            this.options.randomizer.knownTags.filter(\n                t => s.values.find(v => v.tag == t) === undefined\n            ).length > 0\n        ) {\n            return false\n        }\n        return true\n    }\n    getFullSet(s: IRandomizerSet): IRandomizerSet {\n        return s\n    }\n    removeSet(nr: number): void {\n        this.options.randomizer.sets.splice(nr, 1)\n    }\n    addSet(): void {\n        this.options.randomizer.sets.push({ uuid: this.$uuid.v4(), values: [] })\n    }\n    removeTag(nr: number): void {\n        this.options.randomizer.knownTags.splice(nr, 1)\n    }\n    addTag(): void {\n        this.$q\n            .dialog({\n                title: 'Create Tag',\n                message: 'This will generate a new randomizer-Tag with the below name.',\n                html: true,\n                persistent: true,\n                prompt: {\n                    model: 'tag_name',\n                    type: 'text'\n                },\n                ok: {\n                    push: true\n                },\n                cancel: {\n                    flat: true,\n                    color: 'gray'\n                }\n            })\n            .onOk(data => {\n                data = data.replace(/\\W/g, '_')\n                //have this name\n                if (this.options.randomizer.knownTags.filter(t => t == data).length > 0) {\n                    let ct = 1\n                    const odata = data\n                    do {\n                        data = odata + '_' + ct\n                        ct++\n                    } while (this.options.randomizer.knownTags.filter(t => t == data).length > 0)\n                }\n                this.options.randomizer.knownTags.push(data)\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                //self.highlighted = false;\n            })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RandomizerSettings.vue?vue&type=template&id=8b99c0d6&scoped=true&\"\nimport script from \"./RandomizerSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./RandomizerSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RandomizerSettings.vue?vue&type=style&index=0&id=8b99c0d6&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b99c0d6\",\n  null\n  \n)\n\nexport default component.exports\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QList from 'quasar/src/components/item/QList.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCard,QCardSection,QToggle,QSlideTransition,QBtn,QList,QItem,QItemSection,QAvatar,QItemLabel,QIcon,QTooltip});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport RandomizerSettings from '@/components/RandomizerSettings.vue'\nimport { IListItemData, ICompilerID } from '@/lib/ICompilerRegistry'\nimport { CodeOutputTypes, IRandomizerSettings } from '@/lib/ICodeBlocks'\n\nexport interface ICodeBlockSettingsOptions {\n    language: string\n    compiler: ICompilerID\n    executionTimeout: number\n    maxCharacters: number\n    runCode: boolean\n    domLibs: string[]\n    workerLibs: string[]\n    id: number\n    codeTheme: string\n    solutionTheme: string\n    outputParser: CodeOutputTypes\n    randomizer: IRandomizerSettings\n    continuousCompilation: boolean\n    persistentArguments: boolean\n    messagePassing: boolean\n    keepAlive: boolean\n}\n\n@Component({ components: { RandomizerSettings } })\nexport default class CodeBlocksSettings extends Vue {\n    get themes(): IListItemData[] {\n        return [\n            { label: 'Solarized', value: 'solarized light' },\n            { label: 'Solarized (dark)', value: 'solarized dark' },\n            { label: 'Base16 (dark)', value: 'base16-dark' },\n            { label: 'Base16 (light)', value: 'base16-light' },\n            { label: 'Duotone (dark)', value: 'duotone-dark' },\n            { label: 'Duotone (light)', value: 'duotone-light' },\n            { label: 'XQ (dark)', value: 'xq-dark' },\n            { label: 'XQ (light)', value: 'xq-light' },\n            { label: 'Blackboard', value: 'blackboard' },\n            { label: 'neo', value: 'neo' },\n            { label: 'mbo', value: 'mbo' },\n            { label: 'mdn like', value: 'mdn-like' },\n        ]\n    }\n\n    get outputParsers(): IListItemData[] {\n        return [\n            { label: this.$l('CodeBlocksSettings.PAutomatic'), value: CodeOutputTypes.AUTO },\n            { label: this.$l('CodeBlocksSettings.PText'), value: CodeOutputTypes.TEXT },\n            { label: this.$l('CodeBlocksSettings.PJSON'), value: CodeOutputTypes.JSON },\n            { label: this.$l('CodeBlocksSettings.PMagic'), value: CodeOutputTypes.MAGIC },\n        ]\n    }\n    @Prop({ required: true }) options!: ICodeBlockSettingsOptions\n\n    validNumber(v: any): boolean | string {\n        if (isNaN(v)) {\n            return 'Must be a valid Number.'\n        }\n        return true\n    }\n\n    get serializedOptions(): string {\n        const o: any = {\n            ...this.options,\n        }\n        o.randomizer = {\n            ...this.options.randomizer,\n        }\n        o.randomizer.sets = this.options.randomizer.sets.map((s) => {\n            let values = {}\n            s.values.forEach((v) => (values[v.tag] = v.value))\n            return values\n        })\n        return JSON.stringify(o)\n    }\n    set serializedOptions(v: string) {}\n\n    get domLibraries(): IListItemData[] {\n        return this.$compilerRegistry.domLibraries\n    }\n    get compiledLanguages(): IListItemData[] {\n        if (this.options.runCode === false) {\n            return this.languages\n        }\n        return this.$compilerRegistry.languages\n    }\n    get workerLibraries(): IListItemData[] {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: this.compilerLanguage,\n            version: this.compilerVersion,\n        })\n        if (c === undefined || c.libraries === undefined) {\n            return []\n        }\n        return c.libraries.map((l) => {\n            return { label: l.displayName, value: l.key }\n        })\n    }\n    get languages(): IListItemData[] {\n        return this.$CodeBlock.knownLanguages()\n    }\n    get compilerVersions(): string[] {\n        return this.$compilerRegistry.versionsForLanguage(this.compilerLanguage)\n    }\n\n    isExperimentalVersion(language: string, version: string): boolean {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: language,\n            version: version,\n        })\n        if (c === undefined) {\n            return false\n        }\n        return c.experimental\n    }\n\n    isDeprecatedVersion(language: string, version: string): boolean {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: language,\n            version: version,\n        })\n        if (c === undefined) {\n            return false\n        }\n        return c.deprecated\n    }\n\n    get isExperimental(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.experimental\n        }\n        return false\n    }\n\n    get isDeprecated(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.deprecated\n        }\n        return false\n    }\n\n    get languageHasCompiler(): boolean {\n        if (this.runCode) {\n            return true\n        }\n        const c = this.$compilerRegistry.getCompiler({ languageType: this.compilerLanguage })\n        return c !== undefined\n    }\n    get compilerLanguage(): string {\n        if (this.options.runCode === false) {\n            return this.options.language\n        }\n        return this.options.compiler.languageType\n    }\n    get compilerLanguageObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.compiledLanguages, this.compilerLanguage)\n    }\n    set compilerLanguageObj(v: IListItemData) {\n        if (this.options.runCode === false) {\n            this.$emit('language-change', v.value)\n        }\n        this.$emit('compiler-change', v.value)\n    }\n\n    get compilerVersion(): string {\n        return this.options.compiler.version\n    }\n    set compilerVersion(v: string) {\n        this.$emit('compiler-version-change', v)\n    }\n\n    get runCode(): boolean {\n        return this.options.runCode\n    }\n    set runCode(v: boolean) {\n        this.$emit('run-state-change', v)\n    }\n\n    get maxRuntime(): number {\n        return this.options.executionTimeout\n    }\n    set maxRuntime(v: number) {\n        this.$emit('timeout-change', v)\n    }\n\n    get maxCharacters(): number {\n        return this.options.maxCharacters\n    }\n    set maxCharacters(v: number) {\n        this.$emit('character-limit-change', v)\n    }\n\n    get domLibrary(): IListItemData[] {\n        return this.options.domLibs\n            .map((d) => this.domLibraries.find((k) => k.value == d))\n            .filter((v) => v !== undefined) as IListItemData[]\n    }\n    set domLibrary(v: IListItemData[]) {\n        this.$emit(\n            'dom-libs-change',\n            v.map((vv) => vv.value)\n        )\n    }\n\n    get workerLibrary(): IListItemData[] {\n        return this.options.workerLibs\n            .map((d) => this.workerLibraries.find((k) => k.value == d))\n            .filter((v) => v !== undefined) as IListItemData[]\n    }\n    set workerLibrary(v: IListItemData[]) {\n        this.$emit(\n            'worker-libs-change',\n            v.map((vv) => vv.value)\n        )\n    }\n\n    get solutionTheme(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.themes, this.options.solutionTheme)\n    }\n    set solutionTheme(v: IListItemData) {\n        this.$emit('theme-change', {\n            solution: v.value,\n            code: this.options.codeTheme,\n        })\n    }\n\n    get codeTheme(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.themes, this.options.codeTheme)\n    }\n    set codeTheme(v: IListItemData) {\n        this.$emit('theme-change', {\n            solution: this.options.solutionTheme,\n            code: v.value,\n        })\n    }\n\n    get outputParser(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.outputParsers, this.options.outputParser)\n    }\n    set outputParser(v: IListItemData) {\n        this.$emit('output-parser-change', v.value)\n    }\n\n    get continuousCompile(): boolean {\n        return this.options.continuousCompilation\n    }\n    set continuousCompile(v: boolean) {\n        this.$emit('continuous-compile-change', v)\n    }\n    get compiler(): ICompilerID {\n        return this.options.compiler\n    }\n    get canContinousCompile(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        console.d(\n            'Continuous Compile - ',\n            'can',\n            cmp,\n            cmp ? cmp.allowsContinousCompilation : false,\n            cmp ? cmp.canRun : false\n        )\n        if (cmp) {\n            console.d('Continuous Compile - ', 'can', cmp.allowsContinousCompilation && cmp.canRun)\n            return cmp.allowsContinousCompilation && cmp.canRun\n        }\n        return false\n    }\n\n    get allowsMessagePassing(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            console.d('Message Passing - ', 'can', cmp.allowsContinousCompilation && cmp.canRun)\n            return cmp.allowsMessagePassing && cmp.canRun\n        }\n        return false\n    }\n\n    get messagePassing(): boolean {\n        return this.options.messagePassing\n    }\n    set messagePassing(v: boolean) {\n        this.$emit('message-passing-change', v)\n    }\n\n    get keepAlive(): boolean {\n        return this.options.keepAlive\n    }\n    set keepAlive(v: boolean) {\n        this.$emit('keep-alive-change', v)\n    }\n\n    get persistentArguments(): boolean {\n        return this.options.persistentArguments\n    }\n    set persistentArguments(v: boolean) {\n        this.$emit('persistent-arguments-change', v)\n    }\n    get canPersistentArguments(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            console.d(\n                'Persistent Arguments - ',\n                'can',\n                cmp.acceptsJSONArgument && cmp.allowsPersistentArguments && cmp.canRun\n            )\n            return cmp.acceptsJSONArgument && cmp.allowsPersistentArguments && cmp.canRun\n        }\n        return false\n    }\n\n    get accepstArguments(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.acceptsJSONArgument\n        }\n        return false\n    }\n    showArgsInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.AllowArgumentsCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.AllowArgumentsHintJava'\n                : 'CodeBlocksSettings.AllowArgumentsHint'\n        )\n    }\n    showPersistentArgsInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.UsePersistentArgumentsCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.UsePersistentArgumentsHintJava'\n                : 'CodeBlocksSettings.UsePersistentArgumentsHint'\n        )\n    }\n    showMessagesInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.AllowMessagePassingCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.AllowMessagePassingHintJava'\n                : 'CodeBlocksSettings.AllowMessagePassingHint'\n        )\n    }\n    showAliveInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.KeepAliveCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.KeepAliveHintJava'\n                : 'CodeBlocksSettings.KeepAliveHint'\n        )\n    }\n\n    showInfoDialog(title, message): void {\n        this.$q\n            .dialog({\n                title: this.$l(title),\n                message: this.$l(message),\n                html: true,\n                style: 'width:75%',\n            })\n            .onOk(() => {\n                // console.log('OK')\n            })\n            .onCancel(() => {\n                // console.log('Cancel')\n            })\n            .onDismiss(() => {\n                // console.log('I am triggered on both OK and Cancel')\n            })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlocksSettings.vue?vue&type=template&id=75cfd4ae&scoped=true&\"\nimport script from \"./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlocksSettings.vue?vue&type=style&index=0&id=75cfd4ae&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75cfd4ae\",\n  null\n  \n)\n\nexport default component.exports\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport QBanner from 'quasar/src/components/banner/QBanner.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCard,QCardSection,QToggle,QSelect,QAvatar,QItem,QItemSection,QItemLabel,QSlideTransition,QBanner,QIcon,QInput,QBtn});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editMode),expression:\"editMode\"}],staticClass:\"blocksEditorPanelContainer\",style:((\"width:\" + _vm.width + \"px\"))},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.block !== null),expression:\"block !== null\"}],staticClass:\"blocksEditorPanelLeft\"},[_c('q-btn',{staticClass:\"expander\",attrs:{\"icon\":_vm.expanded ? 'chevron_right' : 'chevron_left',\"size\":\"sm\",\"unelevated\":\"\",\"align\":\"center\",\"color\":\"blue-grey-4\"},on:{\"click\":_vm.onExpandClick}}),_c('CodeBlock',{attrs:{\"block\":_vm.saveBlock,\"theme\":_vm.themeForBlock(_vm.block),\"mode\":\"\",\"visibleLines\":_vm.visibleLinesNow,\"editMode\":true,\"muteReadyState\":true,\"isBookmarkPanel\":true,\"namePrefix\":\"panel_\"},on:{\"code-changed-in-edit-mode\":_vm.onCodeChange}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport { BlockData } from '../lib/codeBlocksManager'\nimport {\n    IBlockData,\n    KnownBlockTypes,\n    ICodeBlockDataState,\n    CodeExpansionType\n} from '../lib/ICodeBlocks'\n\ninterface IBlockDataExtended extends IBlockData {\n    firstLine: number\n    actualContent: string\n    actualAltContent: string\n}\n@Component({ components: { CodeBlock } })\nexport default class CodePanel extends Vue {\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: number | 'auto'\n    @Prop({ required: true }) block!: BlockData | null\n    @Prop({ default: 400 }) panelWidth!: number\n\n    get saveBlock(): IBlockData {\n        if (\n            this.block !== null &&\n            this.block !== undefined &&\n            this.block.content !== null &&\n            this.block.content !== undefined\n        ) {\n            return this.block\n        }\n        const ret: IBlockDataExtended = {\n            hasCode: false,\n            type: KnownBlockTypes.BLOCKSTATIC,\n            content: '',\n            alternativeContent: '',\n            noContent: true,\n            id: -1,\n            uuid: '',\n            parentID: -2,\n            expanded: true,\n            codeExpanded: CodeExpansionType.AUTO,\n            obj: null,\n            version: '',\n            readyCount: 0,\n            errors: [],\n            visibleLines: 'auto',\n            hasAlternativeContent: false,\n            shouldAutoreset: false,\n            firstLine: 1,\n            actualContent: '',\n            actualAltContent: '',\n            width: '100%',\n            height: '200px',\n            align: 'center',\n            readonly: true,\n            static: true,\n            hidden: false,\n            themeForCodeBlock: '',\n            lineCountHint: -0,\n            getThemeForBlock: (bl: ICodeBlockDataState) => {\n                return ''\n            },\n            blockly: {\n                _blockErrors: [],\n                useOverride: false,\n                toolbox: {\n                    categories: []\n                },\n                showControls: false,\n                toolboxOverride: '',\n                blocks: []\n            }\n        }\n        return ret\n    }\n\n    get visibleLinesNow() {\n        if (this.visibleLines === 'auto') {\n            return 'auto'\n        }\n        if (this.visibleLines <= 2) {\n            return 2\n        }\n        return this.visibleLines\n    }\n    onCodeChange() {}\n\n    get width() {\n        if (this.expanded) {\n            return 2 * this.panelWidth\n        }\n        return this.panelWidth\n    }\n\n    expanded: boolean = false\n    onExpandClick() {\n        this.expanded = !this.expanded\n    }\n\n    themeForBlock(bl: BlockData | null): string {\n        if (bl === null || bl === undefined) {\n            return ''\n        }\n        return bl.themeForCodeBlock\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodePanel.vue?vue&type=template&id=b56b8b2a&scoped=true&\"\nimport script from \"./CodePanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodePanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodePanel.vue?vue&type=style&index=0&id=b56b8b2a&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b56b8b2a\",\n  null\n  \n)\n\nexport default component.exports\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtn});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('PlaygroundCanvas',{key:_vm.runCount,ref:\"playgroundContainer\",attrs:{\"output\":_vm.finalOutputObject.initialOutput,\"obj\":_vm.block.obj,\"block\":_vm.block,\"eventHub\":_vm.eventHub,\"tagSet\":_vm.tagSet,\"data-question\":_vm.block.parentID,\"runner\":_vm.emitRun},on:{\"canvas-change\":_vm.onCanvasChange,\"did-init\":_vm.onDidInit}}),_c('div',{staticClass:\"row justify-end\"},[(_vm.editMode)?_c('q-btn-group',{staticClass:\"q-mb-sm\",attrs:{\"rounded\":\"\"}},[_c('q-btn',{attrs:{\"color\":_vm.isExpandedAuto ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Auto\",\"icon\":\"video_label\"},on:{\"click\":_vm.setExpandedAuto}}),_c('q-btn',{attrs:{\"color\":_vm.isExpandedLarge ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Large\",\"icon\":\"call_to_action\"},on:{\"click\":_vm.setExpandedLarge}}),_c('q-btn',{attrs:{\"color\":_vm.isExpandedTiny ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Small\",\"icon\":\"visibility_off\"},on:{\"click\":_vm.setExpandedTiny}})],1):_vm._e()],1),_c('q-slide-transition',[(_vm.editMode)?_c('CodeBlock',{attrs:{\"block\":_vm.block,\"theme\":_vm.options.theme,\"mode\":_vm.options.mode,\"visibleLines\":_vm.visibleLinesNow,\"editMode\":this.editMode,\"muteReadyState\":true},on:{\"code-changed-in-edit-mode\":_vm.onCodeChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row ma-0 pa-0 block-playground\",attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id}},[_c('div',{class:(\"col-12 text-\" + (_vm.block.align))},[_c('div',{ref:\"innerPlaygroundContainer\",staticClass:\"playground\",style:((\"width:\" + (_vm.block.width) + \";height:\" + (_vm.block.height))),attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id}},[_vm._v(\" \"+_vm._s(_vm.output)+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { IScriptBlock } from '@/lib/IScriptBlock'\n\n@Component\nexport default class PlaygroundCanvas extends Vue {\n    @Prop() output: string = ''\n    @Prop({ required: true }) obj!: IScriptBlock\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ required: true }) eventHub!: Vue\n    @Prop({ default: () => {} }) runner!: () => void\n    @Prop() tagSet?: IRandomizerSet\n\n    get canvas(): HTMLElement {\n        return this.$refs.innerPlaygroundContainer as HTMLElement\n    }\n\n    whenMounted(): void {\n        if (this.obj) {\n            console.d('Will Init', this.canvas, $(this.canvas).css('background-color'))\n\n            this.$compilerRegistry.loadLibraries(this.block.domLibs, () => {\n                this.$nextTick(() => {\n                    this.$nextTick(() => {\n                        this.obj.rebuild() //we need to rebuild the script to make sure its context is the current state of the DOM\n\n                        this.obj.init($(this.canvas), $(this.block.scopeSelector), this.runner)\n                        this.$emit('did-init', this.canvas)\n                    })\n                })\n            })\n        }\n    }\n\n    mounted() {\n        if (this.eventHub) {\n            this.eventHub.$on('all-mounted', this.whenMounted)\n        } else {\n            this.whenMounted()\n        }\n\n        this.$emit('canvas-change', this.canvas)\n    }\n    beforeDestroy() {\n        if (this.eventHub) {\n            this.eventHub.$off('all-mounted')\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PlaygroundCanvas.vue?vue&type=template&id=29a639c7&scoped=true&\"\nimport script from \"./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PlaygroundCanvas.vue?vue&type=style&index=0&id=29a639c7&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29a639c7\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport codemirror from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\n//helper to reset the canvas area if needed\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport PlaygroundCanvas from '@/components/PlaygroundCanvas.vue'\nimport BaseBlock from '@/components/BaseBlock.vue'\nconst PlaygroundCanvasCtor = Vue.extend(PlaygroundCanvas)\n\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { IRandomizerSet, CodeExpansionType } from '@/lib/ICodeBlocks'\nimport { IScriptOutputObject } from '@/lib/IScriptBlock'\n\nexport interface ICodePlaygroundOptions {\n    mode: string\n    theme: string\n    lineNumbers: boolean\n    line: boolean\n    tabSize: number\n    indentUnit: number\n    autoCloseBrackets: boolean\n    readOnly: boolean\n    firstLineNumber: number\n    gutters: string[]\n}\n\n@Component({\n    components: { PlaygroundCanvas, CodeBlock },\n})\nexport default class CodePlayground extends BaseBlock {\n    @Prop({ required: true }) finalOutputObject!: IScriptOutputObject\n    @Prop({\n        required: true,\n        validator: function (b) {\n            if (!b.obj) {\n                return false\n            }\n            return true\n        },\n    })\n    block!: BlockData\n\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: 'auto' | string\n    @Prop({ default: 'base16-dark' }) theme!: string\n    @Prop({ required: true }) eventHub!: Vue\n    @Prop() tagSet?: IRandomizerSet\n\n    get originalMode(): boolean {\n        if (this.block.obj === null) {\n            return false\n        }\n        return this.block.obj.requestsOriginalVersion()\n    }\n\n    get options(): ICodePlaygroundOptions {\n        return {\n            // codemirror options\n            mode: this.$CodeBlock.mimeType('javascript'),\n            theme: this.theme,\n            lineNumbers: true,\n            line: true,\n            tabSize: 4,\n            indentUnit: 4,\n            autoCloseBrackets: true,\n            readOnly: !this.editMode,\n            firstLineNumber: 1,\n            gutters: ['diagnostics', 'CodeMirror-linenumbers'],\n        }\n    }\n    get visibleLinesNow(): 'auto' | string {\n        if (this.block.codeExpanded == CodeExpansionType.TINY) {\n            return '2.4'\n        } else if (this.block.codeExpanded == CodeExpansionType.LARGE) {\n            return '33.4'\n        }\n        return 'auto'\n    }\n    created() {\n        this.eventHub.$on('before-run', this.resetBeforeRun)\n        this.eventHub.$on('render-diagnostics', this.updateErrors)\n    }\n    mounted() {\n        const hasErrors = this.block && this.block.obj && this.block.obj.err.length > 0\n        if (hasErrors) {\n            this.updateErrors()\n        }\n        this.eventHub.$on('output-updated', this.onFinalOutputObject)\n    }\n    beforeDestroy() {\n        this.eventHub.$off('before-run', this.resetBeforeRun)\n        this.eventHub.$off('render-diagnostics', this.updateErrors)\n        this.eventHub.$off('output-updated', this.onFinalOutputObject)\n    }\n    isPreparingRun: boolean = false\n    lastRun: Date = new Date()\n    runCount: number = 0\n    canvas: HTMLElement | undefined = undefined\n    needsCodeRebuild: boolean = false\n    initAndRebuildErrors: any[] = []\n\n    get isExpandedLarge(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.LARGE\n    }\n    get isExpandedTiny(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.TINY\n    }\n    get isExpandedAuto(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.AUTO\n    }\n    setExpandedLarge(): void {\n        this.setExpanded(CodeExpansionType.LARGE)\n    }\n    setExpandedTiny(): void {\n        this.setExpanded(CodeExpansionType.TINY)\n    }\n    setExpandedAuto(): void {\n        this.setExpanded(CodeExpansionType.AUTO)\n    }\n    setExpanded(val: CodeExpansionType): void {\n        this.block.codeExpanded = val\n\n        if (this.block.codeExpanded != CodeExpansionType.TINY) {\n            this.$CodeBlock.refreshAllCodeMirrors()\n        }\n    }\n    updateErrors(): boolean {\n        this.block.errors = []\n        if (this.block.obj === null) {\n            return false\n        }\n\n        this.block.obj.err = this.block.obj.err.concat(this.initAndRebuildErrors)\n        this.block.obj.err.forEach((e) => {\n            let err = {\n                start: { line: e.line, column: e.column },\n                end: { line: e.line, column: e.column + 1 },\n                message: e.msg,\n                severity: Vue.$SEVERITY_ERROR,\n            }\n            if (e.line === undefined) {\n                err.start = { line: 1, column: -1 }\n                err.end = { line: 1, column: -1 }\n            } else if (e.column === undefined) {\n                err.start = { line: e.line, column: -1 }\n                err.end = { line: e.line, column: -1 }\n            }\n            this.block.errors.push(err)\n        })\n\n        if (this.block.obj.err.length > 0 && this.editMode) {\n            this.needsCodeRebuild = true\n            return true\n        } else {\n            return false\n        }\n    }\n    resetBeforeRun(): void {\n        const rebuildCode = this.editMode && (this.needsCodeRebuild || this.tagSet !== undefined)\n        let reInitCode = rebuildCode\n        let onNextTick = false\n        if (this.block && this.block.obj) {\n            if (this.block.shouldAutoreset || rebuildCode) {\n                if (this.canvas !== undefined) {\n                    console.log(\n                        'Will Re-Initialize',\n                        this.canvas,\n                        $(this.canvas).css('background-color')\n                    )\n                } else {\n                    console.log('Will Re-Initialize', 'Without Canvas')\n                }\n                this.lastRun = new Date()\n                this.runCount++\n                reInitCode = true\n                onNextTick = true\n            } else {\n                const self = this\n                this.$nextTick(() => {\n                    //console.log(\"Will Reset\", this.canvas, $(this.canvas).css('background-color'));\n                    if (self.block.obj !== null && self.canvas !== undefined) {\n                        self.block.obj.reset($(self.canvas))\n                    }\n                    self.updateErrors()\n                })\n            }\n        }\n\n        if (rebuildCode) {\n            this.initAndRebuildErrors = []\n\n            if (this.block.obj != null) {\n                this.block.obj.rebuild(this.block.actualContent())\n                if (this.updateErrors()) {\n                    this.initAndRebuildErrors = this.block.obj.err\n                    this.block.obj.invalidate()\n                    return\n                }\n            }\n\n            reInitCode = true\n        }\n\n        if (reInitCode) {\n            this.initAndRebuildErrors = []\n            let doInit = () => {\n                console.i('!!! DO INIT !!!')\n                if (this.block.obj !== null && this.canvas !== undefined) {\n                    this.block.obj.init(\n                        $(this.canvas) as JQuery<HTMLElement>,\n                        $(this.block.scopeSelector) as JQuery<HTMLElement>,\n                        this.emitRun\n                    )\n                    if (this.updateErrors()) {\n                        this.initAndRebuildErrors = this.block.obj.err\n                        this.block.obj.invalidate()\n                        return false\n                    }\n                    return true\n                } else {\n                    return false\n                }\n            }\n            if (onNextTick) {\n                this.$nextTick(doInit)\n            } else {\n                if (!doInit()) {\n                    return\n                }\n            }\n        }\n    }\n    emitRun() {\n        this.$emit('run', this.block)\n    }\n    onCanvasChange(can) {\n        this.canvas = can\n        if (this.editMode) {\n            this.updateErrors()\n        }\n        //console.log(\"Changed Canvas\", can, $(can).css('background-color'));\n    }\n    onCodeChange(newCode: string): void {\n        if (this.editMode) {\n            this.needsCodeRebuild = true\n        }\n    }\n    onDidInit(): void {\n        this.updateErrors()\n    }\n\n    //we emit an event to the global event hub\n    //@Watch('finalOutputObject')\n    onFinalOutputObject(val) {\n        const initialOutput = val.output\n\n        console.d('onFinalOutputObject', val, this.block.obj)\n        if (this.block.obj !== null) {\n            this.block.obj.err = []\n            try {\n                if (val.parseError != null) {\n                    if (\n                        !this.block.obj.onParseError(initialOutput, val.parseError) &&\n                        this.editMode\n                    ) {\n                        let jStr = initialOutput\n                        if (val.parseError.parsedString !== undefined) {\n                            jStr = val.parseError.parsedString\n                        }\n                        jStr = jStr.replace(/</g, '&lt;')\n\n                        this.$q\n                            .dialog({\n                                title: this.$l('CodePlayground.InvalidJson'),\n                                message:\n                                    '<span class=\"text-caption jsonErrTitle\">' +\n                                    this.$t('CodePlayground.Output') +\n                                    '</span><div class=\"jsonErrObj\">' +\n                                    jStr +\n                                    '</div>\\n<span class=\"text-caption jsonErrTitle\">' +\n                                    this.$t('CodePlayground.Message') +\n                                    '</span><div class=\"jsonErr\">' +\n                                    val.parseError +\n                                    '</div>',\n                                html: true,\n                            })\n                            .onOk(() => {\n                                // console.log('OK')\n                            })\n                            .onCancel(() => {\n                                // console.log('Cancel')\n                            })\n                            .onDismiss(() => {\n                                // console.log('I am triggered on both OK and Cancel')\n                            })\n                    }\n                    if (this.updateErrors()) {\n                        return\n                    }\n                }\n\n                const self = this\n                this.$nextTick(() => {\n                    console.d('Ticked', self.block.obj, self.canvas)\n                    if (self.block.obj !== null && self.canvas !== undefined) {\n                        let result = self.block.obj.update(val, $(self.canvas))\n                        if (self.updateErrors()) {\n                            return\n                        }\n\n                        //construct a split output object\n                        if (result === undefined && val.processedOutput.type != 'text') {\n                            if (!self.originalMode) {\n                                result = val.processedOutput.text\n                            }\n                        }\n\n                        if (self.originalMode) {\n                            if (typeof result !== 'string') {\n                                result = ''\n                            }\n                        }\n\n                        if (result !== undefined) {\n                            self.$emit('changeOutput', result)\n                        }\n                    }\n                })\n            } catch (e) {\n                console.error(e)\n            }\n            if (this.block.obj.err.length > 0) {\n                if (this.editMode) {\n                    this.updateErrors()\n                } else {\n                    console.error(this.block.obj.err)\n                }\n            }\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodePlayground.vue?vue&type=template&id=02275a87&scoped=true&\"\nimport script from \"./CodePlayground.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodePlayground.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodePlayground.vue?vue&type=style&index=0&id=02275a87&lang=sass&scoped=true&\"\nimport style1 from \"./CodePlayground.vue?vue&type=style&index=1&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02275a87\",\n  null\n  \n)\n\nexport default component.exports\nimport QBtnGroup from 'quasar/src/components/btn-group/QBtnGroup.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtnGroup,QBtn,QSlideTransition});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.editMode)?_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\",value:(_vm.language),expression:\"language\"}],domProps:{\"innerHTML\":_vm._s(_vm.previewValue)}}):_c('TipTap',{staticClass:\"editor q-my-3\",attrs:{\"value\":_vm.value,\"name\":_vm.name,\"language\":_vm.language,\"scopUUID\":_vm.scopeUUID,\"editMode\":_vm.editMode},on:{\"input\":_vm.updatedContentDefered}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row q-ma-0 q-pa-0\"},[_c('div',{staticClass:\"col-xs-12 col-md-6 q-px-sm\"},[_c('q-input',{ref:\"editBox\",staticClass:\"plain accqstXmlInput noRTEditor\",attrs:{\"type\":\"textarea\",\"autogrow\":\"\",\"filled\":\"\",\"name\":_vm.name,\"label\":\"HTML Source\",\"background-color\":\"blue-grey darken-3\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6 q-px-sm\"},[_c('div',{staticClass:\"q-field__label no-pointer-events ellipsis text-caption wysiwyg\"},[_vm._v(\" Preview \")]),_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\",value:(_vm.language),expression:\"language\"},{name:\"tagged\",rawName:\"v-tagged\",value:(_vm.scopeUUID),expression:\"scopeUUID\"}],domProps:{\"innerHTML\":_vm._s(_vm.text)}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { ITagReplaceAction } from '../plugins/tagger'\n@Component\nexport default class TipTap extends Vue {\n    @Prop({ default: '' }) value!: string\n    @Prop({ default: '' }) name!: string\n    @Prop({ default: '' }) scopeUUID!: string\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'javascript' }) language!: string\n\n    get text(): string {\n        return this.value\n    }\n    set text(v: string) {\n        this.updatedContent(v)\n    }\n\n    updatedContent(v: string): void {\n        this.$emit('input', v)\n    }\n    replaceTemplateTags(o: ITagReplaceAction) {\n        if (!this.editMode) {\n            return\n        }\n        if (o.scopeUUID != this.scopeUUID) {\n            return\n        }\n        this.updatedContent(Vue.$tagger.replaceTemplateTagInString(this.text, o.name, o.newValue))\n    }\n\n    mounted() {\n        const eb: any = this.$refs.editBox\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        eb.$el.querySelectorAll('textarea[name]').forEach(el => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n        })\n        Vue.$tagger.$on('replace-template-tag', this.replaceTemplateTags)\n    }\n\n    beforeDestroy() {\n        Vue.$tagger.$off('replace-template-tag', this.replaceTemplateTags)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TipTap.vue?vue&type=template&id=5a368702&scoped=true&\"\nimport script from \"./TipTap.vue?vue&type=script&lang=ts&\"\nexport * from \"./TipTap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TipTap.vue?vue&type=style&index=0&id=5a368702&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a368702\",\n  null\n  \n)\n\nexport default component.exports\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QField from 'quasar/src/components/field/QField.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QInput,QField});\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport TipTap from './TipTap.vue'\nimport BaseBlock from './BaseBlock.vue'\n@Component({ components: { TipTap } })\nexport default class SimpleText extends BaseBlock {\n    @Prop() language!: string\n    @Prop({ default: '' }) value!: string\n    @Prop({ default: '' }) name!: string\n    @Prop({ default: '' }) scopeUUID!: string\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: '' }) previewValue!: string\n\n    textUpdateTimer: number | null = null\n    textUpdateStartTime: number = 0\n    updatedContentDefered(newVal: string) {\n        if (!this.editMode) {\n            this.updatedContent(newVal)\n            return\n        }\n\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.textUpdateTimer !== null) {\n            clearTimeout(this.textUpdateTimer)\n            this.textUpdateTimer = null\n        } else {\n            this.textUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.textUpdateTimer = null\n            this.updatedContent(newVal)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.textUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.textUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n\n    updatedContent(v: string) {\n        //console.log('Updating')\n        //this.value = v\n        this.$emit('input', v)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SimpleText.vue?vue&type=template&id=fead5814&scoped=true&\"\nimport script from \"./SimpleText.vue?vue&type=script&lang=ts&\"\nexport * from \"./SimpleText.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fead5814\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlockContainer from '@/components/CodeBlockContainer.vue'\nimport CodeBlocksSettings, { ICodeBlockSettingsOptions } from '@/components/CodeBlocksSettings.vue'\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport CodePanel from '@/components/CodePanel.vue'\n//import Blockly from '@/components/Blockly/Blockly.vue'\nimport CodePlayground from '@/components/CodePlayground.vue'\nimport SimpleText from '@/components/SimpleText.vue'\nimport { BlockData, IMainBlock, IBlockBookmarkPayload } from '@/lib/codeBlocksManager'\nimport { IScriptOutputObject, IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport {\n    ICompilerID,\n    ICompilerErrorDescription,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\nimport {\n    CodeOutputTypes,\n    IRandomizerSet,\n    KnownBlockTypes,\n    IBlockDataPlayground,\n} from '@/lib/ICodeBlocks'\n\nfunction formatOutput(result) {\n    const regex =\n        /^@(bold|italic|em)?(red|green|blue|cyan|magenta|yellow|orange|gray|#[\\da-f]{6}|#[\\da-f]{8}):(.*)/gim\n\n    return result\n        .split('\\n')\n        .map((line, nr) => {\n            let m\n\n            if ((m = regex.exec(result)) !== null) {\n                let style = ''\n                if (m[2] === 'gray') {\n                    style = 'style=\"color:silver\"'\n                } else if (m[2] !== undefined) {\n                    style = `style=\"color:${m[2]}\"`\n                }\n\n                if (m[1] === 'bold') {\n                    line = `<b ${style}>${m[3]}</b>`\n                } else if (m[1] === 'italic' || m[1] === 'em') {\n                    line = `<em ${style}>${m[3]}</em>`\n                } else {\n                    line = `<span ${style}>${m[3]}</span>`\n                }\n            }\n\n            return line\n        })\n        .join('\\n')\n}\n\nconst Blockly = () => import('@/components/Blockly/Blockly.vue')\nexport interface IOnTypeChangeInfo {\n    type: KnownBlockTypes\n    hidden: boolean\n    static: boolean\n    id: number\n    hasCode: boolean\n}\n\nexport interface IOnVisibleLinesChangeInfo {\n    visibleLines: 'auto' | number\n    id: number\n}\n\nexport interface IOnPlacementChangeInfo extends IBlockDataPlayground {\n    id: number\n}\n\nexport interface IOnScriptVersionChangeInfo {\n    version: string\n    id: number\n}\n\nexport interface IOnSetAutoResetInfo {\n    shouldAutoreset: boolean\n    id: number\n}\n\nexport interface IOnThemeChangeInfo {\n    solution: string\n    code: string\n}\n\n@Component({\n    components: {\n        CodeBlockContainer,\n        CodeBlocksSettings,\n        CodeBlock,\n        CodePlayground,\n        SimpleText,\n        Blockly,\n        CodePanel,\n    },\n})\nexport default class CodeBlocks extends Vue {\n    didInitialize: boolean = false\n    outputHTML: string = ''\n    output: string = ''\n    sansoutput: string = ''\n    didClip: boolean = false\n    _finalOutputObject: IScriptOutputObject | null = null\n    eventHub: Vue = new Vue()\n\n    get continuousCompile(): boolean {\n        if (this.editMode) {\n            return false\n        }\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.allowsContinousCompilation\n        }\n        return false\n    }\n\n    get finalOutputObject(): IScriptOutputObject {\n        if (this._finalOutputObject === null || this._finalOutputObject === undefined) {\n            return {\n                initialOutput: '',\n                output: '',\n                processedOutput: {\n                    type: 'text',\n                    text: '',\n                    json: undefined,\n                },\n                sansoutput: '',\n                outputElement: $(this.outputElement) as any,\n            }\n        }\n        return this._finalOutputObject\n    }\n    @Prop({ required: true }) blockInfo!: IMainBlock\n    get options(): ICodeBlockSettingsOptions {\n        return {\n            language: this.language,\n            compiler: this.compiler,\n            executionTimeout: this.executionTimeout,\n            maxCharacters: this.maxCharacters,\n            runCode: this.runCode,\n            domLibs: this.domLibraries,\n            workerLibs: this.workerLibraries,\n            id: this.blockInfo.id,\n            codeTheme: this.codeTheme,\n            solutionTheme: this.solutionTheme,\n            outputParser: this.outputParser,\n            randomizer: this.blockInfo.randomizer,\n            continuousCompilation: this.blockInfo.continuousCompilation,\n            persistentArguments: this.blockInfo.persistentArguments,\n            messagePassing: this.blockInfo.messagePassing,\n            keepAlive: this.blockInfo.keepAlive,\n        }\n    }\n    get blocks(): BlockData[] {\n        return this.blockInfo.blocks\n    }\n    get language(): string {\n        return this.blockInfo.language\n    }\n    get blockid(): number {\n        return this.blockInfo.id\n    }\n    get executionTimeout(): number {\n        return this.blockInfo.executionTimeout\n    }\n    get maxCharacters(): number {\n        return this.blockInfo.maxCharacters\n    }\n    get compiler(): ICompilerID {\n        return this.blockInfo.compiler\n    }\n    get runCode(): boolean {\n        return this.blockInfo.runCode\n    }\n    get domLibraries(): string[] {\n        return this.blockInfo.domLibs\n    }\n    get workerLibraries(): string[] {\n        return this.blockInfo.workerLibs\n    }\n    get solutionTheme(): string {\n        return this.blockInfo.solutionTheme\n    }\n    get codeTheme(): string {\n        return this.blockInfo.codeTheme\n    }\n    get readonly(): boolean {\n        return this.blockInfo.readonly\n    }\n    get outputParser(): CodeOutputTypes {\n        return this.blockInfo.outputParser\n    }\n\n    get editMode(): boolean {\n        return false\n    }\n    get hasOutput(): boolean {\n        return this.outputHTML !== undefined && this.outputHTML != ''\n    }\n    get mimeType(): string {\n        return this.$CodeBlock.mimeType(this.language)\n    }\n    get isReady(): boolean {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (!cmp) {\n            return false\n        }\n\n        return (\n            this.didInitialize &&\n            cmp.isReady &&\n            !cmp.isRunning &&\n            !this.$compilerState.runButtonForceHide\n        )\n    }\n    get canRun(): boolean {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (!cmp) {\n            return false\n        }\n        return cmp.canRun && this.runCode\n    }\n    get randomizerActive(): boolean {\n        return this.blockInfo.randomizer.active\n    }\n    get activeTagSet(): IRandomizerSet | undefined {\n        if (!this.randomizerActive) {\n            return undefined\n        }\n        return this.tagSet(this.blockInfo.randomizer.previewIndex)\n    }\n    get completeSource(): string {\n        return this.blocks\n            .filter((b) => b.hasCode)\n            .map((b) => b.actualContent())\n            .reduce((p, c) => {\n                return p + '\\n' + c\n            }, '')\n    }\n    get showGlobalMessages(): boolean {\n        return !this.$compilerState.globalStateHidden\n    }\n    get playgrounds(): BlockData[] {\n        return this.blocks.filter((b) => b.type == 'PLAYGROUND')\n    }\n    get outputElement(): HTMLElement {\n        return this.$refs.output as HTMLElement\n    }\n    get addonClass(): string {\n        let cl = ''\n        if (this.editMode) {\n            cl += 'editmode '\n        }\n        if (this.readonly) {\n            cl += 'block-readonly '\n        }\n        return cl\n    }\n    get backgroundColorClass(): string {\n        return this.editMode ? 'blue-grey darken-4' : ''\n    }\n\n    blockBecameReady(): void {\n        let readyCount = this.blockInfo.blocks.map((b) => b.readyCount).reduce((p, c) => p + c, 0)\n        if (readyCount == this.blockInfo.blocks.length) {\n            this.$nextTick(() => {\n                this.eventHub.$emit('all-mounted', {})\n            })\n        }\n        //console.log(\"Ready\", readyCount, this.blockInfo.blocks.length);\n    }\n\n    tagSet(nr: number): IRandomizerSet {\n        return this.blockInfo.randomizer.sets[nr]\n    }\n\n    themeForBlock(bl: BlockData): string {\n        return bl.themeForCodeBlock\n    }\n    public blockById(id: number): BlockData | undefined {\n        return this.blocks.find((block) => block.id == id)\n    }\n    onTypeChange(nfo: IOnTypeChangeInfo): void {}\n    onVisibleLinesChange(nfo: IOnVisibleLinesChangeInfo): void {}\n    onPlacementChange(nfo: IOnPlacementChangeInfo): void {}\n    onScriptVersionChange(nfo: IOnScriptVersionChangeInfo): void {}\n    onSetAutoReset(nfo: IOnSetAutoResetInfo): void {}\n    onCompilerChange(v: string): void {}\n    onCompilerVersionChange(v: string): void {}\n    onRunStateChange(v: boolean): void {}\n    onContinousCompileStateChange(v: boolean): void {}\n    onMessagePassingChange(v: boolean): void {}\n    onKeepAliveChange(v: boolean): void {}\n    onPersistentArgumentsChange(v: boolean): void {}\n    onLanguageChange(v: string): void {}\n    onCharacterLimitChange(v: number): void {}\n    onTimeoutChange(v: number): void {}\n    onWorkerLibChange(v: string[]): void {}\n    onDomLibChange(v: string[]): void {}\n    onThemeChange(nfo: IOnThemeChangeInfo): void {}\n    onOutputParserChange(v: CodeOutputTypes): void {}\n    moveUp(idx: number): void {}\n    moveDown(idx: number): void {}\n    removeBlock(idx: number): void {}\n    addNewBlock(): void {}\n    onPlaygroundChangedOutput(newOutput: string | undefined): void {\n        if (newOutput === undefined) {\n            return\n        }\n        if (this.output != newOutput) {\n            this.output = newOutput.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n            if (this.maxCharacters > 0 && this.output.length > this.maxCharacters) {\n                this.outputHTML = formatOutput(this.output.substr(0, this.maxCharacters))\n                this.outputHTML += this.$CodeBlock.format_info(\n                    'Info: Output too long. Removed all following Characters. \\n<b>...</b>\\n\\n'\n                )\n            } else {\n                this.outputHTML = formatOutput(this.output)\n            }\n            this.outputHTML += this.sansoutput\n        }\n    }\n\n    resetOutput(): void {\n        this.output = ''\n        this.sansoutput = ''\n        this.didClip = false\n        this.outputHTML = ''\n    }\n\n    log(text: string): void {\n        //console.log(\"log\", text);\n        this.output += text\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        if (!this.didClip) {\n            if (this.maxCharacters > 0 && this.output.length > this.maxCharacters) {\n                this.outputHTML += this.$CodeBlock.format_info(\n                    'Info: Output too long. Removed all following Characters. \\n<b>...</b>\\n\\n'\n                )\n                this.didClip = true\n            } else {\n                this.outputHTML += formatOutput(text)\n            }\n        }\n    }\n\n    logError(text: string): void {\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        text = this.$CodeBlock.format_error(text)\n        //console.log(\"err\", text);\n        this.sansoutput += text\n        this.outputHTML += text\n    }\n\n    logInfo(text: string): void {\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        text = this.$CodeBlock.format_info(text)\n        //console.log(\"nfo\", text);\n        this.sansoutput += text\n        this.outputHTML += text\n    }\n\n    processDiagnostics(error: ICompilerErrorDescription) {\n        const line = error.start.line\n        this.blocks.forEach((block) => {\n            if (!block.hasCode) {\n                return\n            }\n\n            const first = block.firstLine\n            const last = block.nextLine - 1\n\n            if (error.start.line >= first && error.start.line <= last) {\n                block.errors.push(error)\n            }\n        })\n    }\n\n    clearDiagnostics(): void {\n        this.blocks.forEach((block) => (block.errors = []))\n        this.eventHub.$emit('render-diagnostics', {})\n    }\n\n    loadLibraries(whenLoaded: () => void): void {\n        this.$compilerRegistry.loadLibraries(this.domLibraries, whenLoaded)\n    }\n\n    /**\n     * Call when the program finished executing and pass the output string. We will send the output to all embeded canvas elements\n     * @param {*} output\n     * @param {*} infoErrorOutput output generated by info or error messages\n     */\n    finishedExecution(output: string, infoErrorOutput: string, resultData?: object | any[]): void {\n        let parseError: any = undefined\n        let processed: IProcessedScriptOutput = { type: 'text', json: undefined, text: output }\n\n        if (output !== undefined && this.playgrounds.length > 0) {\n            try {\n                processed = this.$CodeBlock.processMixedOutput(\n                    output,\n                    this.outputParser,\n                    undefined,\n                    resultData\n                )\n            } catch (e) {\n                parseError = e\n            }\n        }\n\n        this._finalOutputObject = {\n            initialOutput: output,\n            output: output,\n            processedOutput: processed,\n            sansoutput: this.sansoutput,\n            parseError: parseError,\n            //outputElement: $(this.outputElement) as JQuery<HTMLElement> //This line soes not work here, looks like the update did not yet happen?\n            outputElement: $(this.$refs.output as any) as any,\n        }\n        this.eventHub.$emit('output-updated', this._finalOutputObject)\n\n        this.onRunFinished()\n    }\n\n    get canStop(): boolean {\n        return !this.isReady && this.didRunOnce\n    }\n    stop(): void {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp === undefined || cmp.stop === undefined) {\n            return\n        }\n        cmp.stop()\n    }\n\n    didRunOnce: boolean = false\n    run(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp === undefined) {\n            return false\n        }\n\n        this.$compilerState.setAllRunButtons(false)\n\n        this.resetOutput()\n        this.clearDiagnostics()\n        const self = this\n\n        this.loadLibraries(() => {\n            self.eventHub.$emit('before-run', {})\n            console.d('compileAndRun')\n            self.didRunOnce = true\n\n            self.$nextTick(() => {\n                let _args: object | string[] = {}\n                if (cmp.acceptsJSONArgument) {\n                    _args = this.blockInfo.initArgsForLanguage()\n                    this.blocks.forEach((bl) => {\n                        if (bl.obj) {\n                            console.i('!!! ADD ARGUMENTS TO !!!')\n                            bl.obj.addArgumentsTo(_args)\n                        }\n                    })\n                }\n\n                const runOptions: ICompileAndRunArguments = {\n                    max_ms: self.executionTimeout,\n                    log_callback: self.log.bind(this),\n                    info_callback: self.logInfo.bind(this),\n                    err_callback: self.logError.bind(this),\n                    compileFailedCallback: self.processDiagnostics.bind(this),\n                    finishedExecutionCB: (\n                        success = true,\n                        overrideOutput = undefined,\n                        returnState = undefined\n                    ) => {\n                        console.i('returnState:', returnState, _args)\n                        if (!success) {\n                            self.$compilerState.hideGlobalState()\n                            self.$compilerState.setAllRunButtons(true)\n                            return undefined\n                        }\n                        let res = self.finishedExecution(\n                            overrideOutput ? overrideOutput : self.output,\n                            self.sansoutput,\n                            runOptions.resultData\n                        )\n\n                        if (returnState !== undefined) {\n                            if (this.blockInfo.persistentArguments) {\n                                console.i('Store Default State', returnState)\n                                this.blockInfo.storeDefaultArgs(returnState)\n                            } else {\n                                this.blockInfo.clearDefaultArgs()\n                            }\n                        }\n                        self.$compilerState.hideGlobalState()\n                        self.$compilerState.setAllRunButtons(true)\n                        return res\n                    },\n                    args: _args,\n                    didReceiveMessage: (cmd, data) => {\n                        console.i('MESSAGE - Received', cmd)\n                        this.blocks.forEach((bl) => {\n                            if (bl.obj) {\n                                bl.obj.didReceiveMessage(cmd, data)\n                            }\n                        })\n                    },\n                    postMessageFunction: null,\n                    dequeuePostponedMessages: () => {},\n                    allowMessagePassing: cmp.allowsMessagePassing && self.options.messagePassing,\n                    keepAlive:\n                        cmp.allowsMessagePassing &&\n                        self.options.messagePassing &&\n                        self.options.keepAlive,\n                    beforeStartHandler: () => {\n                        this.blocks.forEach((bl) => {\n                            console.d('MESSAGE - Before Start')\n                            if (bl.obj) {\n                                bl.obj.beforeStart()\n                            }\n                        })\n                    },\n                    whenFinishedHandler: (args: object | string[]) => {\n                        this.blocks.forEach((bl) => {\n                            console.d('MESSAGE - When Finished')\n                            if (bl.obj) {\n                                bl.obj.whenFinished(args, runOptions.resultData)\n                            }\n                        })\n                    },\n                    resultData: undefined,\n                }\n\n                if (runOptions.keepAlive) {\n                    this.blocks.forEach((bl) => {\n                        if (bl.obj) {\n                            bl.obj.runConfig = runOptions\n                        }\n                    })\n                }\n\n                cmp.compileAndRun('' + self.blockid, self.completeSource, self, runOptions)\n            })\n        })\n\n        return true\n    }\n    onkey(event) {\n        if (\n            this.editMode &&\n            (event.ctrlKey || event.metaKey) &&\n            (event.key === 'w' || event.key === 'j')\n        ) {\n            this.run()\n            event.preventDefault()\n            return false\n        }\n    }\n\n    mounted() {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            cmp.preload()\n        }\n        const self = this\n        this.loadLibraries(() => {\n            self.eventHub.$emit('initialized-libraries', {})\n        })\n        this.didInitialize = true\n\n        if (this.editMode) {\n            window.addEventListener('keydown', this.onkey, false)\n        }\n\n        Vue.$GlobalEventHub.$on('bookmark-block', this.onBookmarkBlock)\n    }\n    beforeDestroy() {\n        window.removeEventListener('keydown', this.onkey)\n        Vue.$GlobalEventHub.$off('bookmark-block')\n    }\n\n    bookmarkedBlock: BlockData | null = null\n\n    get hasBookmark(): boolean {\n        return this.bookmarkedBlock !== null && this.editMode\n    }\n\n    get panelBlock(): BlockData | null {\n        return this.bookmarkedBlock\n    }\n    onBookmarkBlock(data: IBlockBookmarkPayload) {\n        console.i('Bookmark', data)\n        if (this.blockInfo.uuid == data.uuid) {\n            this.bookmarkedBlock = data.block\n        }\n    }\n\n    triggerRecompileWhenFinished: boolean = false\n    onViewCodeChange(forceRun: boolean = false) {\n        if (!forceRun && !this.blockInfo.continuousCompilation) {\n            return\n        }\n\n        if (this.continuousCodeUpdateTimer !== null) {\n            clearTimeout(this.continuousCodeUpdateTimer)\n            this.continuousCodeUpdateTimer = null\n        }\n        this.continuousCodeUpdateTimer = setTimeout(() => {\n            const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n            console.d('Continuous Compile - ', cmp)\n            if (cmp && cmp.allowsContinousCompilation) {\n                if (!cmp.isRunning && cmp.isReady) {\n                    console.d('Continuous Compile - ', 'RUN')\n                    this.run()\n                } else {\n                    console.d('Continuous Compile - ', 'DEFER')\n                    this.triggerRecompileWhenFinished = true\n                }\n            }\n        }, process.env.VUE_APP_CONTINOUS_COMPILE_TIMEOUT)\n    }\n\n    onRunFinished() {\n        if (this.triggerRecompileWhenFinished) {\n            console.d('Continuous Compile - ', 'RE-RUN')\n            this.triggerRecompileWhenFinished = false\n            this.onViewCodeChange()\n        }\n    }\n\n    continuousCodeUpdateTimer: number | null = null\n    onRunFromPlayground() {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (\n            cmp &&\n            cmp.canRun &&\n            !this.editMode &&\n            cmp.allowsContinousCompilation // &&\n            // this.blockInfo.continuousCompilation\n        ) {\n            this.onViewCodeChange(true)\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlocks.vue?vue&type=template&id=ae8624ca&\"\nimport script from \"./CodeBlocks.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocks.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlocks.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport QSlideTransition from 'quasar/src/components/slide-transition/QSlideTransition.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtn,QIcon,QTooltip,QSlideTransition});\n","<template>\n    <q-layout view=\"hHh lpR fFf\" style=\"min-height:0\">\n        <q-page-container>\n            <CodeBlocks :blockInfo=\"blocks\" />\n        </q-page-container>\n    </q-layout>\n</template>\n\n<script>\nimport CodeBlocks from './components/CodeBlocks'\nimport Vue from 'vue'\n\nexport default {\n    name: 'App',\n\n    props: ['blocks'],\n\n    components: {\n        CodeBlocks\n    },\n\n    data: () => ({}),\n    computed: {}\n}\n</script>\n\n<style lang=\"sass\">\n#app\n  margin-bottom: 16px\n  background-color: rgba(1,1,1,0)\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=eaf51832&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QLayout from 'quasar/src/components/layout/QLayout.js';\nimport QPageContainer from 'quasar/src/components/page/QPageContainer.js';\nimport qInstall from \"../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QLayout,QPageContainer});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-layout',{staticStyle:{\"min-height\":\"0\"},attrs:{\"view\":\"hHh lpR fFf\"}},[_c('q-page-container',[_c('CodeBlocksEditor',{attrs:{\"blockInfo\":_vm.blocks}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlocks, {\n    IOnTypeChangeInfo,\n    IOnVisibleLinesChangeInfo,\n    IOnPlacementChangeInfo,\n    IOnScriptVersionChangeInfo,\n    IOnSetAutoResetInfo,\n    IOnThemeChangeInfo,\n} from '@/components/CodeBlocks.vue'\nimport { KnownBlockTypes, CodeOutputTypes } from '@/lib/ICodeBlocks'\n\nvar mixin = {\n    created: function () {\n        console.log(1)\n    },\n}\n@Component\nexport default class CodeBlocksEditor extends CodeBlocks {\n    get editMode(): boolean {\n        return true\n    }\n\n    onTypeChange(nfo: IOnTypeChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        bl.type = nfo.type\n        bl.hidden = nfo.hidden\n        bl.static = nfo.static\n        bl.hasCode = nfo.hasCode\n    }\n\n    onVisibleLinesChange(nfo: IOnVisibleLinesChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        if (nfo.visibleLines != 'auto' && isNaN(nfo.visibleLines)) {\n            bl.visibleLines = 'auto'\n        } else {\n            bl.visibleLines = nfo.visibleLines\n        }\n    }\n    onPlacementChange(nfo: IOnPlacementChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        bl.width = nfo.width\n        bl.height = nfo.height\n        bl.align = nfo.align\n    }\n    onCompilerChange(v: string): void {\n        const c = this.$compilerRegistry.getCompiler({ languageType: v })\n        if (c !== undefined) {\n            console.log('Selected Compiler', c, v, this.blockInfo.compiler)\n            this.blockInfo.compiler.languageType = v\n            this.blockInfo.compiler.version = c.version\n            this.blockInfo.language = c.language\n\n            console.log('PRELOADING')\n            c.preload()\n        }\n    }\n    onCompilerVersionChange(v: string): void {\n        console.log('Selected Version', v, this.blockInfo.compiler.languageType)\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: this.blockInfo.compiler.languageType,\n            version: v,\n        })\n        this.blockInfo.compiler.version = v\n\n        if (c !== undefined) {\n            this.blockInfo.language = c.language\n\n            console.log('PRELOADING')\n            c.preload()\n        }\n    }\n    onRunStateChange(v: boolean): void {\n        this.blockInfo.runCode = v\n    }\n    onContinousCompileStateChange(v: boolean): void {\n        this.blockInfo.continuousCompilation = v\n    }\n    onMessagePassingChange(v: boolean): void {\n        this.blockInfo.messagePassing = v\n    }\n    onKeepAliveChange(v: boolean): void {\n        this.blockInfo.keepAlive = v\n    }\n    onPersistentArgumentsChange(v: boolean): void {\n        if (v === false) {\n            this.blockInfo.clearDefaultArgs()\n        }\n        this.blockInfo.persistentArguments = v\n    }\n    onLanguageChange(v: string): void {\n        this.blockInfo.language = v\n    }\n    onCharacterLimitChange(v: number): void {\n        this.blockInfo.maxCharacters = v\n    }\n    onTimeoutChange(v: number): void {\n        this.blockInfo.executionTimeout = v\n    }\n    onWorkerLibChange(v: string[]): void {\n        this.blockInfo.workerLibs = v\n    }\n    onDomLibChange(v: string[]): void {\n        this.blockInfo.domLibs = v\n    }\n    onScriptVersionChange(nfo: IOnScriptVersionChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        bl.version = nfo.version\n        if (bl.obj) {\n            bl.obj.version = nfo.version\n        }\n    }\n    onSetAutoReset(nfo: IOnSetAutoResetInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        bl.shouldAutoreset = nfo.shouldAutoreset\n    }\n    onThemeChange(nfo: IOnThemeChangeInfo): void {\n        this.blockInfo.solutionTheme = nfo.solution\n        this.blockInfo.codeTheme = nfo.code\n    }\n    moveUp(idx: number): void {\n        this.blockInfo.moveUp(idx)\n    }\n    moveDown(idx: number): void {\n        this.blockInfo.moveDown(idx)\n    }\n    addNewBlock(): void {\n        this.blockInfo.addNewBlock()\n    }\n    removeBlock(idx: number): void {\n        this.blockInfo.removeBlock(idx)\n    }\n    onOutputParserChange(v: CodeOutputTypes): void {\n        this.blockInfo.outputParser = v\n    }\n}\n","var render, staticRenderFns\nimport script from \"./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"","<template>\n    <q-layout view=\"hHh lpR fFf\" style=\"min-height:0\">\n        <q-page-container>\n            <CodeBlocksEditor :blockInfo=\"blocks\" />\n        </q-page-container>\n    </q-layout>\n</template>\n\n<script>\nimport CodeBlocksEditor from './components/CodeBlocksEditor'\nimport Vue from 'vue'\n\nexport default {\n    name: 'AppEditor',\n\n    props: ['blocks'],\n\n    components: {\n        CodeBlocksEditor\n    },\n\n    data: () => ({}),\n    computed: {}\n}\n</script>\n\n<style lang=\"sass\">\n#app\n  margin-bottom: 16px\n  background-color: rgba(1,1,1,0)\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppEditor.vue?vue&type=template&id=0797aa13&\"\nimport script from \"./AppEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./AppEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppEditor.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QLayout from 'quasar/src/components/layout/QLayout.js';\nimport QPageContainer from 'quasar/src/components/page/QPageContainer.js';\nimport qInstall from \"../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QLayout,QPageContainer});\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\nexport class BlockLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'BLOCK'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        const alts = bl.getElementsByTagName('ALTERNATIVE')\n        const codes = bl.getElementsByTagName('CODE')\n        if (codes.length > 0) {\n            block.content = codes[0].textContent ? codes[0].textContent : ''\n        }\n\n        if (alts.length > 0) {\n            block.hasAlternativeContent = true\n            block.alternativeContent = alts[0].textContent\n            if (!editMode && block.noContent) {\n                block.content = block.alternativeContent ? block.alternativeContent : ''\n            }\n        }\n\n        block.hasCode = true\n    }\n}\n\nexport const blockLoader = new BlockLoadManager()\n\nexport default function(loaders: { [index: string]: IBlockloadManager }) {\n    loaders[blockLoader.blockTag] = blockLoader\n}\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\nexport class PlaygroundLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'PLAYGROUND'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        block.obj = null\n        positioninLoadManager.loadFromDatablock(bl, inBlock, block)\n        block.version = bl.getAttribute('data-version')\n            ? bl.getAttribute('data-version')!\n            : block.version\n    }\n}\n\nexport const playgroundLoader = new PlaygroundLoadManager()\n\nexport default function (loaders: { [index: string]: IBlockloadManager }) {\n    loaders[playgroundLoader.blockTag] = playgroundLoader\n}\n","import { ScriptBlock } from './scriptBlock'\nimport { IScriptOutputObject, IPlaygroundObject, ILegacyPlaygroundObject } from './IScriptBlock'\nimport i18n from '../plugins/i18n'\nimport 'reflect-metadata'\nimport { Vue, Component, Watch } from 'vue-property-decorator'\n\nimport App from '../App.vue'\nimport AppEditor from '../AppEditor.vue'\nimport { uuid } from 'vue-uuid'\n\nimport { compilerRegistry as CompilerRegistry } from './CompilerRegistry'\nimport { ICompilerErrorDescription, ICompilerID } from './ICompilerRegistry'\nimport {\n    IRandomizerSettings,\n    CodeOutputTypes,\n    IBlockData,\n    KnownBlockTypes,\n    IRandomizerSet,\n    IRandomizerSetTag,\n    ICodeBlockDataState,\n    IBlockDataBase,\n    IBlockDataBlockly,\n    IBlockloadManager,\n    IBlockElementData,\n    CodeExpansionType,\n} from './ICodeBlocks'\n\n//get loaders\nimport blockInstaller from '@/lib/BlockloadManagers/BlockManager'\nimport blocklyInstaller from '@/lib/BlockloadManagers/BlocklyManager'\nimport playgroundInstaller from '@/lib/BlockloadManagers/PlaygroundManager'\nimport { trim } from 'jquery'\n\nconst loaders: { [index: string]: IBlockloadManager } = {}\nblockInstaller(loaders)\nblocklyInstaller(loaders)\nplaygroundInstaller(loaders)\n\nVue.prototype.$compilerRegistry = CompilerRegistry\n\nexport interface IAppSettings {\n    id: number\n    uuid: string\n    editMode: boolean\n    readonly: boolean\n    randomizer: IRandomizerSettings\n    blocks: BlockData[]\n    compiler: ICompilerID\n    language: string\n    runCode: boolean\n    domLibs: string[]\n    workerLibs: string[]\n    outputParser: CodeOutputTypes\n    solutionTheme: string\n    codeTheme: string\n    executionTimeout: number\n    maxCharacters: number\n    scopeUUID?: string\n    scopeSelector?: string\n    continuousCompilation: boolean\n    messagePassing: boolean\n    keepAlive: boolean\n    persistentArguments: boolean\n    shadowRoot?: ShadowRoot\n}\n\ninterface IAppElementData {\n    randomizerActive?: string\n    randomizerPreviewIndex?: string\n    randomizerKnownTags?: string\n    randomizerSets?: string\n    question?: string\n    compiler?: string\n    compilerVersion?: string\n    domLibs?: string\n    workerLibs?: string\n    readonly?: string\n    runCode?: string\n    id?: string\n    executionTimeout?: string\n    maxCharacters?: string\n    scopeUUID?: string\n    scopeSelector?: string\n    continuousCompilation?: string\n    messagePassing?: string\n    keepAlive?: string\n    persistentArguments?: string\n    outputParser?: CodeOutputTypes\n    solutionTheme?: string\n    codeTheme?: string\n}\n\nexport interface IBlockBookmarkPayload {\n    uuid: string\n    block: BlockData | null\n}\n\n@Component\nexport class BlockData extends Vue implements IBlockData {\n    appSettings!: IAppSettings\n    hasCode!: boolean\n    type!: KnownBlockTypes\n    content!: string\n    alternativeContent!: string | null\n    noContent!: boolean\n    id!: number\n    uuid!: string\n    parentID!: number\n    expanded!: boolean\n    codeExpanded!: CodeExpansionType\n    obj!: ScriptBlock | null\n    readonly!: boolean\n    static!: boolean\n    hidden!: boolean\n    version!: string\n    readyCount!: number\n    errors!: ICompilerErrorDescription[]\n    scopeUUID?: string\n    scopeSelector!: string\n    visibleLines!: number | 'auto'\n    hasAlternativeContent!: boolean\n    shouldAutoreset!: boolean\n    width!: string\n    height!: string\n    align!: string\n    blockly!: IBlockDataBlockly\n    lineCountHint!: number\n    _oac?: () => string //used by Blockly to re-place the actualContent-Method while keeping the old implementation around\n\n    actualContent() {\n        if (this.appSettings.randomizer.active) {\n            return Vue.$tagger.replaceRandomTagsInString(\n                this.content,\n                this.appSettings.randomizer.sets[this.appSettings.randomizer.previewIndex]\n            )\n        }\n\n        return this.content\n    }\n    recreateScriptObject() {\n        if (this.type === KnownBlockTypes.PLAYGROUND) {\n            console.i('recreateScriptObject')\n\n            const so = new ScriptBlock(this.actualContent(), this.version)\n            this.obj = so\n            console.i('Block Rebuild', this.obj, this.uuid)\n        }\n    }\n    created() {\n        this.recreateScriptObject()\n    }\n\n    getThemeForBlock(bl: ICodeBlockDataState): string {\n        if (bl.static || bl.readonly || bl.hidden) {\n            return this.appSettings.codeTheme\n        }\n\n        return this.appSettings.solutionTheme\n    }\n\n    get themeForCodeBlock(): string {\n        if (this.static || this.readonly || this.hidden) {\n            return this.appSettings.codeTheme\n        }\n\n        return this.appSettings.solutionTheme\n    }\n\n    get isLast(): boolean {\n        return this.id == this.appSettings.blocks.length - 1\n    }\n    get firstLine(): number {\n        if (this.id === 0) {\n            return 1\n        }\n        return this.appSettings.blocks[this.id - 1].nextLine\n    }\n\n    get lineCount(): number {\n        if (!this.hasCode) {\n            return 0\n        }\n        if (this.lineCountHint >= 0) {\n            return this.lineCountHint\n        }\n\n        let ct = 0\n        this.content.replace(/\\n/, (m) => {\n            ct++\n            return m\n        })\n        return ct\n    }\n\n    get nextLine(): number {\n        if (!this.hasCode) {\n            return this.firstLine\n        }\n        return this.firstLine + this.lineCount\n    }\n    get domLibs(): string[] {\n        return this.appSettings.domLibs\n    }\n\n    //is this right. Happend when converting from JS\n    get scriptVersion(): string {\n        return this.version\n    }\n\n    @Watch('type')\n    onTypeChanged(newType: KnownBlockTypes, oldType: KnownBlockTypes) {\n        if (newType != oldType) {\n            this.recreateScriptObject()\n        }\n    }\n}\n\nexport interface IMainBlock extends IAppSettings {\n    swap(id1: number, id2: number): void\n    moveUp(id: number): void\n    moveDown(id: number): void\n    removeBlock(idx: number): void\n    addNewBlock(): void\n\n    initArgsForLanguage(): object | string[]\n    storeDefaultArgs(args: object | string[]): void\n    clearDefaultArgs(): void\n}\n\nfunction isTrue(val: any): boolean {\n    //return val !== undefined || val == 'true' || val == '1'\n    return val !== undefined && val != 'false' && val != '0'\n}\n\nconst useShadowDOM = false\n\n//this will handle the vue mounting on the dom\nclass InternalCodeBlocksManager {\n    constructBlock(data: IAppSettings, bl: IBlockDataBase): BlockData {\n        if (bl.type === KnownBlockTypes.PLAYGROUND) {\n            if (bl.content == '' || bl.content === undefined || bl.content === null) {\n                bl.content = '{}'\n            }\n        }\n\n        return new BlockData({\n            data: () => {\n                return {\n                    ...bl,\n                    appSettings: data,\n                }\n            },\n        })\n    }\n\n    readonly element: HTMLElement\n    readonly data: IAppSettings\n    readonly shadowRoot: ShadowRoot | undefined = undefined\n    constructor(el: HTMLElement) {\n        if (useShadowDOM) {\n            const content = el.outerHTML\n\n            //replace original element with empty div that will store the shadowDOM\n            const parent = el.parentElement!\n            const rewrap = document.createElement('DIV')\n            parent.replaceChild(rewrap, el)\n\n            //add shadowDOM and clear content\n            const shadow = rewrap.attachShadow({ mode: 'open' })\n            this.shadowRoot = shadow\n            shadow.innerHTML = ''\n\n            //copy root-level styles into the shadowDOM\n            $('style').each((idx, style) => {\n                const st = document.createElement('STYLE')\n                st.innerHTML = style.innerHTML\n                shadow.appendChild(st)\n            })\n\n            $('link[shadow]').each((idx, link) => {\n                shadow.appendChild(link.cloneNode())\n            })\n\n            // //add new root and append original Element\n            // const root = document.createElement('DIV')\n            // root.id = 'root'\n            // //root.innerHTML = noContent\n            // root.appendChild(el)\n            // shadow.appendChild(root)\n            // console.log($('style').length)\n            // this.element = root\n\n            //append original element to shadowDOM\n            shadow.appendChild(el)\n            this.element = el\n        } else {\n            this.shadowRoot = undefined\n            this.element = el\n        }\n        console.log(this.element)\n        const inData = el.dataset as IAppElementData\n        const data: IAppSettings = {\n            id: -1,\n            editMode: el.tagName == 'CODEBLOCKSEDITOR' || el.hasAttribute('codeblockseditor'),\n            runCode: false,\n            language: 'javascript',\n            compiler: {\n                languageType: 'javascript',\n                version: '101',\n            },\n            randomizer: {\n                active: false,\n                previewIndex: 0,\n                knownTags: [],\n                sets: [],\n            },\n            domLibs: [],\n            workerLibs: [],\n            blocks: [],\n            outputParser: CodeOutputTypes.AUTO,\n            readonly: false,\n            solutionTheme: 'solarized light',\n            codeTheme: 'xq-light',\n            uuid: 'is-set-below',\n            executionTimeout: 5000,\n            maxCharacters: 1000,\n            continuousCompilation: isTrue(inData.continuousCompilation),\n            messagePassing: isTrue(inData.messagePassing),\n            keepAlive: isTrue(inData.keepAlive),\n            persistentArguments: isTrue(inData.persistentArguments),\n            shadowRoot: this.shadowRoot,\n        }\n\n        if (inData.randomizerActive !== undefined) {\n            data.randomizer.active = isTrue(inData.randomizerActive)\n        }\n        if (inData.randomizerPreviewIndex !== undefined) {\n            data.randomizer.previewIndex = Number(inData.randomizerPreviewIndex)\n        }\n        if (inData.randomizerKnownTags !== undefined) {\n            data.randomizer.knownTags = JSON.parse(inData.randomizerKnownTags)\n        }\n        if (inData.randomizerSets !== undefined) {\n            data.randomizer.sets = JSON.parse(inData.randomizerSets).map((o: object, i: number) => {\n                const ret: IRandomizerSet = {\n                    uuid: uuid.v4(),\n                    values: [],\n                }\n                Object.keys(o).forEach((tag) => {\n                    const item: IRandomizerSetTag = {\n                        tag: tag,\n                        value: o[tag],\n                    }\n                    ret.values.push(item)\n                })\n\n                return ret\n            })\n        }\n\n        if (inData.question !== undefined) {\n            data.id = Number(inData.question)\n        }\n\n        if (inData.compiler !== undefined) {\n            const cInfo: ICompilerID = {\n                languageType: inData.compiler,\n                version: inData.compilerVersion!,\n            }\n            data.compiler = cInfo\n\n            const c = CompilerRegistry.getCompiler(data.compiler)\n            if (c === undefined) {\n                data.runCode = false\n                data.language = data.compiler.languageType\n            } else {\n                data.runCode = isTrue(inData.runCode)\n                data.language = c.language\n                data.compiler.version = c.version\n            }\n        }\n\n        if (inData.domLibs !== undefined) {\n            data.domLibs = JSON.parse(inData.domLibs)\n        }\n\n        if (inData.readonly !== undefined) {\n            if (data.editMode) {\n                data.readonly = false\n            } else {\n                data.readonly = isTrue(inData.readonly)\n            }\n        }\n\n        if (inData.workerLibs !== undefined) {\n            data.workerLibs = JSON.parse(inData.workerLibs)\n        }\n\n        if (el.hasAttribute('uuid')) {\n            data.uuid = el.getAttribute('uuid')!\n        } else {\n            data.uuid = uuid.v4()\n            el.setAttribute('uuid', data.uuid)\n        }\n\n        //data.id = Number(data.id)\n\n        if (inData.executionTimeout !== undefined) {\n            data.executionTimeout = Number(inData.executionTimeout)\n        }\n\n        if (inData.maxCharacters !== undefined) {\n            data.maxCharacters = Number(inData.maxCharacters)\n        }\n\n        if (inData.scopeUUID !== undefined) {\n            data.scopeUUID = inData.scopeUUID\n        }\n        if (inData.scopeSelector !== undefined) {\n            data.scopeSelector = inData.scopeSelector\n        }\n\n        if (inData.outputParser !== undefined) {\n            data.outputParser = inData.outputParser\n        }\n\n        if (inData.solutionTheme !== undefined) {\n            data.solutionTheme = inData.solutionTheme\n        }\n\n        if (inData.codeTheme !== undefined) {\n            data.codeTheme = inData.codeTheme\n        }\n\n        el.querySelectorAll('*').forEach((blIn) => {\n            const bl = blIn as HTMLElement\n            //only first level children\n            if (bl.parentElement != el) {\n                return\n            }\n            const inBlock = bl.dataset as IBlockElementData\n            const as = bl.getAttribute('as')\n            if (as !== null) {\n                inBlock.as = as.trim().toUpperCase()\n            }\n\n            const block: IBlockDataBase = {\n                as: inBlock.as ? KnownBlockTypes[inBlock.as] : undefined,\n                hasCode: false,\n                version: '101',\n                type: bl.tagName as KnownBlockTypes,\n                content: bl.textContent ? bl.textContent : '',\n                alternativeContent: null,\n                hasAlternativeContent: false,\n                id: data.blocks.length,\n                uuid: uuid.v4(),\n                parentID: data.id,\n                width: '100%',\n                height: '200px',\n                align: 'center',\n                readyCount: 0,\n                obj: null,\n                lineCountHint: -1,\n                blockly: {\n                    showControls: false,\n                    useOverride: false,\n                    toolbox: {\n                        categories: [],\n                    },\n                    toolboxOverride: '',\n                    blocks: [],\n                    _blockErrors: [],\n                },\n                errors: [],\n                readonly: isTrue(inBlock.readonly),\n                static: isTrue(inBlock.static),\n                hidden: isTrue(inBlock.hidden),\n                visibleLines:\n                    inBlock.visibleLines === undefined ||\n                    inBlock.visibleLines?.trim().toLowerCase() == 'auto'\n                        ? 'auto'\n                        : Number(inBlock.visibleLines),\n                shouldAutoreset: isTrue(inBlock.shouldAutoreset),\n\n                expanded:\n                    inBlock.expanded === undefined ||\n                    (inBlock.expanded != 'false' && inBlock.expanded != '0'),\n                codeExpanded: CodeExpansionType.AUTO,\n                noContent: isTrue(inBlock.noContent),\n                scopeUUID: inBlock.scopeUUID,\n                scopeSelector: inBlock.scopeSelector,\n            }\n\n            if (inBlock.codeExpanded !== undefined) {\n                if (\n                    inBlock.codeExpanded.toUpperCase() == 'TINY' ||\n                    inBlock.codeExpanded == 'false' ||\n                    inBlock.codeExpanded == '0'\n                ) {\n                    block.codeExpanded = CodeExpansionType.TINY\n                } else if (\n                    inBlock.codeExpanded.toUpperCase() == 'LARGE' ||\n                    inBlock.codeExpanded == '2'\n                ) {\n                    block.codeExpanded = CodeExpansionType.LARGE\n                }\n            }\n\n            if (!data.editMode && block.noContent) {\n                block.content = ''\n            }\n            if (inBlock.alternativeContent !== undefined && !block.static && !block.hidden) {\n                block.alternativeContent = inBlock.alternativeContent\n                block.hasAlternativeContent = true\n                if (!data.editMode && block.noContent) {\n                    block.content = block.alternativeContent\n                }\n            } else {\n                block.hasAlternativeContent = false\n            }\n\n            if (block.type != 'TEXT') {\n                console.log('BL', block.type, block.as)\n                if (block.as) {\n                    block.type = block.as\n                }\n                const loader = loaders[block.type]\n                console.d('LOADER', loader, loaders, block.type, block.as)\n                if (loader === undefined) {\n                    console.i('Skipping', block.type, block.as)\n                    return\n                } else {\n                    loader.loadFromDatablock(bl, inBlock, block, data.editMode)\n                }\n            }\n\n            data.blocks.push(this.constructBlock(data, block))\n        })\n        this.data = data\n\n        console.d('DATA', data)\n    }\n\n    instantiateVue() {\n        const data = this.data\n        const self = this\n        new Vue({\n            i18n,\n            render: function (h) {\n                @Component({\n                    data: function () {\n                        return data\n                    },\n                })\n                class MainBlock extends Vue implements IMainBlock {\n                    id!: number\n                    uuid!: string\n                    editMode!: boolean\n                    readonly!: boolean\n                    randomizer!: IRandomizerSettings\n                    blocks!: BlockData[]\n                    compiler!: ICompilerID\n                    language!: string\n                    runCode!: boolean\n                    domLibs!: string[]\n                    workerLibs!: string[]\n                    outputParser!: CodeOutputTypes\n                    solutionTheme!: string\n                    codeTheme!: string\n                    executionTimeout!: number\n                    maxCharacters!: number\n                    scopeUUID?: string\n                    scopeSelector?: string\n                    continuousCompilation!: boolean\n                    messagePassing!: boolean\n                    keepAlive!: boolean\n                    persistentArguments!: boolean\n\n                    initArgsForLanguage() {\n                        console.d('Constructing args for', this.language, this.defaultArgs)\n\n                        if (this.defaultArgs === undefined) {\n                            if (this.language === 'java') {\n                                return []\n                            } else {\n                                return {}\n                            }\n                        } else {\n                            return this.defaultArgs\n                        }\n                    }\n\n                    defaultArgs!: object | string[] | undefined\n                    storeDefaultArgs(args: object | string[]) {\n                        this.defaultArgs = args\n                    }\n                    clearDefaultArgs() {\n                        this.defaultArgs = undefined\n                    }\n\n                    swap(id1: number, id2: number) {\n                        const a = this.blocks[id1]\n                        this.blocks[id1] = this.blocks[id2]\n                        this.blocks[id2] = a\n\n                        this.blocks[id1].id = id1\n                        this.blocks[id2].id = id2\n                    }\n                    moveUp(id: number) {\n                        if (id <= 0) {\n                            return\n                        }\n                        this.swap(id - 1, id)\n                    }\n                    moveDown(id: number) {\n                        if (id >= this.blocks.length - 1) {\n                            return\n                        }\n                        this.swap(id, id + 1)\n                    }\n                    removeBlock(idx: number) {\n                        data.blocks.splice(idx, 1)\n                        for (let i = idx; i < data.blocks.length; i++) {\n                            data.blocks[i].id = i\n                        }\n                    }\n                    addNewBlock() {\n                        const block: IBlockDataBase = {\n                            noContent: false,\n                            alternativeContent: null,\n                            hasCode: true,\n                            type: KnownBlockTypes.BLOCK,\n                            content: '',\n                            id: data.blocks.length,\n                            uuid: uuid.v4(),\n                            parentID: data.id,\n                            expanded: true,\n                            codeExpanded: CodeExpansionType.AUTO,\n                            width: '100%',\n                            height: '200px',\n                            align: 'center',\n                            obj: null,\n                            readonly: false,\n                            static: true,\n                            hidden: false,\n                            version: '101',\n                            readyCount: 0,\n                            errors: [],\n                            scopeUUID: data.scopeUUID,\n                            scopeSelector: data.scopeSelector,\n                            visibleLines: 10,\n                            hasAlternativeContent: false,\n                            shouldAutoreset: false,\n                            blockly: {\n                                showControls: false,\n                                useOverride: false,\n                                toolboxOverride: '',\n                                toolbox: {\n                                    categories: [],\n                                },\n                                blocks: [],\n                                _blockErrors: [],\n                            },\n                            lineCountHint: -1,\n                        }\n                        data.blocks.push(self.constructBlock(data, block))\n                    }\n                }\n                const context = {\n                    props: {\n                        language: data.language,\n                        id: data.id,\n                        blocks: new MainBlock(),\n                    },\n                }\n                return h(data.editMode ? AppEditor : App, context)\n            },\n        }).$mount(this.element)\n    }\n}\n\nexport class MountableArray extends Array<InternalCodeBlocksManager> {\n    mount() {\n        this.forEach((el) => el.instantiateVue())\n    }\n}\n\nexport const CodeBlocksManager = {\n    find(scope: HTMLElement | Document | undefined) {\n        if (scope === undefined) {\n            scope = document\n        }\n        const allCodeBlockParents = scope.querySelectorAll(\n            'codeblocks, codeblockseditor, div[codeblocks], div[codeblockseditor]'\n        )\n        const result = new MountableArray()\n        allCodeBlockParents.forEach((el) => {\n            const cbm = new InternalCodeBlocksManager(el as HTMLElement)\n            let scope = cbm.data.scopeSelector\n                ? document.querySelector(cbm.data.scopeSelector)\n                : undefined\n            if (scope === undefined || scope === null) {\n                scope = el\n            }\n\n            Vue.$hljs.$vue.processElements(scope)\n            if (cbm.data.editMode) {\n                Vue.$tagger.processElements(scope)\n                cbm.data.scopeSelector = `[uuid=${scope.getAttribute('uuid')}]`\n                cbm.data.scopeUUID = scope.getAttribute('uuid')\n                    ? scope.getAttribute('uuid')!\n                    : undefined\n                cbm.data.blocks.forEach((b) => {\n                    b.scopeUUID = cbm.data.scopeUUID\n                    b.scopeSelector = cbm.data.scopeSelector\n                        ? cbm.data.scopeSelector\n                        : `[uuid=${b.scopeUUID}]`\n                })\n            }\n\n            result.push(cbm)\n        })\n        return result\n    },\n}\n","String.prototype.replaceAllPoly = function(search: string, replacement: string): string {\n    var target = this\n    return target.replace(new RegExp(search, 'g'), replacement)\n}\nString.prototype.replaceRec = function(pattern: string | RegExp, replacement: string): string {\n    var newstr = this.replace(pattern, replacement)\n    if (newstr == this) {\n        return newstr\n    }\n    return newstr.replaceRec(pattern, replacement)\n}\n\nconsole.d = function(...lines) {\n    if (process.env.NODE_ENV == 'development') {\n        console.debug('[DEBUG]', ...lines)\n    }\n}\n\nconsole.i = function(...lines) {\n    if (process.env.NODE_ENV == 'development') {\n        console.log('[INFO]', ...lines)\n    }\n}\n\nimport Vue from 'vue'\nimport 'reflect-metadata'\nimport './plugins/uuid'\nimport './plugins/quasar'\nimport './plugins/codemirror'\nimport './plugins/codeBlocks'\nimport './plugins/compilerState'\nimport './plugins/codemirror'\nimport './plugins/highlight'\nimport './plugins/tagger'\n//import './plugins/blocklyEnv'\n//remove \"noImplicitAny\": false from tsconfig when this file goes ts\nimport { CodeBlocksManager } from './lib/codeBlocksManager'\n\nVue.config.productionTip = false\nCodeBlocksManager.find(document).mount()\n\nwindow.mountInElement = function(element: any): void {\n    Vue.$hljs.$vue.processElements(element)\n    Vue.$tagger.processElements(element)\n    CodeBlocksManager.find(element).mount()\n}\n\nwindow.mountCodeBlocks = function(scope: HTMLElement | Document | undefined) {\n    return CodeBlocksManager.find(scope).mount()\n}\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=style&index=1&lang=stylus&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=style&index=0&id=75cfd4ae&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=style&index=0&id=0368514c&scoped=true&lang=sass&\"","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\nimport Quasar from 'quasar/src/vue-plugin.js';\n\nlet lang = document.getElementsByTagName('html')[0].getAttribute('lang')\nif (lang !== null) {\n    lang = lang.split('-', 2)[0]\n}\nVue.use(VueI18n)\n\nfunction loadLocaleMessages() {\n    const locales = require.context('../locales', true, /[A-Za-z0-9-_,\\s]+\\.json$/i)\n    const messages = {}\n    locales.keys().forEach(key => {\n        const matched = key.match(/([A-Za-z0-9-_]+)\\./i)\n        if (matched && matched.length > 1) {\n            const locale = matched[1]\n            messages[locale] = locales(key)\n        }\n    })\n    return messages\n}\n\nexport class I18n extends VueI18n {\n    public readonly $v: typeof VueI18n\n\n    constructor(options: VueI18n.I18nOptions) {\n        super(options)\n        this.$v = VueI18n\n    }\n}\n\nexport const i18n: I18n = new I18n({\n    locale: lang || process.env.VUE_APP_I18N_LOCALE || 'en',\n    fallbackLocale: process.env.VUE_APP_I18N_FALLBACK_LOCALE || 'en',\n    messages: loadLocaleMessages()\n})\n\nexport default i18n\nVue.prototype.$l = (key: string, values?: any[]): string => {\n    const res = i18n.t(key, values)\n    return res.toString()\n}\nVue.$l = Vue.prototype.$l\n"],"sourceRoot":""}