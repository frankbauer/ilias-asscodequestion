{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/PlaygroundCanvas.vue?354f","webpack:///./src/components/CodePlayground.vue?4c78","webpack:///./src/lib/BlocklyHelper.ts","webpack:///./src/components/CodeBlockButton.vue?274c","webpack:///./src/components/ErrorTip.vue?249a","webpack:///./src/locales sync [A-Za-z0-9-_,\\s]+\\.json$/","webpack:///./src/components/RandomizerSettings.vue?73d0","webpack:///./src/lib/glsl/glsl.js","webpack:///./src/lib/ICompilerRegistry.ts","webpack:///./src/components/CodeBlocks.vue?93e8","webpack:///./src/components/CodeBlock.vue?070a","webpack:///./src/components/ErrorTip.vue?862c","webpack:///./src/components/ErrorTip.vue?296a","webpack:///./src/components/ErrorTip.vue?7ff9","webpack:///./src/components/ErrorTip.vue?6dd0","webpack:///./src/components/CodeBlockButton.vue?562d","webpack:///./src/components/CodeBlockButton.vue?3139","webpack:///./src/components/CodeBlockButton.vue?80aa","webpack:///./src/components/CodeBlockButton.vue?a7ca","webpack:///./src/components/CodeBlock.vue?58a8","webpack:///./src/components/CodeBlock.vue?a984","webpack:///./src/components/CodeBlock.vue?4e17","webpack:///./src/components/BaseBlock.vue?3c30","webpack:///./src/components/BaseBlock.vue","webpack:///./src/components/BaseBlock.vue?b2cd","webpack:///./src/lib/ICodeBlocks.ts","webpack:///./src/AppEditor.vue?3de5","webpack:///./src/components/TipTap.vue?6d63","webpack:///./src/components/CodeBlockContainer.vue?77f6","webpack:///./src/lib/IBlocklyHelper.ts","webpack:///./src/components/CodePanel.vue?a358","webpack:///./src/plugins/uuid.ts","webpack:///./src/plugins/quasar.ts","webpack:///./src/plugins/codemirror.ts","webpack:///./src/plugins/codeBlocks.ts","webpack:///./src/plugins/compilerState.ts","webpack:///./src/plugins/highlight.ts","webpack:///./src/plugins/tagger.ts","webpack:///./src/compiler/doppio.v001.js","webpack:///./src/compiler/teavm.v100.ts","webpack:///./src/compiler/teavm.v101.ts","webpack:///./src/compiler/java.ts","webpack:///./src/compiler/javascript.v100.ts","webpack:///./src/compiler/javascript.v101.ts","webpack:///./src/compiler/javascript.v102.ts","webpack:///./src/compiler/javascript.ts","webpack:///./src/compiler/python.v100.ts","webpack:///./src/compiler/python.v101.ts","webpack:///./src/compiler/python.v102.ts","webpack:///./src/compiler/python.ts","webpack:///./src/compiler/glsl.v100.ts","webpack:///./src/compiler/glsl.ts","webpack:///./src/lib/CompilerRegistry.ts","webpack:///./src/lib/scriptBlock.ts","webpack:///./src/App.vue?4358","webpack:///./src/components/CodeBlocks.vue?9d6b","webpack:///./src/components/CodeBlockContainer.vue?8b4f","webpack:///./src/lib/BlockloadManagers/PositioningManager.ts","webpack:///./src/lib/BlockloadManagers/BlocklyManager.ts","webpack:///./src/components/CodeBlockContainer.vue?f576","webpack:///./src/components/CodeBlockContainer.vue?7509","webpack:///./src/components/CodeBlockContainer.vue?a19f","webpack:///./src/components/CodeBlocksSettings.vue?7615","webpack:///./src/components/RandomizerSettings.vue?ab81","webpack:///./src/components/RandomizerSetEditor.vue?43dd","webpack:///./src/components/RandomizerSetEditor.vue?95bc","webpack:///./src/components/RandomizerSetEditor.vue?66cf","webpack:///./src/components/RandomizerSetEditor.vue","webpack:///./src/components/RandomizerSettings.vue?a919","webpack:///./src/components/RandomizerSettings.vue?7729","webpack:///./src/components/RandomizerSettings.vue?a708","webpack:///./src/components/CodeBlocksSettings.vue?bf18","webpack:///./src/components/CodeBlocksSettings.vue?3ed4","webpack:///./src/components/CodeBlocksSettings.vue?5b50","webpack:///./src/components/CodePanel.vue?4b4e","webpack:///./src/components/CodePanel.vue?f205","webpack:///./src/components/CodePanel.vue?f1e4","webpack:///./src/components/CodePanel.vue?8bf3","webpack:///./src/components/CodePlayground.vue?7e10","webpack:///./src/components/PlaygroundCanvas.vue?b6cb","webpack:///./src/components/PlaygroundCanvas.vue?46ca","webpack:///./src/components/PlaygroundCanvas.vue?0e7a","webpack:///./src/components/PlaygroundCanvas.vue?4be2","webpack:///./src/components/CodePlayground.vue?be50","webpack:///./src/components/CodePlayground.vue?24b5","webpack:///./src/components/CodePlayground.vue?4e9b","webpack:///./src/components/SimpleText.vue?3355","webpack:///./src/components/TipTap.vue?1265","webpack:///./src/components/TipTap.vue?5557","webpack:///./src/components/TipTap.vue?4961","webpack:///./src/components/TipTap.vue?16b5","webpack:///./src/components/SimpleText.vue?52af","webpack:///./src/components/SimpleText.vue?a7b6","webpack:///./src/components/SimpleText.vue","webpack:///./src/components/CodeBlocks.vue?cd7e","webpack:///./src/components/CodeBlocks.vue?3520","webpack:///./src/components/CodeBlocks.vue?b09b","webpack:///./src/App.vue","webpack:///./src/App.vue?721d","webpack:///./src/App.vue?1d3a","webpack:///./src/AppEditor.vue?1e21","webpack:///./src/components/CodeBlocksEditor.vue?4571","webpack:///./src/components/CodeBlocksEditor.vue","webpack:///./src/components/CodeBlocksEditor.vue?f318","webpack:///./src/AppEditor.vue","webpack:///./src/AppEditor.vue?7b3f","webpack:///./src/AppEditor.vue?0e82","webpack:///./src/lib/BlockloadManagers/BlockManager.ts","webpack:///./src/lib/BlockloadManagers/PlaygroundManager.ts","webpack:///./src/lib/codeBlocksManager.ts","webpack:///./src/main.ts","webpack:///./src/App.vue?e2c2","webpack:///./src/components/CodePlayground.vue?f26c","webpack:///./src/components/CodeBlocksSettings.vue?2799","webpack:///./src/components/CodeBlock.vue?481d","webpack:///./src/plugins/i18n.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","ColorThemeSelection","label","ColorHues","PredefinedBlockTypes","keys","map","ret","$l","ColorSelection","ColorSelectionWithNone","blockStyles","colour_blocks","colourPrimary","Colour","colourSecondary","colourTertiary","hat","list_blocks","List","logic_blocks","Logic","loop_blocks","Loop","math_blocks","Math","procedure_blocks","Procedure","text_blocks","Text","variable_blocks","Variable","variable_dynamic_blocks","Variable_dynamic","hat_blocks","categoryStyles","colour_category","colour","list_category","logic_category","loop_category","math_category","procedure_category","text_category","variable_category","variable_dynamic_category","BlocklyHelper","a","items","item","serializeToolboxItem","join","res","color","custom","this","serializeToolboxItems","serializeToolboxCategory","toolbox","catCount","categories","serializeToolboxCategories","cat","bl","cp","JSON","toHTMLColor","stringify","getBlockDescription","bls","xml","replace","cc","codeUndefines","Blockly","prepareBlocklyCode","codeString","_code","Function","$CodeBlock","itemForValue","forEach","cl","toColor","blocklyHelper","webpackContext","req","id","webpackContextResolve","mod","require","define","CodeMirror","words","str","obj","split","defineMode","config","parserConfig","curPunc","indentUnit","statementIndentUnit","dontAlignCalls","keywords","builtin","blockKeywords","atoms","hooks","multiLineStrings","indentStatements","isOperatorChar","tokenBase","stream","state","ch","next","tokenize","tokenString","test","eatWhile","eat","tokenComment","skipToEnd","cur","current","propertyIsEnumerable","quote","escaped","end","maybeEnd","Context","indented","column","align","prev","pushContext","col","indent","context","popContext","startState","basecolumn","startOfLine","token","ctx","sol","indentation","eatSpace","style","textAfter","Pass","firstChar","charAt","closing","electricChars","blockCommentStart","blockCommentEnd","lineComment","fold","cppHook","skipTo","eol","def","mimes","add","prop","helperType","registerHelper","defineMIME","modeProps","ErrorSeverity","render","_vm","_h","$createElement","_c","_self","class","typeName","directives","rawName","expression","attrs","block","isBookmarkPanel","ref","boxClass","options","namePrefix","parentID","on","onCodeReady","onCodeFocus","onCodeChangeDefered","onCodeKeyHandle","staticClass","_v","_s","$t","altCode","altOptions","onAltCodeReady","onAltCodeFocus","onAltCodeChangeDefered","_e","staticRenderFns","severityClass","severityIcon","_l","iconForSeverity","severity","classForSeverity","component","components","assign","QIcon","QTooltip","iconName","onClick","bookmarked","uuid","appSettings","$GlobalEventHub","$emit","bookmarkMe","$on","onBookmark","$off","required","default","QBtn","ErrorTipCtor","extend","codeUpdateTimer","codeUpdateStartTime","continuousCodeUpdateTimer","codeNeedsTagUpdate","altCodeUpdateTimer","altCodeUpdateStartTime","codemirror","allMarks","getDoc","getAllMarks","className","$tagger","rnd","templ","clear","altcodemirror","clearGutter","editor","display","input","textarea","codeBox","$el","querySelectorAll","el","trim","$","text","content","iliasTypeNr","editMode","updateDiagnosticDisplay","onCodeChange","whenBlockIsReady","altBox","$nextTick","onAltCodeChange","alternativeContent","updateTagDisplay","updateHeight","newCode","now","Date","getTime","doIt","lineCountHint","doc","size","firstLineNumber","firstLine","tb","querySelector","emitWhenTypingInViewMode","indexOf","arguments","didAddText","keyCode","visibleLines","static","setSize","round","max","scopeUUID","replaceTemplateTagInString","newValue","randomizer","active","clearTagMarkers","getMarkers","markText","start","inclusiveLeft","inclusiveRight","title","startStyle","endStyle","hookClick","val","errors","clearErrorDisplay","first","line","info","lineInfo","element","gutterMarkers","$component","setGutterMarker","propsData","$mount","refresh","readyWhenMounted","buildIt","log","addKeyMap","cMirror","Tab","execCommand","replaceTemplateTags","canBookmark","$refs","hasAlternativeContent","tagSet","hidden","readonly","toLowerCase","actualContent","theme","lineNumbers","tabSize","autoCloseBrackets","readOnly","gutters","BaseBlock","validator","b","CodeBlockButton","muteReadyState","readyCount","whenBlockIsDestroyed","KnownBlockTypes","CodeOutputTypes","CodeExpansionType","BlockPrimaryColors","BlockSecondaryColors","BlockTertiaryColors","BlockOutputTypes","BlockSequenceTypes","BlockArgumentTypes","KnownBlocklyTypes","use","plugins","Dialog","animations","lang","set","mimeTypesForLanguage","mime","displayName","css","fortran","glsl","html","java","javascript","perl","php","python","loadSettings","scope","baseurl","settings","opt","outputObject","magicString","Array","isArray","json","idx","AUTO","MAGIC","substr","pString","parse","parsedString","too","language","k","sort","refreshAllCodeMirrorsSync","find","globalState","SEVERITY_ERROR","SEVERITY_WARNING","Warning","$SEVERITY_ERROR","$SEVERITY_WARNING","$compilerState","globalStateHidden","globalStateMessage","runButtonForceHide","methods","hideGlobalState","displayGlobalState","setAllRunButtons","what","configure","useBR","registerLanguage","reg_hl","reg_code","$vue","processElements","inLang","elements","hasAttribute","processElement","processElementSimple","txt","innerHTML","m1","m2","m3","m4","m5","highlight","highlightAuto","MathJax","Hub","Register","StartupHook","highlightAll","highlightElement","hljs","$hljs","directive","binding","componentUpdated","randomAndTemplateTag","lines","markers","regex","RegExp","exec","index","lastIndex","marker","h","$uuid","v4","calle","processString","m0","tags","inTag","innerText","onclick","clickFunction","values","tagEl","$q","dialog","i18n","persistent","prompt","model","ok","icon","cancel","onOk","replaceTemplateTag","onCancel","onDismiss","me","self","highlighted","javaRunOverhead","runJavaWorker","questionID","callingCodeBlocks","max_ms","log_callback","info_callback","err_callback","compileFailedCallback","finishedExecutionCB","forceReload","exp","match","worker","Worker","Vue","timer","addEventListener","stdout","stderr","postMessage","cmd","terminate","JavaExec","setRunButton","showMessage","msg","enabled","singleton","loadedlibs","version","canRun","canStop","allowsContinousCompilation","allowsPersistentArguments","allowsMessagePassing","acceptsJSONArgument","didPreload","requestedPreload","isReady","isRunning","preload","triggerResourceLoad","lock","initialize","initFileSystems","reroutStdStreams","ready","compileAndRun","args","runCreate","created","teaVMRunOverhead","experimental","deprecated","teaworker","sessionCompileListener","sessionID","sessionWorker","createTeaWorker","whenReady","command","mainClass","url","executionFinished","booted","compilerTimeout","time","replaceRec","getMainClass","regexpMainClass","myListener","phase","lineNumber","startLineNumber","startColumn","endLineNumber","endColumn","kind","humanReadable","runTimeout","removeEventListener","status","runListener","ee","workerrun","runStart","javaCompiler_V100","keepAlive","didReceiveMessage","postMessageFunction","wr","dequeuePostponedMessages","whenFinishedHandler","beforeStartHandler","messagePosting","allowMessagePassing","javaCompiler_V101","versions","JavaCompilers","runJavaScriptWorker","not_allowed_keywords","prefixCode","postfixCode","URL","createObjectURL","Blob","testTimeout","testTimeoutIntern","onmessage","lineno","colno","javascriptCompiler_V100","startTime","performance","triggerTimeout","startExecution","willStartExecution","workerLibraries","$compilerRegistry","loadLibraries","libraries","compilerRegistry","registerDOMLib","javascriptCompiler_V101","javascriptCompiler_V102","JavascriptCompilers","runPythonWorker","prog","maxRuntime","logCallback","infoCallback","errCallback","finishCallback","replaceAllPoly","pyInp","messageData","pyProg","maxMS","stdOut","pythonCompiler_V100","legacy","pythonCompiler_V101","pythonLegacyCompiler_V101","legacyPython","python3","pythonCompiler_V102","PythonCompilers","runGLSLWorker","outputData","blocks","filter","hasCode","v100","GLSLCompilers","compilers","loadedURIs","afterLoadFinished","isLoadingLibs","registerSingle","v","registerLibs","compilerInfo","cmps","languageType","uri","utility","order","onBuildSandboxEnv","didLoad","sandbox","domLibs","libs","getLibObjects","uris","reduce","concat","domLibraries","whenLoaded","urisForDOMLibs","dlibs","loadURIs","loadCount","u","loadLib","langs","register","d3","Chart","THREE","brain","tf","Phaser","IsometricMapGame","legacyCodeTemplate","prefix","postfix","v101CodeTemplate","v102CodeTemplate","jsErrorParser","columnNumber","stack","Number","$jsErrorParser","sandboxProxies","WeakMap","compileCode","addLoadedToSandbox","has","sandboxProxy","Proxy","unscopables","fkt","didInit","_runConfig","queuedMessages","queuedIncomingMessages","init","update","requestsOriginalVersion","dequeueIncoming","pushError","rebuild","lazyInit","addArgumentsTo","onMessage","beforeStart","whenFinished","canvasElement","runner","run","doPostMessageToWorker","outputElement","parents","reset","output","processedOutput","initialOutput","parseError","onParseError","cfg","staticStyle","addonClass","backgroundColorClass","blockInfo","hasBookmark","panelBlock","onCompilerChange","onCompilerVersionChange","onRunStateChange","onContinousCompileStateChange","onMessagePassingChange","onKeepAliveChange","onPersistentArgumentsChange","onLanguageChange","onCharacterLimitChange","onTimeoutChange","onWorkerLibChange","onDomLibChange","onThemeChange","onOutputParserChange","onTypeChange","onVisibleLinesChange","onPlacementChange","onScriptVersionChange","moveUp","moveDown","removeBlock","onSetAutoReset","themeForBlock","mimeType","activeTagSet","continuousCompile","blockBecameReady","onViewCodeChange","finalOutputObject","eventHub","onPlaygroundChangedOutput","onRunFromPlayground","callback","$$v","$set","addNewBlock","center","domProps","stop","outputHTML","colorClass","bgClass","types","scopedSlots","_u","fn","showTypeInfoDialog","proxy","typeObj","validNumber","hasAltComntent","scriptVersions","scriptVersionObj","shouldAutoReset","width","height","alignments","canMoveUp","canMoveDown","expanded","toggleExpanded","$event","composing","serializedOptions","_t","inBlock","positioninLoadManager","customBlocks","arr","prepareCode","message0","args0","nextStatement","previousStatement","toString","blockly","toolboxInput","toolboxStr","defaultToolbox","toolboxOverride","useOverride","codes","loadFromDatablock","showControls","isTrue","loadCustomBlocks","loadToolbox","loadOverrideToolbox","loadCode","_expanded","blocklyLoader","loaders","blockTag","frank","settingsMenu","isNaN","refreshAllCodeMirrors","objIn","extended","path","BLOCKLY","nr","filteredCopy","PLAYGROUND","TEXT","BLOCKHIDDEN","BLOCKSTATIC","BLOCK","scriptVersion","isLast","shouldAutoreset","toArray","cm","QCard","QCardSection","QSelect","QPopupProxy","QInput","QToggle","QSlideTransition","QBanner","QItem","QItemSection","QItemLabel","languageHasCompiler","runCode","canContinousCompile","compiledLanguages","compilerLanguageObj","compilerVersions","compilerVersion","_g","_b","itemProps","itemEvents","isDeprecatedVersion","compilerLanguage","isExperimentalVersion","accepstArguments","showArgsInfoDialog","canPersistentArguments","persistentArguments","showPersistentArgsInfoDialog","messagePassing","showMessagesInfoDialog","showAliveInfoDialog","maxCharacters","outputParsers","outputParser","themes","codeTheme","solutionTheme","domLibrary","workerLibrary","addTag","tagClass","removeTag","addSet","isVisible","isCompleteSet","setVisible","getFullSet","removeSet","onShow","knownTags","_newTagName","previewIndex","sets","flat","ct","odata","RandomizerSetEditor","QList","QAvatar","getCompiler","showInfoDialog","compiler","languages","knownLanguages","versionsForLanguage","cmp","executionTimeout","vv","workerLibs","solution","continuousCompilation","RandomizerSettings","onExpandClick","saveBlock","visibleLinesNow","themeForCodeBlock","noContent","codeExpanded","actualAltContent","getThemeForBlock","_blockErrors","panelWidth","CodeBlock","runCount","emitRun","onCanvasChange","onDidInit","isExpandedAuto","setExpandedAuto","isExpandedLarge","setExpandedLarge","isExpandedTiny","setExpandedTiny","canvas","scopeSelector","whenMounted","innerPlaygroundContainer","isPreparingRun","lastRun","needsCodeRebuild","initAndRebuildErrors","resetBeforeRun","updateErrors","hasErrors","onFinalOutputObject","setExpanded","LARGE","TINY","rebuildCode","reInitCode","onNextTick","invalidate","doInit","can","jStr","originalMode","PlaygroundCanvas","QBtnGroup","updatedContentDefered","previewValue","updatedContent","eb","editBox","QField","textUpdateTimer","textUpdateStartTime","newVal","TipTap","didInitialize","sansoutput","didClip","_finalOutputObject","didRunOnce","bookmarkedBlock","triggerRecompileWhenFinished","nfo","newOutput","format_info","format_error","last","nextLine","infoErrorOutput","processed","playgrounds","processMixedOutput","onRunFinished","resetOutput","clearDiagnostics","_args","initArgsForLanguage","runOptions","logInfo","logError","processDiagnostics","success","overrideOutput","returnState","finishedExecution","storeDefaultArgs","clearDefaultArgs","runConfig","blockid","completeSource","ctrlKey","metaKey","preventDefault","onkey","onBookmarkBlock","forceRun","randomizerActive","CodeBlockContainer","CodeBlocksSettings","CodePlayground","SimpleText","CodePanel","props","CodeBlocks","computed","QLayout","QPageContainer","blockById","CodeBlocksEditor","alts","textContent","blockLoader","playgroundLoader","replaceRandomTagsInString","so","recreateScriptObject","newType","oldType","lineCount","useShadowDOM","shadowRoot","parent","parentElement","outerHTML","rewrap","replaceChild","shadow","attachShadow","each","st","root","inData","dataset","tagName","randomizerPreviewIndex","randomizerKnownTags","randomizerSets","question","cInfo","blIn","as","toUpperCase","loader","constructBlock","MainBlock","defaultArgs","id1","id2","swap","AppEditor","App","instantiateVue","CodeBlocksManager","allCodeBlockParents","cbm","String","search","replacement","pattern","newstr","productionTip","mount","mountInElement","mountCodeBlocks","loadLocaleMessages","locales","messages","matched","locale","I18n","$v","fallbackLocale"],"mappings":"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QACoB,OCLjBzD,EAAQkC,EDKS,IELwb,I,YDOzcO,EAAY,eACd,EACAzC,EACAkC,GACA,EACA,KACA,KACA,MAIa,OAAAO,E,+IEdf,IAAY6I,EASAC,EAOAC,EAhBZ,+GAAYF,GACR,6BACA,iBACA,gCACA,gCACA,mBACA,uBANJ,CAAYA,MAAe,KAS3B,SAAYC,GACR,iBACA,iBACA,iBACA,mBAJJ,CAAYA,MAAe,KAO3B,SAAYC,GACR,wBACA,sBACA,sBAHJ,CAAYA,MAAiB,M,yDCpB7B,W,kCCAA,W,kCCAA,W,kCCAA,IAAYC,EAYAC,EAWAC,EAYAC,EASAC,EAIAC,EA4EAC,EA5HZ,mLAAYN,GACR,sBACA,oBACA,qBACA,oBACA,oBACA,yBACA,oBACA,wBACA,gCATJ,CAAYA,MAAkB,KAY9B,SAAYC,GACR,sBACA,oBACA,qBACA,oBACA,oBACA,yBACA,oBACA,wBACA,gCATJ,CAAYA,MAAoB,KAWhC,SAAYC,GACR,sBACA,oBACA,qBACA,oBACA,oBACA,yBACA,oBACA,wBACA,gCATJ,CAAYA,MAAmB,KAY/B,SAAYC,GACR,qBACA,uBACA,qBACA,mBACA,oBACA,YANJ,CAAYA,MAAgB,KAS5B,SAAYC,GACR,qBADJ,CAAYA,MAAkB,KAI9B,SAAYC,GACR,+BACA,qCACA,qCACA,iCACA,iCACA,+BACA,qCACA,6BACA,+BACA,+BACA,+BACA,uCACA,+BAbJ,CAAYA,MAAkB,KA4E9B,SAAYC,GACR,+BACA,mCACA,uCACA,iCACA,mCACA,6BACA,mCACA,+CACA,+CACA,iCACA,yCACA,yDACA,+BACA,uCACA,+BACA,2BACA,mCACA,iDACA,6BACA,iCACA,+BACA,qCACA,uCACA,2CACA,iBACA,2BACA,+BACA,+BACA,iCACA,iCACA,mCACA,+BACA,2CACA,uCACA,2BACA,6BACA,uCACA,2CACA,iCACA,iCACA,mCACA,mCACA,qCACA,qCACA,yCACA,+BACA,6BACA,mCACA,mCACA,6BACA,iCAnDJ,CAAYA,MAAiB,M,yDC5H7B,W,qLCGA,OAAIC,IAAI,Q,0KCeF,EAAOjb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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-69306e32\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Customizing/global/plugins/Modules/TestQuestionPool/Questions/assCodeQuestion/codeblocks/0.2.10/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=style&index=0&id=29a639c7&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=style&index=0&id=27994e1a&lang=sass&scoped=true&\"","import Vue from 'vue'\n\nimport {\n    IBlocklyToolbox,\n    IBlocklyToolboxItem,\n    IBlocklyToolboxCategory,\n    BlockPrimaryColors,\n    KnownBlocklyTypes,\n    BlockArgumentTypes,\n    IBlockDefinition,\n    IBlockLine,\n    IBlockArgument,\n    BlockSecondaryColors,\n    BlockTertiaryColors,\n} from '@/lib/IBlocklyHelper'\nimport { IListItemData } from './ICompilerRegistry'\n\nexport const ColorThemeSelection: IListItemData[] = [\n    { label: 'Colors', value: '{!PrimaryColors.Colour}' },\n    { label: 'Arrays', value: '{!PrimaryColors.List}' },\n    { label: 'Logic', value: '{!PrimaryColors.Logic}' },\n    { label: 'Loops', value: '{!PrimaryColors.Loop}' },\n    { label: 'Math', value: '{!PrimaryColors.Math}' },\n    { label: 'Procedures', value: '{!PrimaryColors.Procedure}' },\n    { label: 'String', value: '{!PrimaryColors.Text}' },\n    { label: 'Variables', value: '{!PrimaryColors.Variable}' },\n    { label: 'Variables (dynamic)', value: '{!PrimaryColors.Variable_dynamic}' },\n]\n\nexport const ColorHues: IListItemData[] = [\n    { label: '0', value: '0' },\n    { label: '15', value: '15' },\n    { label: '30', value: '30' },\n    { label: '45', value: '45' },\n    { label: '60', value: '60' },\n    { label: '75', value: '75' },\n    { label: '90', value: '90' },\n    { label: '105', value: '105' },\n    { label: '120', value: '120' },\n    { label: '135', value: '135' },\n    { label: '150', value: '150' },\n    { label: '165', value: '165' },\n    { label: '180', value: '180' },\n    { label: '195', value: '195' },\n    { label: '210', value: '210' },\n    { label: '225', value: '225' },\n    { label: '240', value: '240' },\n    { label: '255', value: '255' },\n    { label: '270', value: '270' },\n    { label: '285', value: '285' },\n    { label: '300', value: '300' },\n    { label: '315', value: '315' },\n    { label: '330', value: '330' },\n    { label: '345', value: '345' },\n]\n\nexport const PredefinedBlockTypes: IListItemData[] = Object.keys(KnownBlocklyTypes).map((key) => {\n    const ret: IListItemData = {\n        label: Vue.$l(`Blockly.BlockTypeNames.${key}`),\n        value: KnownBlocklyTypes[key],\n    }\n    return ret\n})\n\nexport const ColorSelection: IListItemData[] = [...ColorThemeSelection, ...ColorHues]\n\nexport const ColorSelectionWithNone: IListItemData[] = [\n    { label: 'None', value: '' },\n    ...ColorSelection,\n]\n\nexport const PredefinedArgumentTypes: IListItemData[] = Object.keys(BlockArgumentTypes).map(\n    (key) => {\n        const ret: IListItemData = {\n            label: Vue.$l(`Blockly.ArgumentTypeNames.${key}`),\n            value: key,\n        }\n        return ret\n    }\n)\n\nexport const blockStyles = {\n    colour_blocks: {\n        colourPrimary: BlockPrimaryColors.Colour,\n        colourSecondary: BlockSecondaryColors.Colour,\n        colourTertiary: BlockTertiaryColors.Colour,\n        hat:'cap',\n    },\n    list_blocks: {\n        colourPrimary: BlockPrimaryColors.List,\n        colourSecondary: BlockSecondaryColors.List,\n        colourTertiary: BlockTertiaryColors.List,\n        hat:'cap',\n    },\n    logic_blocks: {\n        colourPrimary: BlockPrimaryColors.Logic,\n        colourSecondary: BlockSecondaryColors.Logic,\n        colourTertiary: BlockTertiaryColors.Logic,\n        hat:'cap',\n    },\n    loop_blocks: {\n        colourPrimary: BlockPrimaryColors.Loop,\n        colourSecondary: BlockSecondaryColors.Loop,\n        colourTertiary: BlockTertiaryColors.Loop,\n        hat:'cap',\n    },\n    math_blocks: {\n        colourPrimary: BlockPrimaryColors.Math,\n        colourSecondary: BlockSecondaryColors.Math,\n        colourTertiary: BlockTertiaryColors.Math,\n        hat:'cap',\n    },\n    procedure_blocks: {\n        colourPrimary: BlockPrimaryColors.Procedure,\n        colourSecondary: BlockSecondaryColors.Procedure,\n        colourTertiary: BlockTertiaryColors.Procedure,\n        hat:'cap',\n    },\n    text_blocks: {\n        colourPrimary: BlockPrimaryColors.Text,\n        colourSecondary: BlockSecondaryColors.Text,\n        colourTertiary: BlockTertiaryColors.Text,\n        hat:'cap',\n    },\n    variable_blocks: {\n        colourPrimary: BlockPrimaryColors.Variable,\n        colourSecondary: BlockSecondaryColors.Variable,\n        colourTertiary: BlockTertiaryColors.Variable,\n        hat:'cap',\n    },\n    variable_dynamic_blocks: {\n        colourPrimary: BlockPrimaryColors.Variable_dynamic,\n        colourSecondary: BlockSecondaryColors.Variable_dynamic,\n        colourTertiary: BlockTertiaryColors.Variable_dynamic,\n        hat:'cap',\n    },\n    hat_blocks: {\n        colourPrimary: '330',\n        colourSecondary: '330',\n        colourTertiary: '330',\n        hat: 'cap',\n    },\n}\n\nexport const categoryStyles = {\n    colour_category: { colour: blockStyles.colour_blocks.colourPrimary },\n    list_category: { colour: blockStyles.list_blocks.colourPrimary },\n    logic_category: { colour: blockStyles.logic_blocks.colourPrimary },\n    loop_category: { colour: blockStyles.loop_blocks.colourPrimary },\n    math_category: { colour: blockStyles.math_blocks.colourPrimary },\n    procedure_category: { colour: blockStyles.procedure_blocks.colourPrimary },\n    text_category: { colour: blockStyles.text_blocks.colourPrimary },\n    variable_category: { colour: blockStyles.variable_blocks.colourPrimary },\n    variable_dynamic_category: {\n        colour: blockStyles.variable_dynamic_blocks.colourPrimary,\n    },\n}\n\n//export const theme = new Blockly.Theme('CodeBlocks', blockStyles as any, categoryStyles)\n\nexport class BlocklyHelper {\n    \n    public toArgumentDescription(a: BlockArgumentTypes) {\n        const n = Vue.$l(`Blockly.ArgumentTypeNames.${a}`)\n        return n ? `${n} (${a})` : a\n    }\n    private serializeToolboxItem(i: IBlocklyToolboxItem): string {\n        return `<block type=\"${i.type}\"></block>`\n    }\n    private serializeToolboxItems(items: IBlocklyToolboxItem[]): string {\n        return items.map((item) => this.serializeToolboxItem(item)).join('\\n')\n    }\n    private serializeToolboxCategory(i: IBlocklyToolboxCategory): string {\n        let res = `<category name=\"${i.name}\"`\n        if (i.color && i.color != '') {\n            res += ` colour=\"${i.color}\"`\n        }\n        if (i.custom && i.custom != '') {\n            res += ` custom=\"${i.custom}\"`\n        }\n        res += `>${this.serializeToolboxItems(i.items)}</category>`\n        return res\n    }\n    private serializeToolboxCategories(items: IBlocklyToolboxCategory[]): string {\n        return items.map((item) => this.serializeToolboxCategory(item)).join('\\n')\n    }\n\n    public serializeToolbox(toolbox: IBlocklyToolbox): string {\n        const catCount = toolbox.categories.length\n        if (toolbox.categories && catCount > 1) {\n            return `${this.serializeToolboxCategories(toolbox.categories)}`\n        } else if (catCount === 1) {\n            const cat = toolbox.categories[0]\n            if (cat.color === undefined || cat.color == '' || cat.name == '') {\n                return '' + this.serializeToolboxItems(cat.items)\n            } else {\n                return '' + this.serializeToolboxCategories(toolbox.categories)\n            }\n        } else {\n            return ''\n        }\n    }\n\n    public getBlockDescription(bl: IBlockDefinition): object {\n        const cp = { ...bl.JSON }\n        cp.colour = this.toHTMLColor(cp.colour)\n        return cp\n    }\n\n    public serializeCustomBlock(bl: IBlockDefinition): string {\n        return JSON.stringify(this.getBlockDescription(bl))\n    }\n\n    public serializeCustomBlocks(bls: IBlockDefinition[]): string {\n        return JSON.stringify(bls.map((bl) => this.getBlockDescription(bl)))\n    }\n\n    get codeUndefines(): string {\n        return 'const window = undefined; const Window = undefined; const document = undefined;const $ = undefined;const _ = undefined;'\n    }\n\n    public removeSelfClosingTags(xml: string): string {\n        //console.log(xml, '\\n', xml.replace(/<(\\w+)([^<]*)\\/>/g, '<$1$2></$1>'))\n        return xml.replace(/<(\\w+)([^<]*)\\/>/g, '<$1$2></$1>')\n    }\n\n    public prepareCode(cc: string): string {\n        return `\"use strict\"; ${this.codeUndefines} return function(){ return {o: ${cc}}.o}.call({})`\n    }\n\n    public prepareBlocklyCode(cc: string): string {\n        return `var Blockly = B;${this.codeUndefines}return { o:function(block) { ${cc} }}.o`\n    }\n\n    public compile(bl: IBlockDefinition, Blockly: any): any | undefined {\n        const cc = this.prepareBlocklyCode(bl.codeString)\n        bl._code = undefined\n        try {\n            //console.log(cc, Blockly)\n            const code = new Function('B', cc)\n            bl._code = code(Blockly)\n        } catch (e) {\n            bl._code = undefined\n            console.error('Error Compiling', cc, e)\n            return e + ''\n        }\n        return undefined\n    }\n\n    public itemForValue(items: IListItemData[], value: string): IListItemData {\n        return Vue.$CodeBlock.itemForValue(items, value)\n    }\n\n    public toColorCode(color: string): string | undefined {\n        if (color === '') {\n            return undefined\n        }\n        return color\n    }\n\n    public toColor(color: string | undefined): string {\n        if (color === undefined) {\n            return ''\n        }\n        Object.keys(BlockPrimaryColors).forEach((key) => {\n            if (color == `{!PrimaryColors.${key}}`) {\n                color = BlockPrimaryColors[key]\n            }\n        })\n        return color\n    }\n\n    public toHTMLColor(color: string | undefined): string {\n        const cl = this.toColor(color)\n        if (cl.length > 0 && cl[0] != '#' && cl[0] != 'h' && cl[0] != 'r') {\n            return `hsl(${cl}, 100%, 50%)`\n        }\n        return cl\n    }\n\n    mounted() {}\n}\n\nexport const blocklyHelper = new BlocklyHelper()\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=style&index=0&id=0bd2a5d9&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=style&index=0&lang=sass&\"","var map = {\n\t\"./de.json\": \"6ce2\",\n\t\"./en.json\": \"edd4\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"49f8\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=style&index=0&id=8b99c0d6&lang=stylus&scoped=true&\"","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n    if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n      mod(require(\"codemirror\"));\n    else if (typeof define == \"function\" && define.amd) // AMD\n      define([\"codemirror\"], mod);\n    else // Plain browser env\n      mod(CodeMirror);\n  })(function(CodeMirror) {\n  \"use strict\";\n  \n  CodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n    var indentUnit = config.indentUnit,\n        statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n        dontAlignCalls = parserConfig.dontAlignCalls,\n        keywords = parserConfig.keywords || {},\n        builtin = parserConfig.builtin || {},\n        blockKeywords = parserConfig.blockKeywords || {},\n        atoms = parserConfig.atoms || {},\n        hooks = parserConfig.hooks || {},\n        multiLineStrings = parserConfig.multiLineStrings,\n        indentStatements = parserConfig.indentStatements !== false;\n    var isOperatorChar = /[+\\-*&%=<>!?|\\/]/;\n  \n    var curPunc;\n  \n    function tokenBase(stream, state) {\n      var ch = stream.next();\n      if (hooks[ch]) {\n        var result = hooks[ch](stream, state);\n        if (result !== false) return result;\n      }\n      if (ch == '\"' || ch == \"'\") {\n        state.tokenize = tokenString(ch);\n        return state.tokenize(stream, state);\n      }\n      if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n        curPunc = ch;\n        return null;\n      }\n      if (/\\d/.test(ch)) {\n        stream.eatWhile(/[\\w\\.]/);\n        return \"number\";\n      }\n      if (ch == \"/\") {\n        if (stream.eat(\"*\")) {\n          state.tokenize = tokenComment;\n          return tokenComment(stream, state);\n        }\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return \"comment\";\n        }\n      }\n      if (isOperatorChar.test(ch)) {\n        stream.eatWhile(isOperatorChar);\n        return \"operator\";\n      }\n      stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n      var cur = stream.current();\n      if (keywords.propertyIsEnumerable(cur)) {\n        if (blockKeywords.propertyIsEnumerable(cur)) curPunc = \"newstatement\";\n        return \"keyword\";\n      }\n      if (builtin.propertyIsEnumerable(cur)) {\n        if (blockKeywords.propertyIsEnumerable(cur)) curPunc = \"newstatement\";\n        return \"builtin\";\n      }\n      if (atoms.propertyIsEnumerable(cur)) return \"atom\";\n      return \"variable\";\n    }\n  \n    function tokenString(quote) {\n      return function(stream, state) {\n        var escaped = false, next, end = false;\n        while ((next = stream.next()) != null) {\n          if (next == quote && !escaped) {end = true; break;}\n          escaped = !escaped && next == \"\\\\\";\n        }\n        if (end || !(escaped || multiLineStrings))\n          state.tokenize = null;\n        return \"string\";\n      };\n    }\n  \n    function tokenComment(stream, state) {\n      var maybeEnd = false, ch;\n      while (ch = stream.next()) {\n        if (ch == \"/\" && maybeEnd) {\n          state.tokenize = null;\n          break;\n        }\n        maybeEnd = (ch == \"*\");\n      }\n      return \"comment\";\n    }\n  \n    function Context(indented, column, type, align, prev) {\n      this.indented = indented;\n      this.column = column;\n      this.type = type;\n      this.align = align;\n      this.prev = prev;\n    }\n    function pushContext(state, col, type) {\n      var indent = state.indented;\n      if (state.context && state.context.type == \"statement\")\n        indent = state.context.indented;\n      return state.context = new Context(indent, col, type, null, state.context);\n    }\n    function popContext(state) {\n      var t = state.context.type;\n      if (t == \")\" || t == \"]\" || t == \"}\")\n        state.indented = state.context.indented;\n      return state.context = state.context.prev;\n    }\n  \n    // Interface\n  \n    return {\n      startState: function(basecolumn) {\n        return {\n          tokenize: null,\n          context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", false),\n          indented: 0,\n          startOfLine: true\n        };\n      },\n  \n      token: function(stream, state) {\n        var ctx = state.context;\n        if (stream.sol()) {\n          if (ctx.align == null) ctx.align = false;\n          state.indented = stream.indentation();\n          state.startOfLine = true;\n        }\n        if (stream.eatSpace()) return null;\n        curPunc = null;\n        var style = (state.tokenize || tokenBase)(stream, state);\n        if (style == \"comment\" || style == \"meta\") return style;\n        if (ctx.align == null) ctx.align = true;\n  \n        if ((curPunc == \";\" || curPunc == \":\" || curPunc == \",\") && ctx.type == \"statement\") popContext(state);\n        else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n        else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n        else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n        else if (curPunc == \"}\") {\n          while (ctx.type == \"statement\") ctx = popContext(state);\n          if (ctx.type == \"}\") ctx = popContext(state);\n          while (ctx.type == \"statement\") ctx = popContext(state);\n        }\n        else if (curPunc == ctx.type) popContext(state);\n        else if (indentStatements &&\n                 (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != ';') ||\n                  (ctx.type == \"statement\" && curPunc == \"newstatement\")))\n          pushContext(state, stream.column(), \"statement\");\n        state.startOfLine = false;\n        return style;\n      },\n  \n      indent: function(state, textAfter) {\n        if (state.tokenize != tokenBase && state.tokenize != null) return CodeMirror.Pass;\n        var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n        if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n        var closing = firstChar == ctx.type;\n        if (ctx.type == \"statement\") return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n        else if (ctx.align && (!dontAlignCalls || ctx.type != \")\")) return ctx.column + (closing ? 0 : 1);\n        else if (ctx.type == \")\" && !closing) return ctx.indented + statementIndentUnit;\n        else return ctx.indented + (closing ? 0 : indentUnit);\n      },\n  \n      electricChars: \"{}\",\n      blockCommentStart: \"/*\",\n      blockCommentEnd: \"*/\",\n      lineComment: \"//\",\n      fold: \"brace\"\n    };\n  });\n  \n    function words(str) {\n      var obj = {}, words = str.split(\" \");\n      for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n      return obj;\n    }\n    var cKeywords = \"auto if break int case long char register continue return default short do sizeof \" +\n      \"double static else struct entry switch extern typedef float union for unsigned \" +\n      \"goto while enum void const signed volatile\";\n  \n    function cppHook(stream, state) {\n      if (!state.startOfLine) return false;\n      for (;;) {\n        if (stream.skipTo(\"\\\\\")) {\n          stream.next();\n          if (stream.eol()) {\n            state.tokenize = cppHook;\n            break;\n          }\n        } else {\n          stream.skipToEnd();\n          state.tokenize = null;\n          break;\n        }\n      }\n      return \"meta\";\n    }\n  \n    function cpp11StringHook(stream, state) {\n      stream.backUp(1);\n      // Raw strings.\n      if (stream.match(/(R|u8R|uR|UR|LR)/)) {\n        var match = stream.match(/\"([^\\s\\\\()]{0,16})\\(/);\n        if (!match) {\n          return false;\n        }\n        state.cpp11RawStringDelim = match[1];\n        state.tokenize = tokenRawString;\n        return tokenRawString(stream, state);\n      }\n      // Unicode strings/chars.\n      if (stream.match(/(u8|u|U|L)/)) {\n        if (stream.match(/[\"']/, /* eat */ false)) {\n          return \"string\";\n        }\n        return false;\n      }\n      // Ignore this hook.\n      stream.next();\n      return false;\n    }\n  \n    // C#-style strings where \"\" escapes a quote.\n    function tokenAtString(stream, state) {\n      var next;\n      while ((next = stream.next()) != null) {\n        if (next == '\"' && !stream.eat('\"')) {\n          state.tokenize = null;\n          break;\n        }\n      }\n      return \"string\";\n    }\n  \n    // C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n    // <delim> can be a string up to 16 characters long.\n    function tokenRawString(stream, state) {\n      // Escape characters that have special regex meanings.\n      var delim = state.cpp11RawStringDelim.replace(/[^\\w\\s]/g, '\\\\$&');\n      var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n      if (match)\n        state.tokenize = null;\n      else\n        stream.skipToEnd();\n      return \"string\";\n    }\n  \n    function def(mimes, mode) {\n      if (typeof mimes == \"string\") mimes = [mimes];\n      var words = [];\n      function add(obj) {\n        if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n          words.push(prop);\n      }\n      add(mode.keywords);\n      add(mode.builtin);\n      add(mode.atoms);\n      if (words.length) {\n        mode.helperType = mimes[0];\n        CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n      }\n  \n      for (var i = 0; i < mimes.length; ++i)\n        CodeMirror.defineMIME(mimes[i], mode);\n    }\n  \n    def([\"x-shader/x-vertex\", \"x-shader/x-fragment\", \"text/x-glsl\"], {\n      name: \"clike\",\n      keywords: words(\"float int bool void \" +\n                      \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                      \"mat2 mat3 mat4 \" +\n                      \"sampler2D sampler3D samplerCube \" +\n                      \"const attribute uniform varying \" +\n                      \"break continue discard return \" +\n                      \"for while do if else struct \" +\n                      \"in out inout\"),\n      blockKeywords: words(\"for while do if else struct\"),\n      builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                      \"pow exp log exp2 sqrt inversesqrt \" +\n                      \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                      \"length distance dot cross normalize faceforward \" +\n                      \"reflect refract matrixCompMult \" +\n                      \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                      \"equal notEqual any all not \" +\n                      \"texture2D texture2DLod texture2DProjLod \" +\n                      \"textureCube textureCubeLod \"),\n      atoms: words(\"true false \" +\n                  \"gl_FragColor \" +\n                  \"gl_PointCoord \" +\n                  \"gl_Position gl_PointSize \" +\n                  \"gl_FragCoord gl_FrontFacing \" +\n                  \"gl_FragData \" +\n                  \"gl_DepthRangeParameters \" +\n                  \"gl_MaxVertexAttribs gl_MaxVaryingVectors gl_MaxVertexUniformVectors\" +\n                  \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                  \"gl_MaxFragmentUniformVectors \" +\n                  \"gl_MaxDrawBuffers\"),\n      hooks: {\"#\": cppHook},\n      modeProps: {fold: [\"brace\", \"include\"]}\n    });\n  \n  });","export type finishedCallbackSignatur = (\n    success: boolean,\n    overrideOutput?: any,\n    returnState?: any\n) => void\n\nexport interface IListItemData {\n    readonly label: string\n    readonly value: string\n}\n\nexport enum ErrorSeverity {\n    Error = 2,\n    Warning = 1,\n}\nexport interface IErrorPosition {\n    line: number\n    column: number\n}\nexport interface ICompilerErrorDescription {\n    start: IErrorPosition\n    end: IErrorPosition\n    message: string\n    severity: ErrorSeverity\n}\n\nexport interface IDomLibraray {\n    key: string\n    uri: string[]\n    name: string\n    version: string\n    displayName: string\n    didLoad: boolean\n    utility: boolean\n    order: number\n    onBuildSandboxEnv: (sandbox: any) => void\n}\n\nexport interface ICompilerHashMap {\n    [lang: string]: ICompilerInfo\n}\n\nexport interface ICompilerState {\n    hideGlobalState(): void\n    setAllRunButtons(what: boolean): void\n    displayGlobalState(message: string | null): void\n\n    readonly globalStateHidden: boolean\n    readonly globalStateMessage: string\n    readonly runButtonForceHide: boolean\n}\n\nexport interface ICompilerRegistry {\n    readonly languages: IListItemData[]\n    readonly domLibraries: IListItemData[]\n\n    register(compilers: ICompilerInfo[] | ICompilerInfo): void\n\n    registerSingle(c: ICompilerInfo): void\n    getCompiler(compilerInfo: ICompilerIDQuery): ICompilerInstance | undefined\n\n    versionsForLanguage(languageType: string): string[] | ['none']\n\n    registerDOMLib(\n        uri: string[],\n        name: string,\n        version: string,\n        displayName: string,\n        utility?: boolean,\n        order?: number\n    ): void\n\n    getLibObjects(domLibs: string[]): IDomLibraray[]\n    urisForDOMLibs(domLibs: string[]): string[]\n    loadLibraries(domLibraries: string[], whenLoaded: () => void): void\n}\n\nexport interface ICompileAndRunArguments {\n    max_ms: number\n    log_callback: (txt: string) => void\n    info_callback: (txt: string) => void\n    err_callback: (txt: string) => void\n    compileFailedCallback: (info: ICompilerErrorDescription) => void\n    finishedExecutionCB: finishedCallbackSignatur\n    args: object\n    didReceiveMessage: (cmd: string, data: any) => void\n    postMessageFunction: null | ((cmd: string, data: any) => void)\n    dequeuePostponedMessages: () => void\n    beforeStartHandler: () => void\n    whenFinishedHandler(args: string[] | object): void\n    allowMessagePassing: boolean\n    keepAlive: boolean\n}\n\nexport interface ICompilerInstance {\n    readonly version: string\n    readonly language: string\n    readonly canRun: boolean\n    readonly canStop: boolean\n    readonly allowsMessagePassing: boolean\n    readonly allowsContinousCompilation: boolean\n    readonly allowsPersistentArguments: boolean\n    readonly acceptsJSONArgument: boolean\n    readonly experimental: boolean\n    readonly deprecated: boolean\n    isReady: boolean\n    isRunning: boolean\n    readonly libraries?: ICompilerLibraryInfo[]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void\n    preload(): void\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate?: boolean\n    ): void\n    stop?(): void\n}\n\nexport interface ICompilerLibraryInfo {\n    readonly key: string\n    readonly name: string\n    readonly version: string\n    readonly displayName: string\n}\n\nexport interface ICompilerInfo {\n    readonly type: string\n    readonly displayName: string\n    readonly versions: ICompilerInstance[]\n    readonly default: ICompilerInstance\n}\n\nexport interface ICompilerID {\n    languageType: string\n    version: string\n}\n\nexport interface ICompilerIDQuery {\n    languageType: string\n    version?: string\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=style&index=0&lang=sass&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"codeblock block-\" + _vm.typeName)},[_c('CodeBlockButton',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showBookmarkButton),expression:\"showBookmarkButton\"}],attrs:{\"block\":_vm.block,\"isBookmarkPanel\":_vm.isBookmarkPanel}}),_c('codemirror',{ref:\"codeBox\",class:(\"accqstXmlInput noRTEditor codebox \" + _vm.boxClass),attrs:{\"value\":_vm.code,\"options\":_vm.options,\"name\":(_vm.namePrefix + \"block[\" + (_vm.block.parentID) + \"][\" + (_vm.block.id) + \"]\"),\"id\":(\"teQ\" + (_vm.block.parentID) + \"B\" + (_vm.block.id)),\"data-question\":_vm.block.parentID,\"events\":['keyup']},on:{\"ready\":_vm.onCodeReady,\"focus\":_vm.onCodeFocus,\"input\":_vm.onCodeChangeDefered,\"input-read\":_vm.onCodeKeyHandle,\"keyup\":_vm.onCodeKeyHandle}}),(_vm.editMode)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasAlternativeContent),expression:\"hasAlternativeContent\"}]},[_c('div',{staticClass:\"q-mt-lg text-subtitle2\"},[_vm._v(_vm._s(_vm.$t('CodeBlock.Initial_Content')))]),_c('codemirror',{ref:\"altBox\",class:(\"accqstXmlInput noRTEditor \" + _vm.boxClass),attrs:{\"value\":_vm.altCode,\"options\":_vm.altOptions,\"name\":(_vm.namePrefix + \"alt_block[\" + (_vm.block.parentID) + \"][\" + (_vm.block.id) + \"]\")},on:{\"ready\":_vm.onAltCodeReady,\"focus\":_vm.onAltCodeFocus,\"input\":_vm.onAltCodeChangeDefered}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-icon',{class:(\"mdi \" + _vm.severityClass + \" mainTipIcon\"),attrs:{\"name\":_vm.severityIcon}},[_c('q-tooltip',[_c('div',[_c('ul',{staticClass:\"tiplist\"},_vm._l((_vm.errors),function(error){return _c('li',{key:error.message},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-1\"},[_c('q-icon',{attrs:{\"name\":_vm.iconForSeverity(error.severity)}})],1),_c('div',{staticClass:\"col-11 q-pr-md\"},[_c('div',{staticClass:\"q-my-none tipper\"},[_vm._v(_vm._s(error.message))])])])])}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { ErrorSeverity, ICompilerErrorDescription } from '@/lib/ICompilerRegistry'\n\n@Component\nexport default class ErrorTip extends Vue {\n    @Prop() errors!: ICompilerErrorDescription\n    @Prop() severity!: ErrorSeverity\n\n    get severityClass(): string {\n        return this.classForSeverity(this.severity)\n    }\n    get severityIcon(): string {\n        return this.iconForSeverity(this.severity)\n    }\n\n    classForSeverity(s: ErrorSeverity): string {\n        if (s == ErrorSeverity.Error) {\n            return 'gutter-error'\n        }\n        return 'gutter-warning'\n    }\n    iconForSeverity(s: ErrorSeverity): string {\n        if (s == ErrorSeverity.Error) {\n            return 'report'\n        }\n        return 'warning'\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorTip.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ErrorTip.vue?vue&type=template&id=67eb593e&\"\nimport script from \"./ErrorTip.vue?vue&type=script&lang=ts&\"\nexport * from \"./ErrorTip.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ErrorTip.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport {QIcon,QTooltip} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QIcon,QTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"floatingButton\"},[_c('q-btn',{attrs:{\"color\":_vm.color,\"text-color\":\"black\",\"icon\":_vm.iconName,\"round\":\"\",\"size\":\"xs\"},on:{\"click\":_vm.onClick}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Emit } from 'vue-property-decorator'\nimport { BlockData, IBlockBookmarkPayload } from '@/lib/codeBlocksManager'\n\n@Component\nexport default class CodeBlockButton extends Vue {\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ default: false }) isBookmarkPanel!: boolean\n\n    get color(): string {\n        return this.isBookmarkPanel ? 'red-4' : 'amber'\n    }\n\n    get iconName(): string {\n        if (this.isBookmarkPanel) {\n            return 'close'\n        }\n        return this.bookmarked ? 'bookmark' : 'bookmark_border'\n    }\n\n    bookmarked: boolean = false\n    bookmarkMe() {\n        const data: IBlockBookmarkPayload = {\n            uuid: this.block.appSettings.uuid,\n            block: this.isBookmarkPanel ? null : this.block\n        }\n        Vue.$GlobalEventHub.$emit('bookmark-block', data)\n    }\n    onClick() {\n        this.bookmarkMe()\n    }\n\n    onBookmark(data: IBlockBookmarkPayload) {\n        this.bookmarked =\n            data.block === null || this.block === null ? false : this.block.uuid === data.block.uuid\n    }\n\n    mounted() {\n        Vue.$GlobalEventHub.$on('bookmark-block', this.onBookmark)\n    }\n\n    beforeDestroy() {\n        Vue.$GlobalEventHub.$off('bookmark-block')\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlockButton.vue?vue&type=template&id=0bd2a5d9&scoped=true&\"\nimport script from \"./CodeBlockButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlockButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlockButton.vue?vue&type=style&index=0&id=0bd2a5d9&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bd2a5d9\",\n  null\n  \n)\n\nexport default component.exports\nimport {QBtn} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport ErrorTip from './ErrorTip.vue'\nimport BaseBlock from './BaseBlock.vue'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { ICompilerErrorDescription } from '@/lib/ICompilerRegistry'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { ITagReplaceAction } from '@/plugins/tagger'\n\nimport codemirror from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\n//themes\nimport 'codemirror/theme/solarized.css'\nimport 'codemirror/theme/base16-dark.css'\nimport 'codemirror/theme/base16-light.css'\nimport 'codemirror/theme/duotone-dark.css'\nimport 'codemirror/theme/duotone-light.css'\nimport 'codemirror/theme/xq-dark.css'\nimport 'codemirror/theme/xq-light.css'\nimport 'codemirror/theme/blackboard.css'\nimport 'codemirror/theme/midnight.css'\nimport 'codemirror/theme/neo.css'\nimport 'codemirror/theme/mbo.css'\nimport 'codemirror/theme/mdn-like.css'\n\n//languages\nimport 'codemirror/mode/clike/clike.js'\nimport 'codemirror/mode/fortran/fortran.js'\nimport 'codemirror/mode/javascript/javascript.js'\nimport 'codemirror/mode/perl/perl.js'\nimport 'codemirror/mode/python/python.js'\nimport 'codemirror/mode/r/r.js'\nimport 'codemirror/mode/ruby/ruby.js'\nimport '@/lib/glsl/glsl'\n\n//plugins\nimport 'codemirror/addon/edit/closebrackets.js'\n\n//helper to create tooltips at runtime\nimport CodeBlockButton from '@/components/CodeBlockButton.vue'\nconst ErrorTipCtor = Vue.extend(ErrorTip)\n\n@Component({ components: { CodeBlockButton } })\nexport default class CodeBlock extends BaseBlock {\n    @Prop({ default: '' }) namePrefix!: string\n    @Prop({ default: false }) emitWhenTypingInViewMode!: boolean\n    @Prop({ default: true }) canBookmark!: boolean\n    @Prop({ default: false }) isBookmarkPanel!: boolean\n    @Prop({ default: false }) readonly!: boolean\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: number | 'auto'\n    @Prop({ default: 'base16-dark' }) theme!: string\n    @Prop({ default: 'text/javascript' }) mode!: string\n    @Prop({ default: undefined }) tagSet!: IRandomizerSet\n    @Prop({\n        required: true,\n        validator: function(b) {\n            if (b === null || b.content === undefined) {\n                return false\n            }\n            if (b.firstLine === undefined) {\n                return false\n            }\n            return true\n        }\n    })\n    block!: BlockData\n\n    get showBookmarkButton(): boolean {\n        return this.canBookmark && this.editMode\n    }\n\n    clearTagMarkers() {\n        if (this.codemirror === undefined) {\n            return\n        }\n\n        let allMarks = this.codemirror.getDoc().getAllMarks()\n        allMarks.forEach(e => {\n            if (\n                e.className == Vue.$tagger.className.rnd ||\n                e.className == Vue.$tagger.className.templ\n            ) {\n                e.clear()\n            }\n        })\n\n        if (this.altcodemirror) {\n            allMarks = this.altcodemirror.getDoc().getAllMarks()\n            allMarks.forEach(e => {\n                if (\n                    e.className == Vue.$tagger.className.rnd ||\n                    e.className == Vue.$tagger.className.templ\n                ) {\n                    e.clear()\n                }\n            })\n        }\n    }\n    clearErrorDisplay() {\n        if (this.codemirror === undefined) {\n            return\n        }\n        let allMarks = this.codemirror.getDoc().getAllMarks()\n        //console.log(\"marks\", this.block.type, allMarks)\n        allMarks.forEach(e => {\n            if (e.className == 'red-wave') {\n                e.clear()\n            }\n        })\n\n        this.codemirror.getDoc().clearGutter('diagnostics')\n    }\n    onCodeReady(editor) {\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        if (\n            this.codemirror &&\n            this.codemirror.display &&\n            this.codemirror.display.input &&\n            this.codemirror.display.input.textarea\n        ) {\n            this.codemirror.display.input.textarea.className = 'noRTEditor'\n        }\n        this.codeBox!.$el.querySelectorAll('textarea[name]').forEach(el => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n            el.id = this.codeBox!.$el.id\n\n            $(el).text(this.block.content)\n            el.setAttribute('data-question', `${this.block.parentID}`)\n            el.setAttribute('data-blocktype', `${this.iliasTypeNr}`)\n            if (this.editMode) {\n                el.setAttribute('is-editmode', `${this.editMode}`)\n            }\n        })\n        this.updateDiagnosticDisplay()\n        this.onCodeChange(this.block.content)\n\n        this.whenBlockIsReady()\n    }\n    onAltCodeReady(editor) {\n        console.d('READY')\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        if (\n            this.altcodemirror &&\n            this.altcodemirror.display &&\n            this.altcodemirror.display.input &&\n            this.altcodemirror.display.input.textarea\n        ) {\n            this.altcodemirror.display.input.textarea.className = 'noRTEditor'\n        }\n        this.altBox!.$el.querySelectorAll('textarea[name]').forEach(el => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n        })\n        this.$nextTick(() => {\n            this.onAltCodeChange(this.block.alternativeContent)\n            this.updateTagDisplay()\n            this.updateHeight()\n        })\n    }\n    onCodeFocus(editor) {}\n    onAltCodeFocus(editor) {}\n\n    codeUpdateTimer: number | null = null\n    codeUpdateStartTime: number = 0\n    onCodeChangeDefered(newCode) {\n        if (!this.editMode) {\n            this.onCodeChange(newCode)\n            return\n        }\n\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.codeUpdateTimer !== null) {\n            clearTimeout(this.codeUpdateTimer)\n            this.codeUpdateTimer = null\n        } else {\n            this.codeUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.codeUpdateTimer = null\n            this.onCodeChange(newCode)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.codeUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.codeUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n\n    continuousCodeUpdateTimer: number | null = null\n    onCodeChange(newCode) {\n        //update line numbers manually (changing in options takes too long)\n        this.block.lineCountHint = this.codemirror.doc.size\n        this.codemirror.options.firstLineNumber = this.block.firstLine\n\n        //copy the content to the actual textbox processed by StudON\n        const tb = this.codeBox.$el.querySelector('textarea[name]') as HTMLTextAreaElement\n        tb.value = newCode\n\n        //copy code to the block structure\n        this.block.content = newCode\n\n        //find all tags\n        this.updateTagDisplay()\n\n        //send out the event for processing\n        if (this.editMode) {\n            this.$emit('code-changed-in-edit-mode', undefined)\n        } else if (this.emitWhenTypingInViewMode) {\n            if (this.continuousCodeUpdateTimer !== null) {\n                clearTimeout(this.continuousCodeUpdateTimer)\n                this.continuousCodeUpdateTimer = null\n            }\n            this.continuousCodeUpdateTimer = setTimeout(() => {\n                this.$emit('code-changed-in-view-mode', undefined)\n            }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n        }\n    }\n\n    codeNeedsTagUpdate: boolean = true\n    didAddText(t: string): void {\n        //console.log('    ', t)\n        if (\n            t.indexOf('!') >= 0 ||\n            t.indexOf('+') >= 0 ||\n            t.indexOf('{') >= 0 ||\n            t.indexOf('{') >= 0 ||\n            t.indexOf('\\n') >= 0\n        ) {\n            this.codeNeedsTagUpdate = true\n        }\n    }\n    onCodeKeyHandle(e) {\n        //console.log('IR', e, arguments)\n        if (arguments.length > 1 && arguments[1] !== undefined) {\n            if (arguments[1].text !== undefined) {\n                arguments[1].text.forEach(t => {\n                    this.didAddText(t)\n                })\n            } else if (arguments[1].key !== undefined) {\n                if (arguments[1].keyCode == 13) {\n                    this.didAddText('\\n')\n                } else {\n                    this.didAddText(arguments[1].key)\n                }\n            }\n        }\n    }\n\n    altCodeUpdateTimer: number | null = null\n    altCodeUpdateStartTime: number = 0\n    onAltCodeChangeDefered(newCode) {\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.altCodeUpdateTimer !== null) {\n            clearTimeout(this.altCodeUpdateTimer)\n            this.altCodeUpdateTimer = null\n        } else {\n            this.altCodeUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.altCodeUpdateTimer = null\n            this.onAltCodeChange(newCode)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.altCodeUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.altCodeUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n    onAltCodeChange(newCode) {\n        if (this.altBox !== undefined) {\n            const tb = this.altBox.$el.querySelector('textarea[name]') as HTMLTextAreaElement\n            tb.value = newCode\n        }\n\n        this.block.alternativeContent = newCode\n        this.updateTagDisplay()\n    }\n    updateHeight() {\n        if (this.visibleLines === 'auto' || this.block.static) {\n            if (this.codemirror) {\n                this.codemirror.setSize('height', 'auto')\n            }\n            if (this.altcodemirror) {\n                this.altcodemirror.setSize('height', 'auto')\n            }\n        } else {\n            if (this.codemirror) {\n                this.codemirror.setSize(null, Math.round(20 * Math.max(1, this.visibleLines)) + 9)\n            }\n            if (this.altcodemirror) {\n                this.altcodemirror.setSize(\n                    null,\n                    Math.round(20 * Math.max(1, this.visibleLines)) + 9\n                )\n            }\n        }\n    }\n    replaceTemplateTags(o: ITagReplaceAction) {\n        if (!this.editMode) {\n            return\n        }\n        if (o.scopeUUID != this.block.scopeUUID) {\n            return\n        }\n        this.block.content = Vue.$tagger.replaceTemplateTagInString(\n            this.block.content,\n            o.name,\n            o.newValue\n        )\n    }\n    updateTagDisplay() {\n        if (\n            !this.editMode ||\n            this.block === undefined ||\n            this.block.appSettings === undefined ||\n            this.block.appSettings.randomizer === undefined ||\n            !this.block.appSettings.randomizer.active ||\n            !this.codeNeedsTagUpdate\n        ) {\n            return\n        }\n\n        this.codeNeedsTagUpdate = false\n        //console.log('Updating Tags')\n        this.clearTagMarkers()\n        Vue.$tagger.getMarkers(this.block.content).forEach(m => {\n            this.codemirror.getDoc().markText(m.start, m.end, {\n                className: Vue.$tagger.className[m.type],\n                inclusiveLeft: true,\n                inclusiveRight: true,\n                title: m.name,\n                startStyle: 'tag-mark-start',\n                endStyle: 'tag-mark-end'\n            })\n        })\n        this.$nextTick(() => {\n            Vue.$tagger.hookClick(this.codeBox.$el, this.block.scopeUUID)\n        })\n\n        if (this.altcodemirror) {\n            Vue.$tagger.getMarkers(this.block.alternativeContent).forEach(m => {\n                this.altcodemirror.getDoc().markText(m.start, m.end, {\n                    className: Vue.$tagger.className[m.type],\n                    inclusiveLeft: true,\n                    inclusiveRight: true,\n                    title: m.name,\n                    startStyle: 'tag-mark-start',\n                    endStyle: 'tag-mark-end'\n                })\n            })\n\n            this.$nextTick(() => {\n                if (this.altBox !== undefined) {\n                    Vue.$tagger.hookClick(this.altBox.$el, this.block.scopeUUID)\n                }\n            })\n        }\n    }\n    updateDiagnosticDisplay() {\n        const val = this.errors\n        if (val !== undefined) {\n            this.clearErrorDisplay()\n\n            const first = this.block.firstLine\n            val.forEach(error => {\n                if (error.start.column >= 0) {\n                    //console.log(\"squiggle\", this.block.type);\n                    //put a squigly line as code marker\n                    this.codemirror.getDoc().markText(\n                        { line: error.start.line - first, ch: error.start.column },\n                        { line: error.end.line - first, ch: error.end.column },\n                        {\n                            className: 'red-wave',\n                            inclusiveLeft: true,\n                            inclusiveRight: true,\n                            title: error.message\n                        }\n                    )\n                }\n\n                //read existing gutter marker or create a new one\n                let info = this.codemirror.getDoc().lineInfo(error.start.line - first)\n                let element =\n                    info && info.gutterMarkers ? info.gutterMarkers['diagnostics'].$component : null\n                if (element == null) {\n                    //console.log(\"Gutter\", this.block.type, error.start.line, error.message, first);\n                    element = document.createElement('span')\n\n                    //place the updated element\n                    this.codemirror\n                        .getDoc()\n                        .setGutterMarker(error.start.line - first, 'diagnostics', element)\n\n                    element.$component = new ErrorTipCtor({\n                        propsData: {\n                            errors: [],\n                            severity: error.severity\n                        }\n                    }).$mount(element)\n\n                    element = element.$component\n                }\n\n                //make sure we use the proper class for the given severity.\n                //We allways choose the maximum severity for each marking\n                element.severity = Math.max(error.severity, element.severity)\n\n                //Build the hint text\n                if (element.errors.indexOf(error) == -1) {\n                    element.errors.push(error)\n                }\n            })\n        } else {\n            this.clearErrorDisplay()\n        }\n    }\n\n    get codeBox(): Vue {\n        return this.$refs.codeBox as Vue\n    }\n\n    get altBox(): Vue | undefined {\n        return this.$refs.altBox as Vue\n    }\n\n    get hasAlternativeContent() {\n        return this.block.hasAlternativeContent && this.typeName == 'block'\n    }\n    get errors(): ICompilerErrorDescription[] {\n        return this.block.errors\n    }\n    get randomizerActive() {\n        return this.tagSet !== undefined\n    }\n    get boxClass() {\n        let cl = ''\n        if (this.block.hidden && !this.editMode) {\n            cl += 'hiddenBox '\n        }\n        if (this.block.readonly || this.readonly) {\n            cl += 'readonlyBox '\n        }\n        if (this.block.static) {\n            cl += 'staticBox '\n        }\n        return cl\n    }\n    get iliasTypeNr() {\n        const t = this.typeName\n        if (t == 'text') {\n            return 0\n        }\n        if (t == 'block-static') {\n            return 1\n        }\n        if (t == 'block') {\n            return 2\n        }\n        if (t == 'block-hidden') {\n            return 3\n        }\n        if (t == 'playground') {\n            return 4\n        }\n        if (t == 'blockly') {\n            return 5\n        }\n        return -1\n    }\n    get typeName() {\n        let s = this.block.type.toLowerCase()\n        if (this.block.hidden) {\n            s += '-hidden'\n        }\n        if (this.block.static) {\n            s += '-static'\n        }\n        return s\n    }\n    get altCode() {\n        if (this.block.alternativeContent === null) {\n            return ''\n        }\n        return this.block.alternativeContent\n    }\n    get code() {\n        if (!this.editMode) {\n            return this.block.actualContent()\n        }\n        return this.block.content\n    }\n    get options() {\n        return {\n            // codemirror options\n            mode: this.mode,\n            theme: this.theme,\n            lineNumbers: true,\n            line: true,\n            tabSize: 4,\n            indentUnit: 4,\n            autoCloseBrackets: true,\n            readOnly:\n                !this.editMode &&\n                (this.block.readonly || this.block.static || this.block.hidden || this.readonly),\n            //firstLineNumber: this.block.firstLine, //make sure to change altOptions as well when activating this\n            gutters: ['diagnostics', 'CodeMirror-linenumbers']\n        }\n    }\n    get altOptions() {\n        return this.options\n        // let o = { ...this.options }\n        // o.firstLineNumber = 1\n        // return o\n    }\n    get codemirror(): any | undefined {\n        return (this.codeBox as any).codemirror\n    }\n    get altcodemirror(): any | undefined {\n        if (this.altBox === undefined) {\n            return undefined\n        }\n        return (this.altBox as any).codemirror\n    }\n    get readyWhenMounted() {\n        return false\n    }\n    @Watch('block.firstLine')\n    onFirstLineChanged(val) {\n        if (this.codemirror) {\n            if (this.codemirror.options.firstLineNumber != this.block.firstLine) {\n                this.codemirror.options.firstLineNumber = this.block.firstLine\n                this.codemirror.refresh()\n            }\n        }\n    }\n    @Watch('visibleLines')\n    onVisibleLinesChanged(val) {\n        this.updateHeight()\n    }\n    @Watch('errors')\n    onErrorsChanged(val) {\n        this.updateDiagnosticDisplay()\n    }\n\n    created() {\n        console.d('ReadyWhenMounted in CodeBlock', this.readyWhenMounted)\n        //this.$options.readyWhenMounted = false;\n    }\n    mounted() {\n        this.updateHeight()\n\n        if (this.editMode && this.codemirror) {\n            console.d('Attach')\n            const buildIt = () => {\n                console.log('EMIT')\n                this.$emit('build')\n            }\n\n            this.codemirror.addKeyMap({\n                'Cmd-B': function(cMirror) {\n                    buildIt()\n                },\n                'Ctrl-B': function(cMirror) {\n                    buildIt()\n                }\n            })\n\n            this.codemirror.addKeyMap({\n                Tab: function(cMirror) {\n                    cMirror.execCommand('insertSoftTab')\n                }\n            })\n        }\n\n        Vue.$tagger.$on('replace-template-tag', this.replaceTemplateTags)\n        this.codeNeedsTagUpdate = true\n        this.updateTagDisplay()\n    }\n    beforeDestroy() {\n        Vue.$tagger.$off('replace-template-tag', this.replaceTemplateTags)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlock.vue?vue&type=template&id=0368514c&scoped=true&\"\nimport script from \"./CodeBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlock.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlock.vue?vue&type=style&index=0&id=0368514c&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0368514c\",\n  null\n  \n)\n\nexport default component.exports","\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport { BlockData } from '@/lib/codeBlocksManager'\n@Component\nexport default class BaseBlock extends Vue {\n    @Prop({ default: false }) muteReadyState!: boolean\n    @Prop({ required: true }) block!: BlockData\n\n    whenBlockIsReady() {\n        if (this.muteReadyState) {\n            return\n        }\n        this.block.readyCount++\n        this.$emit('ready', this.block)\n    }\n    whenBlockIsDestroyed() {\n        if (this.muteReadyState) {\n            return\n        }\n        this.block.readyCount--\n    }\n\n    get readyWhenMounted() {\n        return true\n    }\n\n    mounted() {\n        if (this.readyWhenMounted) {\n            this.whenBlockIsReady()\n        }\n    }\n\n    beforeDestroy() {\n        this.whenBlockIsDestroyed()\n    }\n}\n","var render, staticRenderFns\nimport script from \"./BaseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseBlock.vue?vue&type=script&lang=ts&\"","import { ICompilerID, IListItemData } from './ICompilerRegistry'\nimport { IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport { IBlockDefinition, IBlocklyToolbox } from './IBlocklyHelper'\n\nexport enum KnownBlockTypes {\n    PLAYGROUND = 'PLAYGROUND',\n    TEXT = 'TEXT',\n    BLOCKHIDDEN = 'BLOCK-hidden',\n    BLOCKSTATIC = 'BLOCK-static',\n    BLOCK = 'BLOCK',\n    BLOCKLY = 'BLOCKLY',\n}\n\nexport enum CodeOutputTypes {\n    AUTO = 'auto',\n    TEXT = 'text',\n    JSON = 'json',\n    MAGIC = 'magic',\n}\n\nexport enum CodeExpansionType {\n    LARGE = 2,\n    AUTO = 1,\n    TINY = 0,\n}\n\nexport interface IBlockloadManager {\n    readonly blockTag: string\n    loadFromDatablock: (\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ) => void\n}\n\nexport interface IRandomizerSet {\n    uuid: string\n    values: IRandomizerSetTag[]\n}\n\nexport interface IRandomizerSetTag {\n    tag: string\n    value: string\n}\nexport interface IRandomizerSettings {\n    active: boolean\n    previewIndex: number\n    knownTags: string[]\n    sets: IRandomizerSet[]\n}\n\nexport interface IBlockDataPlayground {\n    width: string\n    height: string\n    align: string\n}\n\nexport interface IBlockError {\n    error: string\n    uuid: string\n}\n\nexport interface IBlockElementData {\n    readonly?: string\n    static?: string\n    hidden?: string\n    visibleLines?: string\n    shouldAutoreset?: string\n    expanded?: string\n    codeExpanded?: string\n    noContent?: string\n    alternativeContent?: string\n    width?: string\n    height?: string\n    align?: string\n    version?: string\n    scopeUUID?: string\n    scopeSelector?: string\n    showControls?: boolean\n    as?: string\n}\n\nexport interface IBlockDataBlockly {\n    toolbox: IBlocklyToolbox\n    blocks: IBlockDefinition[]\n    _blockErrors: IBlockError[]\n    useOverride: boolean\n    toolboxOverride: string\n    showControls: boolean\n}\n\nexport interface ICodeBlockDataState {\n    readonly: boolean\n    static: boolean\n    hidden: boolean\n}\nexport interface IBlockDataBase extends IBlockDataPlayground, ICodeBlockDataState {\n    hasCode: boolean\n    type: KnownBlockTypes\n    content: string\n    alternativeContent: string | null\n    noContent: boolean\n    id: number\n    uuid: string\n    parentID: number\n    expanded: boolean\n    codeExpanded: CodeExpansionType\n    obj: object | null\n    version: string\n    readyCount: number\n    errors: any[]\n    scopeUUID?: string\n    scopeSelector?: string\n    visibleLines: number | 'auto'\n    hasAlternativeContent: boolean\n    shouldAutoreset: boolean\n    blockly: IBlockDataBlockly\n    lineCountHint: number\n    as?: KnownBlockTypes\n}\n\nexport interface IBlockData extends IBlockDataBase {\n    getThemeForBlock(bl: ICodeBlockDataState): string\n    readonly themeForCodeBlock: string\n}\n\nexport interface IGlobalSettings {\n    baseurl: string\n}\nexport interface IGlobalState extends IGlobalSettings {\n    format_info(text: string): string\n    format_error(text: string): string\n\n    /**\n     * Seperates an outputObject (like the one you will get in the update-method of a playground handler) into a string and a json object seperated by a magic String. Returns an object that contains\n     *  <code>type</code> = <code>'dual'</code> parsed a magic string, <code>'json'</code> parsed as json, <code>'text'</code> plain text\n     *  <code>json</code> = the JSON object that was sent after the magicString\n     *  <code>text</code> = the String that was sent before the magicString\n     * @param {*} outputObject  The outputObject generated by the student code\n     * @param {*} type  'auto' = (default, try to determin what kind of output was generated), 'text', 'json' = (force json parsing), 'magic' = (force use of magic string seperator)\n     * @param {*} magicString The seperating String. By default it is '\\n\\n<JSON>\\n'\n     */\n    processMixedOutput(\n        outputObject: string[] | string,\n        type: CodeOutputTypes,\n        magicString?: string\n    ): IProcessedScriptOutput\n    mimeType(language: string): string\n    knownLanguages(): IListItemData[]\n\n    refreshAllCodeMirrors(): void\n    refreshAllCodeMirrorsSync(): void\n\n    itemForValue(items: IListItemData[], value: string): IListItemData\n}\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=style&index=0&id=5a368702&lang=stylus&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=style&index=0&lang=sass&\"","export enum BlockPrimaryColors {\n    Colour = '#cf63cf',\n    List = '#5cb1d6',\n    Logic = '#ffab19',\n    Loop = '#ffbf00',\n    Math = '#4c97ff',\n    Procedure = '#ff6680',\n    Text = '#bbbbca',\n    Variable = '#59c059',\n    Variable_dynamic = '#0fbd8c'\n}\n\nexport enum BlockSecondaryColors {\n    Colour = '#c55ec5',\n    List = '#57a8cb',\n    Logic = '#f2a218',\n    Loop = '#f2b500',\n    Math = '#488ff2',\n    Procedure = '#f2617a',\n    Text = '#b2b2c0',\n    Variable = '#55b655',\n    Variable_dynamic = '#0eb485'\n}\nexport enum BlockTertiaryColors {\n    Colour = '#ba59ba',\n    List = '#539fc1',\n    Logic = '#e69a17',\n    Loop = '#e6ac00',\n    Math = '#4488e6',\n    Procedure = '#e65c73',\n    Text = '#a8a8b6',\n    Variable = '#50ad50',\n    Variable_dynamic = '#0eaa7e'\n}\n\nexport enum BlockOutputTypes {\n    Number = 'Number',\n    Boolean = 'Boolean',\n    String = 'String',\n    Array = 'Array',\n    Color = 'Colour',\n    Any = ''\n}\n\nexport enum BlockSequenceTypes {\n    Action = 'Action'\n}\n\nexport enum BlockArgumentTypes {\n    field_input = 'field_input',\n    field_dropdown = 'field_dropdown',\n    field_checkbox = 'field_checkbox',\n    field_colour = 'field_colour',\n    field_number = 'field_number',\n    field_angle = 'field_angle',\n    field_variable = 'field_variable',\n    field_date = 'field_date',\n    field_label = 'field_label',\n    field_image = 'field_image',\n    input_value = 'input_value',\n    input_statement = 'input_statement',\n    input_dummy = 'input_dummy'\n}\n\nexport interface IBlocklyToolboxItem extends IBlockUIExtension {\n    uuid: string\n    type: string\n}\nexport interface IBlocklyToolboxCategory {\n    uuid: string\n    items: IBlocklyToolboxItem[]\n    color?: string\n    custom?: string\n    name: string\n}\nexport interface IBlocklyToolbox {\n    categories: IBlocklyToolboxCategory[]\n}\n\nexport interface IBlockArgument extends IBlockUIExtension {\n    uuid: string\n    type: BlockArgumentTypes\n    name: string\n    check?: BlockOutputTypes\n    variable?: string\n    variableTypes?: string[]\n}\n\nexport interface IBlockLine extends IBlockUIExtension {\n    uuid: string\n    message: string\n    args: IBlockArgument[]\n}\n\nexport interface IBlockDefinitionJSON {\n    type: string\n    message0: string\n    args0: IBlockArgument[]\n    message1?: string\n    args1?: IBlockArgument[]\n    message2?: string\n    args2?: IBlockArgument[]\n    message3?: string\n    args3?: IBlockArgument[]\n    message4?: string\n    args4?: IBlockArgument[]\n\n    output?: BlockOutputTypes\n    previousStatement: BlockSequenceTypes | null\n    nextStatement: BlockSequenceTypes | null\n    colour: string\n    tooltip?: string\n    helpUrl?: string\n}\n\nexport interface IBlockDefinition extends IBlockUIExtension {\n    uuid: string\n    _code?: Function\n    JSON: IBlockDefinitionJSON\n    XML?: string\n    codeStub?: string\n    codeString: string\n}\n\nexport enum KnownBlocklyTypes {\n    controls_if = 'controls_if',\n    logic_compare = 'logic_compare',\n    logic_operation = 'logic_operation',\n    logic_negate = 'logic_negate',\n    logic_boolean = 'logic_boolean',\n    logic_null = 'logic_null',\n    logic_ternary = 'logic_ternary',\n    controls_repeat_ext = 'controls_repeat_ext',\n    controls_whileUntil = 'controls_whileUntil',\n    controls_for = 'controls_for',\n    controls_forEach = 'controls_forEach',\n    controls_flow_statements = 'controls_flow_statements',\n    math_number = 'math_number',\n    math_arithmetic = 'math_arithmetic',\n    math_single = 'math_single',\n    math_trig = 'math_trig',\n    math_constant = 'math_constant',\n    math_number_property = 'math_number_property',\n    math_round = 'math_round',\n    math_on_list = 'math_on_list',\n    math_modulo = 'math_modulo',\n    math_constrain = 'math_constrain',\n    math_random_int = 'math_random_int',\n    math_random_float = 'math_random_float',\n    text = 'text',\n    text_join = 'text_join',\n    text_append = 'text_append',\n    text_length = 'text_length',\n    text_isEmpty = 'text_isEmpty',\n    text_indexOf = 'text_indexOf',\n    variables_get = 'variables_get',\n    text_charAt = 'text_charAt',\n    text_getSubstring = 'text_getSubstring',\n    text_changeCase = 'text_changeCase',\n    text_trim = 'text_trim',\n    text_print = 'text_print',\n    text_prompt_ext = 'text_prompt_ext',\n    lists_create_with = 'lists_create_with',\n    lists_repeat = 'lists_repeat',\n    lists_length = 'lists_length',\n    lists_isEmpty = 'lists_isEmpty',\n    lists_indexOf = 'lists_indexOf',\n    lists_getIndex = 'lists_getIndex',\n    lists_setIndex = 'lists_setIndex',\n    lists_getSublist = 'lists_getSublist',\n    lists_split = 'lists_split',\n    lists_sort = 'lists_sort',\n    colour_picker = 'colour_picker',\n    colour_random = 'colour_random',\n    colour_rgb = 'colour_rgb',\n    colour_blend = 'colour_blend'\n}\n\nexport interface IBlockUIExtension {\n    _expanded: boolean\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=style&index=0&id=b56b8b2a&lang=sass&scoped=true&\"","import Vue from 'vue'\nimport UUID from 'vue-uuid'\n\nVue.use(UUID as any)\n","import Vue from 'vue'\n\nimport '../styles/quasar.styl'\nimport '@quasar/extras/material-icons/material-icons.css'\n\nimport '@quasar/extras/animate/fadeInUp.css'\nimport '@quasar/extras/animate/fadeInDown.css'\nimport '@quasar/extras/animate/fadeOutUp.css'\nimport '@quasar/extras/animate/fadeOutDown.css'\n\nimport '@quasar/extras/animate/fadeIn.css'\nimport '@quasar/extras/animate/fadeOut.css'\n\nimport '@quasar/extras/animate/zoomInDown.css'\nimport '@quasar/extras/animate/zoomInUp.css'\n\nimport { Dialog, Quasar } from 'quasar'\n\nconst lang = document.getElementsByTagName('html')[0].getAttribute('lang')\nimport langDe from 'quasar/dist/lang/de.umd.min.js'\nimport langEn from 'quasar/dist/lang/en-gb.umd.min.js'\n\nVue.use(Quasar, {\n    config: {},\n    components: {\n        /* not needed if importStrategy is not 'manual' */\n    },\n    directives: {\n        /* not needed if importStrategy is not 'manual' */\n    },\n    plugins: {\n        Dialog,\n    },\n    animations: ['fadeIn', 'fadeOut'],\n    lang: lang == 'de' ? langDe : langEn,\n})\nQuasar.lang.set(lang == 'de' ? langDe : langEn)\n\nimport 'reflect-metadata'\n","import Vue from 'vue'\nimport { install } from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\ninstall(Vue)\n//Vue.use(VueCodeMirror, {})\n","import Vue from 'vue'\nimport { CodeOutputTypes, IGlobalSettings, IGlobalState } from '@/lib/ICodeBlocks'\nimport { IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport { IListItemData } from '@/lib/ICompilerRegistry'\n\n/**\n * This object defines the programming languages supported for code highlighting\n * using CodeMirror\n * @namespace cmMode The programminglanguages supported\n */\nconst mimeTypesForLanguage = {\n    c: { mime: 'text/x-csrc', displayName: 'C' }, // (C),\n    'c++': { mime: 'text/x-c++src', displayName: 'C++' }, // (C++),\n    'c#': { mime: 'text/x-csharp', displayName: 'C#' }, // (C#),\n    css: { mime: 'text/css', displayName: 'CSS' }, // (CSS)\n    fortran: { mime: 'text/x-fortran', displayName: 'Fortran' }, // (Fortran)\n    glsl: { mime: 'text/x-glsl', displayName: 'GLSL' }, // (GLSL)\n    html: { mime: 'text/html', displayName: 'HTML' }, // (HTML)\n    java: { mime: 'text/x-java', displayName: 'Java' }, // (Java),\n    javascript: { mime: 'text/javascript', displayName: 'JavaScript' }, // (JavaScript)\n    perl: { mime: 'text/x-perl', displayName: 'Perl' }, // (Perl)\n    php: { mime: 'application/x-httpd-php', displayName: 'PHP' }, // (PHP)\n    python: { mime: 'text/x-python', displayName: 'Python' }, // (Python)\n    r: { mime: 'text/x-rsrc', displayName: 'R' }, //(R)\n}\n\nfunction loadSettings(scope: HTMLElement | Document): IGlobalSettings {\n    const options = {\n        baseurl: '',\n    }\n    const settings = scope.querySelectorAll('meta[name^=codeblocks]')\n    settings.forEach((opt) => {\n        const name = opt.getAttribute('name')\n        const value = opt.getAttribute('content')\n\n        if (name == 'codeblocks-baseurl' && value) {\n            options.baseurl = value\n        }\n    })\n    return options\n}\n\nexport class GlobalState implements IGlobalState {\n    public readonly baseurl: string\n\n    constructor() {\n        const options = loadSettings(document)\n        this.baseurl = options.baseurl\n    }\n    format_info(text: string): string {\n        return '<span style=\"color:green\">' + text + '</span>'\n    }\n    format_error(text: string): string {\n        return '<span style=\"color:red\">' + text + '</span>'\n    }\n\n    /**\n     * Seperates an outputObject (like the one you will get in the update-method of a playground handler) into a string and a json object seperated by a magic String. Returns an object that contains\n     *  <code>type</code> = <code>'dual'</code> parsed a magic string, <code>'json'</code> parsed as json, <code>'text'</code> plain text\n     *  <code>json</code> = the JSON object that was sent after the magicString\n     *  <code>text</code> = the String that was sent before the magicString\n     * @param {*} outputObject  The outputObject generated by the student code\n     * @param {*} type  'auto' = (default, try to determin what kind of output was generated), 'text', 'json' = (force json parsing), 'magic' = (force use of magic string seperator)\n     * @param {*} magicString The seperating String. By default it is '\\n\\n<JSON>\\n'\n     */\n    processMixedOutput(\n        outputObject: string[] | string,\n        type: CodeOutputTypes,\n        magicString?: string\n    ): IProcessedScriptOutput {\n        if (outputObject !== undefined && Array.isArray(outputObject)) {\n            return {\n                type: 'json',\n                json: outputObject,\n                text: '',\n            }\n        }\n\n        if (magicString === undefined) {\n            magicString = '\\n\\n<JSON>\\n'\n        }\n        const idx = outputObject.indexOf(magicString)\n\n        if ((type === CodeOutputTypes.AUTO && idx >= 0) || type === CodeOutputTypes.MAGIC) {\n            const str = outputObject.substr(0, idx)\n            let json = undefined\n            const pString = outputObject.substr(idx + magicString.length)\n            try {\n                json = JSON.parse(pString)\n            } catch (e) {\n                e.parsedString = pString\n                console.log('catch')\n                throw e\n            }\n\n            return {\n                type: 'dual',\n                json: json,\n                text: str,\n            }\n        } else {\n            const too = outputObject.trim()\n            if (\n                (type === CodeOutputTypes.AUTO &&\n                    (too.indexOf('[') == 0 || too.indexOf('{') == 0)) ||\n                type === CodeOutputTypes.JSON\n            ) {\n                return {\n                    type: CodeOutputTypes.JSON,\n                    json: JSON.parse(outputObject),\n                    text: '',\n                }\n            }\n        }\n\n        return {\n            type: 'text',\n            json: undefined,\n            text: outputObject,\n        }\n    }\n    mimeType(language: string): string {\n        const o = mimeTypesForLanguage[language]\n        if (o === undefined) {\n            return 'text/javascript'\n        }\n        return o.mime\n    }\n    knownLanguages(): IListItemData[] {\n        return Object.keys(mimeTypesForLanguage)\n            .map((k) => {\n                return { label: mimeTypesForLanguage[k].displayName, value: k }\n            })\n            .sort((a, b) => (a.value < b.value ? -1 : 1))\n    }\n    refreshAllCodeMirrorsSync(): void {\n        document.querySelectorAll('.CodeMirror').forEach((e: any) => e.CodeMirror.refresh())\n    }\n    refreshAllCodeMirrors(): void {\n        setTimeout(() => {\n            this.refreshAllCodeMirrorsSync()\n        }, 100)\n        setTimeout(() => {\n            this.refreshAllCodeMirrorsSync()\n        }, 500)\n    }\n    public itemForValue(items: IListItemData[], value: string): IListItemData {\n        const ret = items.find((i) => i.value == value)\n        if (ret === undefined) {\n            return {\n                label: '???',\n                value: '???',\n            }\n        }\n        return ret\n    }\n}\nexport const globalState = new GlobalState()\nVue.prototype.$CodeBlock = globalState\nVue.$CodeBlock = globalState\n\nVue.$GlobalEventHub = new Vue()\n","import Vue from 'vue'\nimport { ErrorSeverity } from '@/lib/ICompilerRegistry'\n\nVue.prototype.SEVERITY_ERROR = ErrorSeverity.Error\nVue.prototype.SEVERITY_WARNING = ErrorSeverity.Warning\nVue.$SEVERITY_ERROR = ErrorSeverity.Error\nVue.$SEVERITY_WARNING = ErrorSeverity.Warning\n\nVue.prototype.$compilerState = new Vue({\n    data: function() {\n        return {\n            globalStateHidden: true,\n            globalStateMessage: '',\n            runButtonForceHide: false\n        }\n    },\n    methods: {\n        hideGlobalState() {\n            this.displayGlobalState(null)\n        },\n        setAllRunButtons(what: boolean) {\n            this.runButtonForceHide = !what\n        },\n        displayGlobalState(message: string | null) {\n            this.globalStateHidden = message === null || message === undefined || message === ''\n            this.globalStateMessage = message ? message : ''\n        }\n    }\n})\n","import Vue from 'vue'\nimport hljs from 'highlight.js/lib/core'\n//import 'highlight.js/styles/ocean.css'\nimport 'highlight.js/styles/tomorrow.css'\nimport '../styles/highlight.styl'\nimport { DirectiveBinding } from 'vue/types/options'\n\nhljs.configure({ useBR: false })\n\nhljs.registerLanguage('c', require('highlight.js/lib/languages/cpp'))\nhljs.registerLanguage('c++', require('highlight.js/lib/languages/cpp'))\nhljs.registerLanguage('c#', require('highlight.js/lib/languages/csharp'))\nhljs.registerLanguage('css', require('highlight.js/lib/languages/css'))\nhljs.registerLanguage('fortran', require('highlight.js/lib/languages/fortran'))\nhljs.registerLanguage('glsl', require('highlight.js/lib/languages/glsl'))\nhljs.registerLanguage('java', require('highlight.js/lib/languages/java'))\nhljs.registerLanguage('javascript', require('highlight.js/lib/languages/javascript'))\nhljs.registerLanguage('perl', require('highlight.js/lib/languages/perl'))\nhljs.registerLanguage('php', require('highlight.js/lib/languages/php'))\nhljs.registerLanguage('python', require('highlight.js/lib/languages/python'))\nhljs.registerLanguage('r', require('highlight.js/lib/languages/r'))\n\nconst reg_hl = /(\\[hl\\]|\\[hl\\s+language=\"?(.*?)\"?\\])(.*?)(\\[\\/hl\\])/gm\nconst reg_code = /(\\[code\\]|\\[code\\s+language=\"?(.*?)\"?\\])([\\s\\S]*?)(\\[\\/code\\])/gm\n\nhljs.$vue = {\n    processElements: function (\n        scope: Document | HTMLElement | undefined,\n        inLang: string | undefined\n    ) {\n        if (scope === undefined) {\n            scope = document\n        }\n        const elements = scope.querySelectorAll('[highlight]')\n        elements.forEach((el) => {\n            if (inLang === undefined && el.hasAttribute('highlight')) {\n                const lang = el.getAttribute('highlight')\n                inLang = lang === null ? undefined : lang\n            }\n            this.processElement(el, inLang)\n        })\n    },\n    /////The Folowing Code will not replace tags on a string level as this will\n    /////destroy attached objects in the DOM but aims to replace the strings in\n    /////TextNodes only. Changes ar recorded in the q and applied once all nodes\n    /////Were visited. This is probably a lot slower than the pure string version\n    // processTextElement: function(el, inLang, q){\n    //     let txt = el.textContent.replace(reg_hl, function(m1, m2, m3, m4, m5){\n    //         const lang = m3===undefined?inLang:m3;\n    //         //console.log(\"m1\", m1, \"m2\", m2, \"m3\", m3, \"m4\", m4, \"m5\", m5, \"in\", inLang, \"res\", lang)\n    //         if (lang) return '<span is-code>'+hljs.highlight(lang, m4).value + '</span>';\n    //         else return '<span is-code>'+hljs.highlightAuto(m4).value + '</span>';\n    //     });\n\n    //     txt = txt.replace(reg_code, function(m1, m2, m3, m4, m5){\n    //         const lang = m3===undefined?inLang:m3;\n    //         m4 = m4.replace(/<br( +\\/)?>/g, \"\\n\").replace(/&nbsp;/g, \" \");\n    //         if (lang) return '<pre is-code>'+hljs.highlight(lang, m4).value + '</pre>';\n    //         else return '<pre is-code>'+hljs.highlightAuto(m4).value + '</pre>';\n    //     });\n    //     if (txt != el.textContent) {\n    //       q.push(()=>{\n    //          let nel = document.createElement('span');\n    //          nel.innerHTML = txt;\n    //          el.parentNode.replaceChild(nel, el);\n    //       })\n    //     }\n    // },\n    // processElementRec: function(el, inLang, updateList){\n    //     let q = updateList;\n    //     if (q === undefined) q = [];\n\n    //     if (inLang === undefined && el.hasAttribute('highlight')){\n    //         inLang = el.getAttribute('highlight');\n    //     }\n    //     el.innerHTML = el.innerHTML;\n\n    //     el.childNodes.forEach(c => {\n    //        if (c.nodeType==Node.TEXT_NODE) {\n    //            this.processTextElement(c, inLang, q);\n    //        } else {\n    //            this.processElement(c, inLang, q);\n    //        }\n    //     })\n\n    //     if (updateList === undefined){\n    //         q.forEach(f => f());\n    //     }\n    // },\n    processElementSimple(el: HTMLElement, inLang: string | undefined) {\n        if (inLang === undefined && el.hasAttribute('highlight')) {\n            const lang = el.getAttribute('highlight')\n            inLang = lang === null ? 'javascript' : lang\n        }\n\n        let txt = el.innerHTML.replace(reg_hl, function (m1, m2, m3, m4, m5) {\n            const lang = m3 === undefined ? inLang : m3\n            //console.log(\"m1\", m1, \"m2\", m2, \"m3\", m3, \"m4\", m4, \"m5\", m5, \"in\", inLang, \"res\", lang)\n            if (lang) {\n                return '<span is-code>' + hljs.highlight(lang, m4).value + '</span>'\n            } else {\n                return '<span is-code>' + hljs.highlightAuto(m4).value + '</span>'\n            }\n        })\n\n        txt = txt.replace(reg_code, function (m1, m2, m3, m4, m5) {\n            const lang = m3 === undefined ? inLang : m3\n            m4 = m4\n                .replace(/<br( +\\/)?>/g, '\\n')\n                .replace(/&nbsp;/g, ' ')\n                .replace(/&lt;/g, '<')\n                .replace(/&gt;/g, '>')\n                .replace(/&amp;/g, '&')\n\n            if (lang) {\n                return '<pre is-code>' + hljs.highlight(lang, m4).value + '</pre>'\n            } else {\n                return '<pre is-code>' + hljs.highlightAuto(m4).value + '</pre>'\n            }\n        })\n\n        el.innerHTML = txt\n    },\n    processElement(el: HTMLElement, inLang: string | undefined) {\n        if (window.MathJax === undefined) {\n            this.processElementSimple(el, inLang)\n        } else {\n            MathJax.Hub.Register.StartupHook('End', () => {\n                this.processElementSimple(el, inLang)\n            })\n        }\n    },\n}\n\nwindow.highlightAll = function () {\n    hljs.$vue.processElements()\n}\nwindow.highlightElement = function (el: HTMLElement) {\n    hljs.$vue.processElement(el, el.getAttribute('highlight'))\n}\nwindow.hljs = hljs\nVue.$hljs = hljs\n\nVue.directive('highlight', {\n    //deep: true,\n    bind: function (el: HTMLElement, binding: DirectiveBinding) {\n        console.log('DIRECTIVE - bind', el, binding)\n        hljs.$vue.processElement(el, binding.value)\n    },\n    componentUpdated: function (el: HTMLElement, binding: DirectiveBinding) {\n        console.log('DIRECTIVE - update', el, binding)\n        hljs.$vue.processElement(el, binding.value)\n    },\n})\n","import 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport i18n from './i18n'\n//!!! make sure to also change the expression in ilias-builder.js !!!\nconst randomAndTemplateTag = /\\{(:|!)([\\w]*)}/g\n\nimport '../styles/tagger.styl'\nimport { DirectiveBinding } from 'vue/types/options'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\n\nexport interface ITagReplaceAction {\n    name: string\n    newValue: string\n    scopeUUID: string\n}\n\nexport interface ITagMarkers {\n    start: { line: number; ch: number }\n    end: { line: number; ch: number }\n    type: 'rnd' | 'templ'\n    name: string\n}\n@Component\nexport default class Tagger extends Vue {\n    private className = {\n        rnd: 'random-tag-placeholder',\n        templ: 'template-tag-placeholder'\n    }\n\n    getMarkers(s: string): ITagMarkers[] {\n        if (s === undefined || s === null) {\n            return []\n        }\n        let lines = s.split('\\n')\n        let markers: ITagMarkers[] = []\n        let m: RegExpExecArray | null\n        for (let i = 0; i < lines.length; i++) {\n            let regex = new RegExp(randomAndTemplateTag)\n\n            while ((m = regex.exec(lines[i])) !== null) {\n                if (m.index === regex.lastIndex) {\n                    regex.lastIndex++\n                }\n\n                const marker: ITagMarkers = {\n                    start: { line: i, ch: m.index },\n                    end: { line: i, ch: regex.lastIndex },\n                    type: m[1] == ':' ? 'rnd' : 'templ',\n                    name: m[2]\n                }\n                markers.push(marker)\n            }\n        }\n        return markers\n    }\n    processElements(scope: Document | HTMLElement | undefined): void {\n        let uuid: string = ''\n        if (scope === undefined) {\n            scope = document\n        } else {\n            const h = scope as HTMLElement\n            if (!h.hasAttribute('uuid')) {\n                uuid = this.$uuid.v4()\n                h.setAttribute('uuid', uuid)\n            } else {\n                uuid = h.getAttribute('uuid')!\n            }\n        }\n\n        const elements = scope.querySelectorAll('[tagged]')\n        const calle = () => {\n            elements.forEach(el => {\n                this.processElement(el as HTMLElement, uuid)\n            })\n        }\n        if (window.MathJax === undefined) {\n            calle()\n        } else {\n            MathJax.Hub.Register.StartupHook('End', calle)\n        }\n    }\n\n    processElement(el: HTMLElement, scopeUUID: string): void {\n        el.innerHTML = this.processString(el.innerHTML, scopeUUID)\n        this.hookClick(el, scopeUUID)\n    }\n\n    processString(str: string, scopeUUID: string): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            const className = m1 === ':' ? this.className.rnd : this.className.templ\n            return (\n                `<span class=\"q-mb-xs  tag-mark-start tag-mark-end ${className}\" >` + m0 + '</span>'\n            )\n        })\n    }\n    hookClick(el: HTMLElement, scopeUUID: string): void {\n        let tags = el.querySelectorAll('.' + this.className.templ)\n        tags.forEach(inTag => {\n            const tag = inTag as HTMLElement\n            let name = tag.innerText.replace(randomAndTemplateTag, (m0, m1, m2) => {\n                return m2\n            })\n            tag.onclick = () => {\n                this.clickFunction(name, tag, scopeUUID)\n            }\n        })\n    }\n    replaceTemplateTag(\n        scope: HTMLElement | Document | undefined,\n        name: string,\n        newValue: string\n    ): void {\n        if (scope === undefined) {\n            scope = document\n        }\n        let tags = scope.querySelectorAll('.' + this.className.templ)\n        tags.forEach(tag => {\n            tag.innerHTML = this.replaceTemplateTagInString(tag.innerHTML, name, newValue)\n        })\n    }\n    replaceTemplateTagInString(str: string, name: string, newValue: string): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            if (m1 == '!' && m2 == name) {\n                return newValue\n            }\n            return m0\n        })\n    }\n    replaceRandomTagsInString(str: string, tagSet: IRandomizerSet): string {\n        return str.replace(randomAndTemplateTag, (m0, m1, m2) => {\n            if (m1 == ':') {\n                const tag = tagSet.values.find(t => t.tag == m2)\n                if (tag !== undefined) {\n                    return tag.value\n                }\n                return m0\n            }\n            return m0\n        })\n    }\n    clickFunction(name: string, tagEl: HTMLElement, scopeUUID: string): void {\n        //console.log(i18n)\n        Vue.prototype.$q\n            .dialog({\n                title: i18n.t('Tagger.ConfirmRepl'),\n                message: i18n.t('Tagger.ConfirmReplMsg', {\n                    name: '<span class=\"template-tag-placeholder-noclick\">' + name + '</span>'\n                }),\n                html: true,\n                persistent: true,\n                prompt: {\n                    model: '{!' + name + '}',\n                    type: 'text' // optional\n                },\n                ok: {\n                    push: true,\n                    color: 'negative',\n                    icon: 'warning'\n                },\n                cancel: {\n                    push: true,\n                    color: 'positive'\n                }\n            })\n            .onOk((data: string) => {\n                //this.replaceTemplateTag($(tagEl).parents(\".codeblocks\").get(0), name, data)\n                this.replaceTemplateTag($(`[uuid=${scopeUUID}]`).get(0), name, data)\n                console.log(scopeUUID)\n                this.$emit('replace-template-tag', {\n                    name: name,\n                    newValue: data,\n                    scopeUUID: scopeUUID\n                })\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                const me = self as any\n                me.highlighted = false\n            })\n    }\n}\n\nVue.directive('tagged', {\n    //deep: true,\n    bind: function(el: HTMLElement, binding: DirectiveBinding) {\n        Vue.$tagger.processElement(el, binding.value)\n    },\n    componentUpdated: function(el: HTMLElement, binding: DirectiveBinding) {\n        //console.log(\"DIRECTIVE - update\", el, binding)\n        Vue.$tagger.processElement(el, binding.value)\n    }\n})\n\nVue.$tagger = new Tagger()\n","import Vue from 'vue'\n\n/**\n * The overhead time we need to spin up the execution environment. The value is added to the execution time defined for this question\n * @type {int} javaRunOverhead execution overhead in ms\n */\nvar javaRunOverhead = 4000\n\nfunction runJavaWorker(\n    questionID,\n    code,\n    callingCodeBlocks,\n    max_ms,\n    log_callback,\n    info_callback,\n    err_callback,\n    compileFailedCallback,\n    finishedExecutionCB,\n    forceReload = false\n) {\n    let exp = new RegExp('public[ \\n]*class[ \\n]*([a-zA-Z_$0-9]*)[ \\n]*({|implements|extends)')\n    let match = exp.exec(code)\n    if (match == null) {\n        console.error('Unable to determine class Name!', match, code)\n        return\n    }\n\n    let className = match[1]\n\n    let worker = new Worker(Vue.$CodeBlock.baseurl + 'js/doppio/v001/javaWorker.js')\n    let timer = null\n\n    worker.addEventListener(\n        'message',\n        function (e) {\n            const data = e.data\n            //console.log(data)\n            switch (data.event) {\n                case 'finished':\n                    if (timer) {\n                        clearTimeout(timer)\n                        timer = null\n                    }\n\n                    /*if (data.stderr && data.stderr != '') err_callback(data.stderr + \"\\n\") ;\n        if (data.stdout && data.stdout != '') log_callback(data.stdout);*/\n\n                    console.log('Done', data.stdout, data.stderr, finishedExecutionCB)\n                    finishedExecutionCB()\n                    break\n\n                case 'startTimer':\n                    timer = setTimeout(function (e) {\n                        console.log('Sending kill command')\n                        worker.postMessage({ cmd: 'kill' })\n                        timer = setTimeout(function () {\n                            console.log('Terminating Worker')\n                            worker.terminate()\n                        }, 5000)\n                        err_callback(\n                            'Terminated long running Process (>' +\n                                Math.round((max_ms + javaRunOverhead) / 1000) +\n                                's).'\n                        )\n                        JavaExec.setRunButton(true, 'run')\n                        JavaExec.setRunButton(true)\n                        JavaExec.showMessage(null)\n                    }, max_ms + javaRunOverhead) //we need about 4000ms to spin up the execution unit\n                    break\n\n                case 'showMessage':\n                    //console.log(\"showMessage\", data)\n                    JavaExec.showMessage(data.msg)\n                    break\n                case 'output':\n                    if (data.type == 'err') {\n                        err_callback(data.msg)\n                    } else if (data.type == 'nfo') {\n                        info_callback(data.msg)\n                    } else {\n                        log_callback(data.msg)\n                    }\n                    break\n\n                case 'setRunButton':\n                    //console.log(\"setRunButton\", data)\n                    JavaExec.setRunButton(data.enabled, data.info)\n                    break\n\n                case 'cleanCache':\n                    //log_callback('')\n                    if (!forceReload) {\n                        worker.postMessage({ cmd: 'kill' })\n                        console.log('Restarting...')\n                        setTimeout(function () {\n                            runJavaWorker(\n                                questionID,\n                                code,\n                                callingCodeBlocks,\n                                max_ms,\n                                log_callback,\n                                info_callback,\n                                err_callback,\n                                compileFailedCallback,\n                                finishedExecutionCB,\n                                true\n                            )\n                        }, 500)\n                    } else {\n                        JavaExec.setRunButton(false)\n                        JavaExec.showMessage('Failed to initialize JVM.')\n                    }\n                    break\n            }\n        },\n        false\n    )\n\n    worker.postMessage({\n        cmd: 'run',\n        code: code,\n        className: className,\n        max_ms: max_ms + 1000,\n        questionID: questionID,\n        forceReload: forceReload,\n    })\n}\n\nconst singleton = new Vue({\n    data: function () {\n        return {\n            loadedlibs: 0,\n            version: '001',\n            language: 'java',\n            canRun: true,\n            canStop: true,\n            allowsContinousCompilation: false,\n            allowsPersistentArguments: false,\n            allowsMessagePassing: false,\n            acceptsJSONArgument: false,\n            didPreload: false,\n            requestedPreload: false,\n            isReady: false,\n            isRunning: false,\n        }\n    },\n    methods: {\n        preload() {\n            if (this.loadedlibs < 3) {\n                if (this.requestedPreload == false) {\n                    this.requestedPreload = true\n                    this.triggerResourceLoad()\n                }\n\n                return\n            }\n            if (this.didPreload) {\n                return\n            }\n            this.didPreload = true\n            console.log('[Preloading Doppio]')\n            try {\n                JavaExec.showMessage = function (msg) {\n                    this.$compilerState.displayGlobalState(msg)\n                }.bind(this)\n\n                const lock = []\n                JavaExec.setRunButton = function (enabled, info = undefined) {\n                    if (info && !enabled && lock.indexOf(info) == -1) {\n                        lock.push(info)\n                    }\n                    if (info && enabled && lock.indexOf(info) > -1) {\n                        lock.splice(lock.indexOf(info), 1)\n                    }\n\n                    if (!enabled || lock.length == 0) {\n                        this.$compilerState.setAllRunButtons(enabled)\n                    }\n                }.bind(this)\n\n                const self = this\n                JavaExec.initialize(function () {\n                    console.log('Initializing Filesystem')\n                    JavaExec.initFileSystems(\n                        Vue.$CodeBlock.baseurl + 'js/doppio/v001/',\n                        false,\n                        function () {\n                            //JavaExec.printDirContent('sys/vendor');\n\n                            JavaExec.reroutStdStreams()\n                            JavaExec.ready = true\n                            self.isReady = true\n                        }\n                    )\n                })\n            } catch (e) {\n                console.error(e)\n            }\n        },\n        compileAndRun(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n            runCreate = false\n        ) {\n            if (!this.isReady) {\n                return\n            }\n\n            return runJavaWorker(\n                questionID,\n                code,\n                callingCodeBlocks,\n                max_ms,\n                log_callback,\n                info_callback,\n                err_callback,\n                compileFailedCallback,\n                finishedExecutionCB,\n                runCreate\n            )\n        },\n        triggerResourceLoad() {\n            console.log('[Preparing Dependencies for Doppio]')\n            let script = document.createElement('script')\n            script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/browserfs/browserfs.min.js'\n            script.onload = function () {\n                this.loadedlibs++\n                console.log('[BrowserFS loaded]')\n\n                let script = document.createElement('script')\n                script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/doppio/doppio.js'\n                script.onload = function () {\n                    this.loadedlibs++\n                    console.log('[Doppio loaded]')\n\n                    let script = document.createElement('script')\n                    script.src = Vue.$CodeBlock.baseurl + 'js/doppio/v001/JavaExec.js'\n                    script.onload = function () {\n                        this.loadedlibs++\n                        console.log('[JavaExec loaded]')\n                        if (this.requestedPreload) {\n                            this.preload()\n                        }\n                    }.bind(this)\n                    document.head.appendChild(script)\n                }.bind(this)\n                document.head.appendChild(script)\n            }.bind(this)\n            document.head.appendChild(script)\n        },\n    },\n    created() {},\n})\nexport default singleton\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string, terminate?: boolean): void\n    }\n}\n\nconst teaVMRunOverhead = 30000\n\n//ICompilerInstance\n@Component\nexport class JavaV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'java'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = true\n    readonly experimental = false\n    readonly deprecated = false\n    didPreload: boolean = false\n    teaworker: Worker | undefined = undefined\n    isReady = false\n    isRunning = false\n\n    preload() {\n        if (this.didPreload) {\n            return\n        }\n        this.didPreload = true\n        this.$compilerState.setAllRunButtons(false)\n\n        console.log(`[Preloading TeaVM ${this.version} for Java]`)\n        this.isRunning = true\n        this.createTeaWorker(() => {\n            this.isRunning = false\n            this.$compilerState.hideGlobalState()\n            this.$compilerState.setAllRunButtons(true)\n            //console.log('setAllRun', true)\n        })\n    }\n\n    private createTeaWorker(whenReady: () => void): boolean {\n        if (this.teaworker === undefined) {\n            this.$compilerState.setAllRunButtons(false)\n            this.$compilerState.displayGlobalState('Initializing Runtime')\n            try {\n                this.teaworker = new Worker(\n                    `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/worker.js`\n                )\n            } catch (e) {\n                //this should throw in the offline environment, thus we look for the worker at a different\n                this.teaworker = new Worker('../assCodeQuestion/js/teavm/worker.js')\n            }\n\n            this.teaworker.addEventListener('message', (e: any) => {\n                //console.log('teastuff', e.data)\n                if (e.data.command == 'ok' && e.data.id == 'didload-classlib') {\n                    if (this.teaworker) {\n                        this.teaworker.postMessage({\n                            command: 'compile',\n                            id: 'prep',\n                            text:\n                                'public class Bootstrap { public static void main(String[] args){}}',\n                            mainClass: 'Bootstrap',\n                        })\n                    }\n                    this.isReady = true\n                    if (whenReady) {\n                        //console.log(\"loopback to initial caller\");\n                        whenReady()\n                    } else {\n                        this.$compilerState.setAllRunButtons(true)\n                        this.$compilerState.hideGlobalState()\n                    }\n                } else if (e.data.id == 'prep' && e.data.command == 'compilation-complete') {\n                    /* We could finish initialization here if there appear to be races when compiling multiple sources at once */\n                }\n            })\n\n            //bootstrap environment\n            this.teaworker.postMessage({\n                command: 'load-classlib',\n                id: 'didload-classlib',\n                url: 'classlib.txt',\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    sessionCompileListener: ((e: any) => void) | undefined = undefined\n    sessionID: string = '-1'\n    sessionWorker: any = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate: boolean = true\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        const start = Date.now()\n        let executionFinished = false\n        let booted = false\n\n        if (this.isRunning) {\n            err_callback('System is busy. Please wait until compilation finishes or call a tutor.')\n            return\n        }\n        this.isRunning = true\n        if (runCreate) {\n            if (\n                this.createTeaWorker(() => {\n                    this.isRunning = false\n                    this.compileAndRun(\n                        questionID,\n                        code,\n                        callingCodeBlocks,\n                        max_ms,\n                        log_callback,\n                        info_callback,\n                        err_callback,\n                        compileFailedCallback,\n                        finishedExecutionCB,\n                        args,\n                        false\n                    )\n                })\n            ) {\n                return\n            }\n        }\n\n        if (!this.isReady) {\n            err_callback(\n                'System is not yet ready. Please wait until Initialization finishes or call a tutor.'\n            )\n            return\n        }\n\n        const compilerTimeout = setTimeout(() => {\n            if (!booted) {\n                const time = Date.now() - start\n\n                if (this.teaworker) {\n                    this.teaworker.end(\n                        'TimeoutError:  Compilation took too long (>' +\n                            time +\n                            'ms) and was terminated. Trying to reset the System. Please re-run your code and call a Tutor if this Problem persists.'\n                    )\n                }\n\n                this.teaworker = undefined\n            }\n        }, teaVMRunOverhead)\n\n        let text = code\n            .replace(/\"(?:[^\"\\\\]|\\\\.)*\"|\\/\\*[\\s\\S]*?\\*\\//gm, '')\n            .replace(/(^.*)\\/\\/.*$/gm, '$1') //replace strings and comments\n        //let text = code.replace(/\"(?:[^\"\\\\]+?|(?!\")\"|\\\\{2}|\\\\[\\s\\S])*?\"|^.*(\\/\\/.*$)|\\/\\*[\\s\\S]*?\\*\\//gm, ''); //replace strings and comments\n\n        text = text.replaceRec(/(\\{[^{}]*\\})/gm, '[]') //replace parentheses\n\n        const getMainClass = (_code: string) => {\n            let ret = 'Unknown'\n            //above replaces all {} with [], so look for public class <name> []\n            const regexpMainClass = /public\\s+?class\\s+?([a-zA-Z_$0-9]+?)\\s*?(\\[|\\simplements|\\sextends)/gm\n            let match: RegExpExecArray | null\n            while ((match = regexpMainClass.exec(_code)) !== null) {\n                if (match[1]) {\n                    ret = match[1]\n                    break\n                }\n            }\n            return ret\n        }\n        let mainClass = getMainClass(text)\n        //fallback if the above regExps mangled the student code and we can not find the main class\n        if (mainClass == 'Unknown') {\n            mainClass = getMainClass(code.replace('{', '['))\n        }\n\n        //console.log(mainClass, code);\n        const myListener = (e: any) => {\n            //console.log('this.teaworker', questionID, e.data);\n            if (e.data.id == '' + questionID) {\n                if (e.data.command == 'phase') {\n                    if (e.data.phase == 'DEPENDENCY_ANALYSIS') {\n                        this.$compilerState.displayGlobalState(\n                            'Compiling & Analyzing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'LINKING') {\n                        this.$compilerState.displayGlobalState(\n                            'Linking <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'OPTIMIZATION') {\n                        this.$compilerState.displayGlobalState(\n                            'Optimizing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'RENDERING') {\n                        this.$compilerState.displayGlobalState(\n                            'Creating <b>' + mainClass + '.class</b>'\n                        )\n                    }\n                } else if (e.data.command == 'diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.text,\n                            start: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            end: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            severity:\n                                e.data.severity == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.text + '\\n'\n                    if (e.data.severity == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'compiler-diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.message,\n                            start: {\n                                line: e.data.startLineNumber,\n                                column: e.data.startColumn,\n                            },\n                            end: {\n                                line: e.data.endLineNumber,\n                                column: e.data.endColumn,\n                            },\n                            severity:\n                                e.data.kind == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.humanReadable + '\\n'\n                    if (e.data.kind == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'error') {\n                    if (this.teaworker) {\n                        this.teaworker.end('Error:  An internal compiler Error occured')\n                    }\n                    this.teaworker = undefined\n                } else if (e.data.command == 'compilation-complete') {\n                    booted = true\n                    let runTimeout: number | undefined = undefined\n                    if (this.teaworker) {\n                        this.teaworker.removeEventListener('message', myListener)\n                        this.sessionCompileListener = undefined\n                    }\n                    try {\n                        clearTimeout(compilerTimeout)\n                    } catch (e) {\n                        /* nothing to report */\n                    }\n\n                    if (e.data.status == 'errors') {\n                        finishedExecutionCB(false)\n                        this.isRunning = false\n                    } else {\n                        const runListener = (ee: any) => {\n                            //console.log('JAVA-WORKER-MSG', ee.data)\n                            //console.log('tearunner', questionID, ee.data);\n                            if (ee.data.command == 'run-finished-setup') {\n                                //Nothing to do here\n                            } else if (ee.data.command == 'run-completed') {\n                                finishedExecutionCB(true)\n\n                                console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n                                // info_callback(\n                                //     'Info: Execution finished in ' + (Date.now() - start) + ' ms\\n'\n                                // )\n                                executionFinished = true\n                                this.isRunning = false\n                                workerrun.end()\n                            } else if (ee.data.command == 'stdout') {\n                                log_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command == 'stderr') {\n                                err_callback(ee.data.line + '\\n')\n                            }\n                        }\n                        this.$compilerState.displayGlobalState('Executing <b>' + mainClass + '</b>')\n                        const workerrun = new Worker(\n                            `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/workerrun.js?&v=001`\n                        )\n                        this.sessionWorker = workerrun\n                        workerrun.addEventListener('message', runListener.bind(this))\n\n                        workerrun.postMessage({\n                            command: 'run',\n                            id: '' + questionID,\n                            code: e.data.script,\n                            args: args,\n                        })\n\n                        workerrun.end = (msg: string) => {\n                            this.sessionWorker = undefined\n                            //when we end it IS over, no matter how often we tried :)\n                            try {\n                                workerrun.terminate()\n                                if (runTimeout) {\n                                    clearTimeout(runTimeout)\n                                }\n                            } catch (e) {\n                                /* nothing to report */\n                            }\n\n                            if (executionFinished) {\n                                return\n                            }\n                            executionFinished = true\n                            finishedExecutionCB(false)\n                            this.isRunning = false\n                            if (msg) {\n                                err_callback(msg + '\\n')\n                            }\n                        }\n\n                        const runStart = Date.now()\n                        runTimeout = setTimeout(function () {\n                            const time = Date.now() - runStart\n                            workerrun.end(\n                                'TimeoutError:  Execution took too long (>' +\n                                    time +\n                                    'ms) and was terminated. There might be an endless loop in your code.'\n                            )\n                        }, max_ms)\n                    }\n                }\n            }\n        }\n\n        if (this.teaworker) {\n            this.sessionID = questionID\n            this.sessionCompileListener = myListener\n            this.teaworker.addEventListener('message', myListener)\n        }\n        //console.log(code);\n        this.$compilerState.setAllRunButtons(false)\n        this.$compilerState.displayGlobalState(\n            'Starting Compiler for <b>' + mainClass + '.java</b>'\n        )\n\n        if (this.teaworker) {\n            this.teaworker.postMessage({\n                command: 'compile',\n                id: '' + questionID,\n                text: code,\n                mainClass: mainClass,\n            })\n        }\n\n        if (this.teaworker) {\n            this.teaworker.end = (msg: string, terminate: boolean = true) => {\n                try {\n                    clearTimeout(compilerTimeout)\n                } catch (e) {\n                    //nothing to see here\n                }\n\n                if (booted) {\n                    return\n                }\n                if (this.teaworker && terminate) {\n                    console.log('TERMINATING')\n                    this.teaworker.terminate()\n                }\n                finishedExecutionCB(false)\n                this.isRunning = false\n                this.isReady = true\n                if (msg) {\n                    err_callback(msg + '\\n')\n                }\n            }\n        }\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.sessionWorker) {\n            this.sessionWorker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        } else if (this.teaworker) {\n            if (this.sessionCompileListener) {\n                // this.sessionCompileListener({\n                //     data: {\n                //         id: '' + this.sessionID,\n                //         command: 'compilation-complete',\n                //         status: 'errors',\n                //         errors: [Vue.$l('CodeBlocks.UserCanceled')]\n                //     }\n                // })\n                this.teaworker.removeEventListener('message', this.sessionCompileListener)\n                this.sessionCompileListener = undefined\n            }\n            this.teaworker.end(Vue.$l('CodeBlocks.UserCanceled'), false)\n        }\n    }\n}\n\nexport const javaCompiler_V100 = new JavaV100Compiler()\nexport default javaCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string, terminate?: boolean): void\n    }\n}\n\nconst teaVMRunOverhead = 30000\n\n//ICompilerInstance\n@Component\nexport class JavaV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'java'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = true\n    readonly acceptsJSONArgument = true\n    readonly experimental = true\n    readonly deprecated = false\n    didPreload: boolean = false\n    teaworker: Worker | undefined = undefined\n    isReady = false\n    isRunning = false\n\n    preload() {\n        if (this.didPreload) {\n            return\n        }\n        this.didPreload = true\n        this.$compilerState.setAllRunButtons(false)\n\n        console.log(`[Preloading TeaVM ${this.version} for Java]`)\n        this.isRunning = true\n        this.createTeaWorker(() => {\n            this.isRunning = false\n            this.$compilerState.hideGlobalState()\n            this.$compilerState.setAllRunButtons(true)\n            //console.log('setAllRun', true)\n        })\n    }\n\n    private createTeaWorker(whenReady: () => void): boolean {\n        if (this.teaworker === undefined) {\n            this.$compilerState.setAllRunButtons(false)\n            this.$compilerState.displayGlobalState('Initializing Runtime')\n            try {\n                this.teaworker = new Worker(\n                    `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/worker.js`\n                )\n            } catch (e) {\n                //this should throw in the offline environment, thus we look for the worker at a different\n                this.teaworker = new Worker('../assCodeQuestion/js/teavm/worker.js')\n            }\n\n            this.teaworker.addEventListener('message', (e: any) => {\n                //console.log('teastuff', e.data)\n                if (e.data.command == 'ok' && e.data.id == 'didload-classlib') {\n                    if (this.teaworker) {\n                        this.teaworker.postMessage({\n                            command: 'compile',\n                            id: 'prep',\n                            text:\n                                'public class Bootstrap { public static void main(String[] args){}}',\n                            mainClass: 'Bootstrap',\n                        })\n                    }\n                    this.isReady = true\n                    if (whenReady) {\n                        //console.log(\"loopback to initial caller\");\n                        whenReady()\n                    } else {\n                        this.$compilerState.setAllRunButtons(true)\n                        this.$compilerState.hideGlobalState()\n                    }\n                } else if (e.data.id == 'prep' && e.data.command == 'compilation-complete') {\n                    /* We could finish initialization here if there appear to be races when compiling multiple sources at once */\n                }\n            })\n\n            //bootstrap environment\n            this.teaworker.postMessage({\n                command: 'load-classlib',\n                id: 'didload-classlib',\n                url: 'classlib.txt',\n            })\n\n            return true\n        }\n\n        return false\n    }\n\n    sessionCompileListener: ((e: any) => void) | undefined = undefined\n    sessionID: string = '-1'\n    sessionWorker: any = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments,\n        runCreate: boolean = true\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        console.log(`[Starting TeaVM${options.keepAlive ? ' keepAlive' : ''}]`, args)\n        const start = Date.now()\n        let executionFinished = false\n        let booted = false\n\n        if (this.isRunning) {\n            err_callback('System is busy. Please wait until compilation finishes or call a tutor.')\n            return\n        }\n        this.isRunning = true\n        if (runCreate) {\n            if (\n                this.createTeaWorker(() => {\n                    this.isRunning = false\n                    this.compileAndRun(questionID, code, callingCodeBlocks, options, false)\n                })\n            ) {\n                return\n            }\n        }\n\n        if (!this.isReady) {\n            err_callback(\n                'System is not yet ready. Please wait until Initialization finishes or call a tutor.'\n            )\n            return\n        }\n\n        const compilerTimeout = setTimeout(() => {\n            if (!booted) {\n                const time = Date.now() - start\n\n                if (this.teaworker) {\n                    this.teaworker.end(\n                        'TimeoutError:  Compilation took too long (>' +\n                            time +\n                            'ms) and was terminated. Trying to reset the System. Please re-run your code and call a Tutor if this Problem persists.'\n                    )\n                }\n\n                this.teaworker = undefined\n            }\n        }, teaVMRunOverhead)\n\n        let text = code\n            .replace(/\"(?:[^\"\\\\]|\\\\.)*\"|\\/\\*[\\s\\S]*?\\*\\//gm, '')\n            .replace(/(^.*)\\/\\/.*$/gm, '$1') //replace strings and comments\n        //let text = code.replace(/\"(?:[^\"\\\\]+?|(?!\")\"|\\\\{2}|\\\\[\\s\\S])*?\"|^.*(\\/\\/.*$)|\\/\\*[\\s\\S]*?\\*\\//gm, ''); //replace strings and comments\n\n        text = text.replaceRec(/(\\{[^{}]*\\})/gm, '[]') //replace parentheses\n\n        const getMainClass = (_code: string) => {\n            let ret = 'Unknown'\n            //above replaces all {} with [], so look for public class <name> []\n            const regexpMainClass = /public\\s+?class\\s+?([a-zA-Z_$0-9]+?)\\s*?(\\[|\\simplements|\\sextends)/gm\n            let match: RegExpExecArray | null\n            while ((match = regexpMainClass.exec(_code)) !== null) {\n                if (match[1]) {\n                    ret = match[1]\n                    break\n                }\n            }\n            return ret\n        }\n        let mainClass = getMainClass(text)\n        //fallback if the above regExps mangled the student code and we can not find the main class\n        if (mainClass == 'Unknown') {\n            mainClass = getMainClass(code.replace('{', '['))\n        }\n\n        //console.log(mainClass, code);\n        const myListener = (e: any) => {\n            //console.log('this.teaworker', questionID, e.data);\n            if (e.data.id == '' + questionID) {\n                if (e.data.command == 'phase') {\n                    if (e.data.phase == 'DEPENDENCY_ANALYSIS') {\n                        this.$compilerState.displayGlobalState(\n                            'Compiling & Analyzing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'LINKING') {\n                        this.$compilerState.displayGlobalState(\n                            'Linking <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'OPTIMIZATION') {\n                        this.$compilerState.displayGlobalState(\n                            'Optimizing <b>' + mainClass + '.java</b>'\n                        )\n                    } else if (e.data.phase == 'RENDERING') {\n                        this.$compilerState.displayGlobalState(\n                            'Creating <b>' + mainClass + '.class</b>'\n                        )\n                    }\n                } else if (e.data.command == 'diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.text,\n                            start: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            end: {\n                                line: e.data.lineNumber,\n                                column: 0,\n                            },\n                            severity:\n                                e.data.severity == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.text + '\\n'\n                    if (e.data.severity == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'compiler-diagnostic') {\n                    if (compileFailedCallback) {\n                        compileFailedCallback({\n                            message: e.data.message,\n                            start: {\n                                line: e.data.startLineNumber,\n                                column: e.data.startColumn,\n                            },\n                            end: {\n                                line: e.data.endLineNumber,\n                                column: e.data.endColumn,\n                            },\n                            severity:\n                                e.data.kind == 'ERROR'\n                                    ? ErrorSeverity.Error\n                                    : ErrorSeverity.Warning,\n                        })\n                    }\n\n                    const msg = e.data.humanReadable + '\\n'\n                    if (e.data.kind == 'ERROR') {\n                        err_callback(msg + '\\n')\n                    } else {\n                        info_callback(msg + '\\n')\n                    }\n                } else if (e.data.command == 'error') {\n                    if (this.teaworker) {\n                        this.teaworker.end('Error:  An internal compiler Error occured')\n                    }\n                    this.teaworker = undefined\n                } else if (e.data.command == 'compilation-complete') {\n                    booted = true\n                    let runTimeout: number | undefined = undefined\n                    if (this.teaworker) {\n                        this.teaworker.removeEventListener('message', myListener)\n                        this.sessionCompileListener = undefined\n                    }\n                    try {\n                        clearTimeout(compilerTimeout)\n                    } catch (e) {\n                        /* nothing to report */\n                    }\n\n                    if (e.data.status == 'errors') {\n                        finishedExecutionCB(false, undefined, options.args)\n                        this.isRunning = false\n                    } else {\n                        this.$compilerState.displayGlobalState('Executing <b>' + mainClass + '</b>')\n                        const workerrun = new Worker(\n                            `${this.$CodeBlock.baseurl}js/teavm/v${this.version}/workerrun.js?&v=001`\n                        )\n                        this.sessionWorker = workerrun\n\n                        const runListener = (ee: any) => {\n                            //console.log('JAVA-WORKER-MSG', ee.data)\n                            console.d('tearunner message', questionID, ee.data, ee.data.command)\n                            if (ee.data.command == 'run-finished-setup') {\n                                //Nothing to do here\n                            } else if (\n                                ee.data.command == 'w-exit-keepalive' ||\n                                ee.data.command == 'exit-keepalive'\n                            ) {\n                                //Make sure a keep-alive session can do proper cleanup\n                                if (options.keepAlive) {\n                                    workerrun.postMessage({\n                                        command: 'session-ended',\n                                        id: '' + questionID,\n                                    })\n                                }\n                            } else if (ee.data.command == 'run-completed') {\n                                if (ee.data.args) {\n                                    options.args['return'] = ee.data.args\n                                }\n                                finishedExecutionCB(true, undefined, options.args['return'])\n\n                                console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n                                // info_callback(\n                                //     'Info: Execution finished in ' + (Date.now() - start) + ' ms\\n'\n                                // )\n                                executionFinished = true\n                                this.isRunning = false\n                                workerrun.end()\n                            } else if (ee.data.command == 'stdout') {\n                                log_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command == 'stderr') {\n                                err_callback(ee.data.line + '\\n')\n                            } else if (ee.data.command.indexOf('w-') === 0) {\n                                //Message sent from the workter to the playground\n                                const cmd = ee.data.command.substr(2)\n                                ee.data.command = cmd\n                                options.didReceiveMessage(cmd, ee.data)\n                            } else if (ee.data.command == 'main-finished') {\n                                console.d('MESSAGE - Main Finished')\n                                //set up the real message handler\n                                options.postMessageFunction = (cmd, data) => {\n                                    data = { ...data }\n                                    console.d('MESSAGE - TeaVM Post ', cmd, data)\n                                    data.command = cmd\n                                    data.id = questionID\n                                    wr.postMessage(data)\n                                }\n\n                                options.postMessageFunction('main-finished', {})\n\n                                //make sure to send all queued messages now\n                                options.dequeuePostponedMessages()\n\n                                options.whenFinishedHandler(ee.data.args)\n                            } else if (ee.data.command == 'main-will-start') {\n                                options.beforeStartHandler()\n                            }\n                        }\n\n                        workerrun.addEventListener('message', runListener.bind(this))\n\n                        workerrun.postMessage({\n                            command: 'run',\n                            id: '' + questionID,\n                            code: e.data.script,\n                            args: args,\n                            messagePosting: options.allowMessagePassing,\n                            keepAlive: options.keepAlive,\n                        })\n                        const wr = workerrun\n\n                        workerrun.end = (msg: string) => {\n                            this.sessionWorker = undefined\n                            //when we end it IS over, no matter how often we tried :)\n                            try {\n                                workerrun.terminate()\n                                if (runTimeout) {\n                                    clearTimeout(runTimeout)\n                                }\n                            } catch (e) {\n                                /* nothing to report */\n                            }\n\n                            if (executionFinished) {\n                                return\n                            }\n                            executionFinished = true\n                            finishedExecutionCB(false, undefined, options.args)\n                            this.isRunning = false\n                            if (msg) {\n                                err_callback(msg + '\\n')\n                            }\n                        }\n\n                        const runStart = Date.now()\n                        runTimeout = setTimeout(function () {\n                            const time = Date.now() - runStart\n                            workerrun.end(\n                                'TimeoutError:  Execution took too long (>' +\n                                    time +\n                                    'ms) and was terminated. There might be an endless loop in your code.'\n                            )\n                        }, max_ms)\n                    }\n                }\n            }\n        }\n\n        if (this.teaworker) {\n            this.sessionID = questionID\n            this.sessionCompileListener = myListener\n            this.teaworker.addEventListener('message', myListener)\n        }\n        //console.log(code);\n        this.$compilerState.setAllRunButtons(false)\n        this.$compilerState.displayGlobalState(\n            'Starting Compiler for <b>' + mainClass + '.java</b>'\n        )\n\n        if (this.teaworker) {\n            this.teaworker.postMessage({\n                command: 'compile',\n                id: '' + questionID,\n                text: code,\n                mainClass: mainClass,\n            })\n        }\n\n        if (this.teaworker) {\n            this.teaworker.end = (msg: string, terminate: boolean = true) => {\n                try {\n                    clearTimeout(compilerTimeout)\n                } catch (e) {\n                    //nothing to see here\n                }\n\n                if (booted) {\n                    return\n                }\n                if (this.teaworker && terminate) {\n                    console.log('TERMINATING')\n                    this.teaworker.terminate()\n                }\n                finishedExecutionCB(false, undefined, options.args)\n                this.isRunning = false\n                this.isReady = true\n                if (msg) {\n                    err_callback(msg + '\\n')\n                }\n            }\n        }\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.sessionWorker) {\n            this.sessionWorker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        } else if (this.teaworker) {\n            if (this.sessionCompileListener) {\n                // this.sessionCompileListener({\n                //     data: {\n                //         id: '' + this.sessionID,\n                //         command: 'compilation-complete',\n                //         status: 'errors',\n                //         errors: [Vue.$l('CodeBlocks.UserCanceled')]\n                //     }\n                // })\n                this.teaworker.removeEventListener('message', this.sessionCompileListener)\n                this.sessionCompileListener = undefined\n            }\n            this.teaworker.end(Vue.$l('CodeBlocks.UserCanceled'), false)\n        }\n    }\n}\n\nexport const javaCompiler_V101 = new JavaV101Compiler()\nexport default javaCompiler_V101\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v001 from './doppio.v001'\nimport v100 from './teavm.v100'\nimport v101 from './teavm.v101'\n\n@Component\nexport class JavaCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'java'\n    displayName = 'Java'\n\n    //attach all version\n    versions = [v001, v100, v101]\n\n    //declare the default one\n    default = v100\n}\n\nexport const JavaCompilers: ICompilerInfo[] | ICompilerInfo = new JavaCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\n//function runJavaScriptWorker( code, log_callback, max_ms, questionID){\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    max_ms: number,\n    log_callback: (txt: string) => void,\n    info_callback: (txt: string) => void,\n    err_callback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishedExecutionCB: finishedCallbackSignatur\n) {\n    log_callback('')\n\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const not_allowed_keywords = ['postMessage', 'close', 'onmessage', 'debugger'] // blacklist (can be evaded, ... see below)\n    for (const key in not_allowed_keywords) {\n        if (code.indexOf(not_allowed_keywords[key]) != -1) {\n            // the user is not allowed to use the functionallity of the WebWorker\n            err_callback(\n                \"PermissionError: The usage of '\" +\n                    not_allowed_keywords[key] +\n                    \"' is not allowed (reserved keyword)!\"\n            )\n            return\n        }\n    }\n    const lines = code.split('\\n').length\n\n    // The user-code is sourrounded by webworker start and finish code (one line each)\n    // additionally, the console.log fnc is replaced, because the original log fnc is consuming much cpu ressources,\n    //      and continues logging, even after the worker was terminated.\n\n    const prefixCode = [\n        'for(var c in console) console[c]=null;', //delete all console functionality\n        \"for(var t in this) if(t!='close' && t!='postMessage' && t!='console') this[t]=null;\", //delete all worker functionality\n        'this.console = {};',\n        'console.log = function(s){', // only allow .log , .warn\n        \"   postMessage(['log',''+s]);\",\n        '};',\n        'console.error = function(s){', // only allow .error\n        \"   postMessage(['err',''+s]);\",\n        '};',\n        'console.warn = console.log;',\n        'onmessage = function(input){',\n        \"   postMessage(['finished',\",\n        \"   ''+(function(input){\",\n        \"           'use strict';\",\n        '\\n',\n    ]\n    const postfixCode = ['\\n', '})(input.data[1])]);', '   close();', '};']\n    code = prefixCode.join('') + code + postfixCode.join('')\n\n    //TODO:: creating a WebWorker from an URL is throwing a SecurityError in  IE 11  ...\n    //          is there any workaround?\n    const worker = new Worker(URL.createObjectURL(new Blob([code], { type: 'text/javascript' })))\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishedExecutionCB(false)\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n    }\n\n    const start = Date.now()\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                time +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > max_ms) {\n            testTimeout\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n\n        testTimeoutIntern()\n        if (e.data[0] == 'finished') {\n            finishedExecutionCB(true)\n            info_callback('Info: Execution finished in ' + (Date.now() - start) + ' ms\\n')\n            worker.end()\n        } else if (e.data[0] == 'log') {\n            log_callback(e.data[1] + '\\n')\n        } else if (e.data[0] == 'err') {\n            err_callback(e.data[1] + '\\n')\n        } else {\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n    worker.onerror = function (e) {\n        if (e.lineno == 1) {\n            compileFailedCallback({\n                start: { line: -1, column: -1 },\n                end: { line: -1, column: -1 },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('Error: ' + e.message)\n        } else if (e.lineno >= lines + 2) {\n            compileFailedCallback({\n                start: { line: lines + 2, column: 0 },\n                end: { line: lines + 2, column: 0 },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('EndOfFile: ' + e.message)\n        } else {\n            compileFailedCallback({\n                start: { line: e.lineno - 2, column: e.colno - 1 },\n                end: { line: e.lineno - 2, column: e.colno },\n                message: e.message,\n                severity: ErrorSeverity.Error,\n            })\n            worker.end('Line ' + (e.lineno - 2) + ': ' + e.message)\n        }\n    }\n    worker.postMessage(['start', [10, 200]]) //start worker execution\n\n    setTimeout(testTimeout, max_ms)\n}\n\n//ICompilerInstance\n@Component\nexport class JavascriptV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = true\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runJavaScriptWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const javascriptCompiler_V100 = new JavascriptV100Compiler()\nexport default javascriptCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string): void\n    }\n}\n\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    max_ms: number,\n    log_callback: (txt: string) => void,\n    info_callback: (txt: string) => void,\n    err_callback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishedExecutionCB: finishedCallbackSignatur,\n    args: object\n): Worker | undefined {\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/javascript/v101/jsWorker.js')\n\n    worker.onmessage = function (msg) {\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms) {\n            triggerTimeout()\n        }\n\n        switch (msg.data[0]) {\n            case 'finished':\n                if (msg && msg.data && msg.data.length >= 3) {\n                    args['return'] = msg.data[2]\n                } else {\n                    args['return'] = {}\n                }\n                console.d('returned msg:', msg, ', args:', args)\n                executionFinished = true\n                finishedExecutionCB(true, undefined, args['return'])\n                console.i('Execution finished in ' + time + ' ms\\n')\n                //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n                worker.end()\n                break\n            case 'log':\n                log_callback(msg.data[1] + '\\n')\n                break\n            case 'err':\n                err_callback(msg.data[1] + '\\n')\n                break\n            default:\n                worker.end(\n                    'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n                )\n                break\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                (performance.now() - startTime) +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const startExecution = function (args: object) {\n        //start worker execution\n        worker.postMessage(['start', { code: code, args: args }])\n\n        //stop Worker execution when the time limit is exceeded;\n        setTimeout(triggerTimeout, max_ms)\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage(['importD3'])\n                    startExecution(args)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage(['importBrain'])\n                startExecution(args)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args)\n    }\n\n    return worker\n}\n@Component\nexport class JavascriptV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly isReady = true\n    isRunning = false\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = true\n    readonly experimental = false\n    readonly deprecated = false\n    libraries = [\n        {\n            key: 'd3-101',\n            name: 'd3',\n            version: '5.14.3',\n            displayName: 'D3 - Proxy',\n        },\n        {\n            key: 'brain-2.0.0',\n            name: 'Brain.js',\n            version: '2.0.0-alpha',\n            displayName: 'Brain.js',\n        },\n    ]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void {\n        compilerRegistry.registerDOMLib(\n            [Vue.$CodeBlock.baseurl + 'js/javascript/v101/d3DomProxyToHTML.js'],\n            'd3proxy',\n            '101',\n            'D3 - Proxy',\n            true //makes it a utility lib => not selectable by users\n        )\n    }\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runJavaScriptWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const javascriptCompiler_V101 = new JavascriptV101Compiler()\nexport default javascriptCompiler_V101\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\ndeclare global {\n    interface Worker {\n        end(msg?: string): void\n    }\n}\n\nfunction runJavaScriptWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    options: ICompileAndRunArguments\n): Worker | undefined {\n    const {\n        max_ms,\n        log_callback,\n        info_callback,\n        err_callback,\n        compileFailedCallback,\n        finishedExecutionCB,\n        args,\n    } = options\n\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/javascript/v102/jsWorker.js')\n\n    worker.onmessage = function (msg: any) {\n        console.d('jsrunner message', questionID, executionFinished, msg.data, msg.data.command)\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms) {\n            triggerTimeout()\n        }\n\n        if (msg.data.command == 'finished') {\n            if (options.allowMessagePassing) {\n                options.whenFinishedHandler(msg.data.args)\n            }\n            if (msg && msg.data && msg.data.args) {\n                args['return'] = msg.data.args\n            } else {\n                args['return'] = {}\n            }\n            console.d('returned msg:', msg, ', args:', args)\n            executionFinished = true\n            finishedExecutionCB(true, undefined, args['return'])\n            console.i('Execution finished in ' + time + ' ms\\n')\n            //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n            worker.end()\n        } else if (msg.data.command == 'log') {\n            log_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'err') {\n            err_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'main-will-start') {\n            options.beforeStartHandler()\n        } else if (msg.data.command == 'main-finished') {\n            console.d('MESSAGE - Main Finished')\n            //set up the real message handler\n            options.postMessageFunction = (cmd, data) => {\n                data = { ...data }\n                console.d('MESSAGE - JS Post ', cmd, data)\n                data.command = cmd\n                data.id = questionID\n                worker.postMessage(data)\n            }\n\n            options.postMessageFunction('main-finished', {})\n\n            //make sure to send all queued messages now\n            options.dequeuePostponedMessages()\n\n            options.whenFinishedHandler(msg.data.args)\n        } else if (msg.data.command == 'w-exit-keepalive' || msg.data.command == 'exit-keepalive') {\n            //Make sure a keep-alive session can do proper cleanup\n            if (options.keepAlive) {\n                worker.postMessage({\n                    command: 'session-ended',\n                    id: '' + questionID,\n                })\n            }\n        } else if (msg.data.command.indexOf('w-') == 0) {\n            msg.data.command = msg.data.command.substr(2)\n        } else {\n            console.i('MESSAGE - ', msg.data)\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                (performance.now() - startTime) +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const startExecution = function (args: object, options: ICompileAndRunArguments) {\n        //start worker execution\n        worker.postMessage({\n            command: 'start',\n            code: code,\n            args: args,\n            messagePosting: options.allowMessagePassing,\n            keepAlive: options.keepAlive,\n        })\n\n        //stop Worker execution when the time limit is exceeded;\n        setTimeout(triggerTimeout, max_ms)\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage({ command: 'importD3' })\n                    startExecution(args, options)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importBrain' })\n                startExecution(args, options)\n            })\n        }else if (l === 'tf-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importTF' })\n                startExecution(args, options)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args, options)\n    }\n\n    return worker\n}\n@Component\nexport class JavascriptV102Compiler extends Vue implements ICompilerInstance {\n    readonly version = '102'\n    readonly language = 'javascript'\n    readonly canRun = true\n    readonly isReady = true\n    isRunning = false\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = true\n    readonly acceptsJSONArgument = true\n    readonly experimental = true\n    readonly deprecated = false\n    libraries = [\n        {\n            key: 'd3-101',\n            name: 'd3',\n            version: '5.14.3',\n            displayName: 'D3 - Proxy',\n        },\n        {\n            key: 'brain-2.0.0',\n            name: 'Brain.js',\n            version: '2.0.0-alpha',\n            displayName: 'Brain.js',\n        },\n        {\n            key: 'tf-2.0.0',\n            name: 'tf',\n            version: '2.0.0',\n            displayName: 'TensorFlow.js',\n        },\n    ]\n\n    registerLibs?(compilerRegistry: ICompilerRegistry): void {\n        compilerRegistry.registerDOMLib(\n            [Vue.$CodeBlock.baseurl + 'js/javascript/v101/d3DomProxyToHTML.js'],\n            'd3proxy',\n            '101',\n            'D3 - Proxy',\n            true //makes it a utility lib => not selectable by users\n        )\n    }\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        this.worker = runJavaScriptWorker(questionID, code, callingCodeBlocks, options)\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const javascriptCompiler_V102 = new JavascriptV102Compiler()\nexport default javascriptCompiler_V102\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v100 from './javascript.v100'\nimport v101 from './javascript.v101'\nimport v102 from './javascript.v102'\n\n@Component\nexport class JavascriptCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'javascript'\n    displayName = 'JavaScript'\n\n    //attach all version\n    versions = [v100, v101, v102]\n\n    //declare the default one\n    default = v101\n}\n\nexport const JavascriptCompilers: ICompilerInfo[] | ICompilerInfo = new JavascriptCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runPythonWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur\n) {\n    // the Python program\n    prog = prog.replaceAllPoly('\\t', '    ')\n\n    if (!window.Worker) {\n        errCallback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v100/pyWorker.js')\n\n    // construct message for worker\n    const pyInp = [] // not used jet\n\n    const messageData = { pyProg: prog, pyInp: pyInp, maxMS: maxRuntime }\n    worker.postMessage(['b8e493ca02970aeb0ef734555526bf9b', messageData])\n    const start = Date.now()\n\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (> ' +\n                time +\n                ' ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > maxRuntime) {\n            testTimeout()\n            return true\n        }\n        return false\n    }\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishCallback(false)\n        if (msg) {\n            errCallback(msg)\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n        if (testTimeoutIntern() === true) {\n            return\n        }\n        if (e.data[0] == 'finished') {\n            logCallback(e.data[1].stdOut)\n            finishCallback(true)\n            infoCallback('Info: Execution finished in : ' + (Date.now() - start) + ' ms')\n            worker.end()\n        } else if (e.data[0] === 'err') {\n            const err = JSON.parse(e.data[2])\n            if (err && err.lineno !== undefined && err.colno !== undefined) {\n                compileFailedCallback({\n                    start: { line: err.lineno - 1, column: err.colno },\n                    end: { line: err.lineno - 1, column: err.colno + 1 },\n                    message: err.message,\n                    severity: ErrorSeverity.Error,\n                })\n            } else {\n                if (err && err.lineno !== undefined) {\n                    compileFailedCallback({\n                        start: { line: err.lineno - 1, column: 0 },\n                        end: { line: err.lineno - 1, column: 0 },\n                        message: err.message,\n                        severity: ErrorSeverity.Error,\n                    })\n                }\n            }\n            worker.end('ERROR: ' + e.data[1])\n        } else {\n            worker.end('Unknown error: ' + e.data[1])\n        }\n    }\n    // in any case use the window timeout to terminate the worker\n    setTimeout(testTimeout, maxRuntime)\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = true\n    isReady = true\n    isRunning = false\n\n    preload() {}\n\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const pythonCompiler_V100 = new PythonV100Compiler()\nexport default pythonCompiler_V100\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runPythonWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur,\n    legacy: boolean\n): Worker | undefined {\n    console.log('Python Version:', legacy ? '2.7' : '3')\n\n    // the Python program\n    prog = prog.replaceAllPoly('\\t', '    ')\n\n    if (!window.Worker) {\n        errCallback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).'\n        )\n        return\n    }\n\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v101/pyWorker.js')\n\n    // construct message for worker\n    const pyInp = [] // not used jet\n\n    const messageData = {\n        pyProg: prog,\n        pyInp: pyInp,\n        maxMS: maxRuntime,\n        legacy: legacy,\n    }\n    worker.postMessage(['b8e493ca02970aeb0ef734556526bf9b', messageData])\n    const start = Date.now()\n\n    const testTimeout = function () {\n        const time = Date.now() - start\n        worker.end(\n            'TimeoutError:  Execution took too long (> ' +\n                time +\n                ' ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const testTimeoutIntern = function () {\n        const time = Date.now() - start\n        if (time > maxRuntime) {\n            testTimeout()\n            return true\n        }\n        return false\n    }\n    let executionFinished = false\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        finishCallback(false)\n        if (msg) {\n            errCallback(msg)\n        }\n    }\n\n    worker.onmessage = function (e) {\n        if (executionFinished) {\n            return\n        }\n        //only accept messages, when worker not terminated (workers do not immetiately terminate)\n        if (testTimeoutIntern() === true) {\n            return\n        }\n        if (e.data[0] == 'finished') {\n            logCallback(e.data[1].stdOut)\n            finishCallback(true)\n            console.i('Execution finished in ' + (Date.now() - start) + ' ms\\n')\n            //infoCallback('Info: Execution finished in : ' + (Date.now() - start) + ' ms')\n            worker.end()\n        } else if (e.data[0] === 'err') {\n            const err = JSON.parse(e.data[2])\n            if (err && err.lineno !== undefined && err.colno !== undefined) {\n                compileFailedCallback({\n                    start: {\n                        line: err.lineno - 1,\n                        column: err.colno,\n                    },\n                    end: {\n                        line: err.lineno - 1,\n                        column: err.colno + 1,\n                    },\n                    message: err.message,\n                    severity: ErrorSeverity.Error,\n                })\n            } else {\n                if (err && err.lineno !== undefined) {\n                    compileFailedCallback({\n                        start: {\n                            line: err.lineno - 1,\n                            column: 0,\n                        },\n                        end: {\n                            line: err.lineno - 1,\n                            column: 0,\n                        },\n                        message: err.message,\n                        severity: ErrorSeverity.Error,\n                    })\n                }\n            }\n            worker.end('ERROR: ' + e.data[1])\n        } else {\n            worker.end('Unknown error: ' + e.data[1])\n        }\n    }\n    // in any case use the window timeout to terminate the worker\n    setTimeout(testTimeout, maxRuntime)\n\n    return worker\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV101LegacyCompiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            true\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV101Compiler extends Vue implements ICompilerInstance {\n    readonly version = '101'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = false\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = false\n    readonly experimental = false\n    readonly deprecated = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        this.worker = runPythonWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            false\n        )\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const pythonCompiler_V101 = new PythonV101Compiler()\nexport const pythonLegacyCompiler_V101 = new PythonV101LegacyCompiler()\n\nexport default {\n    legacyPython: pythonLegacyCompiler_V101,\n    python3: pythonCompiler_V101,\n}\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ErrorSeverity,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runPythonWorker(\n    questionID: string,\n    code: string,\n    callingCodeBlocks: any,\n    options: ICompileAndRunArguments\n): Worker | undefined {\n    const {\n        max_ms,\n        log_callback,\n        info_callback,\n        err_callback,\n        compileFailedCallback,\n        finishedExecutionCB,\n        args,\n    } = options\n\n    //WebWorkers need to be supported\n    if (!window.Worker) {\n        err_callback(\n            'CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).'\n        )\n        return\n    }\n\n    //const lines = code.split('\\n').length;\n    const startTime = performance.now()\n    let executionFinished = false\n    const worker = new Worker(Vue.$CodeBlock.baseurl + 'js/python/v102/pyWorker.js')\n\n    worker.onmessage = function (msg: any) {\n        console.d('jsrunner message', questionID, executionFinished, msg.data, msg.data.command)\n        //only accept messages, as long as the worker is not terminated\n        if (executionFinished) {\n            return\n        }\n\n        const time = performance.now() - startTime\n        if (time > max_ms) {\n            triggerTimeout()\n        }\n\n        if (msg.data.command == 'finished') {\n            if (options.allowMessagePassing) {\n                options.whenFinishedHandler(msg.data.args)\n            }\n            if (msg && msg.data && msg.data.args) {\n                args['return'] = msg.data.args\n            } else {\n                args['return'] = {}\n            }\n            console.d('returned msg:', msg, ', args:', args)\n            executionFinished = true\n            finishedExecutionCB(true, undefined, args['return'])\n            console.i('Execution finished in ' + time + ' ms\\n')\n            //info_callback('Info: Execution finished in ' + time + ' ms\\n')\n            worker.end()\n        } else if (msg.data.command == 'exception') {\n            if (compileFailedCallback) {\n                compileFailedCallback({\n                    message: msg.data.text,\n                    start: {\n                        line: msg.data.lineNumber,\n                        column: 0,\n                    },\n                    end: {\n                        line: msg.data.lineNumber,\n                        column: 0,\n                    },\n                    severity:\n                        msg.data.severity == 'ERROR' ? ErrorSeverity.Error : ErrorSeverity.Warning,\n                })\n            }\n        } else if (msg.data.command == 'log') {\n            log_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'err') {\n            err_callback(msg.data.s + '\\n')\n        } else if (msg.data.command == 'main-will-start') {\n            options.beforeStartHandler()\n        } else if (msg.data.command == 'main-finished') {\n            console.d('MESSAGE - Main Finished')\n            //set up the real message handler\n            options.postMessageFunction = (cmd, data) => {\n                data = { ...data }\n                console.d('MESSAGE - JS Post ', cmd, data)\n                data.command = cmd\n                data.id = questionID\n                worker.postMessage(data)\n            }\n\n            options.postMessageFunction('main-finished', {})\n\n            //make sure to send all queued messages now\n            options.dequeuePostponedMessages()\n\n            options.whenFinishedHandler(msg.data.args)\n        } else if (msg.data.command == 'w-exit-keepalive' || msg.data.command == 'exit-keepalive') {\n            //Make sure a keep-alive session can do proper cleanup\n            if (options.keepAlive) {\n                worker.postMessage({\n                    command: 'session-ended',\n                    id: '' + questionID,\n                })\n            }\n        } else if (msg.data.command.indexOf('w-') == 0) {\n            msg.data.command = msg.data.command.substr(2)\n        } else {\n            console.i('MESSAGE - ', msg.data)\n            worker.end(\n                'HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.'\n            )\n        }\n    }\n\n    worker.onerror = function (e) {\n        compileFailedCallback({\n            start: { line: e.lineno - 3, column: e.colno - 1 },\n            end: { line: e.lineno - 3, column: e.colno },\n            message: e.message,\n            severity: ErrorSeverity.Error,\n        })\n        worker.end('Line ' + (e.lineno - 3) + ': ' + e.message)\n    }\n\n    worker.end = function (msg) {\n        if (executionFinished) {\n            return\n        }\n        worker.terminate()\n        executionFinished = true\n        //when aborting, the result is 'undefined'\n        if (msg) {\n            err_callback(msg + '\\n')\n        }\n        finishedExecutionCB(false)\n    }\n\n    function triggerTimeout() {\n        worker.end(\n            'TimeoutError:  Execution took too long (>' +\n                (performance.now() - startTime) +\n                'ms) and was terminated. There might be an endless loop in your code.'\n        )\n    }\n\n    const startExecution = function (args: object, options: ICompileAndRunArguments) {\n        //start worker execution\n        worker.postMessage({\n            command: 'start',\n            code: code,\n            args: args,\n            messagePosting: options.allowMessagePassing,\n            keepAlive: options.keepAlive,\n        })\n\n        //stop Worker execution when the time limit is exceeded;\n        setTimeout(triggerTimeout, max_ms)\n    }\n\n    let willStartExecution = false\n    callingCodeBlocks.workerLibraries.forEach((l) => {\n        if (l === 'd3-101') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries(\n                ['d3-5.13.4', 'd3proxy-101'],\n                function () {\n                    worker.postMessage({ command: 'importD3' })\n                    startExecution(args, options)\n                }\n            )\n        } else if (l === 'brain-2.0.0') {\n            willStartExecution = true\n            callingCodeBlocks.$compilerRegistry.loadLibraries([], function () {\n                worker.postMessage({ command: 'importBrain' })\n                startExecution(args, options)\n            })\n        }\n    })\n\n    if (!willStartExecution) {\n        startExecution(args, options)\n    }\n\n    return worker\n}\n\n//ICompilerInstance\n@Component\nexport class PythonV102Compiler extends Vue implements ICompilerInstance {\n    readonly version = '102'\n    readonly language = 'python'\n    readonly canRun = true\n    readonly canStop = true\n    readonly allowsContinousCompilation = true\n    readonly allowsPersistentArguments = true\n    readonly allowsMessagePassing = false\n    readonly acceptsJSONArgument = true\n    readonly experimental = true\n    readonly deprecated = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n\n    private worker: Worker | undefined = undefined\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        this.worker = runPythonWorker(questionID, code, callingCodeBlocks, options)\n    }\n\n    stop() {\n        console.d('FORCE STOPPING')\n        if (this.worker) {\n            this.worker.end(Vue.$l('CodeBlocks.UserCanceled'))\n        }\n    }\n}\n\nexport const pythonCompiler_V102 = new PythonV102Compiler()\n\nexport default {\n    python3: pythonCompiler_V102,\n}\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport v100 from './python.v100'\nimport v101 from './python.v101'\nimport v102 from './python.v102'\n\n@Component\nexport class PythonCompilerInfo extends Vue implements ICompilerInfo {\n    type = 'python'\n    displayName = 'Python 2.7'\n\n    //attach all version\n    versions = [v100, v101.legacyPython]\n\n    //declare the default one\n    default = v101.legacyPython\n}\n\n@Component\nexport class Python3CompilerInfo extends Vue implements ICompilerInfo {\n    type = 'python3'\n    displayName = 'Python 3'\n\n    //attach all version\n    versions = [v101.python3, v102.python3]\n\n    //declare the default one\n    default = v101.python3\n}\n\nexport const PythonCompilers: ICompilerInfo[] | ICompilerInfo = [\n    new PythonCompilerInfo(),\n    new Python3CompilerInfo(),\n]\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    ICompilerInstance,\n    ICompilerErrorDescription,\n    ICompilerRegistry,\n    finishedCallbackSignatur,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\n\nfunction runGLSLWorker(\n    questionID: string,\n    prog: string,\n    callingCodeBlocks: any,\n    maxRuntime: number,\n    logCallback: (txt: string) => void,\n    infoCallback: (txt: string) => void,\n    errCallback: (txt: string) => void,\n    compileFailedCallback: (info: ICompilerErrorDescription) => void,\n    finishCallback: finishedCallbackSignatur\n) {\n    const outputData: string[] = []\n    callingCodeBlocks.blocks\n        .filter((b) => b.hasCode)\n        .forEach((block) => outputData.push(block.content))\n    /*$(\"[data-contains-code][data-question=\"+questionID+\"]\").each(function(i, block) {\n        if (block.getAttribute('data-ignore')) return;\n        if (!blockHasProgramCode(block)) return;\n        const editor = editors[block.id];\n        if (editor) {\n            outputData.push(block.value);\n        } else {\n            outputData.push(block.innerHTML);\n        }\n    });*/\n    finishCallback(true, outputData)\n}\n\n@Component\nexport class GLSLV100Compiler extends Vue implements ICompilerInstance {\n    readonly version = '100'\n    readonly language = 'glsl'\n    readonly canRun = true\n    readonly canStop = false\n    readonly allowsContinousCompilation = false\n    readonly allowsPersistentArguments = false\n    readonly acceptsJSONArgument = false\n    readonly allowsMessagePassing = false\n    readonly deprecated = false\n    readonly experimental = false\n    isReady = true\n    isRunning = false\n\n    preload() {}\n    compileAndRun(\n        questionID: string,\n        code: string,\n        callingCodeBlocks: any,\n        options: ICompileAndRunArguments\n    ): void {\n        const {\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB,\n            args,\n        } = options\n        return runGLSLWorker(\n            questionID,\n            code,\n            callingCodeBlocks,\n            max_ms,\n            log_callback,\n            info_callback,\n            err_callback,\n            compileFailedCallback,\n            finishedExecutionCB\n        )\n    }\n}\nexport const v100 = new GLSLV100Compiler()\n","import 'reflect-metadata'\nimport { Vue, Component } from 'vue-property-decorator'\nimport { ICompilerInfo } from '@/lib/ICompilerRegistry'\n\n//load all versions\nimport { v100 } from './glsl.v100'\n\n@Component\nexport class GLSLCompilerInfo extends Vue implements ICompilerInfo {\n    readonly type = 'glsl'\n    readonly displayName = 'GLSL Shader'\n\n    //attach all version\n    readonly versions = [v100]\n\n    //declare the default one\n    readonly default = v100\n}\n\nexport const GLSLCompilers: ICompilerInfo[] | ICompilerInfo = new GLSLCompilerInfo()\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    ICompilerHashMap,\n    IDomLibraray,\n    ICompilerID,\n    ICompilerInfo,\n    IListItemData,\n    ICompilerInstance,\n    ICompilerRegistry,\n    ICompilerIDQuery,\n} from './ICompilerRegistry'\n\n//prepare Compiler Registry\n@Component\nexport class CompilerRegistry extends Vue implements ICompilerRegistry {\n    compilers: ICompilerHashMap = {}\n    libraries: IDomLibraray[] = []\n    loadedURIs: string[] = []\n    afterLoadFinished: (() => void)[] = []\n    isLoadingLibs = false\n\n    get languages(): IListItemData[] {\n        const langs = Object.keys(this.compilers)\n            .map((k) => this.compilers[k])\n            .map((c) => {\n                return { label: c.displayName, value: c.type }\n            })\n            .sort((a, b) => (a.label < b.label ? -1 : 1))\n        return langs\n    }\n\n    get domLibraries(): IListItemData[] {\n        const libs: IDomLibraray[] = this.libraries.filter((l) => !l.utility)\n        return libs.map((l) => {\n            return { label: l.displayName + ' (' + l.version + ')', value: l.key }\n        })\n    }\n\n    register(compilers: ICompilerInfo[] | ICompilerInfo): void {\n        if (Array.isArray(compilers)) {\n            compilers.forEach((c) => this.registerSingle(c))\n        } else {\n            this.registerSingle(compilers)\n        }\n    }\n\n    registerSingle(c: ICompilerInfo): void {\n        this.compilers[c.type] = c\n        c.versions.forEach((v) => {\n            if (v.registerLibs) {\n                v.registerLibs(this)\n            }\n        })\n    }\n\n    getCompiler(compilerInfo: ICompilerIDQuery): ICompilerInstance | undefined {\n        const cmps = this.compilers[compilerInfo.languageType]\n        if (!cmps) {\n            return undefined\n        }\n        if (compilerInfo.version === undefined) {\n            return cmps.default\n        }\n        let res = cmps.versions.find((e) => e.version == compilerInfo.version)\n        if (res === undefined) {\n            res = cmps.default\n        }\n        return res\n    }\n\n    versionsForLanguage(languageType: string): string[] | ['none'] {\n        const c = this.compilers[languageType]\n        if (c === undefined) {\n            return ['none']\n        }\n        return c.versions.map((v) => v.version)\n    }\n\n    registerDOMLib(\n        uri: string[],\n        name: string,\n        version: string,\n        displayName: string,\n        utility: boolean = false,\n        order: number = 0,\n        onBuildSandboxEnv: (sandbox: any) => void = () => {}\n    ): void {\n        this.libraries.push({\n            key: name + '-' + version,\n            uri: uri,\n            name: name,\n            version: version,\n            displayName: displayName,\n            didLoad: false,\n            utility: utility,\n            order: order,\n            onBuildSandboxEnv: onBuildSandboxEnv,\n        })\n    }\n\n    addLoadedToSandbox(sandbox: any) {\n        this.libraries.filter((l) => l.didLoad).forEach((l) => l.onBuildSandboxEnv(sandbox))\n    }\n\n    getLibObjects(domLibs: string[]): IDomLibraray[] {\n        return this.libraries.filter((l) => domLibs.indexOf(l.key) >= 0)\n    }\n\n    urisForDOMLibs(domLibs: string[]): string[] {\n        const libs = this.getLibObjects(domLibs)\n        const uris = libs\n            .filter((l) => !l.didLoad)\n            .sort((a, b) => (a.order < b.order ? 1 : -1))\n            .map((l) => l.uri)\n            .reduce((p, c) => c.concat(p), [])\n\n        return uris\n    }\n    loadLibraries(domLibraries: string[], whenLoaded: () => void): void {\n        const libs = this.urisForDOMLibs(domLibraries)\n        const dlibs = this.getLibObjects(domLibraries)\n        this.loadURIs(\n            libs,\n            function () {\n                dlibs.forEach((l) => (l.didLoad = true))\n                whenLoaded()\n            }.bind(this)\n        )\n    }\n    private loadURIsIter(libs: string[], whenLoaded: () => void): void {\n        console.log(libs)\n        let loadCount = 0\n        const didLoad = (u: string) => {\n            loadCount++\n            if (loadCount == libs.length) {\n                whenLoaded()\n            }\n        }\n        libs.forEach((uri: string) => {\n            if (this.loadedURIs.indexOf(uri) >= 0) {\n                didLoad(uri)\n                return\n            }\n            this.loadedURIs.push(uri)\n\n            const script = document.createElement('script')\n            script.src = uri\n            console.log('[Loading Library from ' + uri + ']')\n            script.onload = function () {\n                console.log('[Loaded ' + uri + ']')\n                didLoad(uri)\n            }\n            document.head.appendChild(script)\n        })\n    }\n\n    private loadURIs(libs: string[], whenLoaded: () => void): void {\n        //make sure we serialize all loads !!!\n        if (this.isLoadingLibs) {\n            //queue the load\n            this.afterLoadFinished.push(() => {\n                this.loadURIs(libs, whenLoaded)\n            })\n            return\n        }\n        this.isLoadingLibs = true\n\n        const self = this\n\n        const loadLib = function (uris, idx) {\n            if (idx >= uris.length) {\n                whenLoaded()\n\n                //something tried to queue another load\n                // => dequeu it and run it now\n                self.isLoadingLibs = false\n                if (self.afterLoadFinished.length > 0) {\n                    const next = self.afterLoadFinished.shift()\n                    if (next) {\n                        next()\n                    }\n                }\n                return\n            }\n\n            const uri = uris[idx]\n\n            //already loaded\n            if (self.loadedURIs.indexOf(uri) >= 0) {\n                loadLib(uris, idx + 1)\n                return\n            }\n            self.loadedURIs.push(uri)\n\n            const script = document.createElement('script')\n            script.src = uri\n            console.log('[Loading Library from ' + uri + ']')\n            script.onload = function () {\n                loadLib(uris, idx + 1)\n            }\n            document.head.appendChild(script)\n        }\n\n        loadLib(libs, 0)\n    }\n}\n\nexport const compilerRegistry = new CompilerRegistry()\n\n//load all available compilers\nimport { JavaCompilers } from '../compiler/java'\ncompilerRegistry.register(JavaCompilers)\n\nimport { JavascriptCompilers } from '../compiler/javascript'\ncompilerRegistry.register(JavascriptCompilers)\n\nimport { PythonCompilers } from '../compiler/python'\ncompilerRegistry.register(PythonCompilers)\n\nimport { GLSLCompilers } from '../compiler/glsl'\ncompilerRegistry.register(GLSLCompilers)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/5.3.8/d3.v5.min.js',\n        Vue.$CodeBlock.baseurl + 'js/d3/5.3.8/helper.js',\n    ],\n    'd3',\n    '5.13.4',\n    'D3',\n    false,\n    1100,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/d3/6.2.0/d3.v6.min.js',\n        //Vue.$CodeBlock.baseurl + 'js/d3/6.2.0/helper.v6.js'\n    ],\n    'd3',\n    '6.2.0',\n    'D3',\n    false,\n    1000,\n    (sandbox) => {\n        sandbox.d3 = (window as any).d3\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/chart.js/3.3.0/chart.min.js'],\n    'chart',\n    '3.3.0',\n    'Chart.JS',\n    false,\n    2000,\n    (sandbox) => {\n        sandbox.Chart = (window as any).Chart\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/three.min.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/controls/OrbitControls.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/controls/TrackballControls.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/r0/Detector.js',\n        Vue.$CodeBlock.baseurl + 'js/three.js/helper.r0.js',\n    ],\n    '3js',\n    'r0',\n    'Three.JS',\n    false,\n    3000,\n    (sandbox) => {\n        sandbox.THREE = (window as any).THREE\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [Vue.$CodeBlock.baseurl + 'js/brain.js/2.0.0-alpha/brain-browser.min.js'],\n    'brain',\n    '2.0.0',\n    'Brain.JS',\n    false,\n    4000,\n    (sandbox) => {\n        sandbox.brain = (window as any).brain\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/tensorflow.js/2.0.0/tf.min.js',\n        //Vue.$CodeBlock.baseurl + 'js/tensorflow.js/2.0.0/tfjs-vis.umd.min.js',\n    ],\n    'tf',\n    '2.0.0',\n    'TensorFlow.JS',\n    false,\n    5000,\n    (sandbox) => {\n        sandbox.tf = (window as any).tf\n        //sandbox.tfvis = (window as any).tfvis\n    }\n)\n\ncompilerRegistry.registerDOMLib(\n    [\n        Vue.$CodeBlock.baseurl + 'js/phaser/3.54.0/phaser.min.js',\n        Vue.$CodeBlock.baseurl + 'js/phaser/3.54.0/support.js',\n    ],\n    'phaser',\n    '3.54',\n    'Phaser',\n    false,\n    6000,\n    (sandbox: any) => {\n        sandbox.Phaser = (window as any).Phaser\n        sandbox.IsometricMapGame = (window as any).IsometricMapGame\n    }\n)\n\nexport default compilerRegistry\n","import 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport {\n    IParsedError,\n    ILegacyPlaygroundObject,\n    IPlaygroundObject,\n    IProcessedScriptOutput,\n    IScriptOutputObject,\n    IScriptBlock,\n} from '@/lib/IScriptBlock'\nimport { ICompileAndRunArguments } from './ICompilerRegistry'\nimport compilerRegistry from './CompilerRegistry'\ninterface ICodeTemplate {\n    prefix: string\n    postfix: string\n}\n\nconst legacyCodeTemplate: ICodeTemplate = {\n    prefix:\n        'let editors=[]; $(\".CodeMirror\").toArray().forEach(cm =>  {if (!cm.CodeMirror.getTextArea().hasAttribute(\"is-editmode\")) editors[cm.CodeMirror.getTextArea().id] = cm.CodeMirror}); return function(){ return {o:',\n    postfix: '}.o}.call({})',\n}\nconst v101CodeTemplate: ICodeTemplate = {\n    prefix: '\"use strict\"; return function(){ return {o:',\n    postfix: '}.o}.call({})',\n}\nconst v102CodeTemplate: ICodeTemplate = {\n    prefix: 'with(sandbox) { return function(){ return {o:',\n    postfix: '}.o}.call({})}',\n}\n\nconst jsErrorParser = function (e: any, templ?: ICodeTemplate): IParsedError {\n    console.error(e)\n    let line: number | undefined = undefined\n    let column: number | undefined = undefined\n    if (e.line) {\n        line = e.line\n    } else if (e.lineNumber) {\n        line = e.lineNumber\n    }\n\n    if (e.column) {\n        column = e.column\n    } else if (e.columnNumber) {\n        column = e.columnNumber\n    }\n\n    if (line === undefined) {\n        const lines = e.stack.split('\\n')\n        if (lines.length > 1) {\n            const regex = /<anonymous>:(\\d+):(\\d+)/gm\n            let m: RegExpExecArray | null = null\n            if ((m = regex.exec(lines[1])) !== null) {\n                line = Number(m[1]) - 1\n                column = Number(m[2]) - 1\n            }\n        }\n    }\n\n    if (line !== undefined) {\n        line--\n        if (line == 1) {\n            if (column === undefined) {\n                column = 0\n            }\n            if (templ !== undefined) {\n                column -= templ.prefix.length\n            }\n        }\n    }\n    return { line: line!, column: column!, msg: e.message }\n}\nVue.prototype.$jsErrorParser = jsErrorParser\n\nconst sandboxProxies = new WeakMap()\n\nfunction compileCode(src) {\n    const code = new Function('sandbox', src)\n\n    return function (sandbox) {\n        compilerRegistry.addLoadedToSandbox(sandbox)\n\n        sandbox.console = console\n        sandbox.document = {\n            createElement: (what: any) => document.createElement(what),\n        }\n\n        if (!sandboxProxies.has(sandbox)) {\n            const sandboxProxy = new Proxy(sandbox, { has, get })\n            sandboxProxies.set(sandbox, sandboxProxy)\n        }\n        return code(sandboxProxies.get(sandbox))\n    }\n}\n\nfunction has(target, key) {\n    return true\n}\n\nfunction get(target, key) {\n    if (key === Symbol.unscopables) {\n        return undefined\n    }\n    return target[key]\n}\n\nexport class ScriptBlock implements IScriptBlock {\n    public err: IParsedError[] = []\n\n    private src: string | undefined = undefined\n    private fkt: Function | undefined = undefined\n    private obj: IPlaygroundObject | ILegacyPlaygroundObject | undefined = undefined\n    private didInit: boolean = false\n    constructor(script: string, public version: string) {\n        //this.rebuild(script)\n        this.didInit = false\n        this.src = script\n        this.obj = {\n            init: () => {\n                console.error('FAILED INIT ATTEMPT')\n            },\n            update: () => {\n                console.error('FAILED UPDATE ATTEMPT')\n                return undefined\n            },\n        }\n    }\n\n    requestsOriginalVersion() {\n        return this.version == '100' || this.version == '' || this.version === undefined\n    }\n\n    invalidate() {\n        this.obj = undefined\n    }\n\n    rebuild(code?: string) {\n        if (code !== undefined) {\n            try {\n                this.err = []\n                console.i('!!! REBUILDING !!!')\n                this.src = code\n\n                //wrap the users code in a helper object, otherwise\n                //evaluating would fail if the code does not start in the first line\n\n                //we also return a function to make and call (.call({})) it with a clean object\n                //to ensure that 'this' is will allways be in a defined state inside the users code\n                if (this.requestsOriginalVersion()) {\n                    console.log('ANCIENT ANCIENT ANCIENT')\n                    this.fkt = new Function(\n                        legacyCodeTemplate.prefix + code + legacyCodeTemplate.postfix\n                    )\n                } else if (this.version === '101') {\n                    console.log('OLD OLD OLD')\n                    this.fkt = new Function(\n                        v101CodeTemplate.prefix + code + v101CodeTemplate.postfix\n                    )\n                } else {\n                    console.log('NEW NEW NEW')\n                    this.fkt = compileCode(\n                        v102CodeTemplate.prefix + code + v102CodeTemplate.postfix\n                    )\n                }\n\n                this.obj = this.fkt({})\n                this.dequeueIncoming()\n            } catch (e) {\n                this.pushError(e)\n            }\n        } else if (this.fkt !== undefined) {\n            this.obj = this.fkt({})\n            this.dequeueIncoming()\n        }\n    }\n\n    pushError(e: any) {\n        this.err.push(jsErrorParser(e))\n    }\n\n    private lazyInit() {\n        if (!this.didInit) {\n            this.obj = undefined\n            this.rebuild(this.src)\n            this.didInit = true\n        }\n    }\n\n    addArgumentsTo(args: object | string[]) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.addArgumentsTo) {\n                try {\n                    o.addArgumentsTo(args)\n                } catch (e) {\n                    this.pushError(e)\n                }\n            }\n        }\n    }\n\n    _runConfig: null | ICompileAndRunArguments = null\n    get runConfig(): null | ICompileAndRunArguments {\n        return this._runConfig\n    }\n    set runConfig(cfg: null | ICompileAndRunArguments) {\n        if (this._runConfig) {\n            this._runConfig.dequeuePostponedMessages = function () {}\n        }\n        this._runConfig = cfg\n        if (this._runConfig) {\n            const self = this\n            this._runConfig.dequeuePostponedMessages = function () {\n                const msg = [...self.queuedMessages]\n                self.queuedMessages = []\n                msg.forEach((args) => self.doPostMessageToWorker(args.c, args.d))\n            }\n            if (this._runConfig.postMessageFunction !== null) {\n                this._runConfig.dequeuePostponedMessages()\n            }\n        }\n    }\n    queuedMessages: any[] = []\n    doPostMessageToWorker(cmd: string, data: any) {\n        if (data === undefined) {\n            data = {}\n        }\n        if (\n            this._runConfig !== undefined &&\n            this._runConfig !== null &&\n            this._runConfig.postMessageFunction !== null\n        ) {\n            cmd = `d-${cmd}`\n            data.command = cmd\n            console.i('MESSAGE - Posted to Worker', cmd, data)\n            this._runConfig.postMessageFunction(cmd, data)\n        } else {\n            console.i('MESSAGE - Posted to Queue', cmd)\n            this.queuedMessages.push({ c: cmd, d: data })\n        }\n    }\n    queuedIncomingMessages: any[] = []\n    didReceiveMessage(cmd: string, data: any) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.onMessage === undefined) {\n                console.i('MESSAGE - Received to Queue', cmd)\n                this.queuedIncomingMessages.push({ c: cmd, d: data })\n            } else {\n                console.i('MESSAGE - Received from Worker', cmd, data)\n                o.onMessage(cmd, data)\n            }\n        } else {\n            console.i('MESSAGE - Received to Queue', cmd)\n            this.queuedIncomingMessages.push({ c: cmd, d: data })\n        }\n    }\n    dequeueIncoming() {\n        console.i('MESSAGE - Dequeue Incoming')\n        const msg = [...this.queuedIncomingMessages]\n        this.queuedIncomingMessages = []\n        msg.forEach((args) => this.didReceiveMessage(args.c, args.d))\n    }\n\n    beforeStart() {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.beforeStart) {\n                console.i('MESSAGE - beforeStart')\n                o.beforeStart()\n            }\n        }\n    }\n\n    whenFinished(args: string[] | object) {\n        this.lazyInit()\n        if (this.obj && !this.requestsOriginalVersion()) {\n            const o = this.obj as IPlaygroundObject\n            if (o.whenFinished) {\n                console.i('MESSAGE - whenFinished')\n                o.whenFinished(args)\n            }\n        }\n    }\n\n    init(canvasElement: JQuery<HTMLElement>, scope: JQuery<HTMLElement>, runner: () => void): void {\n        this.queuedMessages = []\n        this.queuedIncomingMessages = []\n        this.lazyInit()\n        console.i('MESSAGE - Reset Queue from Init')\n        if (this.obj === undefined) {\n            return\n        }\n        try {\n            console.i('!!! INIT CANVAS !!!')\n            if (this.requestsOriginalVersion()) {\n                const o = this.obj as ILegacyPlaygroundObject\n                o.init(canvasElement)\n            } else {\n                runner.run = runner\n                runner.postMessage = this.doPostMessageToWorker.bind(this)\n                let outputElement: JQuery<HTMLElement> | undefined = undefined\n                if (scope === undefined || scope.length === 0) {\n                    scope = canvasElement.parents('.codeblocks')\n                }\n                if (scope !== undefined) {\n                    outputElement = scope.find('div.runner pre.output')\n                }\n                if (outputElement === undefined) {\n                    console.error('[Internal Error] No Output Element found!')\n                    this.pushError('[Internal Error] No Output Element found!')\n                } else {\n                    const o = this.obj as IPlaygroundObject\n                    o.init(canvasElement, outputElement, scope, runner)\n                }\n            }\n        } catch (e) {\n            this.pushError(e)\n        }\n    }\n\n    reset(canvasElement: JQuery<HTMLElement>): void {\n        this.queuedMessages = []\n        this.queuedIncomingMessages = []\n        this.lazyInit()\n        console.i('MESSAGE - Reset Queue from Reset')\n        if (this.obj && this.obj.reset && !this.requestsOriginalVersion()) {\n            this.obj.reset(canvasElement)\n        }\n    }\n\n    update(\n        outputObject: IScriptOutputObject,\n        canvasElement: JQuery<HTMLElement>\n    ): string | undefined {\n        this.lazyInit()\n        if (this.obj === undefined) {\n            return outputObject.output\n        }\n        try {\n            if (this.obj.update) {\n                //console.log(this.obj.update.length, outputObject, this.obj);\n                //this is the old behaviour\n                if (this.obj.update.length == 2 || this.requestsOriginalVersion()) {\n                    const o = this.obj as ILegacyPlaygroundObject\n                    if (outputObject.processedOutput.type == 'json') {\n                        console.i('!!! UPDATE (org, json) !!!')\n                        return o.update(outputObject.processedOutput.json, canvasElement)\n                    } else {\n                        console.i('!!! UPDATE (org, text) !!!')\n                        return o.update(outputObject.output, canvasElement)\n                    }\n                } else {\n                    const o = this.obj as IPlaygroundObject\n                    console.i('!!! UPDATE (v' + this.version + ')!!!')\n                    return o.update(\n                        outputObject.processedOutput.text,\n                        outputObject.processedOutput.json,\n                        canvasElement,\n                        outputObject.outputElement\n                    )\n                }\n            }\n        } catch (e) {\n            this.pushError(e)\n        }\n        return outputObject.initialOutput\n    }\n\n    onParseError(initialOutput: string, parseError: string): boolean {\n        this.lazyInit()\n        if (this.obj === undefined) {\n            return false\n        }\n        try {\n            if (this.obj.onParseError) {\n                this.obj.onParseError(initialOutput, parseError)\n            } else {\n                console.error(parseError)\n                return false\n            }\n        } catch (e) {\n            this.pushError(e)\n            return false\n        }\n        return true\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-layout',{staticStyle:{\"min-height\":\"0\"},attrs:{\"view\":\"hHh lpR fFf\"}},[_c('q-page-container',[_c('CodeBlocks',{attrs:{\"blockInfo\":_vm.blocks}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"codeblocks \" + _vm.addonClass + \"  \" + _vm.backgroundColorClass + \" q-mx-sm q-mb-md\"),attrs:{\"data-question\":_vm.blockInfo.id,\"uuid\":_vm.blockInfo.uuid}},[_c('CodePanel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasBookmark && _vm.editMode),expression:\"hasBookmark && editMode\"}],attrs:{\"editMode\":_vm.editMode,\"visibleLines\":\"auto\",\"block\":_vm.panelBlock}}),(_vm.editMode)?_c('CodeBlocksSettings',{attrs:{\"options\":_vm.options},on:{\"compiler-change\":_vm.onCompilerChange,\"compiler-version-change\":_vm.onCompilerVersionChange,\"run-state-change\":_vm.onRunStateChange,\"continuous-compile-change\":_vm.onContinousCompileStateChange,\"message-passing-change\":_vm.onMessagePassingChange,\"keep-alive-change\":_vm.onKeepAliveChange,\"persistent-arguments-change\":_vm.onPersistentArgumentsChange,\"language-change\":_vm.onLanguageChange,\"character-limit-change\":_vm.onCharacterLimitChange,\"timeout-change\":_vm.onTimeoutChange,\"worker-libs-change\":_vm.onWorkerLibChange,\"dom-libs-change\":_vm.onDomLibChange,\"theme-change\":_vm.onThemeChange,\"output-parser-change\":_vm.onOutputParserChange}}):_vm._e(),_vm._l((_vm.blocks),function(block){return _c('CodeBlockContainer',{key:block.id,attrs:{\"block\":block,\"editMode\":_vm.editMode},on:{\"type-change\":_vm.onTypeChange,\"visible-lines-change\":_vm.onVisibleLinesChange,\"placement-change\":_vm.onPlacementChange,\"script-version-change\":_vm.onScriptVersionChange,\"move-up\":_vm.moveUp,\"move-down\":_vm.moveDown,\"remove-block\":_vm.removeBlock,\"auto-reset-change\":_vm.onSetAutoReset}},[(block.hasCode && block.type != 'BLOCKLY')?_c('CodeBlock',{attrs:{\"block\":block,\"theme\":_vm.themeForBlock(block),\"mode\":_vm.mimeType,\"visibleLines\":block.visibleLines,\"editMode\":_vm.editMode,\"readonly\":_vm.readonly,\"tagSet\":_vm.activeTagSet,\"emitWhenTypingInViewMode\":_vm.continuousCompile},on:{\"ready\":_vm.blockBecameReady,\"build\":_vm.run,\"code-changed-in-view-mode\":_vm.onViewCodeChange}}):(block.type == 'PLAYGROUND')?_c('CodePlayground',{attrs:{\"block\":block,\"editMode\":_vm.editMode,\"finalOutputObject\":_vm.finalOutputObject,\"theme\":_vm.themeForBlock(block),\"tagSet\":_vm.activeTagSet,\"eventHub\":_vm.eventHub},on:{\"changeOutput\":_vm.onPlaygroundChangedOutput,\"ready\":_vm.blockBecameReady,\"run\":_vm.onRunFromPlayground}}):(block.type == 'TEXT')?_c('SimpleText',{attrs:{\"block\":block,\"previewValue\":block.actualContent(),\"editMode\":_vm.editMode,\"name\":(\"block[\" + (block.parentID) + \"][\" + (block.id) + \"]\"),\"scopeUUID\":block.scopeUUID,\"tagSet\":_vm.activeTagSet,\"language\":_vm.language},on:{\"ready\":_vm.blockBecameReady},model:{value:(block.content),callback:function ($$v) {_vm.$set(block, \"content\", $$v)},expression:\"block.content\"}}):(block.type == 'BLOCKLY')?_c('Blockly',{attrs:{\"block\":block,\"mode\":_vm.mimeType,\"theme\":_vm.themeForBlock(block),\"editMode\":_vm.editMode,\"readonly\":_vm.readonly,\"tagSet\":_vm.activeTagSet,\"emitWhenTypingInViewMode\":_vm.continuousCompile,\"blockInfo\":_vm.blockInfo},on:{\"code-changed-in-view-mode\":_vm.onViewCodeChange}}):_vm._e()],1)}),(_vm.editMode)?_c('div',{staticClass:\"row justify-end\"},[_c('div',[_c('q-btn',{attrs:{\"push\":\"\",\"color\":\"green\"},on:{\"click\":_vm.addNewBlock}},[_vm._v(_vm._s(_vm.$t('CodeBlocks.AddBlock'))+\" \"),_c('q-icon',{staticClass:\"q-ml-sm\",attrs:{\"name\":\"library_add\"}})],1)],1)]):_vm._e(),(_vm.canRun)?_c('div',{class:(\"runner \" + (_vm.editMode ? 'q-pt-lg q-mx-lg' : '')),attrs:{\"id\":\"runContainer\",\"data-question\":_vm.blockInfo.id}},[_c('div',{staticClass:\"row runnerState\",attrs:{\"id\":\"stateBox\",\"data-question\":_vm.blockInfo.id}},[_c('q-btn',{staticClass:\"white--text\",staticStyle:{\"border-radius\":\"0px\"},attrs:{\"id\":\"allow_run_button\",\"loading\":!_vm.isReady,\"disabled\":!_vm.isReady,\"color\":\"primary\",\"ripple\":{ center: true },\"data-question\":_vm.blockInfo.id},on:{\"click\":_vm.run}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocks.run'))+\" \"),_c('q-icon',{attrs:{\"right\":\"\",\"dark\":\"\",\"name\":\"play_arrow\"}}),(_vm.editMode)?_c('q-tooltip',{attrs:{\"delay\":200}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.$t('CodeBlocks.run_hint'))}})]):_vm._e()],1),_c('div',{staticClass:\"animated fadeIn\"}),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canStop),expression:\"canStop\"}],staticClass:\"q-pl-sm\"},[_c('q-btn',{staticStyle:{\"border-radius\":\"0px\"},attrs:{\"id\":\"cancel_button\",\"color\":\"negative\",\"ripple\":{ center: true },\"data-question\":_vm.blockInfo.id},on:{\"click\":_vm.stop}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocks.stop'))+\" \"),_c('q-icon',{attrs:{\"right\":\"\",\"dark\":\"\",\"name\":\"stop\"}})],1)],1)]),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showGlobalMessages),expression:\"showGlobalMessages\"}],staticClass:\"globalState col-grow\",staticStyle:{\"align-self\":\"center\"}},[_c('div',{attrs:{\"id\":\"message\"},domProps:{\"innerHTML\":_vm._s(_vm.$compilerState.globalStateMessage)}})])])],1),_c('q-slide-transition',[(_vm.hasOutput)?_c('pre',{ref:\"output\",staticClass:\"output\",attrs:{\"id\":((_vm.blockInfo.id) + \"Output\")}},[_c('div',{attrs:{\"id\":\"out\"},domProps:{\"innerHTML\":_vm._s(_vm.outputHTML)}})]):_vm._e()])],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-container\",attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id,\"uuid\":_vm.block.uuid}},[(_vm.editMode)?_c('q-card',{class:(\"q-mx-none q-my-xs q-pa-none editModeBlockContainer \" + _vm.colorClass + \" \" + _vm.bgClass)},[_c('q-card-section',{staticClass:\"q-mb-none q-pb-sm q-pt-sm\"},[_c('div',{staticClass:\"row q-my-none q-py-none\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 col-sm-4 col-md-4 q-my-none q-py-none\"},[_c('q-select',{staticStyle:{\"margin-top\":\"-5px !important\"},attrs:{\"options\":_vm.types,\"dense\":\"\"},scopedSlots:_vm._u([{key:\"after\",fn:function(){return [_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showTypeInfoDialog}})]},proxy:true}],null,false,3671508059),model:{value:(_vm.typeObj),callback:function ($$v) {_vm.typeObj=$$v},expression:\"typeObj\"}})],1),_c('div',{staticClass:\"col-grow\"}),_c('div',{staticClass:\"order-xs-first order-sm-last col-xs-12 col-sm-8 col-md-5 q-my-none q-py-none text-right\"},[(_vm.hasExtendedSettings)?_c('q-btn',{attrs:{\"icon\":\"settings\",\"color\":\"blue-7\",\"push\":\"\",\"dense\":\"\"}},[_c('q-popup-proxy',[(_vm.canSetLineNumbers)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Display'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Lines'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\",domProps:{\"innerHTML\":_vm._s(_vm.$l('CodeBlockContainer.Lines_detail'))}})]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{staticStyle:{\"width\":\"132px\"},attrs:{\"rules\":[_vm.validNumber],\"maxlength\":\"4\"},model:{value:(_vm.visibleLines),callback:function ($$v) {_vm.visibleLines=$$v},expression:\"visibleLines\"}})],1)]),(_vm.canHaveAlternativeContent)?_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Prepopulate'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\",attrs:{\"lines\":\"2\"}},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Prepopulate_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-toggle',{model:{value:(_vm.hasAltComntent),callback:function ($$v) {_vm.hasAltComntent=$$v},expression:\"hasAltComntent\"}})],1)]):_vm._e()]):_vm._e(),(_vm.isVersionedPlayground)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Behaviour'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.ScriptV'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.ScriptV_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-select',{attrs:{\"options\":_vm.scriptVersions},model:{value:(_vm.scriptVersionObj),callback:function ($$v) {_vm.scriptVersionObj=$$v},expression:\"scriptVersionObj\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.AutoReset'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.AutoReset_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-toggle',{model:{value:(_vm.shouldAutoReset),callback:function ($$v) {_vm.shouldAutoReset=$$v},expression:\"shouldAutoReset\"}})],1)])]):_vm._e(),(_vm.canDefinePlacement)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Positioning'))+\" \")])]),_c('div',{staticClass:\"row no-wrap q-pl-md q-pb-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Width'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Width_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{attrs:{\"maxlength\":\"7\",\"dense\":\"\"},model:{value:(_vm.width),callback:function ($$v) {_vm.width=$$v},expression:\"width\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md q-pb-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Height'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Height_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-input',{attrs:{\"maxlength\":\"7\",\"dense\":\"\"},model:{value:(_vm.height),callback:function ($$v) {_vm.height=$$v},expression:\"height\"}})],1)]),_c('div',{staticClass:\"row no-wrap q-pl-md\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Alignment'))+\" \")]),_c('div',{staticClass:\"text-caption text-blue-grey-4\"},[_vm._v(\" \"+_vm._s(_vm.$l('CodeBlockContainer.Alignment_detail'))+\" \")])]),_c('div',{staticClass:\"col-5 q-pl-sm\"},[_c('q-select',{attrs:{\"options\":_vm.alignments,\"dense\":\"\"},model:{value:(_vm.align),callback:function ($$v) {_vm.align=$$v},expression:\"align\"}})],1)])]):_vm._e()])],1):_vm._e(),_c('q-btn',{staticClass:\"q-ml-md q-mr-xs\",attrs:{\"disable\":!_vm.canMoveUp,\"icon\":\"arrow_drop_up\",\"push\":\"\",\"dense\":\"\",\"color\":\"orange-6\",\"ripple\":{ center: true }},on:{\"click\":_vm.moveUp}}),_c('q-btn',{staticClass:\"q-mr-md\",attrs:{\"disabled\":!_vm.canMoveDown,\"icon\":\"arrow_drop_down\",\"push\":\"\",\"dense\":\"\",\"color\":\"orange-6\",\"ripple\":{ center: true }},on:{\"click\":_vm.moveDown}}),_c('q-btn',{staticClass:\"gt-xs q-mr-sm-sm q-mr-md-lg q-pr-sm\",attrs:{\"label\":_vm.$l('CodeBlockContainer.Delete'),\"icon\":\"warning\",\"push\":\"\",\"dense\":\"\",\"color\":\"red-6\",\"right\":\"\",\"ripple\":{ center: true }},on:{\"click\":_vm.removeBlock}}),_c('q-btn',{staticClass:\"lt-sm q-mr-lg q-pr-none\",attrs:{\"icon\":\"warning\",\"push\":\"\",\"dense\":\"\",\"color\":\"red-6\",\"right\":\"\",\"ripple\":{ center: true }},on:{\"click\":_vm.removeBlock}}),_c('q-btn',{staticStyle:{\"margin-right\":\"-9px\"},attrs:{\"icon\":_vm.expanded ? 'expand_less' : 'expand_more',\"color\":\"primary\",\"small\":\"\",\"flat\":\"\",\"round\":\"\"},on:{\"click\":_vm.toggleExpanded}})],1)]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.serializedOptions),expression:\"serializedOptions\"}],staticClass:\"blockoptions\",attrs:{\"name\":(\"block_options[\" + (this.block.parentID) + \"][\" + (this.block.id) + \"]\")},domProps:{\"value\":(_vm.serializedOptions)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.serializedOptions=$event.target.value}}})]),_c('q-slide-transition',[(this.isExperimentalScriptVersion)?_c('q-card-section',[_c('q-banner',{staticClass:\"bg-orange text-white col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"whatshot\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.ExperimentalScriptVersion'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.ExperimentalScriptVersionDesc'))+\" \")])],1)],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[(this.isDeprecatedScriptVersion)?_c('q-card-section',[_c('q-banner',{staticClass:\"bg-yellow-12 text-black col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"hourglass_disabled\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.DeprecatedScriptVersion'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodePlayground.DeprecatedScriptVersionDesc'))+\" \")])],1)],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[_c('q-card-section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}],staticClass:\"my-0 q-pt-1 q-pb-0\"},[_vm._t(\"default\")],2)],1)],1):_c('div',{staticClass:\"ma-0 pa-0\"},[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\n\nexport class PositioninLoadManager {\n    loadFromDatablock(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase): void {\n        block.width = bl.getAttribute('width')\n            ? bl.getAttribute('width')!\n            : inBlock.width\n            ? inBlock.width\n            : '100%'\n        block.height = bl.getAttribute('height')\n            ? bl.getAttribute('height')!\n            : inBlock.height\n            ? inBlock.height\n            : '300px'\n        block.align = bl.getAttribute('align')\n            ? bl.getAttribute('align')!\n            : inBlock.align\n            ? inBlock.align\n            : 'center'\n    }\n}\n\nexport const positioninLoadManager = new PositioninLoadManager()\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport {\n    IBlocklyToolbox,\n    BlockPrimaryColors,\n    BlockArgumentTypes,\n    IBlockDefinition\n} from '@/lib/IBlocklyHelper'\nimport { blocklyHelper } from '@/lib/BlocklyHelper'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\n\nexport class BlocklyLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'BLOCKLY'\n    }\n\n    private loadCustomBlocks(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const customBlocks = bl.querySelectorAll('script#customblocks') //bl.getElementsByTagName('CUSTOMBLOCKS')\n        if (customBlocks.length > 0) {\n            const str: string = customBlocks[0].innerHTML ? customBlocks[0].innerHTML : '{}'\n\n            try {\n                const arr: IBlockDefinition[] = new Function(blocklyHelper.prepareCode(str))()\n                arr.forEach(bl => {\n                    if (bl.JSON === undefined) {\n                        bl.JSON = {\n                            type: '',\n                            message0: '',\n                            args0: [],\n                            nextStatement: null,\n                            previousStatement: null,\n                            colour: ''\n                        }\n                    }\n                    if (bl.uuid === undefined || bl.uuid === '') {\n                        bl.uuid = uuid.v4()\n                    }\n\n                    if (bl.codeString === undefined && bl._code !== undefined) {\n                        bl.codeString = bl._code.toString()\n                    }\n                    bl._code = undefined\n                })\n                block.blockly.blocks = arr\n            } catch (e) {\n                console.error('Error parsing Blocks JSON', e)\n            }\n        }\n    }\n\n    private loadToolbox(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const toolboxInput = bl.getElementsByTagName('TOOLBOX')\n        if (toolboxInput.length > 0) {\n            const toolboxStr: string = toolboxInput[0].innerHTML ? toolboxInput[0].innerHTML : ''\n\n            if (toolboxStr === '') {\n                block.blockly.toolbox = this.defaultToolbox\n            } else {\n                try {\n                    const obj: IBlocklyToolbox = new Function(\n                        blocklyHelper.prepareCode(toolboxStr)\n                    )()\n                    obj.categories.forEach(c => {\n                        if (c.uuid === undefined || c.uuid === '') {\n                            c.uuid = uuid.v4()\n                        }\n                        if (c.color === undefined) {\n                            c.color = ''\n                        }\n                        c.items.forEach(i => {\n                            if (i.uuid === undefined || i.uuid === '') {\n                                i.uuid = uuid.v4()\n                            }\n                        })\n                    })\n                    block.blockly.toolbox = obj\n                } catch (e) {\n                    console.error('Error Parsing ToolboxJSON', e)\n                }\n            }\n        } else {\n            block.blockly.toolbox = this.defaultToolbox\n        }\n    }\n\n    private loadOverrideToolbox(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase\n    ) {\n        const toolboxOverride = bl.querySelectorAll('script#toolboxoverride') //bl.getElementsByTagName('TOOLBOXOVERRIDE')\n        if (toolboxOverride.length > 0) {\n            block.blockly.toolboxOverride = toolboxOverride[0].innerHTML\n                ? toolboxOverride[0].innerHTML\n                : ''\n\n            block.blockly.useOverride =\n                toolboxOverride[0].hasAttribute('use') &&\n                toolboxOverride[0].getAttribute('use') != 'false' &&\n                toolboxOverride[0].getAttribute('use') != '0'\n        }\n    }\n\n    private loadCode(bl: HTMLElement, inBlock: IBlockElementData, block: IBlockDataBase) {\n        const codes = bl.querySelectorAll('script#content') //bl.getElementsByTagName('SCRIPT')\n\n        if (codes.length > 0) {\n            block.content = codes[0].innerHTML ? codes[0].innerHTML : ''\n        } else {\n            block.content = '<xml xmlns=\"https://developers.google.com/blockly/xml\"></xml>'\n        }\n        block.hasCode = true\n    }\n\n    private isTrue(val: any): boolean {\n        return val !== undefined && val != 'false' && val != '0'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        block.obj = null\n        positioninLoadManager.loadFromDatablock(bl, inBlock, block)\n\n        block.blockly.showControls = this.isTrue(inBlock.showControls)\n\n        this.loadCustomBlocks(bl, inBlock, block)\n        this.loadToolbox(bl, inBlock, block)\n        this.loadOverrideToolbox(bl, inBlock, block)\n        this.loadCode(bl, inBlock, block)\n    }\n\n    get defaultToolbox(): IBlocklyToolbox {\n        const tb: IBlocklyToolbox = {\n            categories: [\n                {\n                    uuid: uuid.v4(),\n                    name: 'Logic',\n                    color: '{!PrimaryColors.Logic}',\n                    items: [\n                        { _expanded: false, type: 'controls_if', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_compare', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_operation', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_negate', uuid: uuid.v4() },\n                        { _expanded: false, type: 'logic_boolean', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_arithmetic', uuid: uuid.v4() },\n                        { _expanded: false, type: 'lists_create_empty', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Loops',\n                    color: '{!PrimaryColors.Loop}',\n                    items: [\n                        { _expanded: false, type: 'controls_repeat_ext', uuid: uuid.v4() },\n                        { _expanded: false, type: 'controls_whileUntil', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Math',\n                    color: '{!PrimaryColors.Math}',\n                    items: [\n                        { _expanded: false, type: 'math_number', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_arithmetic', uuid: uuid.v4() },\n                        { _expanded: false, type: 'math_single', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Text',\n                    color: '{!PrimaryColors.Text}',\n                    items: [\n                        { _expanded: false, type: 'text', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_length', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_print', uuid: uuid.v4() },\n                        { _expanded: false, type: 'text_join', uuid: uuid.v4() },\n                        { _expanded: false, type: 'colour_rgb', uuid: uuid.v4() }\n                    ]\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Variables',\n                    custom: 'VARIABLE',\n                    color: '{!PrimaryColors.Variable}',\n                    items: []\n                },\n                {\n                    uuid: uuid.v4(),\n                    name: 'Procedures',\n                    custom: 'PROCEDURE',\n                    color: '{!PrimaryColors.Procedure}',\n                    items: []\n                }\n            ]\n        }\n        return tb\n    }\n}\n\nexport const blocklyLoader = new BlocklyLoadManager()\n\nexport default function(loaders: { [index: string]: IBlockloadManager }) {\n    loaders[blocklyLoader.blockTag] = blocklyLoader\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport { IListItemData } from '@/lib/ICompilerRegistry'\nimport { KnownBlockTypes } from '@/lib/ICodeBlocks'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { blocklyLoader } from '@/lib/BlockloadManagers/BlocklyManager'\n\n@Component\nexport default class CodeBlocksContainer extends Vue {\n    frank = 'hello'\n    settingsMenu: boolean = false\n    highlighted: boolean = false\n\n    get types(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.Canvas'),\n                value: KnownBlockTypes.PLAYGROUND,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Text'),\n                value: KnownBlockTypes.TEXT,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Hidden'),\n                value: KnownBlockTypes.BLOCKHIDDEN,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Static'),\n                value: KnownBlockTypes.BLOCKSTATIC,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Block'),\n                value: KnownBlockTypes.BLOCK,\n            },\n            {\n                label: this.$l('CodeBlockContainer.Blockly'),\n                value: KnownBlockTypes.BLOCKLY,\n            },\n        ]\n    }\n    get alignments(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.Start'),\n                value: 'left',\n            },\n            {\n                label: this.$l('CodeBlockContainer.Center'),\n                value: 'center',\n            },\n            {\n                label: this.$l('CodeBlockContainer.End'),\n                value: 'right',\n            },\n        ]\n    }\n    get scriptVersions(): IListItemData[] {\n        return [\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_1'),\n                value: '100',\n            },\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_2'),\n                value: '101',\n            },\n            {\n                label: this.$l('CodeBlockContainer.ScriptVersion_3'),\n                value: '102',\n            },\n        ]\n    }\n\n    get isDeprecatedScriptVersion(): boolean {\n        return this.scriptVersion === '100'\n    }\n\n    get isExperimentalScriptVersion(): boolean {\n        return this.scriptVersion === '102'\n    }\n\n    // mounted() {\n    //     console.log('Mounted', this)\n    // }\n\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ default: false }) editMode!: boolean\n\n    validNumber(v: 'auto' | number): boolean | string {\n        //console.log(v, isNaN(v), v!='auto');\n        if (v != 'auto' && isNaN(v)) {\n            return \"Must be a valid Number or 'auto'.\"\n        }\n        return true\n    }\n    toggleExpanded(): void {\n        this.$CodeBlock.refreshAllCodeMirrors()\n        this.expanded = !this.expanded\n    }\n    moveUp(): void {\n        this.$emit('move-up', this.block.id)\n    }\n    moveDown(): void {\n        this.$emit('move-down', this.block.id)\n    }\n    showTypeInfoDialog(): void {\n        this.$q\n            .dialog({\n                title: this.$l('CodeBlockContainer.TypesCaption'),\n                message: this.$l('CodeBlockContainer.Types'),\n                html: true,\n                style: 'width:75%',\n            })\n            .onOk(() => {\n                // console.log('OK')\n            })\n            .onCancel(() => {\n                // console.log('Cancel')\n            })\n            .onDismiss(() => {\n                // console.log('I am triggered on both OK and Cancel')\n            })\n    }\n    removeBlock(): void {\n        const self = this\n        self.highlighted = true\n        this.$q\n            .dialog({\n                title: this.$l('CodeBlockContainer.Confirm'),\n                message: this.$l('CodeBlockContainer.DeleteQuestion'),\n                html: true,\n                ok: {\n                    push: true,\n                    color: 'negative',\n                    icon: 'warning',\n                },\n                cancel: {\n                    push: true,\n                    color: 'positive',\n                },\n                persistent: true,\n            })\n            .onOk(() => {\n                this.$emit('remove-block', this.block.id)\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                self.highlighted = false\n            })\n    }\n\n    get expanded(): boolean {\n        return this.block.expanded\n    }\n    set expanded(v: boolean) {\n        this.block.expanded = v\n    }\n\n    get canMoveUp(): boolean {\n        return this.block.id > 0\n    }\n    get canMoveDown(): boolean {\n        return !this.block.isLast\n    }\n\n    filteredCopy(objIn: object, extended: boolean = true, path: string = 'this'): object {\n        let obj = {}\n        Object.keys(objIn)\n            .filter(\n                (k) =>\n                    k.indexOf('appSettings') != 0 &&\n                    k.indexOf('$') != 0 &&\n                    k.indexOf('_') != 0 &&\n                    (!extended ||\n                        (k != 'obj' &&\n                            k != 'errors' &&\n                            k != 'content' &&\n                            k != 'firstLine' &&\n                            k != 'nextLine' &&\n                            k != 'lineCount' &&\n                            k != 'hasCode' &&\n                            k != 'isLast' &&\n                            k != 'readyCount' &&\n                            k != 'noContent' &&\n                            (this.block.type === KnownBlockTypes.BLOCKLY || k != 'blockly'))) &&\n                    k != 'uuid' &&\n                    k != 'scopeUUID' &&\n                    k != 'scopeSelector'\n            )\n            .forEach((k) => {\n                let v = objIn[k]\n                if (v !== undefined && v !== null && typeof v === 'object') {\n                    if (Array.isArray(v)) {\n                        v = v.map((item, nr) =>\n                            this.filteredCopy(item, false, path + '.' + k + `[${nr}]`)\n                        )\n                    } else {\n                        v = this.filteredCopy(v, false, path + '.' + k)\n                    }\n                }\n                obj[k] = v\n            })\n\n        return obj\n    }\n    get serializedOptions(): string {\n        return JSON.stringify(this.filteredCopy(this.block))\n    }\n    set serializedOptions(v: string) {}\n\n    get hasExtendedSettings(): boolean {\n        return (\n            this.type == KnownBlockTypes.PLAYGROUND ||\n            this.type == KnownBlockTypes.BLOCK ||\n            this.type == KnownBlockTypes.BLOCKLY\n        )\n    }\n    get isVersionedPlayground(): boolean {\n        return this.type == KnownBlockTypes.PLAYGROUND\n    }\n    get canSetLineNumbers() {\n        return this.type == KnownBlockTypes.BLOCK\n    }\n    get canHaveAlternativeContent() {\n        return this.type == KnownBlockTypes.BLOCK\n    }\n    get canDefinePlacement() {\n        return this.type == KnownBlockTypes.PLAYGROUND || this.type == KnownBlockTypes.BLOCKLY\n    }\n    get shouldAutoReset(): boolean {\n        return this.block.shouldAutoreset\n    }\n    set shouldAutoReset(v: boolean) {\n        this.$emit('auto-reset-change', {\n            shouldAutoreset: v,\n            id: this.block.id,\n        })\n    }\n\n    get scriptVersion(): string {\n        if (\n            this.block === undefined ||\n            this.block.version === undefined ||\n            this.block.version == ''\n        ) {\n            return '100'\n        }\n        return this.block.version\n    }\n    get scriptVersionObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.scriptVersions, this.scriptVersion)\n    }\n    set scriptVersionObj(v: IListItemData) {\n        this.$emit('script-version-change', {\n            version: v.value,\n            id: this.block.id,\n        })\n    }\n\n    get hasAltComntent(): boolean {\n        return this.block.hasAlternativeContent\n    }\n    set hasAltComntent(v: boolean) {\n        if (v != this.block.hasAlternativeContent && v) {\n            this.$nextTick(() => {\n                setTimeout(function () {\n                    $('.CodeMirror')\n                        .toArray()\n                        .forEach((cm) => {\n                            const element = cm as any\n                            element.CodeMirror.refresh()\n                        })\n                }, 200)\n            })\n        }\n        this.block.hasAlternativeContent = v\n    }\n\n    get colorClass(): string {\n        const t = this.type\n        if (t == KnownBlockTypes.TEXT) {\n            return 'text-border'\n        } else if (t == KnownBlockTypes.PLAYGROUND) {\n            return 'playground-border'\n        } else if (t == KnownBlockTypes.BLOCK) {\n            return 'block-border'\n        } else if (t == KnownBlockTypes.BLOCKHIDDEN) {\n            return 'block-hidden-border'\n        } else if (t == KnownBlockTypes.BLOCKSTATIC) {\n            return 'block-static-border'\n        }\n        return 'default-border'\n    }\n    get bgClass(): string {\n        if (this.highlighted) {\n            return 'highlightedCard'\n        }\n        return ''\n    }\n    get type(): KnownBlockTypes {\n        if (this.block.type == KnownBlockTypes.BLOCK) {\n            if (this.block.hidden) {\n                return KnownBlockTypes.BLOCKHIDDEN\n            }\n            if (this.block.static) {\n                return KnownBlockTypes.BLOCKSTATIC\n            }\n        }\n        return this.block.type\n    }\n    get typeObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.types, this.type)\n    }\n    set typeObj(val: IListItemData) {\n        const v = val.value\n        let ret = {\n            type: v.match(/([^-]*)/)![0],\n            hidden: v == KnownBlockTypes.BLOCKHIDDEN,\n            static: v == KnownBlockTypes.BLOCKSTATIC,\n            id: this.block.id,\n            hasCode: false,\n        }\n        ret.hasCode = ret.type == KnownBlockTypes.BLOCK\n\n        if (ret.type == KnownBlockTypes.PLAYGROUND && this.block.content === '' && this.editMode) {\n            if (this.block.scriptVersion == '100') {\n                this.block.content =\n                    '{\\n    init: function(canvasElement) {\\n\\n    },\\n    update: function(output, canvasElement) {\\n\\n    }\\n}'\n            } else {\n                this.block.content =\n                    '{\\n    init: function(canvasElement, outputElement, scope, runner) {\\n\\n    },\\n    addArgumentsTo(args) {},\\n    reset(canvasElement) {},\\n    update: function(txt, json, canvasElement, outputElement) {\\n\\n    }\\n}'\n            }\n        } else if (\n            ret.type == KnownBlockTypes.BLOCKLY &&\n            this.block.blockly.toolbox.categories.length === 0 &&\n            this.editMode\n        ) {\n            this.block.blockly.toolbox = blocklyLoader.defaultToolbox\n        }\n\n        this.$emit('type-change', ret)\n    }\n    get visibleLines(): number | 'auto' {\n        const v = this.block.visibleLines\n        if (v == 'auto' || isNaN(v)) {\n            return 'auto'\n        }\n        return v\n    }\n    set visibleLines(v: number | 'auto') {\n        if (v == 'auto' || isNaN(v)) {\n            v = 'auto'\n        }\n        console.log('set', v)\n\n        this.$emit('visible-lines-change', {\n            visibleLines: v,\n            id: this.block.id,\n        })\n    }\n\n    get width(): string {\n        return this.block.width\n    }\n    set width(v: string) {\n        this.$emit('placement-change', {\n            width: v,\n            height: this.block.height,\n            align: this.block.align,\n            id: this.block.id,\n        })\n    }\n    get height(): string {\n        return this.block.height\n    }\n    set height(v: string) {\n        this.$emit('placement-change', {\n            width: this.block.width,\n            height: v,\n            align: this.block.align,\n            id: this.block.id,\n        })\n    }\n    get align(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.alignments, this.block.align)\n    }\n    set align(v: IListItemData) {\n        this.$emit('placement-change', {\n            width: this.block.width,\n            height: this.block.height,\n            align: v.value,\n            id: this.block.id,\n        })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlockContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlockContainer.vue?vue&type=template&id=998d0d38&\"\nimport script from \"./CodeBlockContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlockContainer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlockContainer.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport {QCard,QCardSection,QSelect,QBtn,QPopupProxy,QInput,QToggle,QSlideTransition,QBanner,QItem,QItemSection,QIcon,QItemLabel} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QCard,QCardSection,QSelect,QBtn,QPopupProxy,QInput,QToggle,QSlideTransition,QBanner,QItem,QItemSection,QIcon,QItemLabel})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row q-pa-none q-mb-md\"},[_c('div',{staticClass:\"col-xs-12 col-sm-4\"},[_c('q-card',{staticClass:\"q-mb-sm q-mr-sm-xs\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Language')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.languageHasCompiler,\"label\":_vm.$t('CodeBlocksSettings.AllowExec')},model:{value:(_vm.runCode),callback:function ($$v) {_vm.runCode=$$v},expression:\"runCode\"}})],1),_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.canContinousCompile,\"label\":_vm.$t('CodeBlocksSettings.ContinousCompile')},model:{value:(_vm.continuousCompile),callback:function ($$v) {_vm.continuousCompile=$$v},expression:\"continuousCompile\"}})],1),_c('div',{class:(\"col-xs-12 col-sm-\" + (_vm.runCode ? 6 : 12) + \" col-md-\" + (_vm.runCode ? 8 : 12) + \" \" + (_vm.runCode ? 'q-pr-md-sm' : ''))},[_c('q-select',{attrs:{\"options\":_vm.compiledLanguages,\"label\":_vm.$t('CodeBlocksSettings.Language')},model:{value:(_vm.compilerLanguageObj),callback:function ($$v) {_vm.compilerLanguageObj=$$v},expression:\"compilerLanguageObj\"}})],1),(_vm.runCode)?_c('div',{staticClass:\"col-xs-12 col-sm-6 col-md-4\"},[_c('q-select',{attrs:{\"options\":_vm.compilerVersions,\"stack-label\":\"\",\"label\":_vm.$t('CodeBlocksSettings.CVersion')},scopedSlots:_vm._u([{key:\"selected\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.compilerVersion)+\" \"),(_vm.isDeprecated)?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"yellow\",\"text-color\":\"brown-10\",\"icon\":\"hourglass_disabled\"}}):_vm._e(),(_vm.isExperimental)?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"orange\",\"text-color\":\"white\",\"icon\":\"whatshot\"}}):_vm._e()]},proxy:true},{key:\"option\",fn:function(scope){return [_c('q-item',_vm._g(_vm._b({},'q-item',scope.itemProps,false),scope.itemEvents),[_c('q-item-section',[_c('q-item-label',[_vm._v(\" \"+_vm._s(scope.opt)+\" \"),(\n                                                    _vm.isDeprecatedVersion(\n                                                        _vm.compilerLanguage,\n                                                        scope.opt\n                                                    )\n                                                )?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"yellow\",\"text-color\":\"brown-10\",\"icon\":\"hourglass_disabled\"}}):_vm._e(),(\n                                                    _vm.isExperimentalVersion(\n                                                        _vm.compilerLanguage,\n                                                        scope.opt\n                                                    )\n                                                )?_c('q-avatar',{staticClass:\"q-ml-xs\",attrs:{\"rounded\":\"\",\"size\":\"xs\",\"color\":\"orange\",\"text-color\":\"white\",\"icon\":\"whatshot\"}}):_vm._e()],1)],1)],1)]}}],null,false,541447989),model:{value:(_vm.compilerVersion),callback:function ($$v) {_vm.compilerVersion=$$v},expression:\"compilerVersion\"}})],1):_vm._e(),_c('q-slide-transition',[(_vm.isExperimental)?_c('q-banner',{staticClass:\"bg-orange text-white col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"whatshot\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.ExperimentalCompiler'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.ExperimentalCompilerDesc'))+\" \")])],1)],1)],1):_vm._e()],1),_c('q-slide-transition',[(_vm.isDeprecated)?_c('q-banner',{staticClass:\"bg-yellow-12 text-black col-12 q-mt-xs\",attrs:{\"rounded\":\"\",\"dense\":\"\"}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{staticStyle:{\"font-size\":\"3em\"},attrs:{\"name\":\"hourglass_disabled\"}})],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"overline\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.DeprecatedCompiler'))+\" \")]),_c('q-item-label',[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.DeprecatedCompilerDesc'))+\" \")])],1)],1)],1):_vm._e()],1),(_vm.runCode)?_c('div',{staticClass:\"col-12\"},[_c('q-input',{attrs:{\"rules\":[_vm.validNumber],\"label\":_vm.$t('CodeBlocksSettings.RunTime'),\"maxlength\":\"6\"},model:{value:(_vm.maxRuntime),callback:function ($$v) {_vm.maxRuntime=$$v},expression:\"maxRuntime\"}})],1):_vm._e(),(_vm.runCode && (_vm.accepstArguments || _vm.allowsMessagePassing))?_c('div',{staticClass:\"col-12 text-body2\"},[_vm._v(\" \"+_vm._s(_vm.$t('CodeBlocksSettings.AllowArguments'))+\" \"),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showArgsInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.accepstArguments)?_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.canPersistentArguments,\"label\":_vm.$t('CodeBlocksSettings.PersistentArguments')},model:{value:(_vm.persistentArguments),callback:function ($$v) {_vm.persistentArguments=$$v},expression:\"persistentArguments\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showPersistentArgsInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.allowsMessagePassing)?_c('div',{staticClass:\"col-12\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.allowsMessagePassing,\"label\":_vm.$t('CodeBlocksSettings.MessagePassing')},model:{value:(_vm.messagePassing),callback:function ($$v) {_vm.messagePassing=$$v},expression:\"messagePassing\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showMessagesInfoDialog}})],1):_vm._e(),(_vm.runCode && _vm.allowsMessagePassing)?_c('div',{staticClass:\"col-12 q-pl-lg\"},[_c('q-toggle',{attrs:{\"disabled\":!_vm.allowsMessagePassing || !_vm.messagePassing,\"label\":_vm.$t('CodeBlocksSettings.KeepAlive')},model:{value:(_vm.keepAlive),callback:function ($$v) {_vm.keepAlive=$$v},expression:\"keepAlive\"}}),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"primary\",\"icon\":\"info\",\"size\":\"xs\"},on:{\"click\":_vm.showAliveInfoDialog}})],1):_vm._e()],1)])],1)],1),_c('div',{staticClass:\"col-xs-12 col-sm-4\"},[_c('q-slide-transition',[(_vm.runCode)?_c('q-card',{staticClass:\"q-mb-sm q-mr-sm-xs\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Output')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-md-6 col-12 q-pr-md-sm\"},[_c('q-input',{attrs:{\"rules\":[_vm.validNumber],\"label\":_vm.$t('CodeBlocksSettings.MaxCharacters'),\"maxlength\":\"6\"},model:{value:(_vm.maxCharacters),callback:function ($$v) {_vm.maxCharacters=$$v},expression:\"maxCharacters\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('q-select',{attrs:{\"options\":_vm.outputParsers,\"label\":_vm.$t('CodeBlocksSettings.Parser')},model:{value:(_vm.outputParser),callback:function ($$v) {_vm.outputParser=$$v},expression:\"outputParser\"}})],1)])])],1):_vm._e()],1),_c('q-card',{staticClass:\"q-mr-sm-xs\"},[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Themes')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 col-md-6 q-pr-md-sm\"},[_c('q-select',{attrs:{\"options\":_vm.themes,\"label\":_vm.$t('CodeBlocksSettings.TGeneral')},model:{value:(_vm.codeTheme),callback:function ($$v) {_vm.codeTheme=$$v},expression:\"codeTheme\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6\"},[_c('q-select',{attrs:{\"options\":_vm.themes,\"label\":_vm.$t('CodeBlocksSettings.TSolution')},model:{value:(_vm.solutionTheme),callback:function ($$v) {_vm.solutionTheme=$$v},expression:\"solutionTheme\"}})],1)])])],1)],1),_c('q-slide-transition',[(_vm.runCode)?_c('div',{staticClass:\"col-xs-12 col-sm-4\"},[_c('q-card',[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('CodeBlocksSettings.Libraries')))]),_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"row q-my-none q-py-none\",attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"col-xs-12 q-my-none q-py-none\"},[_c('q-select',{attrs:{\"options\":_vm.domLibraries,\"multiple\":\"\",\"use-chips\":\"\",\"stack-label\":\"\",\"deletable-chips\":\"\",\"label\":_vm.$t('CodeBlocksSettings.DomLibs')},model:{value:(_vm.domLibrary),callback:function ($$v) {_vm.domLibrary=$$v},expression:\"domLibrary\"}})],1),(_vm.runCode && _vm.workerLibraries.length > 0)?_c('div',{staticClass:\"col-xs-12 q-my-none q-py-none\"},[_c('q-select',{attrs:{\"options\":_vm.workerLibraries,\"multiple\":\"\",\"use-chips\":\"\",\"stack-label\":\"\",\"deletable-chips\":\"\",\"label\":_vm.$t('CodeBlocksSettings.WorkLibs')},model:{value:(_vm.workerLibrary),callback:function ($$v) {_vm.workerLibrary=$$v},expression:\"workerLibrary\"}})],1):_vm._e()])])],1)],1):_vm._e()]),_c('div',{class:(\"col-xs-\" + (_vm.options.randomizer.active ? '12' : '12') + \" q-mt-sm\")},[_c('RandomizerSettings',{attrs:{\"options\":_vm.options}})],1),_c('div',{staticClass:\"col-xs-12\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.serializedOptions),expression:\"serializedOptions\"}],staticClass:\"blocksettings\",attrs:{\"name\":(\"block_settings[\" + (this.options.id) + \"]\")},domProps:{\"value\":(_vm.serializedOptions)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.serializedOptions=$event.target.value}}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('q-card',[_c('q-card-section',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('RandomizerSettings.Caption'))+\" \"),_c('q-toggle',{model:{value:(_vm.options.randomizer.active),callback:function ($$v) {_vm.$set(_vm.options.randomizer, \"active\", $$v)},expression:\"options.randomizer.active\"}})],1),_c('q-slide-transition',[_c('q-card-section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.randomizer.active),expression:\"options.randomizer.active\"}],staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"tagList\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$t('RandomizerSettings.Available'))+\" \"),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"color\":\"primary\",\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"add\"},on:{\"click\":_vm.addTag}})],1),_c('div',{staticClass:\"row q-mb-sm\"},_vm._l((_vm.options.randomizer.knownTags),function(tag,i){return _c('div',{key:tag,class:(\"tagItem q-ml-sm \" + _vm.tagClass)},[_c('div',{staticClass:\"row no-wrap\"},[_c('div',{staticClass:\"tagInfo col-shrink\"},[_c('div',{staticClass:\"tagName\"},[_vm._v(_vm._s(tag))]),_c('div',{staticClass:\"tagString\"},[_vm._v(\"{:\"+_vm._s(tag)+\"}\")])]),_c('div',{staticClass:\"tagAction col-4 q-pl-sm text-right\"},[_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"delete\"},on:{\"click\":function($event){return _vm.removeTag(i)}}})],1)])])}),0)]),_c('div',{staticClass:\"tagList q-mt-lg\"},[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" \"+_vm._s(_vm.$t('RandomizerSettings.Sets'))+\" \"),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"color\":\"primary\",\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"add\"},on:{\"click\":_vm.addSet}})],1),_c('q-list',{staticClass:\"setList\"},_vm._l((_vm.options.randomizer.sets),function(s,i){return _c('q-item',{key:s.uuid},[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-avatar',{attrs:{\"color\":\"primary\",\"text-color\":\"white\",\"disabled\":!_vm.isVisible(i)}},[_vm._v(\" \"+_vm._s(i)+\" \")])],1),_c('q-item-section',[_c('q-item-label',[_vm._v(_vm._s(s.title))]),_c('q-item-label',{attrs:{\"caption\":\"\",\"lines\":\"2\"}},[_c('div',{staticClass:\"row q-mb-sm\"},_vm._l((s.values),function(tag){return _c('div',{key:tag.name,class:(\"tagItem q-ml-sm \" + _vm.tagClass)},[_c('div',{staticClass:\"row no-wrap\"},[_c('div',{staticClass:\"tagInfo col-shrink\"},[_c('div',{staticClass:\"tagName\"},[_vm._v(_vm._s(tag.tag))]),_c('div',{staticClass:\"tagString\"},[_vm._v(_vm._s(tag.value))])])])])}),0)])],1),_c('q-item-section',{attrs:{\"side\":\"\",\"top\":\"\"}},[_c('div',{staticClass:\"text-grey-8 q-gutter-xs\"},[_c('q-icon',{staticClass:\"q-mr-lg\",attrs:{\"name\":_vm.isCompleteSet(s) ? 'check' : 'warning',\"color\":_vm.isCompleteSet(s) ? 'positive' : 'negative',\"size\":\"24px\"}}),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":_vm.isVisible(i) ? 'visibility' : 'visibility_off'},on:{\"click\":function($event){return _vm.setVisible(i)}}},[_c('q-tooltip',{attrs:{\"delay\":200,\"offset\":[0, 10]}},[_vm._v(\" Use this set when running code in preview or editMode. \")])],1),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"edit\"}},[_c('RandomizerSetEditor',{attrs:{\"options\":_vm.options,\"tagSet\":_vm.getFullSet(s),\"nr\":i}})],1),_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"flat\":\"\",\"dense\":\"\",\"round\":\"\",\"icon\":\"delete\"},on:{\"click\":function($event){return _vm.removeSet(i)}}})],1)])],1)}),1)],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-popup-proxy',{attrs:{\"transition-show\":\"flip-up\",\"transition-hide\":\"flip-down\"},on:{\"before-show\":_vm.onShow}},[_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"row no-wrap q-pa-none\"},[_c('div',{staticClass:\"text-overline\"},[_vm._v(_vm._s(_vm.$t('RandomizerSetEditor.Caption', { nr: _vm.nr })))])]),_vm._l((_vm.tagSet.values),function(tag){return _c('div',{key:tag.tag,staticClass:\"q-pl-md\"},[_c('q-input',{attrs:{\"label\":tag.tag},model:{value:(tag.value),callback:function ($$v) {_vm.$set(tag, \"value\", $$v)},expression:\"tag.value\"}})],1)})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\n\n@Component\nexport default class RandomizerSetEditor extends Vue {\n    @Prop({ required: true }) options!: any\n    @Prop({ required: true }) tagSet!: IRandomizerSet\n    @Prop({ required: true }) nr!: number\n\n    get tags(): string[] {\n        return this.tagSet.values.map(v => v.tag)\n    }\n\n    onShow(o) {\n        this.tagSet.values = this.tagSet.values.filter(\n            v => this.options.randomizer.knownTags.indexOf(v.tag) >= 0\n        )\n        this.options.randomizer.knownTags.forEach(t => {\n            if (this.tagSet.values.find(v => v.tag == t) === undefined) {\n                this.tagSet.values.push({\n                    tag: t,\n                    value: ''\n                })\n            }\n        })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RandomizerSetEditor.vue?vue&type=template&id=e5082460&\"\nimport script from \"./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./RandomizerSetEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport {QPopupProxy,QInput} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QPopupProxy,QInput})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport RandomizerSetEditor from '@/components/RandomizerSetEditor.vue'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { ICodeBlockSettingsOptions } from '@/components/CodeBlocksSettings.vue'\n\n@Component({ components: { RandomizerSetEditor } })\nexport default class RandomizerSettings extends Vue {\n    _newTagName: string = ''\n\n    @Prop({ required: true }) options!: ICodeBlockSettingsOptions\n\n    get tagClass(): string {\n        return Vue.$tagger.className.rnd + ' tag-mark-start tag-mark-end tag-mark-shadow'\n    }\n\n    isVisible(nr: number): boolean {\n        return nr == this.options.randomizer.previewIndex\n    }\n    setVisible(nr: number): void {\n        this.options.randomizer.previewIndex = nr\n    }\n    isValidTag(tag: string): boolean {\n        return this.options.randomizer.knownTags.find(t => t == tag) !== undefined\n    }\n    isCompleteSet(s: IRandomizerSet): boolean {\n        if (s.values.filter(v => this.options.randomizer.knownTags.indexOf(v.tag) < 0).length > 0) {\n            return false\n        }\n        if (\n            this.options.randomizer.knownTags.filter(\n                t => s.values.find(v => v.tag == t) === undefined\n            ).length > 0\n        ) {\n            return false\n        }\n        return true\n    }\n    getFullSet(s: IRandomizerSet): IRandomizerSet {\n        return s\n    }\n    removeSet(nr: number): void {\n        this.options.randomizer.sets.splice(nr, 1)\n    }\n    addSet(): void {\n        this.options.randomizer.sets.push({ uuid: this.$uuid.v4(), values: [] })\n    }\n    removeTag(nr: number): void {\n        this.options.randomizer.knownTags.splice(nr, 1)\n    }\n    addTag(): void {\n        this.$q\n            .dialog({\n                title: 'Create Tag',\n                message: 'This will generate a new randomizer-Tag with the below name.',\n                html: true,\n                persistent: true,\n                prompt: {\n                    model: 'tag_name',\n                    type: 'text'\n                },\n                ok: {\n                    push: true\n                },\n                cancel: {\n                    flat: true,\n                    color: 'gray'\n                }\n            })\n            .onOk(data => {\n                data = data.replace(/\\W/g, '_')\n                //have this name\n                if (this.options.randomizer.knownTags.filter(t => t == data).length > 0) {\n                    let ct = 1\n                    const odata = data\n                    do {\n                        data = odata + '_' + ct\n                        ct++\n                    } while (this.options.randomizer.knownTags.filter(t => t == data).length > 0)\n                }\n                this.options.randomizer.knownTags.push(data)\n            })\n            .onCancel(() => {})\n            .onDismiss(() => {\n                //self.highlighted = false;\n            })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomizerSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RandomizerSettings.vue?vue&type=template&id=8b99c0d6&scoped=true&\"\nimport script from \"./RandomizerSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./RandomizerSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RandomizerSettings.vue?vue&type=style&index=0&id=8b99c0d6&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b99c0d6\",\n  null\n  \n)\n\nexport default component.exports\nimport {QCard,QCardSection,QToggle,QSlideTransition,QBtn,QList,QItem,QItemSection,QAvatar,QItemLabel,QIcon,QTooltip} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QCard,QCardSection,QToggle,QSlideTransition,QBtn,QList,QItem,QItemSection,QAvatar,QItemLabel,QIcon,QTooltip})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport RandomizerSettings from '@/components/RandomizerSettings.vue'\nimport { IListItemData, ICompilerID } from '@/lib/ICompilerRegistry'\nimport { CodeOutputTypes, IRandomizerSettings } from '@/lib/ICodeBlocks'\n\nexport interface ICodeBlockSettingsOptions {\n    language: string\n    compiler: ICompilerID\n    executionTimeout: number\n    maxCharacters: number\n    runCode: boolean\n    domLibs: string[]\n    workerLibs: string[]\n    id: number\n    codeTheme: string\n    solutionTheme: string\n    outputParser: CodeOutputTypes\n    randomizer: IRandomizerSettings\n    continuousCompilation: boolean\n    persistentArguments: boolean\n    messagePassing: boolean\n    keepAlive: boolean\n}\n\n@Component({ components: { RandomizerSettings } })\nexport default class CodeBlocksSettings extends Vue {\n    get themes(): IListItemData[] {\n        return [\n            { label: 'Solarized', value: 'solarized light' },\n            { label: 'Solarized (dark)', value: 'solarized dark' },\n            { label: 'Base16 (dark)', value: 'base16-dark' },\n            { label: 'Base16 (light)', value: 'base16-light' },\n            { label: 'Duotone (dark)', value: 'duotone-dark' },\n            { label: 'Duotone (light)', value: 'duotone-light' },\n            { label: 'XQ (dark)', value: 'xq-dark' },\n            { label: 'XQ (light)', value: 'xq-light' },\n            { label: 'Blackboard', value: 'blackboard' },\n            { label: 'neo', value: 'neo' },\n            { label: 'mbo', value: 'mbo' },\n            { label: 'mdn like', value: 'mdn-like' },\n        ]\n    }\n\n    get outputParsers(): IListItemData[] {\n        return [\n            { label: this.$l('CodeBlocksSettings.PAutomatic'), value: CodeOutputTypes.AUTO },\n            { label: this.$l('CodeBlocksSettings.PText'), value: CodeOutputTypes.TEXT },\n            { label: this.$l('CodeBlocksSettings.PJSON'), value: CodeOutputTypes.JSON },\n            { label: this.$l('CodeBlocksSettings.PMagic'), value: CodeOutputTypes.MAGIC },\n        ]\n    }\n    @Prop({ required: true }) options!: ICodeBlockSettingsOptions\n\n    validNumber(v: any): boolean | string {\n        if (isNaN(v)) {\n            return 'Must be a valid Number.'\n        }\n        return true\n    }\n\n    get serializedOptions(): string {\n        const o: any = {\n            ...this.options,\n        }\n        o.randomizer = {\n            ...this.options.randomizer,\n        }\n        o.randomizer.sets = this.options.randomizer.sets.map((s) => {\n            let values = {}\n            s.values.forEach((v) => (values[v.tag] = v.value))\n            return values\n        })\n        return JSON.stringify(o)\n    }\n    set serializedOptions(v: string) {}\n\n    get domLibraries(): IListItemData[] {\n        return this.$compilerRegistry.domLibraries\n    }\n    get compiledLanguages(): IListItemData[] {\n        if (this.options.runCode === false) {\n            return this.languages\n        }\n        return this.$compilerRegistry.languages\n    }\n    get workerLibraries(): IListItemData[] {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: this.compilerLanguage,\n            version: this.compilerVersion,\n        })\n        if (c === undefined || c.libraries === undefined) {\n            return []\n        }\n        return c.libraries.map((l) => {\n            return { label: l.displayName, value: l.key }\n        })\n    }\n    get languages(): IListItemData[] {\n        return this.$CodeBlock.knownLanguages()\n    }\n    get compilerVersions(): string[] {\n        return this.$compilerRegistry.versionsForLanguage(this.compilerLanguage)\n    }\n\n    isExperimentalVersion(language: string, version: string): boolean {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: language,\n            version: version,\n        })\n        if (c === undefined) {\n            return false\n        }\n        return c.experimental\n    }\n\n    isDeprecatedVersion(language: string, version: string): boolean {\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: language,\n            version: version,\n        })\n        if (c === undefined) {\n            return false\n        }\n        return c.deprecated\n    }\n\n    get isExperimental(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.experimental\n        }\n        return false\n    }\n\n    get isDeprecated(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.deprecated\n        }\n        return false\n    }\n\n    get languageHasCompiler(): boolean {\n        if (this.runCode) {\n            return true\n        }\n        const c = this.$compilerRegistry.getCompiler({ languageType: this.compilerLanguage })\n        return c !== undefined\n    }\n    get compilerLanguage(): string {\n        if (this.options.runCode === false) {\n            return this.options.language\n        }\n        return this.options.compiler.languageType\n    }\n    get compilerLanguageObj(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.compiledLanguages, this.compilerLanguage)\n    }\n    set compilerLanguageObj(v: IListItemData) {\n        if (this.options.runCode === false) {\n            this.$emit('language-change', v.value)\n        }\n        this.$emit('compiler-change', v.value)\n    }\n\n    get compilerVersion(): string {\n        return this.options.compiler.version\n    }\n    set compilerVersion(v: string) {\n        this.$emit('compiler-version-change', v)\n    }\n\n    get runCode(): boolean {\n        return this.options.runCode\n    }\n    set runCode(v: boolean) {\n        this.$emit('run-state-change', v)\n    }\n\n    get maxRuntime(): number {\n        return this.options.executionTimeout\n    }\n    set maxRuntime(v: number) {\n        this.$emit('timeout-change', v)\n    }\n\n    get maxCharacters(): number {\n        return this.options.maxCharacters\n    }\n    set maxCharacters(v: number) {\n        this.$emit('character-limit-change', v)\n    }\n\n    get domLibrary(): IListItemData[] {\n        return this.options.domLibs\n            .map((d) => this.domLibraries.find((k) => k.value == d))\n            .filter((v) => v !== undefined) as IListItemData[]\n    }\n    set domLibrary(v: IListItemData[]) {\n        this.$emit(\n            'dom-libs-change',\n            v.map((vv) => vv.value)\n        )\n    }\n\n    get workerLibrary(): IListItemData[] {\n        return this.options.workerLibs\n            .map((d) => this.workerLibraries.find((k) => k.value == d))\n            .filter((v) => v !== undefined) as IListItemData[]\n    }\n    set workerLibrary(v: IListItemData[]) {\n        this.$emit(\n            'worker-libs-change',\n            v.map((vv) => vv.value)\n        )\n    }\n\n    get solutionTheme(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.themes, this.options.solutionTheme)\n    }\n    set solutionTheme(v: IListItemData) {\n        this.$emit('theme-change', {\n            solution: v.value,\n            code: this.options.codeTheme,\n        })\n    }\n\n    get codeTheme(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.themes, this.options.codeTheme)\n    }\n    set codeTheme(v: IListItemData) {\n        this.$emit('theme-change', {\n            solution: this.options.solutionTheme,\n            code: v.value,\n        })\n    }\n\n    get outputParser(): IListItemData {\n        return Vue.$CodeBlock.itemForValue(this.outputParsers, this.options.outputParser)\n    }\n    set outputParser(v: IListItemData) {\n        this.$emit('output-parser-change', v.value)\n    }\n\n    get continuousCompile(): boolean {\n        return this.options.continuousCompilation\n    }\n    set continuousCompile(v: boolean) {\n        this.$emit('continuous-compile-change', v)\n    }\n    get compiler(): ICompilerID {\n        return this.options.compiler\n    }\n    get canContinousCompile(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        console.d(\n            'Continuous Compile - ',\n            'can',\n            cmp,\n            cmp ? cmp.allowsContinousCompilation : false,\n            cmp ? cmp.canRun : false\n        )\n        if (cmp) {\n            console.d('Continuous Compile - ', 'can', cmp.allowsContinousCompilation && cmp.canRun)\n            return cmp.allowsContinousCompilation && cmp.canRun\n        }\n        return false\n    }\n\n    get allowsMessagePassing(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            console.d('Message Passing - ', 'can', cmp.allowsContinousCompilation && cmp.canRun)\n            return cmp.allowsMessagePassing && cmp.canRun\n        }\n        return false\n    }\n\n    get messagePassing(): boolean {\n        return this.options.messagePassing\n    }\n    set messagePassing(v: boolean) {\n        this.$emit('message-passing-change', v)\n    }\n\n    get keepAlive(): boolean {\n        return this.options.keepAlive\n    }\n    set keepAlive(v: boolean) {\n        this.$emit('keep-alive-change', v)\n    }\n\n    get persistentArguments(): boolean {\n        return this.options.persistentArguments\n    }\n    set persistentArguments(v: boolean) {\n        this.$emit('persistent-arguments-change', v)\n    }\n    get canPersistentArguments(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            console.d(\n                'Persistent Arguments - ',\n                'can',\n                cmp.acceptsJSONArgument && cmp.allowsPersistentArguments && cmp.canRun\n            )\n            return cmp.acceptsJSONArgument && cmp.allowsPersistentArguments && cmp.canRun\n        }\n        return false\n    }\n\n    get accepstArguments(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.acceptsJSONArgument\n        }\n        return false\n    }\n    showArgsInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.AllowArgumentsCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.AllowArgumentsHintJava'\n                : 'CodeBlocksSettings.AllowArgumentsHint'\n        )\n    }\n    showPersistentArgsInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.UsePersistentArgumentsCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.UsePersistentArgumentsHintJava'\n                : 'CodeBlocksSettings.UsePersistentArgumentsHint'\n        )\n    }\n    showMessagesInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.AllowMessagePassingCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.AllowMessagePassingHintJava'\n                : 'CodeBlocksSettings.AllowMessagePassingHint'\n        )\n    }\n    showAliveInfoDialog(): void {\n        this.showInfoDialog(\n            'CodeBlocksSettings.KeepAliveCaption',\n            this.compiler.languageType == 'java'\n                ? 'CodeBlocksSettings.KeepAliveHintJava'\n                : 'CodeBlocksSettings.KeepAliveHint'\n        )\n    }\n\n    showInfoDialog(title, message): void {\n        this.$q\n            .dialog({\n                title: this.$l(title),\n                message: this.$l(message),\n                html: true,\n                style: 'width:75%',\n            })\n            .onOk(() => {\n                // console.log('OK')\n            })\n            .onCancel(() => {\n                // console.log('Cancel')\n            })\n            .onDismiss(() => {\n                // console.log('I am triggered on both OK and Cancel')\n            })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlocksSettings.vue?vue&type=template&id=75cfd4ae&scoped=true&\"\nimport script from \"./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocksSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlocksSettings.vue?vue&type=style&index=0&id=75cfd4ae&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75cfd4ae\",\n  null\n  \n)\n\nexport default component.exports\nimport {QCard,QCardSection,QToggle,QSelect,QAvatar,QItem,QItemSection,QItemLabel,QSlideTransition,QBanner,QIcon,QInput,QBtn} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QCard,QCardSection,QToggle,QSelect,QAvatar,QItem,QItemSection,QItemLabel,QSlideTransition,QBanner,QIcon,QInput,QBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editMode),expression:\"editMode\"}],staticClass:\"blocksEditorPanelContainer\",style:((\"width:\" + _vm.width + \"px\"))},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.block !== null),expression:\"block !== null\"}],staticClass:\"blocksEditorPanelLeft\"},[_c('q-btn',{staticClass:\"expander\",attrs:{\"icon\":_vm.expanded ? 'chevron_right' : 'chevron_left',\"size\":\"sm\",\"unelevated\":\"\",\"align\":\"center\",\"color\":\"blue-grey-4\"},on:{\"click\":_vm.onExpandClick}}),_c('CodeBlock',{attrs:{\"block\":_vm.saveBlock,\"theme\":_vm.themeForBlock(_vm.block),\"mode\":\"\",\"visibleLines\":_vm.visibleLinesNow,\"editMode\":true,\"muteReadyState\":true,\"isBookmarkPanel\":true,\"namePrefix\":\"panel_\"},on:{\"code-changed-in-edit-mode\":_vm.onCodeChange}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport { BlockData } from '../lib/codeBlocksManager'\nimport {\n    IBlockData,\n    KnownBlockTypes,\n    ICodeBlockDataState,\n    CodeExpansionType\n} from '../lib/ICodeBlocks'\n\ninterface IBlockDataExtended extends IBlockData {\n    firstLine: number\n    actualContent: string\n    actualAltContent: string\n}\n@Component({ components: { CodeBlock } })\nexport default class CodePanel extends Vue {\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: number | 'auto'\n    @Prop({ required: true }) block!: BlockData | null\n    @Prop({ default: 400 }) panelWidth!: number\n\n    get saveBlock(): IBlockData {\n        if (\n            this.block !== null &&\n            this.block !== undefined &&\n            this.block.content !== null &&\n            this.block.content !== undefined\n        ) {\n            return this.block\n        }\n        const ret: IBlockDataExtended = {\n            hasCode: false,\n            type: KnownBlockTypes.BLOCKSTATIC,\n            content: '',\n            alternativeContent: '',\n            noContent: true,\n            id: -1,\n            uuid: '',\n            parentID: -2,\n            expanded: true,\n            codeExpanded: CodeExpansionType.AUTO,\n            obj: null,\n            version: '',\n            readyCount: 0,\n            errors: [],\n            visibleLines: 'auto',\n            hasAlternativeContent: false,\n            shouldAutoreset: false,\n            firstLine: 1,\n            actualContent: '',\n            actualAltContent: '',\n            width: '100%',\n            height: '200px',\n            align: 'center',\n            readonly: true,\n            static: true,\n            hidden: false,\n            themeForCodeBlock: '',\n            lineCountHint: -0,\n            getThemeForBlock: (bl: ICodeBlockDataState) => {\n                return ''\n            },\n            blockly: {\n                _blockErrors: [],\n                useOverride: false,\n                toolbox: {\n                    categories: []\n                },\n                showControls: false,\n                toolboxOverride: '',\n                blocks: []\n            }\n        }\n        return ret\n    }\n\n    get visibleLinesNow() {\n        if (this.visibleLines === 'auto') {\n            return 'auto'\n        }\n        if (this.visibleLines <= 2) {\n            return 2\n        }\n        return this.visibleLines\n    }\n    onCodeChange() {}\n\n    get width() {\n        if (this.expanded) {\n            return 2 * this.panelWidth\n        }\n        return this.panelWidth\n    }\n\n    expanded: boolean = false\n    onExpandClick() {\n        this.expanded = !this.expanded\n    }\n\n    themeForBlock(bl: BlockData | null): string {\n        if (bl === null || bl === undefined) {\n            return ''\n        }\n        return bl.themeForCodeBlock\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodePanel.vue?vue&type=template&id=b56b8b2a&scoped=true&\"\nimport script from \"./CodePanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodePanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodePanel.vue?vue&type=style&index=0&id=b56b8b2a&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b56b8b2a\",\n  null\n  \n)\n\nexport default component.exports\nimport {QBtn} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('PlaygroundCanvas',{key:_vm.runCount,ref:\"playgroundContainer\",attrs:{\"output\":_vm.finalOutputObject.initialOutput,\"obj\":_vm.block.obj,\"block\":_vm.block,\"eventHub\":_vm.eventHub,\"tagSet\":_vm.tagSet,\"data-question\":_vm.block.parentID,\"runner\":_vm.emitRun},on:{\"canvas-change\":_vm.onCanvasChange,\"did-init\":_vm.onDidInit}}),_c('div',{staticClass:\"row justify-end\"},[(_vm.editMode)?_c('q-btn-group',{staticClass:\"q-mb-sm\",attrs:{\"rounded\":\"\"}},[_c('q-btn',{attrs:{\"color\":_vm.isExpandedAuto ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Auto\",\"icon\":\"video_label\"},on:{\"click\":_vm.setExpandedAuto}}),_c('q-btn',{attrs:{\"color\":_vm.isExpandedLarge ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Large\",\"icon\":\"call_to_action\"},on:{\"click\":_vm.setExpandedLarge}}),_c('q-btn',{attrs:{\"color\":_vm.isExpandedTiny ? 'primary' : 'blue-grey-4',\"small\":\"\",\"label\":\"Small\",\"icon\":\"visibility_off\"},on:{\"click\":_vm.setExpandedTiny}})],1):_vm._e()],1),_c('q-slide-transition',[(_vm.editMode)?_c('CodeBlock',{attrs:{\"block\":_vm.block,\"theme\":_vm.options.theme,\"mode\":_vm.options.mode,\"visibleLines\":_vm.visibleLinesNow,\"editMode\":this.editMode,\"muteReadyState\":true},on:{\"code-changed-in-edit-mode\":_vm.onCodeChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row ma-0 pa-0 block-playground\",attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id}},[_c('div',{class:(\"col-12 text-\" + (_vm.block.align))},[_c('div',{ref:\"innerPlaygroundContainer\",staticClass:\"playground\",style:((\"width:\" + (_vm.block.width) + \";height:\" + (_vm.block.height))),attrs:{\"data-question\":_vm.block.parentID,\"data-nr\":_vm.block.id}},[_vm._v(\" \"+_vm._s(_vm.output)+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { IRandomizerSet } from '@/lib/ICodeBlocks'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { IScriptBlock } from '@/lib/IScriptBlock'\n\n@Component\nexport default class PlaygroundCanvas extends Vue {\n    @Prop() output: string = ''\n    @Prop({ required: true }) obj!: IScriptBlock\n    @Prop({ required: true }) block!: BlockData\n    @Prop({ required: true }) eventHub!: Vue\n    @Prop({ default: () => {} }) runner!: () => void\n    @Prop() tagSet?: IRandomizerSet\n\n    get canvas(): HTMLElement {\n        return this.$refs.innerPlaygroundContainer as HTMLElement\n    }\n\n    whenMounted(): void {\n        if (this.obj) {\n            console.d('Will Init', this.canvas, $(this.canvas).css('background-color'))\n\n            this.$compilerRegistry.loadLibraries(this.block.domLibs, () => {\n                this.$nextTick(() => {\n                    this.$nextTick(() => {\n                        this.obj.rebuild() //we need to rebuild the script to make sure its context is the current state of the DOM\n\n                        this.obj.init($(this.canvas), $(this.block.scopeSelector), this.runner)\n                        this.$emit('did-init', this.canvas)\n                    })\n                })\n            })\n        }\n    }\n\n    mounted() {\n        if (this.eventHub) {\n            this.eventHub.$on('all-mounted', this.whenMounted)\n        } else {\n            this.whenMounted()\n        }\n\n        this.$emit('canvas-change', this.canvas)\n    }\n    beforeDestroy() {\n        if (this.eventHub) {\n            this.eventHub.$off('all-mounted')\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PlaygroundCanvas.vue?vue&type=template&id=29a639c7&scoped=true&\"\nimport script from \"./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./PlaygroundCanvas.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PlaygroundCanvas.vue?vue&type=style&index=0&id=29a639c7&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29a639c7\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport codemirror from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\n\n//helper to reset the canvas area if needed\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport PlaygroundCanvas from '@/components/PlaygroundCanvas.vue'\nimport BaseBlock from '@/components/BaseBlock.vue'\nconst PlaygroundCanvasCtor = Vue.extend(PlaygroundCanvas)\n\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport { BlockData } from '@/lib/codeBlocksManager'\nimport { IRandomizerSet, CodeExpansionType } from '@/lib/ICodeBlocks'\nimport { IScriptOutputObject } from '@/lib/IScriptBlock'\n\nexport interface ICodePlaygroundOptions {\n    mode: string\n    theme: string\n    lineNumbers: boolean\n    line: boolean\n    tabSize: number\n    indentUnit: number\n    autoCloseBrackets: boolean\n    readOnly: boolean\n    firstLineNumber: number\n    gutters: string[]\n}\n\n@Component({\n    components: { PlaygroundCanvas, CodeBlock },\n})\nexport default class CodePlayground extends BaseBlock {\n    @Prop({ required: true }) finalOutputObject!: IScriptOutputObject\n    @Prop({\n        required: true,\n        validator: function (b) {\n            if (!b.obj) {\n                return false\n            }\n            return true\n        },\n    })\n    block!: BlockData\n\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'auto' }) visibleLines!: 'auto' | string\n    @Prop({ default: 'base16-dark' }) theme!: string\n    @Prop({ required: true }) eventHub!: Vue\n    @Prop() tagSet?: IRandomizerSet\n\n    get originalMode(): boolean {\n        if (this.block.obj === null) {\n            return false\n        }\n        return this.block.obj.requestsOriginalVersion()\n    }\n\n    get options(): ICodePlaygroundOptions {\n        return {\n            // codemirror options\n            mode: this.$CodeBlock.mimeType('javascript'),\n            theme: this.theme,\n            lineNumbers: true,\n            line: true,\n            tabSize: 4,\n            indentUnit: 4,\n            autoCloseBrackets: true,\n            readOnly: !this.editMode,\n            firstLineNumber: 1,\n            gutters: ['diagnostics', 'CodeMirror-linenumbers'],\n        }\n    }\n    get visibleLinesNow(): 'auto' | string {\n        if (this.block.codeExpanded == CodeExpansionType.TINY) {\n            return '2.4'\n        } else if (this.block.codeExpanded == CodeExpansionType.LARGE) {\n            return '33.4'\n        }\n        return 'auto'\n    }\n    created() {\n        this.eventHub.$on('before-run', this.resetBeforeRun)\n        this.eventHub.$on('render-diagnostics', this.updateErrors)\n    }\n    mounted() {\n        const hasErrors = this.block && this.block.obj && this.block.obj.err.length > 0\n        if (hasErrors) {\n            this.updateErrors()\n        }\n        this.eventHub.$on('output-updated', this.onFinalOutputObject)\n    }\n    beforeDestroy() {\n        this.eventHub.$off('before-run', this.resetBeforeRun)\n        this.eventHub.$off('render-diagnostics', this.updateErrors)\n        this.eventHub.$off('output-updated', this.onFinalOutputObject)\n    }\n    isPreparingRun: boolean = false\n    lastRun: Date = new Date()\n    runCount: number = 0\n    canvas: HTMLElement | undefined = undefined\n    needsCodeRebuild: boolean = false\n    initAndRebuildErrors: any[] = []\n\n    get isExpandedLarge(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.LARGE\n    }\n    get isExpandedTiny(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.TINY\n    }\n    get isExpandedAuto(): boolean {\n        return this.block.codeExpanded == CodeExpansionType.AUTO\n    }\n    setExpandedLarge(): void {\n        this.setExpanded(CodeExpansionType.LARGE)\n    }\n    setExpandedTiny(): void {\n        this.setExpanded(CodeExpansionType.TINY)\n    }\n    setExpandedAuto(): void {\n        this.setExpanded(CodeExpansionType.AUTO)\n    }\n    setExpanded(val: CodeExpansionType): void {\n        this.block.codeExpanded = val\n\n        if (this.block.codeExpanded != CodeExpansionType.TINY) {\n            this.$CodeBlock.refreshAllCodeMirrors()\n        }\n    }\n    updateErrors(): boolean {\n        this.block.errors = []\n        if (this.block.obj === null) {\n            return false\n        }\n\n        this.block.obj.err = this.block.obj.err.concat(this.initAndRebuildErrors)\n        this.block.obj.err.forEach((e) => {\n            let err = {\n                start: { line: e.line, column: e.column },\n                end: { line: e.line, column: e.column + 1 },\n                message: e.msg,\n                severity: Vue.$SEVERITY_ERROR,\n            }\n            if (e.line === undefined) {\n                err.start = { line: 1, column: -1 }\n                err.end = { line: 1, column: -1 }\n            } else if (e.column === undefined) {\n                err.start = { line: e.line, column: -1 }\n                err.end = { line: e.line, column: -1 }\n            }\n            this.block.errors.push(err)\n        })\n\n        if (this.block.obj.err.length > 0 && this.editMode) {\n            this.needsCodeRebuild = true\n            return true\n        } else {\n            return false\n        }\n    }\n    resetBeforeRun(): void {\n        const rebuildCode = this.editMode && (this.needsCodeRebuild || this.tagSet !== undefined)\n        let reInitCode = rebuildCode\n        let onNextTick = false\n        if (this.block && this.block.obj) {\n            if (this.block.shouldAutoreset || rebuildCode) {\n                if (this.canvas !== undefined) {\n                    console.log(\n                        'Will Re-Initialize',\n                        this.canvas,\n                        $(this.canvas).css('background-color')\n                    )\n                } else {\n                    console.log('Will Re-Initialize', 'Without Canvas')\n                }\n                this.lastRun = new Date()\n                this.runCount++\n                reInitCode = true\n                onNextTick = true\n            } else {\n                const self = this\n                this.$nextTick(() => {\n                    //console.log(\"Will Reset\", this.canvas, $(this.canvas).css('background-color'));\n                    if (self.block.obj !== null && self.canvas !== undefined) {\n                        self.block.obj.reset($(self.canvas))\n                    }\n                    self.updateErrors()\n                })\n            }\n        }\n\n        if (rebuildCode) {\n            this.initAndRebuildErrors = []\n\n            if (this.block.obj != null) {\n                this.block.obj.rebuild(this.block.actualContent())\n                if (this.updateErrors()) {\n                    this.initAndRebuildErrors = this.block.obj.err\n                    this.block.obj.invalidate()\n                    return\n                }\n            }\n\n            reInitCode = true\n        }\n\n        if (reInitCode) {\n            this.initAndRebuildErrors = []\n            let doInit = () => {\n                if (this.block.obj !== null && this.canvas !== undefined) {\n                    this.block.obj.init(\n                        $(this.canvas) as JQuery<HTMLElement>,\n                        $(this.block.scopeSelector) as JQuery<HTMLElement>,\n                        this.emitRun\n                    )\n                    if (this.updateErrors()) {\n                        this.initAndRebuildErrors = this.block.obj.err\n                        this.block.obj.invalidate()\n                        return false\n                    }\n                    return true\n                } else {\n                    return false\n                }\n            }\n            if (onNextTick) {\n                this.$nextTick(doInit)\n            } else {\n                if (!doInit()) {\n                    return\n                }\n            }\n        }\n    }\n    emitRun() {\n        this.$emit('run', this.block)\n    }\n    onCanvasChange(can) {\n        this.canvas = can\n        if (this.editMode) {\n            this.updateErrors()\n        }\n        //console.log(\"Changed Canvas\", can, $(can).css('background-color'));\n    }\n    onCodeChange(newCode: string): void {\n        if (this.editMode) {\n            this.needsCodeRebuild = true\n        }\n    }\n    onDidInit(): void {\n        this.updateErrors()\n    }\n\n    //we emit an event to the global event hub\n    //@Watch('finalOutputObject')\n    onFinalOutputObject(val) {\n        const initialOutput = val.output\n\n        console.d('onFinalOutputObject', val, this.block.obj)\n        if (this.block.obj !== null) {\n            this.block.obj.err = []\n            try {\n                if (val.parseError != null) {\n                    if (\n                        !this.block.obj.onParseError(initialOutput, val.parseError) &&\n                        this.editMode\n                    ) {\n                        let jStr = initialOutput\n                        if (val.parseError.parsedString !== undefined) {\n                            jStr = val.parseError.parsedString\n                        }\n                        jStr = jStr.replace(/</g, '&lt;')\n\n                        this.$q\n                            .dialog({\n                                title: this.$l('CodePlayground.InvalidJson'),\n                                message:\n                                    '<span class=\"text-caption jsonErrTitle\">' +\n                                    this.$t('CodePlayground.Output') +\n                                    '</span><div class=\"jsonErrObj\">' +\n                                    jStr +\n                                    '</div>\\n<span class=\"text-caption jsonErrTitle\">' +\n                                    this.$t('CodePlayground.Message') +\n                                    '</span><div class=\"jsonErr\">' +\n                                    val.parseError +\n                                    '</div>',\n                                html: true,\n                            })\n                            .onOk(() => {\n                                // console.log('OK')\n                            })\n                            .onCancel(() => {\n                                // console.log('Cancel')\n                            })\n                            .onDismiss(() => {\n                                // console.log('I am triggered on both OK and Cancel')\n                            })\n                    }\n                    if (this.updateErrors()) {\n                        return\n                    }\n                }\n\n                const self = this\n                this.$nextTick(() => {\n                    console.d('Ticked', self.block.obj, self.canvas)\n                    if (self.block.obj !== null && self.canvas !== undefined) {\n                        let result = self.block.obj.update(val, $(self.canvas))\n                        if (self.updateErrors()) {\n                            return\n                        }\n\n                        //construct a split output object\n                        if (result === undefined && val.processedOutput.type != 'text') {\n                            if (!self.originalMode) {\n                                result = val.processedOutput.text\n                            }\n                        }\n\n                        if (self.originalMode) {\n                            if (typeof result !== 'string') {\n                                result = ''\n                            }\n                        }\n\n                        if (result !== undefined) {\n                            self.$emit('changeOutput', result)\n                        }\n                    }\n                })\n            } catch (e) {\n                console.error(e)\n            }\n            if (this.block.obj.err.length > 0) {\n                if (this.editMode) {\n                    this.updateErrors()\n                } else {\n                    console.error(this.block.obj.err)\n                }\n            }\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodePlayground.vue?vue&type=template&id=27994e1a&scoped=true&\"\nimport script from \"./CodePlayground.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodePlayground.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodePlayground.vue?vue&type=style&index=0&id=27994e1a&lang=sass&scoped=true&\"\nimport style1 from \"./CodePlayground.vue?vue&type=style&index=1&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27994e1a\",\n  null\n  \n)\n\nexport default component.exports\nimport {QBtnGroup,QBtn,QSlideTransition} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QBtnGroup,QBtn,QSlideTransition})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.editMode)?_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\",value:(_vm.language),expression:\"language\"}],domProps:{\"innerHTML\":_vm._s(_vm.previewValue)}}):_c('TipTap',{staticClass:\"editor q-my-3\",attrs:{\"value\":_vm.value,\"name\":_vm.name,\"language\":_vm.language,\"scopUUID\":_vm.scopeUUID,\"editMode\":_vm.editMode},on:{\"input\":_vm.updatedContentDefered}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row q-ma-0 q-pa-0\"},[_c('div',{staticClass:\"col-xs-12 col-md-6 q-px-sm\"},[_c('q-input',{ref:\"editBox\",staticClass:\"plain accqstXmlInput noRTEditor\",attrs:{\"type\":\"textarea\",\"autogrow\":\"\",\"filled\":\"\",\"name\":_vm.name,\"label\":\"HTML Source\",\"background-color\":\"blue-grey darken-3\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('div',{staticClass:\"col-xs-12 col-md-6 q-px-sm\"},[_c('div',{staticClass:\"q-field__label no-pointer-events ellipsis text-caption wysiwyg\"},[_vm._v(\" Preview \")]),_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\",value:(_vm.language),expression:\"language\"},{name:\"tagged\",rawName:\"v-tagged\",value:(_vm.scopeUUID),expression:\"scopeUUID\"}],domProps:{\"innerHTML\":_vm._s(_vm.text)}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport { ITagReplaceAction } from '../plugins/tagger'\n@Component\nexport default class TipTap extends Vue {\n    @Prop({ default: '' }) value!: string\n    @Prop({ default: '' }) name!: string\n    @Prop({ default: '' }) scopeUUID!: string\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: 'javascript' }) language!: string\n\n    get text(): string {\n        return this.value\n    }\n    set text(v: string) {\n        this.updatedContent(v)\n    }\n\n    updatedContent(v: string): void {\n        this.$emit('input', v)\n    }\n    replaceTemplateTags(o: ITagReplaceAction) {\n        if (!this.editMode) {\n            return\n        }\n        if (o.scopeUUID != this.scopeUUID) {\n            return\n        }\n        this.updatedContent(Vue.$tagger.replaceTemplateTagInString(this.text, o.name, o.newValue))\n    }\n\n    mounted() {\n        const eb: any = this.$refs.editBox\n        //we need this for StudON to make sure tinyMCE is not taking over :D\n        eb.$el.querySelectorAll('textarea[name]').forEach(el => {\n            el.className = (el.className + ' accqstXmlInput noRTEditor').trim()\n        })\n        Vue.$tagger.$on('replace-template-tag', this.replaceTemplateTags)\n    }\n\n    beforeDestroy() {\n        Vue.$tagger.$off('replace-template-tag', this.replaceTemplateTags)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipTap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TipTap.vue?vue&type=template&id=5a368702&scoped=true&\"\nimport script from \"./TipTap.vue?vue&type=script&lang=ts&\"\nexport * from \"./TipTap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TipTap.vue?vue&type=style&index=0&id=5a368702&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a368702\",\n  null\n  \n)\n\nexport default component.exports\nimport {QInput,QField} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QInput,QField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator'\nimport TipTap from './TipTap.vue'\nimport BaseBlock from './BaseBlock.vue'\n@Component({ components: { TipTap } })\nexport default class SimpleText extends BaseBlock {\n    @Prop() language!: string\n    @Prop({ default: '' }) value!: string\n    @Prop({ default: '' }) name!: string\n    @Prop({ default: '' }) scopeUUID!: string\n    @Prop({ default: false }) editMode!: boolean\n    @Prop({ default: '' }) previewValue!: string\n\n    textUpdateTimer: number | null = null\n    textUpdateStartTime: number = 0\n    updatedContentDefered(newVal: string) {\n        if (!this.editMode) {\n            this.updatedContent(newVal)\n            return\n        }\n\n        const now = new Date().getTime()\n\n        //clear an existing update timeout\n        if (this.textUpdateTimer !== null) {\n            clearTimeout(this.textUpdateTimer)\n            this.textUpdateTimer = null\n        } else {\n            this.textUpdateStartTime = now\n        }\n\n        const doIt = () => {\n            this.textUpdateTimer = null\n            this.updatedContent(newVal)\n        }\n\n        //did we wait for a maximum time? run\n        if (now - this.textUpdateStartTime > process.env.VUE_APP_CODE_BLOCK_MAX_TIMEOUT) {\n            doIt()\n            return\n        }\n        this.textUpdateTimer = setTimeout(() => {\n            doIt()\n        }, process.env.VUE_APP_CODE_BLOCK_TIMEOUT)\n    }\n\n    updatedContent(v: string) {\n        //console.log('Updating')\n        //this.value = v\n        this.$emit('input', v)\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SimpleText.vue?vue&type=template&id=fead5814&scoped=true&\"\nimport script from \"./SimpleText.vue?vue&type=script&lang=ts&\"\nexport * from \"./SimpleText.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fead5814\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlockContainer from '@/components/CodeBlockContainer.vue'\nimport CodeBlocksSettings, { ICodeBlockSettingsOptions } from '@/components/CodeBlocksSettings.vue'\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport CodePanel from '@/components/CodePanel.vue'\n//import Blockly from '@/components/Blockly/Blockly.vue'\nimport CodePlayground from '@/components/CodePlayground.vue'\nimport SimpleText from '@/components/SimpleText.vue'\nimport { BlockData, IMainBlock, IBlockBookmarkPayload } from '@/lib/codeBlocksManager'\nimport { IScriptOutputObject, IProcessedScriptOutput } from '@/lib/IScriptBlock'\nimport {\n    ICompilerID,\n    ICompilerErrorDescription,\n    ICompileAndRunArguments,\n} from '@/lib/ICompilerRegistry'\nimport {\n    CodeOutputTypes,\n    IRandomizerSet,\n    KnownBlockTypes,\n    IBlockDataPlayground,\n} from '@/lib/ICodeBlocks'\n\n\nconst Blockly = () => import('@/components/Blockly/Blockly.vue')\nexport interface IOnTypeChangeInfo {\n    type: KnownBlockTypes\n    hidden: boolean\n    static: boolean\n    id: number\n    hasCode: boolean\n}\n\nexport interface IOnVisibleLinesChangeInfo {\n    visibleLines: 'auto' | number\n    id: number\n}\n\nexport interface IOnPlacementChangeInfo extends IBlockDataPlayground {\n    id: number\n}\n\nexport interface IOnScriptVersionChangeInfo {\n    version: string\n    id: number\n}\n\nexport interface IOnSetAutoResetInfo {\n    shouldAutoreset: boolean\n    id: number\n}\n\nexport interface IOnThemeChangeInfo {\n    solution: string\n    code: string\n}\n\n@Component({\n    components: {\n        CodeBlockContainer,\n        CodeBlocksSettings,\n        CodeBlock,\n        CodePlayground,\n        SimpleText,\n        Blockly,\n        CodePanel,\n    },\n})\nexport default class CodeBlocks extends Vue {\n    didInitialize: boolean = false\n    outputHTML: string = ''\n    output: string = ''\n    sansoutput: string = ''\n    didClip: boolean = false\n    _finalOutputObject: IScriptOutputObject | null = null\n    eventHub: Vue = new Vue()\n\n    get continuousCompile(): boolean {\n        if (this.editMode) {\n            return false\n        }\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            return cmp.allowsContinousCompilation\n        }\n        return false\n    }\n\n    get finalOutputObject(): IScriptOutputObject {\n        if (this._finalOutputObject === null || this._finalOutputObject === undefined) {\n            return {\n                initialOutput: '',\n                output: '',\n                processedOutput: {\n                    type: 'text',\n                    text: '',\n                    json: undefined,\n                },\n                sansoutput: '',\n                outputElement: $(this.outputElement) as JQuery<HTMLElement>,\n            }\n        }\n        return this._finalOutputObject\n    }\n    @Prop({ required: true }) blockInfo!: IMainBlock\n    get options(): ICodeBlockSettingsOptions {\n        return {\n            language: this.language,\n            compiler: this.compiler,\n            executionTimeout: this.executionTimeout,\n            maxCharacters: this.maxCharacters,\n            runCode: this.runCode,\n            domLibs: this.domLibraries,\n            workerLibs: this.workerLibraries,\n            id: this.blockInfo.id,\n            codeTheme: this.codeTheme,\n            solutionTheme: this.solutionTheme,\n            outputParser: this.outputParser,\n            randomizer: this.blockInfo.randomizer,\n            continuousCompilation: this.blockInfo.continuousCompilation,\n            persistentArguments: this.blockInfo.persistentArguments,\n            messagePassing: this.blockInfo.messagePassing,\n            keepAlive: this.blockInfo.keepAlive,\n        }\n    }\n    get blocks(): BlockData[] {\n        return this.blockInfo.blocks\n    }\n    get language(): string {\n        return this.blockInfo.language\n    }\n    get blockid(): number {\n        return this.blockInfo.id\n    }\n    get executionTimeout(): number {\n        return this.blockInfo.executionTimeout\n    }\n    get maxCharacters(): number {\n        return this.blockInfo.maxCharacters\n    }\n    get compiler(): ICompilerID {\n        return this.blockInfo.compiler\n    }\n    get runCode(): boolean {\n        return this.blockInfo.runCode\n    }\n    get domLibraries(): string[] {\n        return this.blockInfo.domLibs\n    }\n    get workerLibraries(): string[] {\n        return this.blockInfo.workerLibs\n    }\n    get solutionTheme(): string {\n        return this.blockInfo.solutionTheme\n    }\n    get codeTheme(): string {\n        return this.blockInfo.codeTheme\n    }\n    get readonly(): boolean {\n        return this.blockInfo.readonly\n    }\n    get outputParser(): CodeOutputTypes {\n        return this.blockInfo.outputParser\n    }\n\n    get editMode(): boolean {\n        return false\n    }\n    get hasOutput(): boolean {\n        return this.outputHTML !== undefined && this.outputHTML != ''\n    }\n    get mimeType(): string {\n        return this.$CodeBlock.mimeType(this.language)\n    }\n    get isReady(): boolean {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (!cmp) {\n            return false\n        }\n\n        return (\n            this.didInitialize &&\n            cmp.isReady &&\n            !cmp.isRunning &&\n            !this.$compilerState.runButtonForceHide\n        )\n    }\n    get canRun(): boolean {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (!cmp) {\n            return false\n        }\n        return cmp.canRun && this.runCode\n    }\n    get randomizerActive(): boolean {\n        return this.blockInfo.randomizer.active\n    }\n    get activeTagSet(): IRandomizerSet | undefined {\n        if (!this.randomizerActive) {\n            return undefined\n        }\n        return this.tagSet(this.blockInfo.randomizer.previewIndex)\n    }\n    get completeSource(): string {\n        return this.blocks\n            .filter((b) => b.hasCode)\n            .map((b) => b.actualContent())\n            .reduce((p, c) => {\n                return p + '\\n' + c\n            }, '')\n    }\n    get showGlobalMessages(): boolean {\n        return !this.$compilerState.globalStateHidden\n    }\n    get playgrounds(): BlockData[] {\n        return this.blocks.filter((b) => b.type == 'PLAYGROUND')\n    }\n    get outputElement(): HTMLElement {\n        return this.$refs.output as HTMLElement\n    }\n    get addonClass(): string {\n        let cl = ''\n        if (this.editMode) {\n            cl += 'editmode '\n        }\n        if (this.readonly) {\n            cl += 'block-readonly '\n        }\n        return cl\n    }\n    get backgroundColorClass(): string {\n        return this.editMode ? 'blue-grey darken-4' : ''\n    }\n\n    blockBecameReady(): void {\n        let readyCount = this.blockInfo.blocks.map((b) => b.readyCount).reduce((p, c) => p + c, 0)\n        if (readyCount == this.blockInfo.blocks.length) {\n            this.$nextTick(() => {\n                this.eventHub.$emit('all-mounted', {})\n            })\n        }\n        //console.log(\"Ready\", readyCount, this.blockInfo.blocks.length);\n    }\n\n    tagSet(nr: number): IRandomizerSet {\n        return this.blockInfo.randomizer.sets[nr]\n    }\n\n    themeForBlock(bl: BlockData): string {\n        return bl.themeForCodeBlock\n    }\n    public blockById(id: number): BlockData | undefined {\n        return this.blocks.find((block) => block.id == id)\n    }\n    onTypeChange(nfo: IOnTypeChangeInfo): void {}\n    onVisibleLinesChange(nfo: IOnVisibleLinesChangeInfo): void {}\n    onPlacementChange(nfo: IOnPlacementChangeInfo): void {}\n    onScriptVersionChange(nfo: IOnScriptVersionChangeInfo): void {}\n    onSetAutoReset(nfo: IOnSetAutoResetInfo): void {}\n    onCompilerChange(v: string): void {}\n    onCompilerVersionChange(v: string): void {}\n    onRunStateChange(v: boolean): void {}\n    onContinousCompileStateChange(v: boolean): void {}\n    onMessagePassingChange(v: boolean): void {}\n    onKeepAliveChange(v: boolean): void {}\n    onPersistentArgumentsChange(v: boolean): void {}\n    onLanguageChange(v: string): void {}\n    onCharacterLimitChange(v: number): void {}\n    onTimeoutChange(v: number): void {}\n    onWorkerLibChange(v: string[]): void {}\n    onDomLibChange(v: string[]): void {}\n    onThemeChange(nfo: IOnThemeChangeInfo): void {}\n    onOutputParserChange(v: CodeOutputTypes): void {}\n    moveUp(idx: number): void {}\n    moveDown(idx: number): void {}\n    removeBlock(idx: number): void {}\n    addNewBlock(): void {}\n    onPlaygroundChangedOutput(newOutput: string | undefined): void {\n        if (newOutput === undefined) {\n            return\n        }\n        if (this.output != newOutput) {\n            this.output = newOutput.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n            if (this.maxCharacters > 0 && this.output.length > this.maxCharacters) {\n                this.outputHTML = this.output.substr(0, this.maxCharacters)\n                this.outputHTML += this.$CodeBlock.format_info(\n                    'Info: Output too long. Removed all following Characters. \\n<b>...</b>\\n\\n'\n                )\n            } else {\n                this.outputHTML = this.output\n            }\n            this.outputHTML += this.sansoutput\n        }\n    }\n\n    resetOutput(): void {\n        this.output = ''\n        this.sansoutput = ''\n        this.didClip = false\n        this.outputHTML = ''\n    }\n\n    log(text: string): void {\n        //console.log(\"log\", text);\n        this.output += text\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        if (!this.didClip) {\n            if (this.maxCharacters > 0 && this.output.length > this.maxCharacters) {\n                this.outputHTML += this.$CodeBlock.format_info(\n                    'Info: Output too long. Removed all following Characters. \\n<b>...</b>\\n\\n'\n                )\n                this.didClip = true\n            } else {\n                this.outputHTML += text\n            }\n        }\n    }\n\n    logError(text: string): void {\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        text = this.$CodeBlock.format_error(text)\n        //console.log(\"err\", text);\n        this.sansoutput += text\n        this.outputHTML += text\n    }\n\n    logInfo(text: string): void {\n        text = text.replaceAllPoly('<', '&lt;').replaceAllPoly('>', '&gt;')\n        text = this.$CodeBlock.format_info(text)\n        //console.log(\"nfo\", text);\n        this.sansoutput += text\n        this.outputHTML += text\n    }\n\n    processDiagnostics(error: ICompilerErrorDescription) {\n        const line = error.start.line\n        this.blocks.forEach((block) => {\n            if (!block.hasCode) {\n                return\n            }\n\n            const first = block.firstLine\n            const last = block.nextLine - 1\n\n            if (error.start.line >= first && error.start.line <= last) {\n                block.errors.push(error)\n            }\n        })\n    }\n\n    clearDiagnostics(): void {\n        this.blocks.forEach((block) => (block.errors = []))\n        this.eventHub.$emit('render-diagnostics', {})\n    }\n\n    loadLibraries(whenLoaded: () => void): void {\n        this.$compilerRegistry.loadLibraries(this.domLibraries, whenLoaded)\n    }\n\n    /**\n     * Call when the program finished executing and pass the output string. We will send the output to all embeded canvas elements\n     * @param {*} output\n     * @param {*} infoErrorOutput output generated by info or error messages\n     */\n    finishedExecution(output: string, infoErrorOutput: string): void {\n        let parseError = undefined\n        let processed: IProcessedScriptOutput = { type: 'text', json: undefined, text: output }\n\n        if (output !== undefined && this.playgrounds.length > 0) {\n            try {\n                processed = this.$CodeBlock.processMixedOutput(output, this.outputParser)\n            } catch (e) {\n                parseError = e\n            }\n        }\n\n        this._finalOutputObject = {\n            initialOutput: output,\n            output: output,\n            processedOutput: processed,\n            sansoutput: this.sansoutput,\n            parseError: parseError,\n            //outputElement: $(this.outputElement) as JQuery<HTMLElement> //This line soes not work here, looks like the update did not yet happen?\n            outputElement: $(this.$refs.output) as JQuery<HTMLElement>,\n        }\n        this.eventHub.$emit('output-updated', this._finalOutputObject)\n\n        this.onRunFinished()\n    }\n\n    get canStop(): boolean {\n        return !this.isReady && this.didRunOnce\n    }\n    stop(): void {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp === undefined || cmp.stop === undefined) {\n            return\n        }\n        cmp.stop()\n    }\n\n    didRunOnce: boolean = false\n    run(): boolean {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp === undefined) {\n            return false\n        }\n\n        this.$compilerState.setAllRunButtons(false)\n\n        this.resetOutput()\n        this.clearDiagnostics()\n        const self = this\n\n        this.loadLibraries(() => {\n            self.eventHub.$emit('before-run', {})\n            console.d('compileAndRun')\n            self.didRunOnce = true\n\n            let _args: object | string[] = {}\n            if (cmp.acceptsJSONArgument) {\n                _args = this.blockInfo.initArgsForLanguage()\n                this.blocks.forEach((bl) => {\n                    if (bl.obj) {\n                        console.i('!!! ADD ARGUMENTS TO !!!')\n                        bl.obj.addArgumentsTo(_args)\n                    }\n                })\n            }\n\n            const runOptions: ICompileAndRunArguments = {\n                max_ms: self.executionTimeout,\n                log_callback: self.log.bind(this),\n                info_callback: self.logInfo.bind(this),\n                err_callback: self.logError.bind(this),\n                compileFailedCallback: self.processDiagnostics.bind(this),\n                finishedExecutionCB: (\n                    success = true,\n                    overrideOutput = undefined,\n                    returnState = undefined\n                ) => {\n                    console.i('returnState:', returnState, _args)\n                    if (!success) {\n                        self.$compilerState.hideGlobalState()\n                        self.$compilerState.setAllRunButtons(true)\n                        return undefined\n                    }\n                    let res = self.finishedExecution(\n                        overrideOutput ? overrideOutput : self.output,\n                        self.sansoutput\n                    )\n\n                    if (returnState !== undefined) {\n                        if (this.blockInfo.persistentArguments) {\n                            console.i('Store Default State', returnState)\n                            this.blockInfo.storeDefaultArgs(returnState)\n                        } else {\n                            this.blockInfo.clearDefaultArgs()\n                        }\n                    }\n                    self.$compilerState.hideGlobalState()\n                    self.$compilerState.setAllRunButtons(true)\n                    return res\n                },\n                args: _args,\n                didReceiveMessage: (cmd, data) => {\n                    console.i('MESSAGE - Received', cmd)\n                    this.blocks.forEach((bl) => {\n                        if (bl.obj) {\n                            bl.obj.didReceiveMessage(cmd, data)\n                        }\n                    })\n                },\n                postMessageFunction: null,\n                dequeuePostponedMessages: () => {},\n                allowMessagePassing: cmp.allowsMessagePassing && self.options.messagePassing,\n                keepAlive:\n                    cmp.allowsMessagePassing &&\n                    self.options.messagePassing &&\n                    self.options.keepAlive,\n                beforeStartHandler: () => {\n                    this.blocks.forEach((bl) => {\n                        console.d('MESSAGE - Before Start')\n                        if (bl.obj) {\n                            bl.obj.beforeStart()\n                        }\n                    })\n                },\n                whenFinishedHandler: (args: object | string[]) => {\n                    this.blocks.forEach((bl) => {\n                        console.d('MESSAGE - When Finished')\n                        if (bl.obj) {\n                            bl.obj.whenFinished(args)\n                        }\n                    })\n                },\n            }\n\n            if (runOptions.keepAlive) {\n                this.blocks.forEach((bl) => {\n                    if (bl.obj) {\n                        bl.obj.runConfig = runOptions\n                    }\n                })\n            }\n\n            cmp.compileAndRun('' + self.blockid, self.completeSource, self, runOptions)\n        })\n\n        return true\n    }\n    onkey(event) {\n        if (\n            this.editMode &&\n            (event.ctrlKey || event.metaKey) &&\n            (event.key === 'w' || event.key === 'j')\n        ) {\n            this.run()\n            event.preventDefault()\n            return false\n        }\n    }\n\n    mounted() {\n        let cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (cmp) {\n            cmp.preload()\n        }\n        const self = this\n        this.loadLibraries(() => {\n            self.eventHub.$emit('initialized-libraries', {})\n        })\n        this.didInitialize = true\n\n        if (this.editMode) {\n            window.addEventListener('keydown', this.onkey, false)\n        }\n\n        Vue.$GlobalEventHub.$on('bookmark-block', this.onBookmarkBlock)\n    }\n    beforeDestroy() {\n        window.removeEventListener('keydown', this.onkey)\n        Vue.$GlobalEventHub.$off('bookmark-block')\n    }\n\n    bookmarkedBlock: BlockData | null = null\n\n    get hasBookmark(): boolean {\n        return this.bookmarkedBlock !== null && this.editMode\n    }\n\n    get panelBlock(): BlockData | null {\n        return this.bookmarkedBlock\n    }\n    onBookmarkBlock(data: IBlockBookmarkPayload) {\n        console.i('Bookmark', data)\n        if (this.blockInfo.uuid == data.uuid) {\n            this.bookmarkedBlock = data.block\n        }\n    }\n\n    triggerRecompileWhenFinished: boolean = false\n    onViewCodeChange(forceRun: boolean = false) {\n        if (!forceRun && !this.blockInfo.continuousCompilation) {\n            return\n        }\n\n        if (this.continuousCodeUpdateTimer !== null) {\n            clearTimeout(this.continuousCodeUpdateTimer)\n            this.continuousCodeUpdateTimer = null\n        }\n        this.continuousCodeUpdateTimer = setTimeout(() => {\n            const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n            console.d('Continuous Compile - ', cmp)\n            if (cmp && cmp.allowsContinousCompilation) {\n                if (!cmp.isRunning && cmp.isReady) {\n                    console.d('Continuous Compile - ', 'RUN')\n                    this.run()\n                } else {\n                    console.d('Continuous Compile - ', 'DEFER')\n                    this.triggerRecompileWhenFinished = true\n                }\n            }\n        }, process.env.VUE_APP_CONTINOUS_COMPILE_TIMEOUT)\n    }\n\n    onRunFinished() {\n        if (this.triggerRecompileWhenFinished) {\n            console.d('Continuous Compile - ', 'RE-RUN')\n            this.triggerRecompileWhenFinished = false\n            this.onViewCodeChange()\n        }\n    }\n\n    continuousCodeUpdateTimer: number | null = null\n    onRunFromPlayground() {\n        const cmp = this.$compilerRegistry.getCompiler(this.compiler)\n        if (\n            cmp &&\n            cmp.canRun &&\n            !this.editMode &&\n            cmp.allowsContinousCompilation // &&\n            // this.blockInfo.continuousCompilation\n        ) {\n            this.onViewCodeChange(true)\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocks.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeBlocks.vue?vue&type=template&id=62b19eef&\"\nimport script from \"./CodeBlocks.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocks.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeBlocks.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport {QBtn,QIcon,QTooltip,QSlideTransition} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QBtn,QIcon,QTooltip,QSlideTransition})\n","//\n//\n//\n//\n//\n//\n//\n//\n\nimport CodeBlocks from './components/CodeBlocks'\nimport Vue from 'vue'\n\nexport default {\n    name: 'App',\n\n    props: ['blocks'],\n\n    components: {\n        CodeBlocks\n    },\n\n    data: () => ({}),\n    computed: {}\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=eaf51832&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport {QLayout,QPageContainer} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QLayout,QPageContainer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-layout',{staticStyle:{\"min-height\":\"0\"},attrs:{\"view\":\"hHh lpR fFf\"}},[_c('q-page-container',[_c('CodeBlocksEditor',{attrs:{\"blockInfo\":_vm.blocks}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport 'reflect-metadata'\nimport { Vue, Component, Prop } from 'vue-property-decorator'\nimport CodeBlocks, {\n    IOnTypeChangeInfo,\n    IOnVisibleLinesChangeInfo,\n    IOnPlacementChangeInfo,\n    IOnScriptVersionChangeInfo,\n    IOnSetAutoResetInfo,\n    IOnThemeChangeInfo,\n} from '@/components/CodeBlocks.vue'\nimport { KnownBlockTypes, CodeOutputTypes } from '@/lib/ICodeBlocks'\n\nvar mixin = {\n    created: function () {\n        console.log(1)\n    },\n}\n@Component\nexport default class CodeBlocksEditor extends CodeBlocks {\n    get editMode(): boolean {\n        return true\n    }\n\n    onTypeChange(nfo: IOnTypeChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        bl.type = nfo.type\n        bl.hidden = nfo.hidden\n        bl.static = nfo.static\n        bl.hasCode = nfo.hasCode\n    }\n\n    onVisibleLinesChange(nfo: IOnVisibleLinesChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        if (nfo.visibleLines != 'auto' && isNaN(nfo.visibleLines)) {\n            bl.visibleLines = 'auto'\n        } else {\n            bl.visibleLines = nfo.visibleLines\n        }\n    }\n    onPlacementChange(nfo: IOnPlacementChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n\n        bl.width = nfo.width\n        bl.height = nfo.height\n        bl.align = nfo.align\n    }\n    onCompilerChange(v: string): void {\n        const c = this.$compilerRegistry.getCompiler({ languageType: v })\n        if (c !== undefined) {\n            console.log('Selected Compiler', c, v, this.blockInfo.compiler)\n            this.blockInfo.compiler.languageType = v\n            this.blockInfo.compiler.version = c.version\n            this.blockInfo.language = c.language\n\n            console.log('PRELOADING')\n            c.preload()\n        }\n    }\n    onCompilerVersionChange(v: string): void {\n        console.log('Selected Version', v, this.blockInfo.compiler.languageType)\n        const c = this.$compilerRegistry.getCompiler({\n            languageType: this.blockInfo.compiler.languageType,\n            version: v,\n        })\n        this.blockInfo.compiler.version = v\n\n        if (c !== undefined) {\n            this.blockInfo.language = c.language\n\n            console.log('PRELOADING')\n            c.preload()\n        }\n    }\n    onRunStateChange(v: boolean): void {\n        this.blockInfo.runCode = v\n    }\n    onContinousCompileStateChange(v: boolean): void {\n        this.blockInfo.continuousCompilation = v\n    }\n    onMessagePassingChange(v: boolean): void {\n        this.blockInfo.messagePassing = v\n    }\n    onKeepAliveChange(v: boolean): void {\n        this.blockInfo.keepAlive = v\n    }\n    onPersistentArgumentsChange(v: boolean): void {\n        if (v === false) {\n            this.blockInfo.clearDefaultArgs()\n        }\n        this.blockInfo.persistentArguments = v\n    }\n    onLanguageChange(v: string): void {\n        this.blockInfo.language = v\n    }\n    onCharacterLimitChange(v: number): void {\n        this.blockInfo.maxCharacters = v\n    }\n    onTimeoutChange(v: number): void {\n        this.blockInfo.executionTimeout = v\n    }\n    onWorkerLibChange(v: string[]): void {\n        this.blockInfo.workerLibs = v\n    }\n    onDomLibChange(v: string[]): void {\n        this.blockInfo.domLibs = v\n    }\n    onScriptVersionChange(nfo: IOnScriptVersionChangeInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        bl.version = nfo.version\n        if (bl.obj) {\n            bl.obj.version = nfo.version\n        }\n    }\n    onSetAutoReset(nfo: IOnSetAutoResetInfo): void {\n        let bl = this.blockById(nfo.id)\n        if (bl === undefined) {\n            return\n        }\n        bl.shouldAutoreset = nfo.shouldAutoreset\n    }\n    onThemeChange(nfo: IOnThemeChangeInfo): void {\n        this.blockInfo.solutionTheme = nfo.solution\n        this.blockInfo.codeTheme = nfo.code\n    }\n    moveUp(idx: number): void {\n        this.blockInfo.moveUp(idx)\n    }\n    moveDown(idx: number): void {\n        this.blockInfo.moveDown(idx)\n    }\n    addNewBlock(): void {\n        this.blockInfo.addNewBlock()\n    }\n    removeBlock(idx: number): void {\n        this.blockInfo.removeBlock(idx)\n    }\n    onOutputParserChange(v: CodeOutputTypes): void {\n        this.blockInfo.outputParser = v\n    }\n}\n","var render, staticRenderFns\nimport script from \"./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksEditor.vue?vue&type=script&lang=ts&\"","//\n//\n//\n//\n//\n//\n//\n//\n\nimport CodeBlocksEditor from './components/CodeBlocksEditor'\nimport Vue from 'vue'\n\nexport default {\n    name: 'AppEditor',\n\n    props: ['blocks'],\n\n    components: {\n        CodeBlocksEditor\n    },\n\n    data: () => ({}),\n    computed: {}\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppEditor.vue?vue&type=template&id=0797aa13&\"\nimport script from \"./AppEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./AppEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppEditor.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport {QLayout,QPageContainer} from 'quasar'\ncomponent.options.components = Object.assign(Object.create(component.options.components || null), component.options.components || {}, {QLayout,QPageContainer})\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\nexport class BlockLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'BLOCK'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        const alts = bl.getElementsByTagName('ALTERNATIVE')\n        const codes = bl.getElementsByTagName('CODE')\n        if (codes.length > 0) {\n            block.content = codes[0].textContent ? codes[0].textContent : ''\n        }\n\n        if (alts.length > 0) {\n            block.hasAlternativeContent = true\n            block.alternativeContent = alts[0].textContent\n            if (!editMode && block.noContent) {\n                block.content = block.alternativeContent ? block.alternativeContent : ''\n            }\n        }\n\n        block.hasCode = true\n    }\n}\n\nexport const blockLoader = new BlockLoadManager()\n\nexport default function(loaders: { [index: string]: IBlockloadManager }) {\n    loaders[blockLoader.blockTag] = blockLoader\n}\n","import { IBlockloadManager, IBlockElementData, IBlockDataBase } from '@/lib/ICodeBlocks'\nimport { positioninLoadManager } from '@/lib/BlockloadManagers/PositioningManager'\nimport { uuid } from 'vue-uuid'\nexport class PlaygroundLoadManager implements IBlockloadManager {\n    get blockTag(): string {\n        return 'PLAYGROUND'\n    }\n\n    loadFromDatablock(\n        bl: HTMLElement,\n        inBlock: IBlockElementData,\n        block: IBlockDataBase,\n        editMode: boolean\n    ): void {\n        block.obj = null\n        positioninLoadManager.loadFromDatablock(bl, inBlock, block)\n        block.version = bl.getAttribute('data-version')\n            ? bl.getAttribute('data-version')!\n            : block.version\n    }\n}\n\nexport const playgroundLoader = new PlaygroundLoadManager()\n\nexport default function (loaders: { [index: string]: IBlockloadManager }) {\n    loaders[playgroundLoader.blockTag] = playgroundLoader\n}\n","import { ScriptBlock } from './scriptBlock'\nimport { IScriptOutputObject, IPlaygroundObject, ILegacyPlaygroundObject } from './IScriptBlock'\nimport i18n from '../plugins/i18n'\nimport 'reflect-metadata'\nimport { Vue, Component, Watch } from 'vue-property-decorator'\n\nimport App from '../App.vue'\nimport AppEditor from '../AppEditor.vue'\nimport { uuid } from 'vue-uuid'\n\nimport { compilerRegistry as CompilerRegistry } from './CompilerRegistry'\nimport { ICompilerErrorDescription, ICompilerID } from './ICompilerRegistry'\nimport {\n    IRandomizerSettings,\n    CodeOutputTypes,\n    IBlockData,\n    KnownBlockTypes,\n    IRandomizerSet,\n    IRandomizerSetTag,\n    ICodeBlockDataState,\n    IBlockDataBase,\n    IBlockDataBlockly,\n    IBlockloadManager,\n    IBlockElementData,\n    CodeExpansionType,\n} from './ICodeBlocks'\n\n//get loaders\nimport blockInstaller from '@/lib/BlockloadManagers/BlockManager'\nimport blocklyInstaller from '@/lib/BlockloadManagers/BlocklyManager'\nimport playgroundInstaller from '@/lib/BlockloadManagers/PlaygroundManager'\nimport { trim } from 'jquery'\n\nconst loaders: { [index: string]: IBlockloadManager } = {}\nblockInstaller(loaders)\nblocklyInstaller(loaders)\nplaygroundInstaller(loaders)\n\nVue.prototype.$compilerRegistry = CompilerRegistry\n\nexport interface IAppSettings {\n    id: number\n    uuid: string\n    editMode: boolean\n    readonly: boolean\n    randomizer: IRandomizerSettings\n    blocks: BlockData[]\n    compiler: ICompilerID\n    language: string\n    runCode: boolean\n    domLibs: string[]\n    workerLibs: string[]\n    outputParser: CodeOutputTypes\n    solutionTheme: string\n    codeTheme: string\n    executionTimeout: number\n    maxCharacters: number\n    scopeUUID?: string\n    scopeSelector?: string\n    continuousCompilation: boolean\n    messagePassing: boolean\n    keepAlive: boolean\n    persistentArguments: boolean\n    shadowRoot?:ShadowRoot\n}\n\ninterface IAppElementData {\n    randomizerActive?: string\n    randomizerPreviewIndex?: string\n    randomizerKnownTags?: string\n    randomizerSets?: string\n    question?: string\n    compiler?: string\n    compilerVersion?: string\n    domLibs?: string\n    workerLibs?: string\n    readonly?: string\n    runCode?: string\n    id?: string\n    executionTimeout?: string\n    maxCharacters?: string\n    scopeUUID?: string\n    scopeSelector?: string\n    continuousCompilation?: string\n    messagePassing?: string\n    keepAlive?: string\n    persistentArguments?: string\n    outputParser?: CodeOutputTypes\n    solutionTheme?: string\n    codeTheme?: string\n}\n\nexport interface IBlockBookmarkPayload {\n    uuid: string\n    block: BlockData | null\n}\n\n@Component\nexport class BlockData extends Vue implements IBlockData {\n    appSettings!: IAppSettings\n    hasCode!: boolean\n    type!: KnownBlockTypes\n    content!: string\n    alternativeContent!: string | null\n    noContent!: boolean\n    id!: number\n    uuid!: string\n    parentID!: number\n    expanded!: boolean\n    codeExpanded!: CodeExpansionType\n    obj!: ScriptBlock | null\n    readonly!: boolean\n    static!: boolean\n    hidden!: boolean\n    version!: string\n    readyCount!: number\n    errors!: ICompilerErrorDescription[]\n    scopeUUID?: string\n    scopeSelector!: string\n    visibleLines!: number | 'auto'\n    hasAlternativeContent!: boolean\n    shouldAutoreset!: boolean\n    width!: string\n    height!: string\n    align!: string\n    blockly!: IBlockDataBlockly\n    lineCountHint!: number\n    _oac?: () => string //used by Blockly to re-place the actualContent-Method while keeping the old implementation around\n\n    actualContent() {\n        if (this.appSettings.randomizer.active) {\n            return Vue.$tagger.replaceRandomTagsInString(\n                this.content,\n                this.appSettings.randomizer.sets[this.appSettings.randomizer.previewIndex]\n            )\n        }\n\n        return this.content\n    }\n    recreateScriptObject() {\n        if (this.type === KnownBlockTypes.PLAYGROUND) {\n            console.i('recreateScriptObject')\n\n            const so = new ScriptBlock(this.actualContent(), this.version)\n            this.obj = so\n            console.i('Block Rebuild', this.obj, this.uuid)\n        }\n    }\n    created() {\n        this.recreateScriptObject()\n    }\n\n    getThemeForBlock(bl: ICodeBlockDataState): string {\n        if (bl.static || bl.readonly || bl.hidden) {\n            return this.appSettings.codeTheme\n        }\n\n        return this.appSettings.solutionTheme\n    }\n\n    get themeForCodeBlock(): string {\n        if (this.static || this.readonly || this.hidden) {\n            return this.appSettings.codeTheme\n        }\n\n        return this.appSettings.solutionTheme\n    }\n\n    get isLast(): boolean {\n        return this.id == this.appSettings.blocks.length - 1\n    }\n    get firstLine(): number {\n        if (this.id === 0) {\n            return 1\n        }\n        return this.appSettings.blocks[this.id - 1].nextLine\n    }\n\n    get lineCount(): number {\n        if (!this.hasCode) {\n            return 0\n        }\n        if (this.lineCountHint >= 0) {\n            return this.lineCountHint\n        }\n\n        let ct = 0\n        this.content.replace(/\\n/, (m) => {\n            ct++\n            return m\n        })\n        return ct\n    }\n\n    get nextLine(): number {\n        if (!this.hasCode) {\n            return this.firstLine\n        }\n        return this.firstLine + this.lineCount\n    }\n    get domLibs(): string[] {\n        return this.appSettings.domLibs\n    }\n\n    //is this right. Happend when converting from JS\n    get scriptVersion(): string {\n        return this.version\n    }\n\n    @Watch('type')\n    onTypeChanged(newType: KnownBlockTypes, oldType: KnownBlockTypes) {\n        if (newType != oldType) {\n            this.recreateScriptObject()\n        }\n    }\n}\n\nexport interface IMainBlock extends IAppSettings {\n    swap(id1: number, id2: number): void\n    moveUp(id: number): void\n    moveDown(id: number): void\n    removeBlock(idx: number): void\n    addNewBlock(): void\n\n    initArgsForLanguage(): object | string[]\n    storeDefaultArgs(args: object | string[]): void\n    clearDefaultArgs(): void\n}\n\nfunction isTrue(val: any): boolean {\n    //return val !== undefined || val == 'true' || val == '1'\n    return val !== undefined && val != 'false' && val != '0'\n}\n\nconst useShadowDOM = false\n\n//this will handle the vue mounting on the dom\nclass InternalCodeBlocksManager {\n    constructBlock(data: IAppSettings, bl: IBlockDataBase): BlockData {\n        if (bl.type === KnownBlockTypes.PLAYGROUND) {\n            if (bl.content == '' || bl.content === undefined || bl.content === null) {\n                bl.content = '{}'\n            }\n        }\n\n        return new BlockData({\n            data: () => {\n                return {\n                    ...bl,\n                    appSettings: data,\n                }\n            },\n        })\n    }\n\n    readonly element: HTMLElement\n    readonly data: IAppSettings\n    readonly shadowRoot:ShadowRoot|undefined = undefined\n    constructor(el: HTMLElement) {\n        if (useShadowDOM) {\n            const parent = el.parentElement!\n            const content = el.outerHTML\n            const rewrap = document.createElement('DIV')\n            parent.replaceChild(rewrap, el)\n\n            const shadow = parent.attachShadow({ mode: 'open' })\n            this.shadowRoot = shadow\n            shadow.innerHTML = ''\n\n            $('style').each((idx, style) => {\n                const st = document.createElement('STYLE')\n                st.innerHTML = style.innerHTML\n                shadow.appendChild(st)\n            })\n\n            const root = document.createElement('DIV')\n            root.id = 'root'\n            root.innerHTML = content\n            shadow.appendChild(root)\n            console.log($('style').length)\n\n            this.element = root\n        } else {\n            this.shadowRoot = undefined\n            this.element = el\n        }\n        console.log(this.element)\n        const inData = el.dataset as IAppElementData\n        const data: IAppSettings = {\n            id: -1,\n            editMode: el.tagName == 'CODEBLOCKSEDITOR' || el.hasAttribute('codeblockseditor'),\n            runCode: false,\n            language: 'javascript',\n            compiler: {\n                languageType: 'javascript',\n                version: '101',\n            },\n            randomizer: {\n                active: false,\n                previewIndex: 0,\n                knownTags: [],\n                sets: [],\n            },\n            domLibs: [],\n            workerLibs: [],\n            blocks: [],\n            outputParser: CodeOutputTypes.AUTO,\n            readonly: false,\n            solutionTheme: 'solarized light',\n            codeTheme: 'xq-light',\n            uuid: 'is-set-below',\n            executionTimeout: 5000,\n            maxCharacters: 1000,\n            continuousCompilation: isTrue(inData.continuousCompilation),\n            messagePassing: isTrue(inData.messagePassing),\n            keepAlive: isTrue(inData.keepAlive),\n            persistentArguments: isTrue(inData.persistentArguments),\n            shadowRoot:this.shadowRoot,\n        }\n\n        if (inData.randomizerActive !== undefined) {\n            data.randomizer.active = isTrue(inData.randomizerActive)\n        }\n        if (inData.randomizerPreviewIndex !== undefined) {\n            data.randomizer.previewIndex = Number(inData.randomizerPreviewIndex)\n        }\n        if (inData.randomizerKnownTags !== undefined) {\n            data.randomizer.knownTags = JSON.parse(inData.randomizerKnownTags)\n        }\n        if (inData.randomizerSets !== undefined) {\n            data.randomizer.sets = JSON.parse(inData.randomizerSets).map((o: object, i: number) => {\n                const ret: IRandomizerSet = {\n                    uuid: uuid.v4(),\n                    values: [],\n                }\n                Object.keys(o).forEach((tag) => {\n                    const item: IRandomizerSetTag = {\n                        tag: tag,\n                        value: o[tag],\n                    }\n                    ret.values.push(item)\n                })\n\n                return ret\n            })\n        }\n\n        if (inData.question !== undefined) {\n            data.id = Number(inData.question)\n        }\n\n        if (inData.compiler !== undefined) {\n            const cInfo: ICompilerID = {\n                languageType: inData.compiler,\n                version: inData.compilerVersion!,\n            }\n            data.compiler = cInfo\n\n            const c = CompilerRegistry.getCompiler(data.compiler)\n            if (c === undefined) {\n                data.runCode = false\n                data.language = data.compiler.languageType\n            } else {\n                data.runCode = isTrue(inData.runCode)\n                data.language = c.language\n                data.compiler.version = c.version\n            }\n        }\n\n        if (inData.domLibs !== undefined) {\n            data.domLibs = JSON.parse(inData.domLibs)\n        }\n\n        if (inData.readonly !== undefined) {\n            if (data.editMode) {\n                data.readonly = false\n            } else {\n                data.readonly = isTrue(inData.readonly)\n            }\n        }\n\n        if (inData.workerLibs !== undefined) {\n            data.workerLibs = JSON.parse(inData.workerLibs)\n        }\n\n        if (el.hasAttribute('uuid')) {\n            data.uuid = el.getAttribute('uuid')!\n        } else {\n            data.uuid = uuid.v4()\n            el.setAttribute('uuid', data.uuid)\n        }\n\n        //data.id = Number(data.id)\n\n        if (inData.executionTimeout !== undefined) {\n            data.executionTimeout = Number(inData.executionTimeout)\n        }\n\n        if (inData.maxCharacters !== undefined) {\n            data.maxCharacters = Number(inData.maxCharacters)\n        }\n\n        if (inData.scopeUUID !== undefined) {\n            data.scopeUUID = inData.scopeUUID\n        }\n        if (inData.scopeSelector !== undefined) {\n            data.scopeSelector = inData.scopeSelector\n        }\n\n        if (inData.outputParser !== undefined) {\n            data.outputParser = inData.outputParser\n        }\n\n        if (inData.solutionTheme !== undefined) {\n            data.solutionTheme = inData.solutionTheme\n        }\n\n        if (inData.codeTheme !== undefined) {\n            data.codeTheme = inData.codeTheme\n        }\n\n        el.querySelectorAll('*').forEach((blIn) => {\n            const bl = blIn as HTMLElement\n            //only first level children\n            if (bl.parentElement != el) {\n                return\n            }\n            const inBlock = bl.dataset as IBlockElementData\n            const as = bl.getAttribute('as')\n            if (as !== null) {\n                inBlock.as = as.trim().toUpperCase()\n            }\n\n            const block: IBlockDataBase = {\n                as: inBlock.as ? KnownBlockTypes[inBlock.as] : undefined,\n                hasCode: false,\n                version: '101',\n                type: bl.tagName as KnownBlockTypes,\n                content: bl.textContent ? bl.textContent : '',\n                alternativeContent: null,\n                hasAlternativeContent: false,\n                id: data.blocks.length,\n                uuid: uuid.v4(),\n                parentID: data.id,\n                width: '100%',\n                height: '200px',\n                align: 'center',\n                readyCount: 0,\n                obj: null,\n                lineCountHint: -1,\n                blockly: {\n                    showControls: false,\n                    useOverride: false,\n                    toolbox: {\n                        categories: [],\n                    },\n                    toolboxOverride: '',\n                    blocks: [],\n                    _blockErrors: [],\n                },\n                errors: [],\n                readonly: isTrue(inBlock.readonly),\n                static: isTrue(inBlock.static),\n                hidden: isTrue(inBlock.hidden),\n                visibleLines:\n                    inBlock.visibleLines === undefined ||\n                    inBlock.visibleLines?.trim().toLowerCase() == 'auto'\n                        ? 'auto'\n                        : Number(inBlock.visibleLines),\n                shouldAutoreset: isTrue(inBlock.shouldAutoreset),\n\n                expanded:\n                    inBlock.expanded === undefined ||\n                    (inBlock.expanded != 'false' && inBlock.expanded != '0'),\n                codeExpanded: CodeExpansionType.AUTO,\n                noContent: isTrue(inBlock.noContent),\n                scopeUUID: inBlock.scopeUUID,\n                scopeSelector: inBlock.scopeSelector,\n            }\n\n            if (inBlock.codeExpanded !== undefined) {\n                if (\n                    inBlock.codeExpanded.toUpperCase() == 'TINY' ||\n                    inBlock.codeExpanded == 'false' ||\n                    inBlock.codeExpanded == '0'\n                ) {\n                    block.codeExpanded = CodeExpansionType.TINY\n                } else if (\n                    inBlock.codeExpanded.toUpperCase() == 'LARGE' ||\n                    inBlock.codeExpanded == '2'\n                ) {\n                    block.codeExpanded = CodeExpansionType.LARGE\n                }\n            }\n\n            if (!data.editMode && block.noContent) {\n                block.content = ''\n            }\n            if (inBlock.alternativeContent !== undefined && !block.static && !block.hidden) {\n                block.alternativeContent = inBlock.alternativeContent\n                block.hasAlternativeContent = true\n                if (!data.editMode && block.noContent) {\n                    block.content = block.alternativeContent\n                }\n            } else {\n                block.hasAlternativeContent = false\n            }\n\n            if (block.type != 'TEXT') {\n                console.log('BL', block.type, block.as)\n                if (block.as) {\n                    block.type = block.as\n                }\n                const loader = loaders[block.type]\n                console.d('LOADER', loader, loaders, block.type, block.as)\n                if (loader === undefined) {\n                    console.i('Skipping', block.type, block.as)\n                    return\n                } else {\n                    loader.loadFromDatablock(bl, inBlock, block, data.editMode)\n                }\n            }\n\n            data.blocks.push(this.constructBlock(data, block))\n        })\n        this.data = data\n\n        console.d('DATA', data)\n    }\n\n    instantiateVue() {\n        const data = this.data\n        const self = this\n        new Vue({\n            i18n,\n            render: function (h) {\n                @Component({\n                    data: function () {\n                        return data\n                    },\n                })\n                class MainBlock extends Vue implements IMainBlock {\n                    id!: number\n                    uuid!: string\n                    editMode!: boolean\n                    readonly!: boolean\n                    randomizer!: IRandomizerSettings\n                    blocks!: BlockData[]\n                    compiler!: ICompilerID\n                    language!: string\n                    runCode!: boolean\n                    domLibs!: string[]\n                    workerLibs!: string[]\n                    outputParser!: CodeOutputTypes\n                    solutionTheme!: string\n                    codeTheme!: string\n                    executionTimeout!: number\n                    maxCharacters!: number\n                    scopeUUID?: string\n                    scopeSelector?: string\n                    continuousCompilation!: boolean\n                    messagePassing!: boolean\n                    keepAlive!: boolean\n                    persistentArguments!: boolean\n\n                    initArgsForLanguage() {\n                        console.d('Constructing args for', this.language, this.defaultArgs)\n\n                        if (this.defaultArgs === undefined) {\n                            if (this.language === 'java') {\n                                return []\n                            } else {\n                                return {}\n                            }\n                        } else {\n                            return this.defaultArgs\n                        }\n                    }\n\n                    defaultArgs!: object | string[] | undefined\n                    storeDefaultArgs(args: object | string[]) {\n                        this.defaultArgs = args\n                    }\n                    clearDefaultArgs() {\n                        this.defaultArgs = undefined\n                    }\n\n                    swap(id1: number, id2: number) {\n                        const a = this.blocks[id1]\n                        this.blocks[id1] = this.blocks[id2]\n                        this.blocks[id2] = a\n\n                        this.blocks[id1].id = id1\n                        this.blocks[id2].id = id2\n                    }\n                    moveUp(id: number) {\n                        if (id <= 0) {\n                            return\n                        }\n                        this.swap(id - 1, id)\n                    }\n                    moveDown(id: number) {\n                        if (id >= this.blocks.length - 1) {\n                            return\n                        }\n                        this.swap(id, id + 1)\n                    }\n                    removeBlock(idx: number) {\n                        data.blocks.splice(idx, 1)\n                        for (let i = idx; i < data.blocks.length; i++) {\n                            data.blocks[i].id = i\n                        }\n                    }\n                    addNewBlock() {\n                        const block: IBlockDataBase = {\n                            noContent: false,\n                            alternativeContent: null,\n                            hasCode: true,\n                            type: KnownBlockTypes.BLOCK,\n                            content: '',\n                            id: data.blocks.length,\n                            uuid: uuid.v4(),\n                            parentID: data.id,\n                            expanded: true,\n                            codeExpanded: CodeExpansionType.AUTO,\n                            width: '100%',\n                            height: '200px',\n                            align: 'center',\n                            obj: null,\n                            readonly: false,\n                            static: true,\n                            hidden: false,\n                            version: '101',\n                            readyCount: 0,\n                            errors: [],\n                            scopeUUID: data.scopeUUID,\n                            scopeSelector: data.scopeSelector,\n                            visibleLines: 10,\n                            hasAlternativeContent: false,\n                            shouldAutoreset: false,\n                            blockly: {\n                                showControls: false,\n                                useOverride: false,\n                                toolboxOverride: '',\n                                toolbox: {\n                                    categories: [],\n                                },\n                                blocks: [],\n                                _blockErrors: [],\n                            },\n                            lineCountHint: -1,\n                        }\n                        data.blocks.push(self.constructBlock(data, block))\n                    }\n                }\n                const context = {\n                    props: {\n                        language: data.language,\n                        id: data.id,\n                        blocks: new MainBlock(),\n                    },\n                }\n                return h(data.editMode ? AppEditor : App, context)\n            },\n        }).$mount(this.element)\n    }\n}\n\nexport class MountableArray extends Array<InternalCodeBlocksManager> {\n    mount() {\n        this.forEach((el) => el.instantiateVue())\n    }\n}\n\nexport const CodeBlocksManager = {\n    find(scope: HTMLElement | Document | undefined) {\n        if (scope === undefined) {\n            scope = document\n        }\n        const allCodeBlockParents = scope.querySelectorAll(\n            'codeblocks, codeblockseditor, div[codeblocks], div[codeblockseditor]'\n        )\n        const result = new MountableArray()\n        allCodeBlockParents.forEach((el) => {\n            const cbm = new InternalCodeBlocksManager(el as HTMLElement)\n            let scope = cbm.data.scopeSelector\n                ? document.querySelector(cbm.data.scopeSelector)\n                : undefined\n            if (scope === undefined || scope === null) {\n                scope = el\n            }\n\n            Vue.$hljs.$vue.processElements(scope)\n            if (cbm.data.editMode) {\n                Vue.$tagger.processElements(scope)\n                cbm.data.scopeSelector = `[uuid=${scope.getAttribute('uuid')}]`\n                cbm.data.scopeUUID = scope.getAttribute('uuid')\n                    ? scope.getAttribute('uuid')!\n                    : undefined\n                cbm.data.blocks.forEach((b) => {\n                    b.scopeUUID = cbm.data.scopeUUID\n                    b.scopeSelector = cbm.data.scopeSelector\n                        ? cbm.data.scopeSelector\n                        : `[uuid=${b.scopeUUID}]`\n                })\n            }\n\n            result.push(cbm)\n        })\n        return result\n    },\n}\n","String.prototype.replaceAllPoly = function(search: string, replacement: string): string {\n    var target = this\n    return target.replace(new RegExp(search, 'g'), replacement)\n}\nString.prototype.replaceRec = function(pattern: string | RegExp, replacement: string): string {\n    var newstr = this.replace(pattern, replacement)\n    if (newstr == this) {\n        return newstr\n    }\n    return newstr.replaceRec(pattern, replacement)\n}\n\nconsole.d = function(...lines) {\n    if (process.env.NODE_ENV == 'development') {\n        console.debug('[DEBUG]', ...lines)\n    }\n}\n\nconsole.i = function(...lines) {\n    if (process.env.NODE_ENV == 'development') {\n        console.log('[INFO]', ...lines)\n    }\n}\n\nimport Vue from 'vue'\nimport 'reflect-metadata'\nimport './plugins/uuid'\nimport './plugins/quasar'\nimport './plugins/codemirror'\nimport './plugins/codeBlocks'\nimport './plugins/compilerState'\nimport './plugins/codemirror'\nimport './plugins/highlight'\nimport './plugins/tagger'\n//import './plugins/blocklyEnv'\n//remove \"noImplicitAny\": false from tsconfig when this file goes ts\nimport { CodeBlocksManager, MountableArray } from './lib/codeBlocksManager'\n\nVue.config.productionTip = false\nCodeBlocksManager.find(document).mount()\n\nwindow.mountInElement = function(element: any): void {\n    Vue.$hljs.$vue.processElements(element)\n    Vue.$tagger.processElements(element)\n    CodeBlocksManager.find(element).mount()\n}\n\nwindow.mountCodeBlocks = function(scope: HTMLElement | Document | undefined) {\n    return CodeBlocksManager.find(scope).mount()\n}\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--0-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodePlayground.vue?vue&type=style&index=1&lang=stylus&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlocksSettings.vue?vue&type=style&index=0&id=75cfd4ae&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=style&index=0&id=0368514c&scoped=true&lang=sass&\"","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\nimport { Quasar } from 'quasar'\n\nlet lang = document.getElementsByTagName('html')[0].getAttribute('lang')\nif (lang !== null) {\n    lang = lang.split('-', 2)[0]\n}\nVue.use(VueI18n)\n\nfunction loadLocaleMessages() {\n    const locales = require.context('../locales', true, /[A-Za-z0-9-_,\\s]+\\.json$/i)\n    const messages = {}\n    locales.keys().forEach(key => {\n        const matched = key.match(/([A-Za-z0-9-_]+)\\./i)\n        if (matched && matched.length > 1) {\n            const locale = matched[1]\n            messages[locale] = locales(key)\n        }\n    })\n    return messages\n}\n\nexport class I18n extends VueI18n {\n    public readonly $v: typeof VueI18n\n\n    constructor(options: VueI18n.I18nOptions) {\n        super(options)\n        this.$v = VueI18n\n    }\n}\n\nexport const i18n: I18n = new I18n({\n    locale: lang || process.env.VUE_APP_I18N_LOCALE || 'en',\n    fallbackLocale: process.env.VUE_APP_I18N_FALLBACK_LOCALE || 'en',\n    messages: loadLocaleMessages()\n})\n\nexport default i18n\nVue.prototype.$l = (key: string, values?: any[]): string => {\n    const res = i18n.t(key, values)\n    return res.toString()\n}\nVue.$l = Vue.prototype.$l\n"],"sourceRoot":""}