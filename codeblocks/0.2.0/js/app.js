(function(e){function t(t){for(var i,a,r=t[0],l=t[1],c=t[2],u=0,h=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(h.length)h.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],i=!0,r=1;r<o.length;r++){var l=o[r];0!==n[l]&&(i=!1)}i&&(s.splice(t--,1),e=a(a.s=o[0]))}return e}var i={},n={app:0},s=[];function a(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=i,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(o,i,function(t){return e[t]}.bind(null,i));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/Customizing/global/plugins/Modules/TestQuestionPool/Questions/assCodeQuestion/codeblocks/0.2.0/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0219":function(e,t,o){},"25dc":function(e,t,o){"use strict";var i=o("5419"),n=o.n(i);n.a},"33dc":function(e,t,o){},"389a":function(e,t,o){"use strict";var i=o("8622"),n=o.n(i);n.a},"48e4":function(e,t,o){"use strict";var i=o("6195"),n=o.n(i);n.a},"49f8":function(e,t,o){var i={"./de.json":"6ce2","./en.json":"edd4"};function n(e){var t=s(e);return o(t)}function s(e){if(!o.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=s,e.exports=n,n.id="49f8"},5419:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);var i=o("2b0e"),n=o("f029");i["a"].use(n["a"]);o("a4ac"),o("e54f"),o("4953"),o("e9fd"),o("1dba"),o("f5d1"),o("4848"),o("c382"),o("c00e"),o("f4d9");var s=o("fe09"),a=o("f6f8"),r=o.n(a),l=o("0680"),c=o.n(l);let d=document.getElementsByTagName("html")[0].getAttribute("lang");i["a"].use(s["t"],{config:{},components:{},directives:{},plugins:{Dialog:s["a"]},lang:"de"==d?r.a:c.a}),s["t"].lang.set("de"==d?r.a:c.a);var u=o("8f94"),h=o.n(u);o("a7be");i["a"].use(h.a,{});const p={c:{mime:"text/x-csrc",displayName:"C"},"c++":{mime:"text/x-c++src",displayName:"C++"},"c#":{mime:"text/x-csharp",displayName:"C#"},css:{mime:"text/css",displayName:"CSS"},fortran:{mime:"text/x-fortran",displayName:"Fortran"},glsl:{mime:"text/x-glsl",displayName:"GLSL"},html:{mime:"text/html",displayName:"HTML"},java:{mime:"text/x-java",displayName:"Java"},javascript:{mime:"text/javascript",displayName:"JavaScript"},objectivec:{mime:"text/x-objectivec",displayName:"Objective-C"},perl:{mime:"text/x-perl",displayName:"Perl"},php:{mime:"application/x-httpd-php",displayName:"PHP"},python:{mime:"text/x-python",displayName:"Python"},r:{mime:"text/x-rsrc",displayName:"R"},ruby:{mime:"text/x-ruby",displayName:"Ruby"},sql:{mime:"text/x-mysql",displayName:"MySQL"},xml:{mime:"application/xml",displayName:"XML"}};function m(e){let t={baseurl:""};const o=e.querySelectorAll("meta[name^=codeblocks]");return o.forEach(e=>{const o=e.getAttribute("name"),i=e.getAttribute("content");"codeblocks-baseurl"==o&&(t.baseurl=i)}),t}i["a"].prototype.$CodeBlock={format_info:function(e){return'<span style="color:green">'+e+"</span>"},format_error:function(e){return'<span style="color:red">'+e+"</span>"},processMixedOutput(e,t,o){if(void 0!==e&&Array.isArray(e))return{type:"json",json:e,text:""};void 0===o&&(o="\n\n<JSON>\n");const i=e.indexOf(o);if("auto"==t&&i>=0||"magic"==t){const t=e.substr(0,i);let s=void 0;const a=e.substr(i+o.length);try{s=JSON.parse(a)}catch(n){throw n.parsedString=a,console.log("catch"),n}return{type:"dual",json:s,text:t}}{const o=e.trim();if("auto"==t&&(0==o.indexOf("[")||0==o.indexOf("{"))||"json"==t)return{type:"json",json:JSON.parse(e),text:""}}return{type:"text",json:void 0,text:e}},mimeType(e){const t=p[e];return void 0===t?"text/javascript":t.mime},knownLanguages(){return Object.keys(p).map(e=>{return{label:p[e].displayName,value:e}}).sort((e,t)=>e.text<t.text?-1:1)},...m(document)},i["a"].$CodeBlock=i["a"].prototype.$CodeBlock,i["a"].prototype.SEVERITY_ERROR=2,i["a"].prototype.SEVERITY_WARNING=1,i["a"].$SEVERITY_ERROR=i["a"].prototype.SEVERITY_ERROR,i["a"].$SEVERITY_WARNING=i["a"].prototype.SEVERITY_WARNING,i["a"].prototype.$compilerState=new i["a"]({data:function(){return{globalStateHidden:!0,globalStateMessage:"",runButtonForceHide:!1}},methods:{hideGlobalState(){this.displayGlobalState(null)},setAllRunButtons(e){this.runButtonForceHide=!e},displayGlobalState(e){this.globalStateHidden=null===e||void 0===e||""===e,this.globalStateMessage=e}}});var g=o("a70e"),b=o.n(g);o("0dbe"),o("d8af");b.a.configure({useBR:!1}),b.a.registerLanguage("c",o("0209")),b.a.registerLanguage("c++",o("0209")),b.a.registerLanguage("c#",o("bb63")),b.a.registerLanguage("css",o("ee8c")),b.a.registerLanguage("fortran",o("485f")),b.a.registerLanguage("glsl",o("df06")),b.a.registerLanguage("html",o("8dcb")),b.a.registerLanguage("java",o("332f")),b.a.registerLanguage("javascript",o("4dd1")),b.a.registerLanguage("objectivec",o("9bf2")),b.a.registerLanguage("perl",o("6a51")),b.a.registerLanguage("php",o("2907")),b.a.registerLanguage("python",o("9510")),b.a.registerLanguage("r",o("26bc")),b.a.registerLanguage("ruby",o("82cb")),b.a.registerLanguage("sql",o("de09")),b.a.registerLanguage("xml",o("8dcb"));const v=/(\[hl\]|\[hl\s+language="?(.*?)"?\])(.*?)(\[\/hl\])/gm,f=/(\[code\]|\[code\s+language="?(.*?)"?\])([\s\S]*?)(\[\/code\])/gm;b.a.$vue={processElements:function(e,t){void 0===e&&(e=document);const o=e.querySelectorAll("[highlight]");o.forEach(e=>{void 0===t&&e.hasAttribute("highlight")&&(t=e.getAttribute("highlight")),this.processElement(e,t)})},processElement:function(e,t){void 0===t&&e.hasAttribute("highlight")&&(t=e.getAttribute("highlight")),e.innerHTML=e.innerHTML.replace(v,(function(e,o,i,n,s){const a=void 0===i?t:i;return a?"<span is-code>"+b.a.highlight(a,n).value+"</span>":"<span is-code>"+b.a.highlightAuto(n).value+"</span>"})),e.innerHTML=e.innerHTML.replace(f,(function(e,o,i,n,s){const a=void 0===i?t:i;return n=n.replace(/<br( +\/)?>/g,"\n").replace(/&nbsp;/g," "),a?"<pre is-code>"+b.a.highlight(a,n).value+"</pre>":"<spprean is-code>"+b.a.highlightAuto(n).value+"</pre>"}))}},window.highlightAll=function(){b.a.$vue.processElements()},i["a"].$hljs=b.a,i["a"].directive("highlight",{deep:!0,bind:function(e,t){b.a.$vue.processElement(e,t.value)},componentUpdated:function(e,t){b.a.$vue.processElement(e,t.value)}});var k=o("a925");let y=document.getElementsByTagName("html")[0].getAttribute("lang");function C(){const e=o("49f8"),t={};return e.keys().forEach(o=>{const i=o.match(/([A-Za-z0-9-_]+)\./i);if(i&&i.length>1){const n=i[1];t[n]=e(o)}}),t}y=y.split("-",2)[0],i["a"].use(k["a"]);var x=new k["a"]({locale:y||"en",fallbackLocale:"en",messages:C(),$v:k["a"]});o("ea5a");const w=/\{(:|!)([\w]+)}/g;i["a"].$tagger=new i["a"]({data:function(){return{className:{rnd:"random-tag-placeholder",templ:"template-tag-placeholder"}}},methods:{getMarkers(e){if(void 0===e||null===e)return[];let t,o=e.split("\n"),i=[];for(let n=0;n<o.length;n++){let e=new RegExp(w);while(null!==(t=e.exec(o[n])))t.index===e.lastIndex&&e.lastIndex++,i.push({start:{line:n,ch:t.index},end:{line:n,ch:e.lastIndex},type:":"==t[1]?"rnd":"templ",name:t[2]})}return i},processElements:function(e){let t=void 0;void 0===e?e=document:e.hasAttribute("uuid")?t=e.getAttribute("uuid"):(t=this.$uuid.v4(),e.setAttribute("uuid",t));const o=e.querySelectorAll("[tagged]");o.forEach(e=>{this.processElement(e,t)})},processElement:function(e,t){e.innerHTML=this.processString(e.innerHTML,t),this.hookClick(e,t)},processString:function(e,t){return e.replace(w,(e,t,o)=>{const i=":"===t?this.className.rnd:this.className.templ;return`<span class="q-mb-xs  tag-mark-start tag-mark-end ${i}" >`+e+"</span>"})},hookClick:function(e,t){let o=e.querySelectorAll("."+this.className.templ);o.forEach(e=>{let o=e.innerText.replace(w,(e,t,o)=>{return o});e.onclick=()=>{this.clickFunction(o,e,t)}})},replaceTemplateTag(e,t,o){void 0===e&&(e=document);let i=e.querySelectorAll("."+this.className.templ);i.forEach(e=>{e.innerHTML=this.replaceTemplateTagInString(e.innerHTML,t,o)})},replaceTemplateTagInString(e,t,o){return e.replace(w,(e,i,n)=>{return"!"==i&&n==t?o:e})},replaceRandomTagsInString(e,t){return e.replace(w,(e,o,i)=>{if(":"==o){const o=t.values.find(e=>e.tag==i);return void 0!==o?o.value:e}return e})},clickFunction:function(e,t,o){console.log(x),i["a"].prototype.$q.dialog({title:x.t("Tagger.ConfirmRepl"),message:x.t("Tagger.ConfirmReplMsg",{name:'<span class="template-tag-placeholder-noclick">'+e+"</span>"}),html:!0,persistent:!0,prompt:{model:"{!"+e+"}",type:"text"},ok:{push:!0,color:"negative",icon:"warning"},cancel:{push:!0,color:"positive"},persistent:!0}).onOk(t=>{this.replaceTemplateTag($(`[uuid=${o}]`).get(0),e,t),console.log(o),this.$emit("replace-template-tag",{name:e,newValue:t,scopeUUID:o})}).onCancel(()=>{}).onDismiss(()=>{self.highlighted=!1})}}}),i["a"].directive("tagged",{deep:!0,bind:function(e,t){i["a"].$tagger.processElement(e,t.value)},componentUpdated:function(e,t){i["a"].$tagger.processElement(e,t.value)}});const T={prefix:'let editors=[]; $(".CodeMirror").toArray().forEach(cm =>  {if (!cm.CodeMirror.getTextArea().hasAttribute("is-editmode")) editors[cm.CodeMirror.getTextArea().id] = cm.CodeMirror}); return function(){ return {o:',postfix:"}.o}.call({})"},S={prefix:'"use strict"; return function(){ return {o:',postfix:"}.o}.call({})"},E=function(e,t){let o,i;if(console.error(e),e.line?o=e.line:e.lineNumber&&(o=e.lineNumber),e.column?i=e.column:e.columnNumber&&(i=e.columnNumber),void 0===o){let t=e.stack.split("\n");if(t.length>1){const e=/<anonymous>:(\d+):(\d+)/gm;let n;null!==(n=e.exec(t[1]))&&(o=Number(n[1])-1,i=Number(n[2])-1)}}return void 0!==o&&(o--,1==o&&void 0!==t&&(i-=t.prefix.length)),{line:o,column:i,msg:e.message}};i["a"].prototype.$jsErrorParser=E;class L{constructor(e,t){this.err=[],this.src=void 0,this.version=t,this.obj=void 0,this.fkt=void 0,this.rebuild(e)}requestsOriginalVersion(){return"100"==this.version||""==this.version||void 0===this.version}invalidate(){this.obj=void 0}rebuild(e){if(void 0!==e)try{this.err=[],console.log("!!! REBUILDING !!!"),this.src=e,this.requestsOriginalVersion()?this.fkt=new Function(T.prefix+e+T.postfix):this.fkt=new Function(S.prefix+e+S.postfix),this.obj=this.fkt()}catch(t){this.pushError(t)}else this.obj=this.fkt()}pushError(e){this.err.push(E(e))}init(e,t){if(void 0!==this.obj)try{if(console.log("!!! INIT !!!"),this.requestsOriginalVersion())this.obj.init(e);else{let o=void 0;void 0!==t&&0!==t.length||(t=e.parents(".codeblocks")),void 0!==t&&(o=t.find("div.runner pre.output")),this.obj.init(e,o,t)}}catch(o){this.pushError(o)}}reset(e){this.obj&&this.obj.reset&&!this.requestsOriginalVersion()&&this.obj.reset(e)}update(e,t){if(void 0===this.obj)return e.output;try{if(this.obj.update)return 2==this.obj.update.length||this.requestsOriginalVersion()?"json"==e.processedOutput.type?(console.log("!!! UPDATE (org, json) !!!"),this.obj.update(e.processedOutput.json,t)):(console.log("!!! UPDATE (org, text) !!!"),this.obj.update(e.output,t)):(console.log("!!! UPDATE ("+this.version+")!!!"),this.obj.update(e.processedOutput.text,e.processedOutput.json,t,e.outputElement))}catch(o){this.pushError(o)}return e.initialOutput}onParseError(e,t){if(void 0===this.obj)return!1;try{if(!this.obj.onParseError)return console.error(t),!1;this.obj.onParseError(e,t)}catch(o){return this.pushError(o),!1}return!0}}var R=L,O=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-layout",{staticStyle:{"min-height":"0"},attrs:{view:"hHh lpR fFf"}},[o("q-page-container",[o("CodeBlocks",{attrs:{blockInfo:e.blocks}})],1)],1)},_=[],B=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:"codeblocks "+e.addonClass+"  "+e.backgroundColorClass+" q-mx-sm q-mb-md",attrs:{"data-question":e.blockInfo.id,uuid:e.blockInfo.uuid}},[e.editMode?o("CodeBlocksSettings",{attrs:{options:e.options},on:{"compiler-change":e.onCompilerChange,"compiler-version-change":e.onCompilerVersionChange,"run-state-change":e.onRunStateChange,"language-change":e.onLanguageChange,"character-limit-change":e.onCharacterLimitChange,"timeout-change":e.onTimeoutChange,"worker-libs-change":e.onWorkerLibChange,"dom-libs-change":e.onDomLibChange,"theme-change":e.onThemeChange,"output-parser-change":e.onOutputParserChange}}):e._e(),e._l(e.blocks,(function(t){return o("CodeBlockContainer",{key:t.id,attrs:{block:t,editMode:e.editMode},on:{"type-change":e.onTypeChange,"visible-lines-change":e.onVisibleLinesChange,"placement-change":e.onPlacementChange,"script-version-change":e.onScriptVersionChange,"move-up":e.moveUp,"move-down":e.moveDown,"remove-block":e.removeBlock,"auto-reset-change":e.onSetAutoReset}},[t.hasCode&&"BLOCKLY"!=t.type?o("CodeBlock",{attrs:{block:t,theme:e.themeForBlock(t),mode:e.mimeType,visibleLines:t.visibleLines,editMode:e.editMode,readonly:e.readonly,tagSet:e.activeTagSet},on:{ready:e.blockBecameReady,build:e.run}}):"PLAYGROUND"==t.type?o("CodePlayground",{attrs:{block:t,editMode:e.editMode,finalOutputObject:e.finalOutputObject,theme:e.themeForBlock(t),tagSet:e.activeTagSet,eventHub:e.eventHub},on:{changeOutput:e.onPlaygroundChangedOutput,ready:e.blockBecameReady}}):"TEXT"==t.type?o("SimpleText",{attrs:{block:t,previewValue:t.actualContent(),editMode:e.editMode,name:"block["+t.parentID+"]["+t.id+"]",scopeUUID:t.scopeUUID,tagSet:e.activeTagSet,language:e.language},on:{ready:e.blockBecameReady},model:{value:t.content,callback:function(o){e.$set(t,"content",o)},expression:"block.content"}}):"BLOCKLY"==t.type?o("Blockly",{attrs:{block:t,theme:e.themeForBlock(t),editMode:e.editMode,readonly:e.readonly,tagSet:e.activeTagSet}}):e._e()],1)})),e.editMode?o("div",{staticClass:"row justify-end"},[o("div",[o("q-btn",{attrs:{push:"",color:"green"},on:{click:e.addNewBlock}},[e._v(e._s(e.$t("CodeBlocks.AddBlock"))+" "),o("q-icon",{staticClass:"q-ml-sm",attrs:{name:"library_add"}})],1)],1)]):e._e(),e.canRun?o("div",{class:"runner "+(e.editMode?"q-pt-lg q-mx-lg":""),attrs:{id:"runContainer","data-question":e.blockInfo.id}},[o("div",{staticClass:"row runnerState",attrs:{id:"stateBox","data-question":e.blockInfo.id}},[o("q-btn",{staticClass:"white--text",staticStyle:{"border-radius":"0px"},attrs:{id:"allow_run_button",loading:!e.isReady,disabled:!e.isReady,color:"primary",ripple:{center:!0},"data-question":e.blockInfo.id},on:{click:e.run}},[e._v(" "+e._s(e.$t("CodeBlocks.run"))+" "),o("q-icon",{attrs:{right:"",dark:"",name:"play_arrow"}}),e.editMode?o("q-tooltip",{attrs:{delay:200}},[o("span",{domProps:{innerHTML:e._s(e.$t("CodeBlocks.run_hint"))}})]):e._e()],1),o("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.showGlobalMessages,expression:"showGlobalMessages"}],staticClass:"globalState col-grow",staticStyle:{"align-self":"center"}},[o("div",{attrs:{id:"message"},domProps:{innerHTML:e._s(e.$compilerState.globalStateMessage)}})])])],1),o("q-slide-transition",[e.hasOutput?o("pre",{ref:"output",staticClass:"output",attrs:{id:e.blockInfo.id+"Output"}},[o("div",{attrs:{id:"out"},domProps:{innerHTML:e._s(e.outputHTML)}})]):e._e()])],1):e._e()],2)},q=[],j=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"block-container",attrs:{"data-question":e.block.parentID,"data-nr":e.block.id,uuid:e.block.uuid}},[e.editMode?o("q-card",{class:"q-mx-none q-my-xs q-pa-none editModeBlockContainer "+e.colorClass+" "+e.bgClass},[o("q-card-section",{staticClass:"q-mb-none q-pb-sm q-pt-sm "},[o("div",{staticClass:"row q-my-none q-py-none",attrs:{dense:""}},[o("div",{staticClass:"col-xs-12 col-sm-4 col-md-4 q-my-none q-py-none"},[o("q-select",{staticStyle:{"margin-top":"-5px !important"},attrs:{options:e.types,dense:""},scopedSlots:e._u([{key:"after",fn:function(){return[o("q-btn",{attrs:{flat:"",round:"",color:"primary",icon:"info",size:"xs"},on:{click:e.showTypeInfoDialog}})]},proxy:!0}],null,!1,3671508059),model:{value:e.typeObj,callback:function(t){e.typeObj=t},expression:"typeObj"}})],1),o("div",{staticClass:"col-grow"}),o("div",{staticClass:"order-xs-first order-sm-last col-xs-12 col-sm-8 col-md-5 q-my-none q-py-none text-right"},[e.hasExtendedSettings?o("q-btn",{attrs:{icon:"settings",color:"blue-7",push:"",dense:""}},[o("q-popup-proxy",[e.canSetLineNumbers?o("div",{staticClass:"q-pa-md"},[o("div",{staticClass:"row no-wrap q-pa-none"},[o("div",{staticClass:"text-overline"},[e._v(e._s(e.$t("CodeBlockContainer.Display")))])]),o("div",{staticClass:"row no-wrap q-pl-md"},[o("div",{staticClass:"col-7"},[o("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.$t("CodeBlockContainer.Lines")))]),o("div",{staticClass:"text-caption text-blue-grey-4",domProps:{innerHTML:e._s(e.$t("CodeBlockContainer.Lines_detail"))}})]),o("div",{staticClass:"col-5 q-pl-sm"},[o("q-input",{staticStyle:{width:"132px"},attrs:{rules:[e.validNumber],maxlength:"4"},model:{value:e.visibleLines,callback:function(t){e.visibleLines=t},expression:"visibleLines"}})],1)]),e.canHaveAlternativeContent?o("div",{staticClass:"row no-wrap q-pl-md"},[o("div",{staticClass:"col-7"},[o("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.$t("CodeBlockContainer.Prepopulate")))]),o("div",{staticClass:"text-caption text-blue-grey-4",attrs:{lines:"2"}},[e._v(e._s(e.$t("CodeBlockContainer.Prepopulate_detail")))])]),o("div",{staticClass:"col-5 q-pl-sm"},[o("q-toggle",{model:{value:e.hasAltComntent,callback:function(t){e.hasAltComntent=t},expression:"hasAltComntent"}})],1)]):e._e()]):e._e(),e.isVersionedPlayground?o("div",{staticClass:"q-pa-md"},[o("div",{staticClass:"row no-wrap q-pa-none"},[o("div",{staticClass:"text-overline"},[e._v(e._s(e.$t("CodeBlockContainer.Behaviour")))])]),o("div",{staticClass:"row no-wrap q-pl-md"},[o("div",{staticClass:"col-7"},[o("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.$t("CodeBlockContainer.ScriptV")))]),o("div",{staticClass:"text-caption text-blue-grey-4"},[e._v(e._s(e.$t("CodeBlockContainer.ScriptV_detail")))])]),o("div",{staticClass:"col-5 q-pl-sm"},[o("q-select",{attrs:{options:e.scriptVersions},model:{value:e.scriptVersionObj,callback:function(t){e.scriptVersionObj=t},expression:"scriptVersionObj"}})],1)]),o("div",{staticClass:"row no-wrap q-pl-md"},[o("div",{staticClass:"col-7"},[o("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.$t("CodeBlockContainer.AutoReset")))]),o("div",{staticClass:"text-caption text-blue-grey-4"},[e._v(e._s(e.$t("CodeBlockContainer.AutoReset_detail")))])]),o("div",{staticClass:"col-5 q-pl-sm"},[o("q-toggle",{model:{value:e.shouldAutoReset,callback:function(t){e.shouldAutoReset=t},expression:"shouldAutoReset"}})],1)])]):e._e(),e.canDefinePlacement?o("div",{staticClass:"q-pa-md"},[o("div",{staticClass:"row no-wrap q-pa-none"},[o("div",{staticClass:"text-overline"},[e._v(e._s(e.$t("CodeBlockContainer.Positioning")))])]),o("div",{staticClass:"row no-wrap q-pl-md q-pb-md"},[o("div",{staticClass:"col-7"},[o("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.$t("CodeBlockContainer.Width")))]),o("div",{staticClass:"text-caption text-blue-grey-4"},[e._v(e._s(e.$t("CodeBlockContainer.Width_detail")))])]),o("div",{staticClass:"col-5 q-pl-sm"},[o("q-input",{attrs:{maxlength:"7",dense:""},model:{value:e.width,callback:function(t){e.width=t},expression:"width"}})],1)]),o("div",{staticClass:"row no-wrap q-pl-md q-pb-md"},[o("div",{staticClass:"col-7"},[o("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.$t("CodeBlockContainer.Height")))]),o("div",{staticClass:"text-caption text-blue-grey-4"},[e._v(e._s(e.$t("CodeBlockContainer.Height_detail")))])]),o("div",{staticClass:"col-5 q-pl-sm"},[o("q-input",{attrs:{maxlength:"7",dense:""},model:{value:e.height,callback:function(t){e.height=t},expression:"height"}})],1)]),o("div",{staticClass:"row no-wrap q-pl-md"},[o("div",{staticClass:"col-7"},[o("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.$t("CodeBlockContainer.Alignment")))]),o("div",{staticClass:"text-caption text-blue-grey-4"},[e._v(e._s(e.$t("CodeBlockContainer.Alignment_detail")))])]),o("div",{staticClass:"col-5 q-pl-sm"},[o("q-select",{attrs:{options:e.alignments,dense:""},model:{value:e.align,callback:function(t){e.align=t},expression:"align"}})],1)])]):e._e()])],1):e._e(),o("q-btn",{staticClass:"q-ml-md q-mr-xs",attrs:{disable:!e.canMoveUp,icon:"arrow_drop_up",push:"",dense:"",color:"orange-6",ripple:{center:!0}},on:{click:e.moveUp}}),o("q-btn",{staticClass:"q-mr-md",attrs:{disabled:!e.canMoveDown,icon:"arrow_drop_down",push:"",dense:"",color:"orange-6",ripple:{center:!0}},on:{click:e.moveDown}}),o("q-btn",{staticClass:"gt-xs q-mr-sm-sm q-mr-md-lg q-pr-sm",attrs:{label:e.$t("CodeBlockContainer.Delete"),icon:"warning",push:"",dense:"",color:"red-6",right:"",ripple:{center:!0}},on:{click:e.removeBlock}}),o("q-btn",{staticClass:"lt-sm q-mr-lg q-pr-none",attrs:{icon:"warning",push:"",dense:"",color:"red-6",right:"",ripple:{center:!0}},on:{click:e.removeBlock}}),o("q-btn",{staticStyle:{"margin-right":"-9px"},attrs:{icon:"",color:"primary",small:"",flat:"",round:""},on:{click:e.toggleExpanded}},[o("q-icon",{attrs:{name:e.expanded?"expand_less":"expand_more",size:"24"}})],1)],1)]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.serializedOptions,expression:"serializedOptions"}],staticClass:"blockoptions",attrs:{name:"block_options["+this.block.parentID+"]["+this.block.id+"]"},domProps:{value:e.serializedOptions},on:{input:function(t){t.target.composing||(e.serializedOptions=t.target.value)}}})]),o("q-slide-transition",[o("q-card-section",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"my-0 q-pt-1 q-pb-0"},[e._t("default")],2)],1)],1):o("div",{staticClass:"ma-0 pa-0"},[e._t("default")],2)],1)},I=[],A={data:function(){return{settingsMenu:!1,highlighted:!1,alignments:[{label:this.$t("CodeBlockContainer.Start"),value:"left"},{label:this.$t("CodeBlockContainer.Center"),value:"center"},{label:this.$t("CodeBlockContainer.End"),value:"right"}],scriptVersions:[{label:this.$t("CodeBlockContainer.ScriptVersion_1"),value:"100"},{label:this.$t("CodeBlockContainer.ScriptVersion_2"),value:"101"}],types:[{label:this.$t("CodeBlockContainer.Canvas"),value:"PLAYGROUND"},{label:this.$t("CodeBlockContainer.Text"),value:"TEXT"},{label:this.$t("CodeBlockContainer.Hidden"),value:"BLOCK-hidden"},{label:this.$t("CodeBlockContainer.Static"),value:"BLOCK-static"},{label:this.$t("CodeBlockContainer.Block"),value:"BLOCK"},{label:this.$t("CodeBlockContainer.Blockly"),value:"BLOCKLY"}]}},props:{block:{type:Object,required:!0},editMode:{type:Boolean,default:!1}},methods:{validNumber(e){return"auto"==e||!isNaN(e)||"Must be a valid Number or 'auto'."},toggleExpanded(){this.expanded=!this.expanded},moveUp(){this.$emit("move-up",this.block.id)},moveDown(){this.$emit("move-down",this.block.id)},showTypeInfoDialog(){this.$q.dialog({title:this.$t("CodeBlockContainer.TypesCaption"),message:this.$t("CodeBlockContainer.Types"),html:!0,style:"width:75%"}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})},removeBlock(){const e=this;e.highlighted=!0,this.$q.dialog({title:this.$t("CodeBlockContainer.Confirm"),message:this.$t("CodeBlockContainer.DeleteQuestion"),html:!0,ok:{push:!0,color:"negative",icon:"warning"},cancel:{push:!0,color:"positive"},persistent:!0}).onOk(()=>{this.$emit("remove-block",this.block.id)}).onCancel(()=>{}).onDismiss(()=>{e.highlighted=!1})}},computed:{expanded:{get(){return this.block.expanded},set(e){this.block.expanded=e}},canMoveUp(){return this.block.id>0},canMoveDown(){return!this.block.isLast},serializedOptions:{get(){let e={};return Object.keys(this.block).filter(e=>0!=e.indexOf("$")&&0!=e.indexOf("_")&&"obj"!=e&&"errors"!=e&&"content"!=e&&"firstLine"!=e&&"nextLine"!=e&&"lineCount"!=e&&"hasCode"!=e&&"isLast"!=e&&"readyCount"!=e&&"noContent"!=e&&"uuid"!=e&&"scopeUUID"!=e).forEach(t=>e[t]=this.block[t]),JSON.stringify(e)},set(e){}},hasExtendedSettings(){return"PLAYGROUND"==this.type||"BLOCK"==this.type},isVersionedPlayground(){return"PLAYGROUND"==this.type},canSetLineNumbers(){return"BLOCK"==this.type},canHaveAlternativeContent(){return"BLOCK"==this.type},canDefinePlacement(){return"PLAYGROUND"==this.type},shouldAutoReset:{get(){return this.block.shouldAutoreset},set(e){this.$emit("auto-reset-change",{shouldAutoreset:e,id:this.block.id})}},scriptVersion(){return void 0===this.block||void 0===this.block.version||""==this.block.version?"100":this.block.version},scriptVersionObj:{get(){return this.scriptVersions.find(e=>e.value==this.scriptVersion)},set(e){this.$emit("script-version-change",{version:e.value,id:this.block.id})}},hasAltComntent:{get(){return this.block.hasAlternativeContent},set(e){e!=this.block.hasAlternativeContent&&e&&this.$nextTick(()=>{setTimeout((function(){$(".CodeMirror").toArray().forEach(e=>{e.CodeMirror.refresh()})}),200)}),this.block.hasAlternativeContent=e}},colorClass(){const e=this.type;return"TEXT"==e?"text-border":"PLAYGROUND"==e?"playground-border":"q-t"==e?"block-border":"BLOCK-hidden"==e?"block-hidden-border":"BLOCK-static"==e?"block-static-border":"default-border"},bgClass(){return this.highlighted?"highlightedCard":""},type(){if("BLOCK"==this.block.type){if(this.block.hidden)return"BLOCK-hidden";if(this.block.static)return"BLOCK-static"}return this.block.type},typeObj:{get(){return this.types.find(e=>e.value==this.type)},set(e){e=e.value;let t={type:e.match(/([^-]*)/)[0],hidden:"BLOCK-hidden"==e,static:"BLOCK-static"==e,id:this.block.id};t.hasCode="BLOCK"==t.type,"PLAYGROUND"==t.type&&""===this.block.content&&this.editMode&&(100==this.block.scriptVersion?this.block.content="{\n    init: function(canvasElement) {\n\n    },\n    update: function(output, canvasElement) {\n\n    }\n}":this.block.content="{\n    init: function(canvasElement, outputElement, scope) {\n\n    },\n    reset(canvasElement) {},\n    update: function(txt, json, canvasElement, outputElement) {\n\n    }\n}"),this.$emit("type-change",t)}},visibleLines:{get(){return this.block.visibleLines},set(e){this.$emit("visible-lines-change",{visibleLines:isNaN(e)?e:new Number(e),id:this.block.id})}},width:{get(){return this.block.width},set(e){this.$emit("placement-change",{width:e,height:this.block.height,align:this.block.align,id:this.block.id})}},height:{get(){return this.block.height},set(e){this.$emit("placement-change",{width:this.block.width,height:e,align:this.block.align,id:this.block.id})}},align:{get(){return this.alignments.find(e=>e.value==this.block.align)},set(e){this.$emit("placement-change",{width:this.block.width,height:this.block.height,align:e.value,id:this.block.id})}}}},M=A,D=(o("ab8d"),o("2877")),P=Object(D["a"])(M,j,I,!1,null,null,null),N=P.exports;P.options.components=Object.assign({QCard:s["d"],QCardSection:s["e"],QSelect:s["p"],QBtn:s["c"],QPopupProxy:s["o"],QInput:s["h"],QToggle:s["r"],QIcon:s["g"],QSlideTransition:s["q"]},P.options.components||{});var z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row q-pa-none q-mb-md"},[o("div",{staticClass:"col-xs-12 col-sm-4"},[o("q-card",{staticClass:"q-mb-sm q-mr-sm-xs"},[o("q-card-section",{staticClass:"text-overline"},[e._v(e._s(e.$t("CodeBlocksSettings.Language")))]),o("q-card-section",{staticClass:"q-ml-md"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("q-toggle",{attrs:{disabled:!e.languageHasCompiler,label:e.$t("CodeBlocksSettings.AllowExec")},model:{value:e.runCode,callback:function(t){e.runCode=t},expression:"runCode"}})],1),o("div",{class:"col-xs-12 col-md-"+(e.runCode?8:12)+" "+(e.runCode?"q-pr-md-sm":"")},[o("q-select",{attrs:{options:e.compiledLanguages,label:e.$t("CodeBlocksSettings.Language")},model:{value:e.compilerLanguageObj,callback:function(t){e.compilerLanguageObj=t},expression:"compilerLanguageObj"}})],1),e.runCode?o("div",{staticClass:"col-xs-12 col-md-4"},[o("q-select",{attrs:{options:e.compilerVersions,label:e.$t("CodeBlocksSettings.CVersion")},model:{value:e.compilerVersion,callback:function(t){e.compilerVersion=t},expression:"compilerVersion"}})],1):e._e(),e.runCode?o("div",{staticClass:"col-12"},[o("q-input",{attrs:{rules:[e.validNumber],label:e.$t("CodeBlocksSettings.RunTime"),maxlength:"6"},model:{value:e.maxRuntime,callback:function(t){e.maxRuntime=t},expression:"maxRuntime"}})],1):e._e()])])],1)],1),o("div",{staticClass:"col-xs-12 col-sm-4"},[o("q-slide-transition",[e.runCode?o("q-card",{staticClass:"q-mb-sm q-mr-sm-xs"},[o("q-card-section",{staticClass:"text-overline"},[e._v(e._s(e.$t("CodeBlocksSettings.Output")))]),o("q-card-section",{staticClass:"q-ml-md"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-xs-12 col-md-6 col-12 q-pr-md-sm"},[o("q-input",{attrs:{rules:[e.validNumber],label:e.$t("CodeBlocksSettings.MaxCharacters"),maxlength:"6"},model:{value:e.maxCharacters,callback:function(t){e.maxCharacters=t},expression:"maxCharacters"}})],1),o("div",{staticClass:"col-xs-12 col-md-6"},[o("q-select",{attrs:{options:e.outputParsers,label:e.$t("CodeBlocksSettings.Parser")},model:{value:e.outputParser,callback:function(t){e.outputParser=t},expression:"outputParser"}})],1)])])],1):e._e()],1),o("q-card",{staticClass:"q-mr-sm-xs"},[o("q-card-section",{staticClass:"text-overline"},[e._v(e._s(e.$t("CodeBlocksSettings.Themes")))]),o("q-card-section",{staticClass:"q-ml-md"},[o("div",{staticClass:"row",attrs:{dense:""}},[o("div",{staticClass:"col-xs-12 col-md-6 q-pr-md-sm"},[o("q-select",{attrs:{options:e.themes,label:e.$t("CodeBlocksSettings.TGeneral")},model:{value:e.codeTheme,callback:function(t){e.codeTheme=t},expression:"codeTheme"}})],1),o("div",{staticClass:"col-xs-12 col-md-6"},[o("q-select",{attrs:{options:e.themes,label:e.$t("CodeBlocksSettings.TSolution")},model:{value:e.solutionTheme,callback:function(t){e.solutionTheme=t},expression:"solutionTheme"}})],1)])])],1)],1),o("q-slide-transition",[e.runCode?o("div",{staticClass:"col-xs-12 col-sm-4"},[o("q-card",[o("q-card-section",{staticClass:"text-overline"},[e._v(e._s(e.$t("CodeBlocksSettings.Libraries")))]),o("q-card-section",{staticClass:"q-ml-md"},[o("div",{staticClass:"row q-my-none q-py-none",attrs:{dense:""}},[o("div",{staticClass:"col-xs-12 q-my-none q-py-none"},[o("q-select",{attrs:{options:e.domLibraries,multiple:"","use-chips":"","stack-label":"","deletable-chips":"",label:e.$t("CodeBlocksSettings.DomLibs")},model:{value:e.domLibrary,callback:function(t){e.domLibrary=t},expression:"domLibrary"}})],1),e.runCode&&e.workerLibraries.length>0?o("div",{staticClass:"col-xs-12 q-my-none q-py-none"},[o("q-select",{attrs:{options:e.workerLibraries,multiple:"","use-chips":"","stack-label":"","deletable-chips":"",label:e.$t("CodeBlocksSettings.WorkLibs")},model:{value:e.workerLibrary,callback:function(t){e.workerLibrary=t},expression:"workerLibrary"}})],1):e._e()])])],1)],1):e._e()]),o("div",{class:"col-xs-"+(e.options.randomizer.active,"12")+" q-mt-sm"},[o("RandomizerSettings",{attrs:{options:e.options}})],1),o("div",{staticClass:"col-xs-12"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.serializedOptions,expression:"serializedOptions"}],staticClass:"blocksettings",attrs:{name:"block_settings["+this.options.id+"]"},domProps:{value:e.serializedOptions},on:{input:function(t){t.target.composing||(e.serializedOptions=t.target.value)}}})])],1)},V=[],U=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("q-card",[o("q-card-section",{staticClass:"text-overline"},[e._v(e._s(e.$t("RandomizerSettings.Caption"))+" "),o("q-toggle",{model:{value:e.options.randomizer.active,callback:function(t){e.$set(e.options.randomizer,"active",t)},expression:"options.randomizer.active"}})],1),o("q-slide-transition",[o("q-card-section",{directives:[{name:"show",rawName:"v-show",value:e.options.randomizer.active,expression:"options.randomizer.active"}],staticClass:"q-ml-md"},[o("div",{staticClass:"tagList"},[o("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.$t("RandomizerSettings.Available"))+" "),o("q-btn",{staticClass:"gt-xs",attrs:{color:"primary",size:"12px",flat:"",dense:"",round:"",icon:"add"},on:{click:e.addTag}})],1),o("div",{staticClass:"row q-mb-sm"},e._l(e.options.randomizer.knownTags,(function(t,i){return o("div",{key:t,class:"tagItem q-ml-sm "+e.tagClass},[o("div",{staticClass:"row no-wrap"},[o("div",{staticClass:"tagInfo col-shrink"},[o("div",{staticClass:"tagName"},[e._v(e._s(t))]),o("div",{staticClass:"tagString"},[e._v("{:"+e._s(t)+"}")])]),o("div",{staticClass:"tagAction col-4 q-pl-sm text-right"},[o("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(t){return e.removeTag(i)}}})],1)])])})),0)]),o("div",{staticClass:"tagList q-mt-lg"},[o("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.$t("RandomizerSettings.Sets"))+" "),o("q-btn",{staticClass:"gt-xs",attrs:{color:"primary",size:"12px",flat:"",dense:"",round:"",icon:"add"},on:{click:e.addSet}})],1),o("q-list",{staticClass:"setList"},e._l(e.options.randomizer.sets,(function(t,i){return o("q-item",{key:t.uuid},[o("q-item-section",{attrs:{avatar:""}},[o("q-avatar",{attrs:{color:"primary","text-color":"white",disabled:!e.isVisible(i)}},[e._v(" "+e._s(i)+" ")])],1),o("q-item-section",[o("q-item-label",[e._v(e._s(t.title))]),o("q-item-label",{attrs:{caption:"",lines:"2"}},[o("div",{staticClass:"row q-mb-sm"},e._l(t.values,(function(t){return o("div",{key:t.name,class:"tagItem q-ml-sm "+e.tagClass},[o("div",{staticClass:"row no-wrap"},[o("div",{staticClass:"tagInfo col-shrink"},[o("div",{staticClass:"tagName"},[e._v(e._s(t.tag))]),o("div",{staticClass:"tagString"},[e._v(e._s(t.value))])])])])})),0)])],1),o("q-item-section",{attrs:{side:"",top:""}},[o("div",{staticClass:"text-grey-8 q-gutter-xs"},[o("q-icon",{staticClass:"q-mr-lg",attrs:{name:e.isCompleteSet(t)?"check":"warning",color:e.isCompleteSet(t)?"positive":"negative",size:"24px"}}),o("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:e.isVisible(i)?"visibility":"visibility_off"},on:{click:function(t){return e.setVisible(i)}}},[o("q-tooltip",{attrs:{delay:200,offset:[0,10]}},[e._v(" Use this set when running code in preview or editMode. ")])],1),o("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"edit"}},[o("RandomizerSetEditor",{attrs:{options:e.options,tagSet:e.getFullSet(t),nr:i}})],1),o("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(t){return e.removeSet(i)}}})],1)])],1)})),1)],1)])],1)],1)],1)},H=[],Q=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-popup-proxy",{attrs:{"transition-show":"flip-up","transition-hide":"flip-down"},on:{"before-show":e.onShow}},[o("div",{staticClass:"q-pa-md"},[o("div",{staticClass:"row no-wrap q-pa-none"},[o("div",{staticClass:"text-overline"},[e._v(e._s(e.$t("RandomizerSetEditor.Caption",{nr:e.nr})))])]),e._l(e.tagSet.values,(function(t){return o("div",{key:t.tag,staticClass:"q-pl-md"},[o("q-input",{attrs:{label:t.tag},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"tag.value"}})],1)}))],2)])},W=[],J={props:{options:{type:Object,required:!0},tagSet:{type:Object,required:!0},nr:{type:Number,required:!0}},computed:{tags(){return this.tagSet.values.map(e=>e.tag)}},methods:{onShow(e){this.tagSet.values=this.tagSet.values.filter(e=>this.options.randomizer.knownTags.indexOf(e.tag)>=0),this.options.randomizer.knownTags.forEach(e=>{void 0===this.tagSet.values.find(t=>t.tag==e)&&this.tagSet.values.push({tag:e,value:""})})}}},F=J,G=Object(D["a"])(F,Q,W,!1,null,null,null),Y=G.exports;G.options.components=Object.assign({QPopupProxy:s["o"],QInput:s["h"]},G.options.components||{});var K={components:{RandomizerSetEditor:Y},data:function(){return{_newTagName:""}},props:{options:{type:Object,required:!0}},computed:{tagClass(){return i["a"].$tagger.className.rnd+" tag-mark-start tag-mark-end tag-mark-shadow"}},methods:{isVisible(e){return e==this.options.randomizer.previewIndex},setVisible(e){this.options.randomizer.previewIndex=e},isValidTag(e){return void 0!==this.options.randomizer.knownTags.find(t=>t==e)},isCompleteSet(e){return!(e.values.filter(e=>this.options.randomizer.knownTags.indexOf(e.tag)<0).length>0)&&!(this.options.randomizer.knownTags.filter(t=>void 0===e.values.find(e=>e.tag==t)).length>0)},getFullSet(e){return e},removeSet(e){this.options.randomizer.sets.splice(e,1)},addSet(){this.options.randomizer.sets.push({uuid:this.$uuid.v4(),values:[]})},removeTag(e){this.options.randomizer.knownTags.splice(e,1)},addTag(){this.$q.dialog({title:"Create Tag",message:"This will generate a new randomizer-Tag with the below name.",html:!0,persistent:!0,prompt:{model:"tag_name",type:"text"},ok:{push:!0},cancel:{flat:!0,color:"gray"},persistent:!0}).onOk(e=>{if(e=e.replace(/\W/g,"_"),this.options.randomizer.knownTags.filter(t=>t==e).length>0){let t=1;const o=e;do{e=o+"_"+t,t++}while(this.options.randomizer.knownTags.filter(t=>t==e).length>0)}this.options.randomizer.knownTags.push(e)}).onCancel(()=>{}).onDismiss(()=>{})}}},X=K,Z=(o("e014"),Object(D["a"])(X,U,H,!1,null,"a29db86e",null)),ee=Z.exports;Z.options.components=Object.assign({QCard:s["d"],QCardSection:s["e"],QToggle:s["r"],QSlideTransition:s["q"],QBtn:s["c"],QList:s["m"],QItem:s["i"],QItemSection:s["k"],QAvatar:s["b"],QItemLabel:s["j"],QIcon:s["g"],QTooltip:s["s"]},Z.options.components||{});var te={components:{RandomizerSettings:ee},data:function(){return{themes:[{label:"Solarized",value:"solarized light"},{label:"Solarized (dark)",value:"solarized dark"},{label:"Base16 (dark)",value:"base16-dark"},{label:"Base16 (light)",value:"base16-light"},{label:"Duotone (dark)",value:"duotone-dark"},{label:"Duotone (light)",value:"duotone-light"},{label:"XQ (dark)",value:"xq-dark"},{label:"XQ (light)",value:"xq-light"},{label:"Blackboard",value:"blackboard"},{label:"neo",value:"neo"},{label:"mbo",value:"mbo"},{label:"mdn like",value:"mdn-like"}],outputParsers:[{label:this.$t("CodeBlocksSettings.PAutomatic"),value:"auto"},{label:this.$t("CodeBlocksSettings.PText"),value:"text"},{label:this.$t("CodeBlocksSettings.PJSON"),value:"json"},{label:this.$t("CodeBlocksSettings.PMagic"),value:"magic"}]}},props:{options:{type:Object,required:!0}},methods:{validNumber(e){return!isNaN(e)||"Must be a valid Number."}},computed:{serializedOptions:{get(){const e={...this.options};return e.randomizer={...this.options.randomizer},e.randomizer.sets=this.options.randomizer.sets.map(e=>{let t={};return e.values.forEach(e=>t[e.tag]=e.value),t}),JSON.stringify(e)},set(e){}},domLibraries(){return this.$compilerRegistry.domLibraries},compiledLanguages(){return!1===this.options.runCode?this.languages:this.$compilerRegistry.languages},workerLibraries(){const e=this.$compilerRegistry.getCompiler({languageType:this.compilerLanguage,version:this.compilerVersion});return void 0===e.libraries?[]:e.libraries.map(e=>{return{label:e.displayName,value:e.key}})},languages(){return this.$CodeBlock.knownLanguages()},compilerVersions(){return this.$compilerRegistry.versionsForLanguage(this.compilerLanguage)},languageHasCompiler(){if(this.runCode)return!0;const e=this.$compilerRegistry.getCompiler({languageType:this.compilerLanguage});return void 0!==e},compilerLanguage(){return!1===this.options.runCode?this.options.language:this.options.compiler.languageType},compilerLanguageObj:{get(){return this.compiledLanguages.find(e=>e.value==this.compilerLanguage)},set(e){!1===this.options.runCode&&this.$emit("language-change",e.value),this.$emit("compiler-change",e.value)}},compilerVersion:{get(){return this.options.compiler.version},set(e){this.$emit("compiler-version-change",e)}},runCode:{get(){return this.options.runCode},set(e){this.$emit("run-state-change",e)}},maxRuntime:{get(){return this.options.executionTimeout},set(e){this.$emit("timeout-change",e)}},maxCharacters:{get(){return this.options.maxCharacters},set(e){this.$emit("character-limit-change",e)}},domLibrary:{get(){return this.options.domLibs.map(e=>this.domLibraries.find(t=>t.value==e))},set(e){this.$emit("dom-libs-change",e.map(e=>e.value))}},workerLibrary:{get(){return this.options.workerLibs.map(e=>this.workerLibraries.find(t=>t.value==e))},set(e){this.$emit("worker-libs-change",e.map(e=>e.value))}},solutionTheme:{get(){return this.themes.find(e=>e.value==this.options.solutionTheme)},set(e){this.$emit("theme-change",{solution:e.value,code:this.options.codeTheme})}},codeTheme:{get(){return this.themes.find(e=>e.value==this.options.codeTheme)},set(e){this.$emit("theme-change",{solution:this.options.solutionTheme,code:e.value})}},outputParser:{get(){return this.outputParsers.find(e=>e.value==this.options.outputParser)},set(e){this.$emit("output-parser-change",e.value)}}}},oe=te,ie=(o("25dc"),Object(D["a"])(oe,z,V,!1,null,"b2d79016",null)),ne=ie.exports;ie.options.components=Object.assign({QCard:s["d"],QCardSection:s["e"],QToggle:s["r"],QSelect:s["p"],QInput:s["h"],QSlideTransition:s["q"]},ie.options.components||{});var se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:"codeblock block-"+e.typeName},[o("codemirror",{ref:"codeBox",class:"accqstXmlInput noRTEditor "+e.boxClass,attrs:{value:e.code,options:e.options,name:"block["+e.block.parentID+"]["+e.block.id+"]",id:"teQ"+e.block.parentID+"B"+e.block.id,"data-question":e.block.parentID},on:{ready:e.onCodeReady,focus:e.onCodeFocus,input:e.onCodeChange}}),e.editMode?o("div",{directives:[{name:"show",rawName:"v-show",value:e.hasAlternativeContent,expression:"hasAlternativeContent"}]},[o("div",{staticClass:"q-mt-lg text-subtitle2"},[e._v(e._s(e.$t("CodeBlock.Initial_Content")))]),o("codemirror",{ref:"altBox",class:"accqstXmlInput noRTEditor "+e.boxClass,attrs:{value:e.altCode,options:e.altOptions,name:"alt_block["+e.block.parentID+"]["+e.block.id+"]"},on:{ready:e.onAltCodeReady,focus:e.onAltCodeFocus,input:e.onAltCodeChange}})],1):e._e()],1)},ae=[],re=(o("8c06"),o("8c2e"),o("cc10"),o("e8b0"),o("b6fc"),o("bd58"),o("8d7e"),o("7393"),o("1ad7"),o("d5db"),o("9603"),o("eb8f"),o("4ba6"),o("518b"),o("f9d4"),o("906f"),o("db91"),o("903e"),o("8536"),o("5e79"),o("10b2"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-icon",{class:"mdi "+e.severityClass+" mainTipIcon",attrs:{name:e.severityIcon}},[o("q-tooltip",[o("div",[o("ul",{staticClass:"tiplist"},e._l(e.errors,(function(t){return o("li",{key:t.message},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-1"},[o("q-icon",{attrs:{name:e.iconForSeverity(t.severity)}})],1),o("div",{staticClass:"col-11 q-pr-md"},[o("div",{staticClass:"q-my-none tipper"},[e._v(e._s(t.message))])])])])})),0)])])],1)}),le=[],ce={props:["errors","severity"],computed:{severityClass(){return this.classForSeverity(this.severity)},severityIcon(){return this.iconForSeverity(this.severity)}},methods:{classForSeverity(e){return e==this.SEVERITY_ERROR?"gutter-error":"gutter-warning"},iconForSeverity(e){return e==this.SEVERITY_ERROR?"report":"warning"}}},de=ce,ue=(o("48e4"),Object(D["a"])(de,re,le,!1,null,null,null)),he=ue.exports;ue.options.components=Object.assign({QIcon:s["g"],QTooltip:s["s"]},ue.options.components||{});var pe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div")},me=[],ge={props:{muteReadyState:!1,block:{required:!0,type:Object}},methods:{whenBlockIsReady(){this.muteReadyState||(this.block.readyCount++,this.$emit("ready",this.block))},whenBlockIsDestroyed(){this.muteReadyState||this.block.readyCount--}},readyWhenMounted:!0,mounted(){this.$options.readyWhenMounted&&this.whenBlockIsReady()},beforeDestroy(){this.whenBlockIsDestroyed()}},be=ge,ve=Object(D["a"])(be,pe,me,!1,null,null,null),fe=ve.exports;const ke=i["a"].extend(he);var ye={extends:fe,name:"CodeBlock",props:{readonly:{type:Boolean,default:!1},visibleLines:{default:"auto"},theme:{type:String,default:"base16-dark"},mode:{type:String,default:"text/javascript"},block:{required:!0,type:Object,validator:function(e){return void 0!==e.content&&void 0!==e.firstLine}},editMode:{type:Boolean,default:!1},tagSet:{type:Object,default:void 0}},methods:{clearTagMarkers(){let e=this.codemirror.getDoc().getAllMarks();e.forEach(e=>{e.className!=i["a"].$tagger.className.rnd&&e.className!=i["a"].$tagger.className.templ||e.clear()}),this.altcodemirror&&(e=this.altcodemirror.getDoc().getAllMarks(),e.forEach(e=>{e.className!=i["a"].$tagger.className.rnd&&e.className!=i["a"].$tagger.className.templ||e.clear()}))},clearErrorDisplay(){let e=this.codemirror.getDoc().getAllMarks();e.forEach(e=>{"red-wave"==e.className&&e.clear()}),this.codemirror.getDoc().clearGutter("diagnostics")},onCodeReady(e){this.codemirror.display.input.textarea.className="noRTEditor",this.$refs.codeBox.$el.querySelectorAll("textarea[name]").forEach(e=>{e.className=(e.className+" accqstXmlInput noRTEditor").trim(),e.id=this.$refs.codeBox.$el.id,$(e).text(this.block.content),e.setAttribute("data-question",this.block.parentID),e.setAttribute("data-blocktype",this.iliasTypeNr),this.editMode&&e.setAttribute("is-editmode",this.editMode)}),this.updateDiagnosticDisplay(),this.onCodeChange(this.block.content),this.whenBlockIsReady()},onAltCodeReady(e){console.log("READY"),this.codemirror.display.input.textarea.className="noRTEditor",this.$refs.altBox.$el.querySelectorAll("textarea[name]").forEach(e=>{e.className=(e.className+" accqstXmlInput noRTEditor").trim()}),this.$nextTick(()=>{this.onAltCodeChange(this.block.alternativeContent),this.updateTagDisplay(),this.updateHeight()})},onCodeFocus(e){},onAltCodeFocus(e){},onCodeChange(e){const t=this.$refs.codeBox.$el.querySelector("textarea[name]");t.value=e,this.block.content=e,this.updateTagDisplay(),this.editMode&&this.$emit("code-changed-in-edit-mode",void 0)},onAltCodeChange(e){const t=this.$refs.altBox.$el.querySelector("textarea[name]");t.value=e,this.block.alternativeContent=e,this.updateTagDisplay()},updateHeight(){"auto"===this.visibleLines?(this.codemirror.setSize("height","auto"),this.altcodemirror&&this.altcodemirror.setSize("height","auto")):(this.codemirror.setSize(null,Math.round(20*Math.max(1,this.visibleLines))+9),this.altcodemirror&&this.altcodemirror.setSize(null,Math.round(20*Math.max(1,this.visibleLines))+9))},replaceTemplateTags(e){this.editMode&&!e.scopeUUID==this.block.scopeUUID&&(this.block.content=i["a"].$tagger.replaceTemplateTagInString(this.block.content,e.name,e.newValue))},updateTagDisplay(){this.editMode&&(this.clearTagMarkers(),i["a"].$tagger.getMarkers(this.block.content).forEach(e=>{this.codemirror.getDoc().markText(e.start,e.end,{className:i["a"].$tagger.className[e.type],inclusiveLeft:!0,inclusiveRight:!0,title:e.name,startStyle:"tag-mark-start",endStyle:"tag-mark-end"})}),this.$nextTick(()=>i["a"].$tagger.hookClick(this.$refs.codeBox.$el,this.block.scopeUUID)),this.altcodemirror&&(i["a"].$tagger.getMarkers(this.block.alternativeContent).forEach(e=>{this.altcodemirror.getDoc().markText(e.start,e.end,{className:i["a"].$tagger.className[e.type],inclusiveLeft:!0,inclusiveRight:!0,title:e.name,startStyle:"tag-mark-start",endStyle:"tag-mark-end"})}),this.$nextTick(()=>i["a"].$tagger.hookClick(this.$refs.altBox.$el,this.block.scopeUUID))))},updateDiagnosticDisplay(){const e=this.errors;if(void 0!==e){this.clearErrorDisplay();const t=this.block.firstLine;e.forEach(e=>{e.start.column>=0&&this.codemirror.getDoc().markText({line:e.start.line-t,ch:e.start.column},{line:e.end.line-t,ch:e.end.column},{className:"red-wave",inclusiveLeft:!0,inclusiveRight:!0,title:e.message});let o=this.codemirror.getDoc().lineInfo(e.start.line-t),i=o&&o.gutterMarkers?o.gutterMarkers["diagnostics"].$component:null;null==i&&(i=document.createElement("span"),this.codemirror.getDoc().setGutterMarker(e.start.line-t,"diagnostics",i),i.$component=new ke({propsData:{errors:[],severity:e.severity}}).$mount(i),i=i.$component),i.severity=Math.max(e.severity,i.severity),-1==i.errors.indexOf(e)&&i.errors.push(e)})}else this.clearErrorDisplay()}},computed:{hasAlternativeContent(){return this.block.hasAlternativeContent&&"block"==this.typeName},errors(){return this.block.errors},randomizerActive(){return void 0!==this.tagSet},boxClass(){let e="";return this.block.hidden&&!this.editMode&&(e+="hiddenBox "),(this.block.readonly||this.readonly)&&(e+="readonlyBox "),this.block.static&&(e+="staticBox "),e},iliasTypeNr(){const e=this.typeName;return"text"==e?0:"block-static"==e?1:"block"==e?2:"block-hidden"==e?3:"playground"==e?4:-1},typeName(){let e=this.block.type.toLowerCase();return this.block.hidden&&(e+="-hidden"),this.block.static&&(e+="-static"),e},altCode(){return this.block.alternativeContent},code(){return this.editMode?this.block.content:this.block.actualContent()},options(){return{mode:this.mode,theme:this.theme,lineNumbers:!0,line:!0,tabSize:4,indentUnit:4,autoCloseBrackets:!0,readOnly:!this.editMode&&(this.block.readonly||this.block.static||this.block.hidden||this.readonly),firstLineNumber:this.block.firstLine,gutters:["diagnostics","CodeMirror-linenumbers"]}},altOptions(){let e=this.options;return e.firstLineNumber=1,e},codemirror(){return this.$refs.codeBox.codemirror},altcodemirror(){if(void 0!==this.$refs.altBox)return this.$refs.altBox.codemirror}},watch:{visibleLines:function(e){this.updateHeight()},errors:function(e){this.updateDiagnosticDisplay()}},created(){this.$options.readyWhenMounted=!1},mounted(){if(this.updateHeight(),this.editMode){console.log("Attach");const e=()=>{console.log("EMIT"),this.$emit("build")};this.codemirror.addKeyMap({"Cmd-B":function(t){e()},"Ctrl-B":function(t){e()}}),this.codemirror.addKeyMap({Tab:function(e){e.execCommand("insertSoftTab")}})}i["a"].$tagger.$on("replace-template-tag",this.replaceTemplateTags),this.updateTagDisplay()},beforeDestroy(){i["a"].$tagger.$off("replace-template-tag",this.replaceTemplateTags)}},Ce=ye,xe=(o("67a5"),Object(D["a"])(Ce,se,ae,!1,null,"11ec4a9f",null)),we=xe.exports,Te=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{ref:"blocklyContainer",staticClass:"blocklyContainer"}),o("xml",{ref:"blocklyToolbox",staticStyle:{display:"none"},domProps:{innerHTML:e._s(e.block.toolbox)}}),e.editMode?o("div",[o("pre",[e._v(e._s(e.block.content))]),o("div",{staticClass:"q-mt-lg text-subtitle2"},[e._v(e._s(e.$t("Blockly.CodePreviewLabel")))]),e.editMode?o("CodeBlock",{attrs:{block:e.cmblock,theme:e.cmoptions.theme,mode:e.cmoptions.mode,visibleLines:e.visibleLinesNow,editMode:!1,muteReadyState:!0},on:{"code-changed-in-edit-mode":e.onCodeChange}}):e._e(),o("div",{staticClass:"q-mt-lg text-subtitle2"},[e._v(e._s(e.$t("Blockly.ToolboxLabel")))]),e.editMode?o("CodeBlock",{attrs:{block:e.tbblock,theme:e.tboptions.theme,mode:e.tboptions.mode,visibleLines:e.visibleLinesNow,editMode:this.editMode,muteReadyState:!0},on:{"code-changed-in-edit-mode":e.onToolboxChange}}):e._e()],1):e._e()],1)},Se=[],Ee=o("54ca"),Le=o.n(Ee),Re={components:{CodeBlock:we},name:"Blockly",props:{readonly:{type:Boolean,default:!1},options:{type:Object},toolbox:{default:""},block:{required:!0,type:Object},editMode:{type:Boolean,default:!1},tagSet:{type:Object,default:void 0},theme:{type:String,default:"base16-dark"}},data(){return{workspace:null,tmpcode:""}},beforeDestroy(){this.block._oac&&(this.block.actualContent=this.block._oac,this.block._oac=void 0)},mounted(){if(!this.block._oac){let e=this;this.block._oac=this.block.actualContent,this.block.actualContent=function(){return e.code}.bind(this.block)}var e=this.$props.options||{};if(e.toolbox||(e.toolbox=this.$refs["blocklyToolbox"]),!e.theme){const t={colour_blocks:{colourPrimary:"#d20992",colourSecondary:"#f6cee9",colourTertiary:"#bd0883"},list_blocks:{colourPrimary:"#3d349a",colourSecondary:"#d8d6eb",colourTertiary:"#372f8b"},logic_blocks:{colourPrimary:"#5ecd88",colourSecondary:"#dff5e7",colourTertiary:"#55b97a"},loop_blocks:{colourPrimary:"#e8c74a",colourSecondary:"#faf4db",colourTertiary:"#d1b343"},math_blocks:{colourPrimary:"#54bfeb",colourSecondary:"#ddf2fb",colourTertiary:"#4cacd4"},procedure_blocks:{colourPrimary:"#843bd5",colourSecondary:"#e6d8f7",colourTertiary:"#7735c0"},text_blocks:{colourPrimary:"#bbbbca",colourSecondary:"#f1f1f4",colourTertiary:"#a8a8b6"},variable_blocks:{colourPrimary:"#ee8845",colourSecondary:"#fce7da",colourTertiary:"#d67a3e"},variable_dynamic_blocks:{colourPrimary:"#fea865",colourSecondary:"#ffeee0",colourTertiary:"#e5975b"},hat_blocks:{colourPrimary:"330",hat:"cap"}},o={colour_category:{colour:t.colour_blocks.colourPrimary},list_category:{colour:t.list_blocks.colourPrimary},logic_category:{colour:t.logic_blocks.colourPrimary},loop_category:{colour:t.loop_blocks.colourPrimary},math_category:{colour:t.math_blocks.colourPrimary},procedure_category:{colour:t.procedure_blocks.colourPrimary},text_category:{colour:t.text_blocks.colourPrimary},variable_category:{colour:t.variable_blocks.colourPrimary},variable_dynamic_category:{colour:t.variable_dynamic_blocks.colourPrimary}};e.theme=new Le.a.Theme(t,o)}this.workspace=Le.a.inject(this.$refs["blocklyContainer"],e),this.workspace.addChangeListener(this.onBlocklyChange.bind(this)),this.content=this.block.content},computed:{cmoptions(){return{mode:this.$CodeBlock.mimeType("javascript"),theme:this.theme,lineNumbers:!0,line:!0,tabSize:4,indentUnit:4,autoCloseBrackets:!0,readOnly:!0,firstLineNumber:1,gutters:["diagnostics","CodeMirror-linenumbers"]}},cmblock(){return{type:"BLOCKLY",content:this.code,scopeUUID:this.block.scopeUUID,firstLine:1,hidden:!1,readonly:!1,static:!0,alternativeContent:this.code,parentID:this.block.parentID,id:this.block.id,actualContent:()=>{return this.code}}},tboptions(){return{mode:this.$CodeBlock.mimeType("xml"),theme:this.theme,lineNumbers:!0,line:!0,tabSize:4,indentUnit:4,readOnly:!this.editMode,firstLineNumber:1,gutters:[]}},tbblock(){return{type:"XML",content:this.block.toolbox,scopeUUID:this.block.scopeUUID,firstLine:1,hidden:!1,readonly:!1,static:!0,alternativeContent:"",parentID:this.block.parentID,id:this.block.id+"-toolbox",actualContent:()=>{return this.block.toolbox}}},visibleLinesNow(){return this.block.codeExpanded?"auto":"5.2"},code(){return this.workspace?Le.a.JavaScript.workspaceToCode(this.workspace):""},content:{get(){if(this.workspace){let e=Le.a.Xml.workspaceToDom(this.workspace);if(e)return Le.a.Xml.domToText(e)}return""},set(e){if(this.workspace&&e&&""!=e)try{let t=Le.a.Xml.textToDom(e);t&&Le.a.Xml.domToWorkspace(t,this.workspace)}catch(t){console.error("toDOM Error",t)}}}},methods:{onCodeChange(e){this.editMode},onBlocklyChange(e){this.tmpcode=this.code,this.block.content=this.content},onToolboxChange(e){this.workspace&&this.workspace.updateToolbox("<xml>"+this.tbblock.content+"</xml>")}}},$e=Re,Oe=(o("e7e3"),Object(D["a"])($e,Te,Se,!1,null,"4cf83c94",null)),_e=Oe.exports,Be=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("PlaygroundCanvas",{key:e.runCount,ref:"playgroundContainer",attrs:{output:e.finalOutputObject.initialOutput,obj:e.block.obj,block:e.block,eventHub:e.eventHub,tagSet:e.tagSet,"data-question":e.block.parentID},on:{"canvas-change":e.onCanvasChange,"did-init":e.onDidInit}}),o("div",{staticClass:"row justify-end"},[e.editMode?o("q-btn",{staticStyle:{"margin-right":"-9px","margin-bottom":"-10px"},attrs:{icon:"",color:"secondary",small:"",flat:"",round:""},on:{click:e.toggleExpanded}},[o("q-icon",{attrs:{name:e.block.codeExpanded?"expand_less":"expand_more",size:"24"}})],1):e._e()],1),o("q-slide-transition",[e.editMode?o("CodeBlock",{attrs:{block:e.block,theme:e.options.theme,mode:e.options.mode,visibleLines:e.visibleLinesNow,editMode:this.editMode,muteReadyState:!0},on:{"code-changed-in-edit-mode":e.onCodeChange}}):e._e()],1)],1)},qe=[],je=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row ma-0 pa-0 block-playground",attrs:{"data-question":e.block.parentID,"data-nr":e.block.id}},[o("div",{class:"col-12 text-"+e.block.align},[o("div",{ref:"innerPlaygroundContainer",staticClass:"playground",style:"width:"+e.block.width+";height:"+e.block.height,attrs:{"data-question":e.block.parentID,"data-nr":e.block.id}},[e._v(e._s(e.output))])])])},Ie=[],Ae={props:{output:"",obj:{type:Object,required:!0},block:{type:Object,required:!0},eventHub:{type:Object,required:!1},tagSet:{default:void 0,type:Object}},computed:{canvas(){return this.$refs.innerPlaygroundContainer}},methods:{whenMounted(e){this.obj&&this.$compilerRegistry.loadLibraries(this.block.domLibs,()=>{this.$nextTick(()=>{this.obj.rebuild(),this.obj.init($(this.canvas),$(this.block.scopeSelector)),this.$emit("did-init",this.canvas)})})}},mounted(){this.eventHub?this.eventHub.$on("all-mounted",this.whenMounted):this.whenMounted(),this.$emit("canvas-change",this.canvas)},beforeDestroy(){this.eventHub&&this.eventHub.$off("all-mounted")}},Me=Ae,De=(o("389a"),Object(D["a"])(Me,je,Ie,!1,null,"53951b2e",null)),Pe=De.exports;i["a"].extend(Pe);var Ne={extends:fe,name:"codePlayground",components:{PlaygroundCanvas:Pe,CodeBlock:we},props:{finalOutputObject:{type:Object,required:!0},block:{required:!0,type:Object,validator:function(e){return!!e.obj}},editMode:{type:Boolean,default:!1},visibleLines:{type:String,default:"auto"},theme:{type:String,default:"base16-dark"},eventHub:{type:Object,required:!0},tagSet:{type:Object,default:void 0}},computed:{originalMode(){return this.block.obj.requestsOriginalVersion()},options(){return{mode:this.$CodeBlock.mimeType("javascript"),theme:this.theme,lineNumbers:!0,line:!0,tabSize:4,indentUnit:4,autoCloseBrackets:!0,readOnly:!this.editMode,firstLineNumber:1,gutters:["diagnostics","CodeMirror-linenumbers"]}},visibleLinesNow(){return this.block.codeExpanded?"auto":"5.2"}},created(){this.eventHub.$on("before-run",this.resetBeforeRun),this.eventHub.$on("render-diagnostics",this.updateErrors)},mounted(){const e=this.block&&this.block.obj&&this.block.obj.err.length>0;e&&this.updateErrors()},beforeDestroy(){this.eventHub.$off("before-run",this.resetBeforeRun),this.eventHub.$off("render-diagnostics",this.updateErrors)},data:function(){return{isPreparingRun:!1,lastRun:0,runCount:0,canvas:void 0,needsCodeRebuild:!1,initAndRebuildErrors:[]}},methods:{toggleExpanded(){this.block.codeExpanded=!this.block.codeExpanded},updateErrors(){return this.block.errors=[],this.block.obj.err=this.block.obj.err.concat(this.initAndRebuildErrors),this.block.obj.err.forEach(e=>{let t={start:{line:e.line,column:e.column},end:{line:e.line,column:e.column+1},message:e.msg,severity:i["a"].$SEVERITY_ERROR};void 0===e.line?(t.start={line:1,column:-1},t.end={line:1,column:-1}):void 0===e.column&&(t.start={line:e.line,column:-1},t.end={line:e.line,column:-1}),this.block.errors.push(t)}),!!(this.block.obj.err.length>0&&this.editMode)&&(this.needsCodeRebuild=!0,!0)},resetBeforeRun(){const e=this.editMode&&(this.needsCodeRebuild||void 0!==this.tagSet);let t=e,o=!1;if(this.block&&this.block.obj&&(this.block.shouldAutoreset||e?(console.log("Will Re-Initialize",this.canvas,$(this.canvas).css("background-color")),this.lastRun=new Date,this.runCount++,t=!0,o=!0):this.$nextTick(function(){this.block.obj.reset($(this.canvas)),this.updateErrors()}.bind(this))),e){if(this.initAndRebuildErrors=[],this.block.obj.rebuild(this.block.actualContent()),this.updateErrors())return this.initAndRebuildErrors=this.block.obj.err,void this.block.obj.invalidate();t=!0}if(t){this.initAndRebuildErrors=[];let e=()=>{return this.block.obj.init($(this.canvas),$(this.block.scopeSelector)),!this.updateErrors()||(this.initAndRebuildErrors=this.block.obj.err,this.block.obj.invalidate(),!1)};if(o)this.$nextTick(e);else if(!e())return}},onCanvasChange(e){this.canvas=e,this.editMode&&this.updateErrors()},onCodeChange(e){this.editMode&&(this.needsCodeRebuild=!0)},onDidInit(){this.updateErrors()}},watch:{finalOutputObject:function(e){const t=e.output;if(this.block.obj){this.block.obj.err=[];try{if(null!=e.parseError){if(!this.block.obj.onParseError(t,e.parseError)&&this.editMode){let o=t;void 0!==e.parseError.parsedString&&(o=e.parseError.parsedString),o=o.replace(/</g,"&lt;"),this.$q.dialog({title:this.$t("CodePlayground.InvalidJson"),message:'<span class="text-caption jsonErrTitle">'+this.$t("CodePlayground.Output")+'</span><div class="jsonErrObj">'+o+'</div>\n<span class="text-caption jsonErrTitle">'+this.$t("CodePlayground.Message")+'</span><div class="jsonErr">'+e.parseError+"</div>",html:!0}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})}if(this.updateErrors())return}this.$nextTick(function(){let t=this.block.obj.update(e,$(this.canvas));this.updateErrors()||(void 0===t&&"text"!=e.processedOutput.type&&(this.originalMode||(t=e.processedOutput.text)),this.originalMode&&"string"!==typeof t&&(t=""),void 0!==t&&this.$emit("changeOutput",t))}.bind(this))}catch(o){console.error(o)}this.block.obj.err.length>0&&(this.editMode?this.updateErrors():console.error(this.block.obj.err))}}}},ze=Ne,Ve=(o("635f"),o("d5a0"),Object(D["a"])(ze,Be,qe,!1,null,"5ee33c75",null)),Ue=Ve.exports;Ve.options.components=Object.assign({QBtn:s["c"],QIcon:s["g"],QSlideTransition:s["q"]},Ve.options.components||{});var He=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.editMode?o("TipTap",{staticClass:"editor q-my-3",attrs:{value:e.value,name:e.name,language:e.language,scopUUID:e.scopeUUID},on:{input:e.updatedContent}}):o("div",{directives:[{name:"highlight",rawName:"v-highlight",value:e.language,expression:"language"}],domProps:{innerHTML:e._s(e.previewValue)}})],1)},Qe=[],We=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row q-ma-0 q-pa-0"},[o("div",{staticClass:"col-xs-12 col-md-6 q-px-sm"},[o("q-input",{ref:"editBox",staticClass:"plain accqstXmlInput noRTEditor",attrs:{type:"textarea",autogrow:"",filled:"",name:e.name,label:"HTML Source","background-color":"blue-grey darken-3"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1),o("div",{staticClass:"col-xs-12 col-md-6 q-px-sm"},[o("div",{staticClass:"q-field__label no-pointer-events ellipsis text-caption wysiwyg"},[e._v("Preview")]),o("div",{directives:[{name:"highlight",rawName:"v-highlight",value:e.language,expression:"language"},{name:"tagged",rawName:"v-tagged",value:e.scopeUUID,expression:"scopeUUID"}],domProps:{innerHTML:e._s(e.text)}})])])},Je=[],Fe={components:{},data:()=>({}),computed:{text:{get(){return this.value},set(e){this.updatedContent(e)}}},methods:{updatedContent(e){this.$emit("input",e)},replaceTemplateTags(e){this.editMode&&!e.scopeUUID==this.scopeUUID&&this.updatedContent(i["a"].$tagger.replaceTemplateTagInString(this.text,e.name,e.newValue))}},props:{value:"",name:"",scopeUUID:"",language:void 0},mounted(){this.$refs.editBox.$el.querySelectorAll("textarea[name]").forEach(e=>{e.className=(e.className+" accqstXmlInput noRTEditor").trim()}),i["a"].$tagger.$on("replace-template-tag",this.replaceTemplateTags)},beforeDestroy(){i["a"].$tagger.$off("replace-template-tag",this.replaceTemplateTags)}},Ge=Fe,Ye=(o("bfe1"),Object(D["a"])(Ge,We,Je,!1,null,"7f338dc1",null)),Ke=Ye.exports;Ye.options.components=Object.assign({QInput:s["h"],QField:s["f"]},Ye.options.components||{});var Xe={extends:fe,name:"simpletext",components:{TipTap:Ke},props:{language:void 0,value:"",name:"",scopeUUID:"",editMode:{type:Boolean,default:!1},previewValue:{type:String,default:""}},methods:{updatedContent(e){this.$emit("input",e)}}},Ze=Xe,et=Object(D["a"])(Ze,He,Qe,!1,null,"83579f22",null),tt=et.exports,ot={name:"CodeBlocks",components:{CodeBlockContainer:N,CodeBlocksSettings:ne,CodeBlock:we,CodePlayground:Ue,SimpleText:tt,Blockly:_e},data:function(){return{didInitialize:!1,outputHTML:"",output:"",sansoutput:"",didClip:!1,finalOutputObject:{output:"",sansoutput:"",parseError:void 0},eventHub:new i["a"]}},props:{blockInfo:{type:Object,required:!0}},computed:{options(){return{language:this.language,compiler:this.compiler,executionTimeout:this.executionTimeout,maxCharacters:this.maxCharacters,runCode:this.runCode,domLibs:this.domLibraries,workerLibs:this.workerLibraries,id:this.blockInfo.id,codeTheme:this.codeTheme,solutionTheme:this.solutionTheme,outputParser:this.outputParser,randomizer:this.blockInfo.randomizer}},blocks(){return this.blockInfo.blocks},language(){return this.blockInfo.language},blockid(){return this.blockInfo.id},executionTimeout(){return this.blockInfo.executionTimeout},maxCharacters(){return this.blockInfo.maxCharacters},compiler(){return this.blockInfo.compiler},runCode(){return this.blockInfo.runCode},domLibraries(){return this.blockInfo.domLibs},workerLibraries(){return this.blockInfo.workerLibs},solutionTheme(){return this.blockInfo.solutionTheme},codeTheme(){return this.blockInfo.codeTheme},readonly(){return this.blockInfo.readonly},outputParser(){return this.blockInfo.outputParser},editMode(){return!1},hasOutput(){return void 0!==this.outputHTML&&""!=this.outputHTML},mimeType(){return this.$CodeBlock.mimeType(this.language)},isReady(){let e=this.$compilerRegistry.getCompiler(this.compiler);return!!e&&(this.didInitialize&&e.isReady&&!e.isRunning&&!this.$compilerState.runButtonForceHide)},canRun(){let e=this.$compilerRegistry.getCompiler(this.compiler);return!!e&&(e.canRun&&this.runCode)},randomizerActive(){return this.blockInfo.randomizer.active},activeTagSet(){if(this.randomizerActive)return this.tagSet(this.blockInfo.randomizer.previewIndex)},completeSource(){return this.blocks.filter(e=>e.hasCode).map(e=>e.actualContent()).reduce((e,t)=>{return e+"\n"+t},"")},showGlobalMessages(){return!this.$compilerState.globalStateHidden},playgrounds(){return this.blocks.filter(e=>"PLAYGROUND"==e.type)},outputElement(){return this.$refs.output},addonClass(){let e="";return this.editMode&&(e+="editmode "),this.readonly&&(e+="block-readonly "),e},backgroundColorClass(){return this.editMode?"blue-grey darken-4":""}},methods:{blockBecameReady(){let e=this.blockInfo.blocks.map(e=>e.readyCount).reduce((e,t)=>e+t,0);e==this.blockInfo.blocks.length&&this.$nextTick(()=>{this.eventHub.$emit("all-mounted",{})})},tagSet(e){return this.blockInfo.randomizer.sets[e]},themeForBlock(e){return e.static||e.readonly||e.hidden?this.blockInfo.codeTheme:this.blockInfo.solutionTheme},blockById(e){return this.blocks.find(t=>t.id==e)},onTypeChange(e){},onVisibleLinesChange(e){},onPlacementChange(e){},onScriptVersionChange(e){},onSetAutoReset(e){},onCompilerChange(e){},onCompilerVersionChange(e){},onRunStateChange(e){},onLanguageChange(e){},onCharacterLimitChange(e){},onTimeoutChange(e){},onWorkerLibChange(e){},onDomLibChange(e){},onThemeChange(e){},onOutputParserChange(e){},moveUp(e){},moveDown(e){},removeBlock(e){},addNewBlock(){},onPlaygroundChangedOutput(e){void 0!==e&&this.output!=e&&(this.output=e.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.maxCharacters>0&&this.output.length>this.maxCharacters?(this.outputHTML=this.output.substr(0,this.maxCharacters),this.outputHTML+=this.$CodeBlock.format_info("Info: Output too long. Removed all following Characters. \n<b>...</b>\n\n")):this.outputHTML=this.output,this.outputHTML+=this.sansoutput)},resetOutput(){this.output="",this.sansoutput="",this.didClip=!1,this.outputHTML=""},log(e){this.output+=e,e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.didClip||(this.maxCharacters>0&&this.output.length>this.maxCharacters?(this.outputHTML+=this.$CodeBlock.format_info("Info: Output too long. Removed all following Characters. \n<b>...</b>\n\n"),this.didClip=!0):this.outputHTML+=e)},logError(e){e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"),e=this.$CodeBlock.format_error(e),this.sansoutput+=e,this.outputHTML+=e},logInfo(e){e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"),e=this.$CodeBlock.format_info(e),this.sansoutput+=e,this.outputHTML+=e},processDiagnostics(e){e.start.line;this.blocks.forEach(t=>{if(!t.hasCode)return;const o=t.firstLine,i=t.nextLine-1;e.start.line>=o&&e.start.line<=i&&t.errors.push(e)})},clearDiagnostics(){this.blocks.forEach(e=>e.errors=[]),this.eventHub.$emit("render-diagnostics",{})},loadLibraries(e){this.$compilerRegistry.loadLibraries(this.domLibraries,e)},finishedExecution(e,t){let o=null,i={type:"text",json:void 0,text:e};if(void 0!==e&&this.playgrounds.length>0)try{i=this.$CodeBlock.processMixedOutput(e,this.outputParser)}catch(n){o=n}this.finalOutputObject={output:e,processedOutput:i,sansoutput:this.sansoutput,parseError:o,outputElement:$(this.outputElement)}},run(){let e=this.$compilerRegistry.getCompiler(this.compiler);if(!e)return!1;this.$compilerState.setAllRunButtons(!1),this.resetOutput(),this.clearDiagnostics(),this.loadLibraries(function(){this.eventHub.$emit("before-run",{}),console.log("compileAndRun"),e.compileAndRun(this.blocks.id,this.completeSource,this,this.executionTimeout,this.log.bind(this),this.logInfo.bind(this),this.logError.bind(this),this.processDiagnostics.bind(this),function(e=!0,t){if(!e)return this.$compilerState.hideGlobalState(),void this.$compilerState.setAllRunButtons(!0);let o=this.finishedExecution(t||this.output,this.sansoutput);return this.$compilerState.hideGlobalState(),this.$compilerState.setAllRunButtons(!0),o}.bind(this))}.bind(this))},onkey(e){if(this.editMode&&(e.ctrlKey||e.metaKey)&&("w"===e.key||"j"===e.key))return this.run(),e.preventDefault(),!1}},mounted(){let e=this.$compilerRegistry.getCompiler(this.compiler);e&&e.preload(),this.loadLibraries(function(){this.eventHub.$emit("initialized-libraries",{})}.bind(this)),this.didInitialize=!0,this.editMode&&window.addEventListener("keydown",this.onkey,!1)},beforeDestroy(){window.removeEventListener("keydown",this.onkey)}},it=ot,nt=(o("7a59"),Object(D["a"])(it,B,q,!1,null,null,null)),st=nt.exports;nt.options.components=Object.assign({QBtn:s["c"],QIcon:s["g"],QTooltip:s["s"],QSlideTransition:s["q"]},nt.options.components||{});var at={name:"App",props:["blocks"],components:{CodeBlocks:st},data:()=>({}),computed:{}},rt=at,lt=(o("cf25"),Object(D["a"])(rt,O,_,!1,null,null,null)),ct=lt.exports;lt.options.components=Object.assign({QLayout:s["l"],QPageContainer:s["n"]},lt.options.components||{});var dt,ut,ht=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-layout",{staticStyle:{"min-height":"0"},attrs:{view:"hHh lpR fFf"}},[o("q-page-container",[o("CodeBlocksEditor",{attrs:{blockInfo:e.blocks}})],1)],1)},pt=[],mt={extends:st,computed:{editMode(){return!0}},methods:{onTypeChange(e){let t=this.blockById(e.id);t.type=e.type,t.hidden=e.hidden,t.static=e.static,t.hasCode=e.hasCode},onVisibleLinesChange(e){let t=this.blockById(e.id);t.visibleLines=e.visibleLines},onPlacementChange(e){let t=this.blockById(e.id);t.width=e.width,t.height=e.height,t.align=e.align},onCompilerChange(e){const t=this.$compilerRegistry.getCompiler({languageType:e});void 0!==t&&(console.log("Selected Compiler",t,e,this.blockInfo.compiler),this.blockInfo.compiler.languageType=e,this.blockInfo.compiler.version=t.version,this.blockInfo.language=t.language,console.log("PRELOADING"),t.preload())},onCompilerVersionChange(e){console.log("Selected Version",e,this.blockInfo.compiler.languageType);const t=this.$compilerRegistry.getCompiler({languageType:this.blockInfo.compiler.languageType,version:e});this.blockInfo.compiler.version=e,void 0!==t&&(this.blockInfo.language=t.language,console.log("PRELOADING"),t.preload())},onRunStateChange(e){this.blockInfo.runCode=e},onLanguageChange(e){this.blockInfo.language=e},onCharacterLimitChange(e){this.blockInfo.maxCharacters=e},onTimeoutChange(e){this.blockInfo.executionTimeout=e},onWorkerLibChange(e){this.blockInfo.workerLibs=e},onDomLibChange(e){this.blockInfo.domLibs=e},onScriptVersionChange(e){let t=this.blockById(e.id);t.version=e.version,t.obj&&(t.obj.version=e.version)},onSetAutoReset(e){let t=this.blockById(e.id);t.shouldAutoreset=e.shouldAutoreset},onThemeChange(e){this.blockInfo.solutionTheme=e.solution,this.blockInfo.codeTheme=e.code},moveUp(e){this.blockInfo.moveUp(e)},moveDown(e){this.blockInfo.moveDown(e)},addNewBlock(){this.blockInfo.addNewBlock()},removeBlock(e){this.blockInfo.removeBlock(e)},onOutputParserChange(e){this.blockInfo.outputParser=e}}},gt=mt,bt=Object(D["a"])(gt,dt,ut,!1,null,null,null),vt=bt.exports,ft={name:"AppEditor",props:["blocks"],components:{CodeBlocksEditor:vt},data:()=>({}),computed:{}},kt=ft,yt=(o("a571"),Object(D["a"])(kt,ht,pt,!1,null,null,null)),Ct=yt.exports;yt.options.components=Object.assign({QLayout:s["l"],QPageContainer:s["n"]},yt.options.components||{});var xt=4e3;function wt(e,t,o,n,s,a,r,l,c,d=!1){let u=new RegExp("public[ \n]*class[ \n]*([a-zA-Z_$0-9]*)[ \n]*({|implements|extends)"),h=u.exec(t);if(null==h)return void console.error("Unable to determine class Name!",h,t);let p=h[1],m=new Worker(i["a"].$CodeBlock.baseurl+"js/doppio/v001/javaWorker.js"),g=null;m.addEventListener("message",(function(i){const u=i.data;switch(u.event){case"finished":g&&(clearTimeout(g),g=null),console.log("Done",u.stdout,u.stderr,c),c();break;case"startTimer":g=setTimeout((function(e){console.log("Sending kill command"),m.postMessage({cmd:"kill"}),g=setTimeout((function(){console.log("Terminating Worker"),m.terminate()}),5e3),r("Terminated long running Process (>"+Math.round((n+xt)/1e3)+"s)."),JavaExec.setRunButton(!0,"run"),JavaExec.setRunButton(!0),JavaExec.showMessage(null)}),n+xt);break;case"showMessage":JavaExec.showMessage(u.msg);break;case"output":"err"==u.type?r(u.msg):"nfo"==u.type?a(u.msg):s(u.msg);break;case"setRunButton":JavaExec.setRunButton(u.enabled,u.info);break;case"cleanCache":d?(JavaExec.setRunButton(!1),JavaExec.showMessage("Failed to initialize JVM.")):(m.postMessage({cmd:"kill"}),console.log("Restarting..."),setTimeout((function(){wt(e,t,o,n,s,a,r,l,finishedExecution,!0)}),500));break}}),!1),m.postMessage({cmd:"run",code:t,className:p,max_ms:n+1e3,questionID:e,forceReload:d})}const Tt=new i["a"]({data:function(){return{loadedlibs:0,version:"001",language:"java",canRun:!0,didPreload:!1,requestedPreload:!1,isReady:!1,isRunning:!1}},methods:{preload(){if(this.loadedlibs<3)0==this.requestedPreload&&(this.requestedPreload=!0,this.triggerResourceLoad());else if(!this.didPreload){this.didPreload=!0,console.log("[Preloading Doppio]");try{JavaExec.showMessage=function(e){this.$compilerState.displayGlobalState(e)}.bind(this);const e=[];JavaExec.setRunButton=function(t,o){o&&!t&&-1==e.indexOf(o)&&e.push(o),o&&t&&e.indexOf(o)>-1&&e.splice(e.indexOf(o),1),t&&0!=e.length||this.$compilerState.setAllRunButtons(t)}.bind(this);const t=this;JavaExec.initialize((function(){console.log("Initializing Filesystem"),JavaExec.initFileSystems(i["a"].$CodeBlock.baseurl+"js/doppio/v001/",!1,(function(){JavaExec.reroutStdStreams(),JavaExec.ready=!0,t.isReady=!0}))}))}catch(e){console.error(e)}}},compileAndRun(e,t,o,i,n,s,a,r,l,c=!1){if(this.isReady)return wt(e,t,o,i,n,s,a,r,l,c)},triggerResourceLoad(){console.log("[Preparing Dependencies for Doppio]");let e=document.createElement("script");e.src=i["a"].$CodeBlock.baseurl+"js/doppio/v001/browserfs/browserfs.min.js",e.onload=function(){this.loadedlibs++,console.log("[BrowserFS loaded]");let e=document.createElement("script");e.src=i["a"].$CodeBlock.baseurl+"js/doppio/v001/doppio/doppio.js",e.onload=function(){this.loadedlibs++,console.log("[Doppio loaded]");let e=document.createElement("script");e.src=i["a"].$CodeBlock.baseurl+"js/doppio/v001/JavaExec.js",e.onload=function(){this.loadedlibs++,console.log("[JavaExec loaded]"),this.requestedPreload&&this.preload()}.bind(this),document.head.appendChild(e)}.bind(this),document.head.appendChild(e)}.bind(this),document.head.appendChild(e)}},created(){}});var St=Tt;const Et=3e4,Lt=new i["a"]({data:function(){return{version:"100",language:"java",canRun:!0,didPreload:!1,teaworker:void 0,isReady:!1,isRunning:!1}},methods:{preload(){this.didPreload||(this.didPreload=!0,this.$compilerState.setAllRunButtons(!1),console.log(`[Preloading TeaVM ${this.version} for Java]`),this.isRunning=!0,this.createTeaWorker(function(){this.isRunning=!1,this.$compilerState.hideGlobalState(),this.$compilerState.setAllRunButtons(!0)}.bind(this)))},createTeaWorker(e){if(void 0===this.teaworker){this.$compilerState.setAllRunButtons(!1),this.$compilerState.displayGlobalState("Initializing Runtime");try{this.teaworker=new Worker(`${this.$CodeBlock.baseurl}js/teavm/v${this.version}/worker.js`)}catch(t){this.teaworker=new Worker("../assCodeQuestion/js/teavm/worker.js")}return this.teaworker.addEventListener("message",function(t){"ok"==t.data.command&&"didload-classlib"==t.data.id?(this.teaworker.postMessage({command:"compile",id:"prep",text:"public class Bootstrap { public static void main(String[] args){}}",mainClass:"Bootstrap"}),this.isReady=!0,e?e():(this.$compilerState.setAllRunButtons(!0),this.$compilerState.hideGlobalState())):"prep"==t.data.id&&t.data.command}.bind(this)),this.teaworker.postMessage({command:"load-classlib",id:"didload-classlib",url:"classlib.txt"}),!0}return!1},compileAndRun(e,t,o,i,n,s,a,r,l,c=!0){var d=Date.now(),u=!1,h=!1;if(this.isRunning)return void a("System is busy. Please wait until compilation finishes or call a tutor.");if(this.isRunning=!0,c&&this.createTeaWorker(function(){this.isRunning=!1,this.compileAndRun(e,t,o,i,n,s,a,r,l,!1)}.bind(this)))return;if(!this.isReady)return void a("System is not yet ready. Please wait until Initialization finishes or call a tutor.");const p=setTimeout(function(){if(!h){var e=Date.now()-d;this.teaworker.end("TimeoutError:  Compilation took too long (>"+e+"ms) and was terminated. Trying to reset the System. Please re-run your code and call a Tutor if this Problem persists."),this.teaworker=void 0}}.bind(this),Et);var m="Unknown";let g=t.replace(/"(?:[^"\\]|\\.)*"|^.*(\/\/.*$)|\/\*[\s\S]*?\*\//gm,"");g=g.replaceRec(/(\{[^{}]*\})/gm,"[]");let b,v=/public\s+?class\s+?([a-zA-Z_$0-9]+?)\s*?(\[|\simplements|\sextends)/gm;while(null!==(b=v.exec(g)))if(b[1]){m=b[1];break}var f=function(t){if(t.data.id==""+e)if("phase"==t.data.command)"DEPENDENCY_ANALYSIS"==t.data.phase?this.$compilerState.displayGlobalState("Compiling & Analyzing <b>"+m+".java</b>"):"LINKING"==t.data.phase?this.$compilerState.displayGlobalState("Linking <b>"+m+".java</b>"):"OPTIMIZATION"==t.data.phase?this.$compilerState.displayGlobalState("Optimizing <b>"+m+".java</b>"):"RENDERING"==t.data.phase&&this.$compilerState.displayGlobalState("Creating <b>"+m+".class</b>");else if("diagnostic"==t.data.command){r&&r({message:t.data.text,start:{line:t.data.lineNumber,column:0},end:{line:t.data.lineNumber,column:0},severity:"ERROR"==t.data.severity?this.SEVERITY_ERROR:this.SEVERITY_WARNING});let e=t.data.text+"\n";"ERROR"==t.data.severity?a(e+"\n"):s(e+"\n")}else if("compiler-diagnostic"==t.data.command){r&&r({message:t.data.message,start:{line:t.data.startLineNumber,column:t.data.startColumn},end:{line:t.data.endLineNumber,column:t.data.endColumn},severity:"ERROR"==t.data.kind?this.SEVERITY_ERROR:this.SEVERITY_WARNING});let e=t.data.humanReadable+"\n";"ERROR"==t.data.kind?a(e+"\n"):s(e+"\n")}else if("error"==t.data.command)this.teaworker.end("Error:  An internal compiler Error occured"),this.teaworker=void 0;else if("compilation-complete"==t.data.command){h=!0;let r=void 0;this.teaworker.removeEventListener("message",f);try{clearTimeout(p)}catch(t){}if("errors"==t.data.status)l(!1),this.isRunning=!1;else{function o(e){"run-finished-setup"==e.data.command||("run-completed"==e.data.command?(l(),s("Info: Execution finished in "+(Date.now()-d)+" ms\n"),u=!0,this.isRunning=!1,h.end()):"stdout"==e.data.command?n(e.data.line+"\n"):"stderr"==e.data.command&&a(e.data.line+"\n"))}this.$compilerState.displayGlobalState("Executing <b>"+m+"</b>");let h=new Worker(`${this.$CodeBlock.baseurl}js/teavm/v${this.version}/workerrun.js`);h.addEventListener("message",o.bind(this)),h.postMessage({command:"run",id:""+e,code:t.data.script}),h.end=function(e){try{h.terminate(),r&&clearTimeout(r)}catch(t){}u||(u=!0,l(!1),this.isRunning=!1,e&&a(e+"\n"))}.bind(this);var c=Date.now();r=setTimeout((function(){var e=Date.now()-c;h.end("TimeoutError:  Execution took too long (>"+e+"ms) and was terminated. There might be an endless loop in your code.")}),i)}}}.bind(this);this.teaworker.addEventListener("message",f),this.$compilerState.setAllRunButtons(!1),this.$compilerState.displayGlobalState("Starting Compiler for <b>"+m+".java</b>"),this.teaworker.postMessage({command:"compile",id:""+e,text:t,mainClass:m}),this.teaworker.end=function(e){try{clearTimeout(p)}catch(t){}h||(this.teaworker.terminate(),l(!1),this.isRunning=!1,this.isReady=!0,e&&a(e+"\n"))}.bind(this)}}});var Rt=Lt,$t=new i["a"]({data:function(){return{type:"java",displayName:"Java",versions:[St,Rt],default:Rt}}});function Ot(e,t,o,n,s,a,r,l,c){if(s(""),window.Worker){var d=["postMessage","close","onmessage","debugger"];for(var u in d)if(-1!=t.indexOf(d[u]))return void r("PermissionError: The usage of '"+d[u]+"' is not allowed (reserved keyword)!");var h=t.split("\n").length,p=["for(var c in console) console[c]=null;","for(var t in this) if(t!='close' && t!='postMessage' && t!='console') this[t]=null;","this.console = {};","console.log = function(s){","   postMessage(['log',''+s]);","};","console.error = function(s){","   postMessage(['err',''+s]);","};","console.warn = console.log;","onmessage = function(input){","   postMessage(['finished',","   ''+(function(input){","           'use strict';","\n"],m=["\n","})(input.data[1])]);","   close();","};"];t=p.join("")+t+m.join("");var g=new Worker(URL.createObjectURL(new Blob([t],{type:"text/javascript"}))),b=!1;g.end=function(e){b||(g.terminate(),b=!0,c(!1),e&&r(e+"\n"))};var v=Date.now(),f=function(){var e=Date.now()-v;g.end("TimeoutError:  Execution took too long (>"+e+"ms) and was terminated. There might be an endless loop in your code.")},k=function(){Date.now()};g.onmessage=function(e){b||(k(),"finished"==e.data[0]?(c(),a("Info: Execution finished in "+(Date.now()-v)+" ms\n"),g.end()):"log"==e.data[0]?s(e.data[1]+"\n"):"err"==e.data[0]?r(e.data[1]+"\n"):g.end("HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test."))},g.onerror=function(e){1==e.lineno?(l({start:{line:-1,column:-1},end:{line:-1,column:-1},message:e.message,severity:i["a"].$SEVERITY_ERROR}),g.end("Error: "+e.message)):e.lineno>=h+2?(l({start:{line:h+2,column:0},end:{line:h+2,column:0},message:e.message,severity:i["a"].$SEVERITY_ERROR}),g.end("EndOfFile: "+e.message)):(l({start:{line:e.lineno-2,column:e.colno-1},end:{line:e.lineno-2,column:e.colno},message:e.message,severity:i["a"].$SEVERITY_ERROR}),g.end("Line "+(e.lineno-2)+": "+e.message))},g.postMessage(["start",[10,200]]),setTimeout(f,n)}else r("CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).")}const _t=new i["a"]({data:function(){return{version:"100",language:"javascript",canRun:!0,isReady:!0,isRunning:!1}},methods:{preload(){},compileAndRun(e,t,o,i,n,s,a,r,l,c=!0){return Ot(e,t,o,i,n,s,a,r,l,c)}}});var Bt=_t;function qt(e,t,o,n,s,a,r,l,c){if(!window.Worker)return void r("CRITICAL-ERROR: your browser does not support WebWorkers! (please consult a Tutor).");const d=performance.now();let u=!1;const h=new Worker(i["a"].$CodeBlock.baseurl+"js/javascript/v101/jsWorker.js");function p(){h.end("TimeoutError:  Execution took too long (>"+(performance.now()-d)+"ms) and was terminated. There might be an endless loop in your code.")}h.onmessage=function(e){if(u)return;const t=performance.now()-d;switch(t>n&&p(),e.data[0]){case"finished":u=!0,c(!0),a("Info: Execution finished in "+t+" ms\n"),h.end();break;case"log":s(e.data[1]+"\n");break;case"err":r(e.data[1]+"\n");break;default:h.end("HackerError: Great! You invaded our System. Sadly this will lead you nowhere. Please focus on the Test.");break}},h.onerror=function(e){l({start:{line:e.lineno-3,column:e.colno-1},end:{line:e.lineno-3,column:e.colno},message:e.message,severity:i["a"].$SEVERITY_ERROR}),h.end("Line "+(e.lineno-3)+": "+e.message)},h.end=function(e){u||(h.terminate(),u=!0,e&&r(e+"\n"),c(!1))};let m=function(){h.postMessage(["start",t]),setTimeout(p,n)},g=!1;o.workerLibraries.forEach(e=>{"d3-101"===e&&(g=!0,o.$compilerRegistry.loadLibraries(["d3-5.13.4","d3proxy-101"],(function(){h.postMessage(["importD3"]),m()})))}),g||m()}const jt=new i["a"]({data:function(){return{version:"101",language:"javascript",canRun:!0,isReady:!0,isRunning:!1,libraries:[{key:"d3-101",name:"d3",version:"5.14.3",displayName:"D3 - Proxy"}]}},methods:{registerLibs(e){e.registerDOMLib([i["a"].$CodeBlock.baseurl+"js/javascript/v101/d3DomProxyToHTML.js"],"d3proxy","101","D3 - Proxy",!0)},preload(){},compileAndRun(e,t,o,i,n,s,a,r,l,c=!0){return qt(e,t,o,i,n,s,a,r,l,c)}}});var It=jt,At=new i["a"]({data:function(){return{type:"javascript",displayName:"JavaScript",versions:[Bt,It],default:It}}});function Mt(e,t,o,n,s,a,r,l,c){if(t=t.replaceAll("\t","    "),window.Worker){var d=new Worker(i["a"].$CodeBlock.baseurl+"js/python/v100/pyWorker.js"),u=[],h={pyProg:t,pyInp:u,maxMS:n};d.postMessage(["b8e493ca02970aeb0ef734555526bf9b",h]);var p=Date.now(),m=function(){var e=Date.now()-p;d.end("TimeoutError:  Execution took too long (> "+e+" ms) and was terminated. There might be an endless loop in your code.")},g=function(){var e=Date.now()-p;return e>n&&(m(),!0)},b=!1;d.end=function(e){b||(d.terminate(),b=!0,c(!1),e&&r(e))},d.onmessage=function(e){if(!b&&!0!==g())if("finished"==e.data[0])s(e.data[1].stdOut),c(),a("Info: Execution finished in : "+(Date.now()-p)+" ms"),d.end();else if("err"===e.data[0]){const t=JSON.parse(e.data[2]);t&&void 0!==t.lineno&&void 0!==t.colno?l({start:{line:t.lineno-1,column:t.colno},end:{line:t.lineno-1,column:t.colno+1},message:t.message,severity:i["a"].$SEVERITY_ERROR}):t&&void 0!==t.lineno&&l({start:{line:t.lineno-1,column:0},end:{line:t.lineno-1,column:0},message:t.message,severity:i["a"].$SEVERITY_ERROR}),d.end("ERROR: "+e.data[1])}else d.end("Unknown error: "+e.data[1])},setTimeout(m,n)}else r("CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).")}const Dt=new i["a"]({data:function(){return{version:"100",language:"python",canRun:!0,isReady:!0,isRunning:!1}},methods:{preload(){},compileAndRun(e,t,o,i,n,s,a,r,l,c=!0){return Mt(e,t,o,i,n,s,a,r,l,c)}}});var Pt=Dt;function Nt(e,t,o,n,s,a,r,l,c,d=!0){if(console.log("Python Version:",d?"2.7":"3"),t=t.replaceAll("\t","    "),window.Worker){var u=new Worker(i["a"].$CodeBlock.baseurl+"js/python/v101/pyWorker.js"),h=[],p={pyProg:t,pyInp:h,maxMS:n,legacy:d};u.postMessage(["b8e493ca02970aeb0ef734556526bf9b",p]);var m=Date.now(),g=function(){var e=Date.now()-m;u.end("TimeoutError:  Execution took too long (> "+e+" ms) and was terminated. There might be an endless loop in your code.")},b=function(){var e=Date.now()-m;return e>n&&(g(),!0)},v=!1;u.end=function(e){v||(u.terminate(),v=!0,c(!1),e&&r(e))},u.onmessage=function(e){if(!v&&!0!==b())if("finished"==e.data[0])s(e.data[1].stdOut),c(),a("Info: Execution finished in : "+(Date.now()-m)+" ms"),u.end();else if("err"===e.data[0]){const t=JSON.parse(e.data[2]);t&&void 0!==t.lineno&&void 0!==t.colno?l({start:{line:t.lineno-1,column:t.colno},end:{line:t.lineno-1,column:t.colno+1},message:t.message,severity:i["a"].$SEVERITY_ERROR}):t&&void 0!==t.lineno&&l({start:{line:t.lineno-1,column:0},end:{line:t.lineno-1,column:0},message:t.message,severity:i["a"].$SEVERITY_ERROR}),u.end("ERROR: "+e.data[1])}else u.end("Unknown error: "+e.data[1])},setTimeout(g,n)}else r("CRITICAL-ERROR: your browser does not support WebWorkers!! (please consult a Tutor).")}const zt=new i["a"]({data:function(){return{version:"101",language:"python",canRun:!0,isReady:!0,isRunning:!1}},methods:{preload(){},compileAndRun(e,t,o,i,n,s,a,r,l,c=!0){return Nt(e,t,o,i,n,s,a,r,l,!0)}}}),Vt=new i["a"]({data:function(){return{version:"101",language:"python",canRun:!0,isReady:!0,isRunning:!1}},methods:{preload(){},compileAndRun(e,t,o,i,n,s,a,r,l,c=!0){return Nt(e,t,o,i,n,s,a,r,l,!1)}}});var Ut={legacyPython:zt,python3:Vt},Ht=[new i["a"]({data:function(){return{type:"python",displayName:"Python 2.7",versions:[Pt,Ut.legacyPython],default:Ut.legacyPython}}}),new i["a"]({data:function(){return{type:"python3",displayName:"Python 3",versions:[Ut.python3],default:Ut.python3}}})];function Qt(e,t,o,i,n,s,a,r,l){var c=[];o.blocks.filter(e=>e.hasCode).forEach(e=>c.push(e.content)),l(!0,c)}const Wt=new i["a"]({data:function(){return{version:"100",language:"glsl",canRun:!0,isReady:!0,isRunning:!1}},methods:{preload(){},compileAndRun(e,t,o,i,n,s,a,r,l,c=!0){return Qt(e,t,o,i,n,s,a,r,l,c)}}});var Jt=Wt,Ft=new i["a"]({data:function(){return{type:"glsl",displayName:"GLSL Shader",versions:[Jt],default:Jt}}});const Gt=new i["a"]({data:function(){return{compilers:{},libraries:[],loadedURIs:[],afterLoadFinished:[],isLoadingLibs:!1}},computed:{languages(){const e=Object.keys(this.compilers).map(e=>this.compilers[e]).map(e=>{return{label:e.displayName,value:e.type}}).sort((e,t)=>e.label<t.label?-1:1);return e},domLibraries(){const e=this.libraries.filter(e=>!e.utility);return e.map(e=>{return{label:e.displayName+" ("+e.version+")",value:e.key}})}},methods:{register(e){Array.isArray(e)?e.forEach(e=>this.registerSingle(e)):this.registerSingle(e)},registerSingle(e){this.compilers[e.type]=e,e.versions.forEach(e=>{e.registerLibs&&e.registerLibs(this)})},getCompiler(e){let t=this.compilers[e.languageType];if(!t)return;let o=t.versions.find(t=>t.version==e.version);return void 0===o&&(o=t.default),o},versionsForLanguage(e){const t=this.compilers[e];return void 0===t?["none"]:t.versions.map(e=>e.version)},registerDOMLib(e,t,o,i,n=!1,s=0){this.libraries.push({key:t+"-"+o,uri:e,name:t,version:o,displayName:i,didLoad:!1,utility:n,order:s})},getLibObjects(e){return this.libraries.filter(t=>e.indexOf(t.key)>=0)},urisForDOMLibs(e){const t=this.getLibObjects(e),o=t.filter(e=>!e.didLoad).sort((e,t)=>e.order<t.order?1:-1).map(e=>e.uri).reduce((e,t)=>t.concat(e),[]);return o},loadLibraries(e,t){const o=this.urisForDOMLibs(e),i=this.getLibObjects(e);this.loadURIs(o,function(){i.forEach(e=>e.didLoad=!0),t()}.bind(this))},loadURIsIter(e,t){console.log(e);let o=0,i=i=>{o++,o==e.length&&t()};e.forEach(e=>{if(this.loadedURIs.indexOf(e)>=0)return void i(e);this.loadedURIs.push(e);let t=document.createElement("script");t.src=e,console.log("[Loading Library from "+e+"]"),t.onload=function(){console.log("[Loaded "+e+"]"),i(e)},document.head.appendChild(t)})},loadURIs(e,t){if(this.isLoadingLibs)return void this.afterLoadFinished.push(()=>{this.loadURIs(e,t)});this.isLoadingLibs=!0;const o=this;let i=function(e,n){if(n>=e.length){if(t(),o.isLoadingLibs=!1,o.afterLoadFinished.length>0){let e=o.afterLoadFinished.shift();e()}return}const s=e[n];if(o.loadedURIs.indexOf(s)>=0)return void i(e,n+1);o.loadedURIs.push(s);let a=document.createElement("script");a.src=s,console.log("[Loading Library from "+s+"]"),a.onload=function(){i(e,n+1)},document.head.appendChild(a)};i(e,0)}}});Gt.register($t),Gt.register(At),Gt.register(Ht),Gt.register(Ft),Gt.registerDOMLib([i["a"].$CodeBlock.baseurl+"js/d3/5.3.8/d3.v5.min.js",i["a"].$CodeBlock.baseurl+"js/d3/5.3.8/helper.js"],"d3","5.13.4","D3",!1,1e3),Gt.registerDOMLib([i["a"].$CodeBlock.baseurl+"js/three.js/r0/three.min.js",i["a"].$CodeBlock.baseurl+"js/three.js/r0/controls/OrbitControls.js",i["a"].$CodeBlock.baseurl+"js/three.js/r0/controls/TrackballControls.js",i["a"].$CodeBlock.baseurl+"js/three.js/r0/Detector.js",i["a"].$CodeBlock.baseurl+"js/three.js/helper.r0.js"],"3js","r0","Three.JS",!1,2e3);var Yt=Gt;i["a"].prototype.$compilerRegistry=Yt;class Kt{constructBlock(e,t){return"PLAYGROUND"==this.type&&(""!=t.content&&void 0!==t.content&&null!==t.content||(t.content="{}")),new i["a"]({data:function(){return t},methods:{actualContent(){return e.randomizer.active?i["a"].$tagger.replaceRandomTagsInString(this.content,e.randomizer.sets[e.randomizer.previewIndex]):this.content},recreateScriptObject(){if("PLAYGROUND"==this.type){const e=new R(this.actualContent(),this.version);this.obj=e,console.log("Block Rebuild",this.obj,this._uid)}}},computed:{isLast(){return this.id==e.blocks.length-1},firstLine(){return 0==this.id?1:e.blocks[this.id-1].nextLine},lineCount(){return this.hasCode?this.content.split("\n").length:0},nextLine(){return this.hasCode?this.firstLine+this.lineCount:this.firstLine},domLibs(){return e.domLibs}},created(){this.recreateScriptObject()},watch:{type:function(e,t){e!=t&&this.recreateScriptObject()}}})}constructor(e){this.element=e;let t={...e.dataset,editMode:"CODEBLOCKSEDITOR"==e.tagName||e.hasAttribute("codeblockseditor"),randomizer:{active:!1,previewIndex:0,knownTags:[],sets:[]},blocks:[]};if(void 0!==t.randomizerActive&&(t.randomizer.active="true"==t.randomizerActive||"1"==t.randomizerActive,delete t.randomizerActive),void 0!==t.randomizerPreviewIndex&&(t.randomizer.previewIndex=t.randomizerPreviewIndex,delete t.randomizerPreviewIndex),void 0!==t.randomizerKnownTags&&(t.randomizer.knownTags=JSON.parse(t.randomizerKnownTags),delete t.randomizerKnownTags),void 0!==t.randomizerSets&&(t.randomizer.sets=JSON.parse(t.randomizerSets).map((e,t)=>{let o={uuid:n["b"].v4(),values:[]};return Object.keys(e).forEach(t=>{o.values.push({tag:t,value:e[t]})}),o}),delete t.randomizerSets),void 0!==t.question&&(t.id=t.question),void 0===t.compiler)t.runCode=!1;else{t.compiler={languageType:t.compiler,version:t.compilerVersion};const e=Yt.getCompiler({languageType:t.compiler.languageType,version:t.compiler.version});void 0===e?(t.runCode=!1,t.language=t.compiler.languageType):(t.runCode="true"==t.runCode||"1"==t.runCode,t.language=e.language,t.compiler.version=e.version),delete t.compilerVersion}void 0===t.domLibs?t.domLibs=[]:t.domLibs=JSON.parse(t.domLibs),void 0===t.readonly?t.readonly=!1:t.editMode?t.readonly=!1:t.readonly="true"==t.readonly||"1"==t.readonly||""==t.readonly,void 0===t.outputParser&&(t.outputParser="auto"),void 0===t.workerLibs?t.workerLibs=[]:t.workerLibs=JSON.parse(t.workerLibs),void 0===t.solutionTheme&&(t.solutionTheme="solarized light"),void 0===t.codeTheme&&(t.codeTheme="xq-light"),e.hasAttribute("uuid")?t.uuid=e.getAttribute("uuid"):(t.uuid=n["b"].v4(),e.setAttribute("uuid",t.uuid)),t.id=Number(t.id),void 0===t.executionTimeout?t.executionTimeout=5e3:t.executionTimeout=Number(t.executionTimeout),void 0===t.maxCharacters?t.maxCharacters=1e3:t.maxCharacters=Number(t.maxCharacters),e.querySelectorAll("*").forEach(o=>{if(o.parentElement!=e)return;let i={...o.dataset,hasCode:!1,type:o.tagName,content:o.textContent,id:t.blocks.length,uuid:n["b"].v4(),parentID:t.id,width:"100%",height:"200px",align:"center",readyCount:0,obj:null,toolbox:null,errors:[]};if(i.readonly=void 0!==i.readonly&&"false"!=i.readonly&&"0"!=i.readonly,i.static=void 0!==i.static&&"false"!=i.static&&"0"!=i.static,i.hidden=void 0!==i.hidden&&"false"!=i.hidden&&"0"!=i.hidden,i.visibleLines=void 0===i.visibleLines?"auto":i.visibleLines,i.shouldAutoreset=void 0!==i.shouldAutoreset&&"false"!=i.shouldAutoreset&&"0"!=i.shouldAutoreset,i.expanded=void 0===i.expanded||"false"!=i.expanded&&"0"!=i.expanded,i.codeExpanded=void 0===i.codeExpanded||"false"!=i.codeExpanded&&"0"!=i.codeExpanded,i.noContent=void 0!==i.noContent&&"false"!=i.noContent&&"0"!=i.noContent,!t.editMode&&i.noContent&&(i.content=""),void 0===i.alternativeContent||i.static||i.hidden?i.hasAlternativeContent=!1:(i.hasAlternativeContent=!0,!t.editMode&&i.noContent&&(i.content=i.alternativeContent)),"PLAYGROUND"==i.type)i.obj=null,i.width=o.getAttribute("width")?o.getAttribute("width"):i.width,i.height=o.getAttribute("height")?o.getAttribute("height"):i.height,i.align=o.getAttribute("align")?o.getAttribute("align"):i.align,i.version=o.getAttribute("data-version")?o.getAttribute("data-version"):"101";else if("BLOCK"==i.type){const e=o.getElementsByTagName("ALTERNATIVE"),n=o.getElementsByTagName("CODE");n.length>0&&(i.content=n[0].textContent),e.length>0&&(i.hasAlternativeContent=!0,i.alternativeContent=e[0].textContent,!t.editMode&&i.noContent&&(i.content=i.alternativeContent)),i.hasCode=!0}else if("BLOCKLY"==i.type){const e=o.getElementsByTagName("TOOLBOX");let t=void 0;t=e.length>0?e[0].innerHTML:"",i.toolbox=t;const n=o.getElementsByTagName("CODE");n.length>0?i.content=n[0].innerHTML:i.content='<xml xmlns="https://developers.google.com/blockly/xml"></xml>',i.hasCode=!0}else if("TEXT"!=i.type)return void console.log("Skipping",i.type);t.blocks.push(this.constructBlock(t,i))}),this.data=t,console.log("DATA",t)}instantiateVue(){const e=this.data,t=this;new i["a"]({i18n:x,render:function(o){const s={props:{language:e.language,id:e.question,blocks:new i["a"]({data:function(){return e},computed:{},methods:{swap(e,t){const o=this.blocks[e];this.blocks[e]=this.blocks[t],this.blocks[t]=o,this.blocks[e].id=e,this.blocks[t].id=t},moveUp(e){e<=0||this.swap(e-1,e)},moveDown(e){e>=this.blocks.length-1||this.swap(e,e+1)},removeBlock(t){e.blocks.splice(t,1);for(let o=t;o<e.blocks.length;o++)e.blocks[o].id=o},addNewBlock(){let o={hasCode:!0,type:"BLOCK",content:"",id:e.blocks.length,uuid:n["b"].v4(),parentID:e.id,expanded:!0,codeExpanded:!0,width:"100%",height:"200px",align:"center",obj:null,readonly:!1,static:!0,hidden:!1,version:101,readyCount:0,errors:[],scopeUUID:e.scopeUUID,scopeSelector:e.scopeSelector,visibleLines:10,hasAlternativeContent:!1,shouldAutoreset:!1,toolbox:null};e.blocks.push(t.constructBlock(e,o))}}})}};return o(e.editMode?Ct:ct,s)}}).$mount(this.element)}}var Xt={find(e){void 0===e&&(e=document);const t=e.querySelectorAll("codeblocks, codeblockseditor, div[codeblocks], div[codeblockseditor]");let o=[];return t.forEach(e=>{const t=new Kt(e);let n=t.data.scopeSelector?document.querySelector(t.data.scopeSelector):void 0;void 0!==n&&null!==n||(n=e),i["a"].$hljs.$vue.processElements(n),t.data.editMode&&(i["a"].$tagger.processElements(n),t.data.scopeSelector=`[uuid=${n.getAttribute("uuid")}]`,t.data.scopeUUID=n.getAttribute("uuid"),t.data.blocks.forEach(e=>{e.scopeUUID=t.data.scopeUUID,e.scopeSelector=t.data.scopeSelector})),o.push(t)}),o.mount=function(){o.forEach(e=>e.instantiateVue())},o}};String.prototype.replaceAll=function(e,t){var o=this;return o.replace(new RegExp(e,"g"),t)},String.prototype.replaceRec=function(e,t){var o=this.replace(e,t);return o==this?o:o.replaceRec(e,t)},i["a"].config.productionTip=!1,i["a"].config.ignoredElements=["field","block","category","xml","mutation","value","sep"],i["a"].config.productionTip=!1,Xt.find(document).mount(),window.mountInElement=function(e){i["a"].$hljs.$vue.processElements(e),i["a"].$tagger.processElements(e),Xt.find(e).mount()}},"5b60":function(e,t,o){},"5d77":function(e,t,o){},"5e79":function(e,t,o){(function(e){e(o("56b3"))})((function(e){"use strict";function t(e){for(var t={},o=e.split(" "),i=0;i<o.length;++i)t[o[i]]=!0;return t}e.defineMode("clike",(function(t,o){var i,n=t.indentUnit,s=o.statementIndentUnit||n,a=o.dontAlignCalls,r=o.keywords||{},l=o.builtin||{},c=o.blockKeywords||{},d=o.atoms||{},u=o.hooks||{},h=o.multiLineStrings,p=!1!==o.indentStatements,m=/[+\-*&%=<>!?|\/]/;function g(e,t){var o=e.next();if(u[o]){var n=u[o](e,t);if(!1!==n)return n}if('"'==o||"'"==o)return t.tokenize=b(o),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(o))return i=o,null;if(/\d/.test(o))return e.eatWhile(/[\w\.]/),"number";if("/"==o){if(e.eat("*"))return t.tokenize=v,v(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(m.test(o))return e.eatWhile(m),"operator";e.eatWhile(/[\w\$_\xa1-\uffff]/);var s=e.current();return r.propertyIsEnumerable(s)?(c.propertyIsEnumerable(s)&&(i="newstatement"),"keyword"):l.propertyIsEnumerable(s)?(c.propertyIsEnumerable(s)&&(i="newstatement"),"builtin"):d.propertyIsEnumerable(s)?"atom":"variable"}function b(e){return function(t,o){var i,n=!1,s=!1;while(null!=(i=t.next())){if(i==e&&!n){s=!0;break}n=!n&&"\\"==i}return(s||!n&&!h)&&(o.tokenize=null),"string"}}function v(e,t){var o,i=!1;while(o=e.next()){if("/"==o&&i){t.tokenize=null;break}i="*"==o}return"comment"}function f(e,t,o,i,n){this.indented=e,this.column=t,this.type=o,this.align=i,this.prev=n}function k(e,t,o){var i=e.indented;return e.context&&"statement"==e.context.type&&(i=e.context.indented),e.context=new f(i,t,o,null,e.context)}function y(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}return{startState:function(e){return{tokenize:null,context:new f((e||0)-n,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var o=t.context;if(e.sol()&&(null==o.align&&(o.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;i=null;var n=(t.tokenize||g)(e,t);if("comment"==n||"meta"==n)return n;if(null==o.align&&(o.align=!0),";"!=i&&":"!=i&&","!=i||"statement"!=o.type)if("{"==i)k(t,e.column(),"}");else if("["==i)k(t,e.column(),"]");else if("("==i)k(t,e.column(),")");else if("}"==i){while("statement"==o.type)o=y(t);"}"==o.type&&(o=y(t));while("statement"==o.type)o=y(t)}else i==o.type?y(t):p&&(("}"==o.type||"top"==o.type)&&";"!=i||"statement"==o.type&&"newstatement"==i)&&k(t,e.column(),"statement");else y(t);return t.startOfLine=!1,n},indent:function(t,o){if(t.tokenize!=g&&null!=t.tokenize)return e.Pass;var i=t.context,r=o&&o.charAt(0);"statement"==i.type&&"}"==r&&(i=i.prev);var l=r==i.type;return"statement"==i.type?i.indented+("{"==r?0:s):!i.align||a&&")"==i.type?")"!=i.type||l?i.indented+(l?0:n):i.indented+s:i.column+(l?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}));function o(e,t){if(!t.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),t.tokenize=null;break}if(e.next(),e.eol()){t.tokenize=o;break}}return"meta"}function i(t,o){"string"==typeof t&&(t=[t]);var i=[];function n(e){if(e)for(var t in e)e.hasOwnProperty(t)&&i.push(t)}n(o.keywords),n(o.builtin),n(o.atoms),i.length&&(o.helperType=t[0],e.registerHelper("hintWords",t[0],i));for(var s=0;s<t.length;++s)e.defineMIME(t[s],o)}i(["x-shader/x-vertex","x-shader/x-fragment","text/x-glsl"],{name:"clike",keywords:t("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler2D sampler3D samplerCube const attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:t("for while do if else struct"),builtin:t("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture2D texture2DLod texture2DProjLod textureCube textureCubeLod "),atoms:t("true false gl_FragColor gl_PointCoord gl_Position gl_PointSize gl_FragCoord gl_FrontFacing gl_FragData gl_DepthRangeParameters gl_MaxVertexAttribs gl_MaxVaryingVectors gl_MaxVertexUniformVectorsgl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformVectors gl_MaxDrawBuffers"),hooks:{"#":o},modeProps:{fold:["brace","include"]}})}))},6195:function(e,t,o){},"62b3":function(e,t,o){},"635f":function(e,t,o){"use strict";var i=o("7930"),n=o.n(i);n.a},"67a5":function(e,t,o){"use strict";var i=o("5b60"),n=o.n(i);n.a},"6ce2":function(e){e.exports=JSON.parse('{"CodeBlock":{"Initial_Content":"Lsungsvorgabe"},"CodeBlockContainer":{"Display":"Darstellung","Lines":"Zeilen","Lines_detail":"Anzahl sichtbarer Zeilen oder <b>auto</b>.","Prepopulate":"Antwort Vorbelegen","Prepopulate_detail":"Lsungsvorgabe fr neue Fragen angeben.","Behaviour":"Verhalten","ScriptV":"Script-Version","ScriptV_detail":"API-Version des Visualisierungsobjektes.","AutoReset":"Autom. Reset","AutoReset_detail":"Canvas-Element bei jeder Ausfhrung neu erzeugen.","Positioning":"Positionierung","Width":"Breite","Width_detail":"CSS-Eigenschaft fr die Breite","Height":"Hhe","Height_detail":"CSS-Eigenschaft fr die Hhe","Alignment":"Ausrichtung","Alignment_detail":"Horizontale Ausrichtung des Canvas-Element","Delete":"Lschen","Start":"Anfang","Center":"Mitte","End":"Ende","ScriptVersion_1":"1.0 (original)","ScriptVersion_2":"2.0 (seit 2020)","Canvas":"Visualisierungsbereich","Text":"Text","Hidden":"Quellcode (Versteckt)","Static":"Quellcode (Angabe)","Block":"Antwortfeld/Lsung","Blockly":"Blockly for JavaScript (Experimental!!!)","Confirm":"Besttigung","DeleteQuestion":"Soll der <span class=\'highlightedCard sample\'>hervorgehobene</span> Block wirklick entfernt werden?","TypesCaption":"Blocktypen","Types":"Die Frage wird aus den folgenden Blcken zusammengestellt. Mglichen Typen sind:<ul><li><b>Text</b>: Text der wie der ursprngliche Fragetext ohne Syntax highlighting angezeigt wird. Die <b>[code][/code]</b> und <b>[hl][/hl]</b> knnen verwendet werden</li><li><b>Quellcode (Angabe)</b>: Nicht vernderbarer Quellcode mit Syntax highlighting. Der Inhalt ist deil des ausgefhrten Programmes und sollte fest vorgegebenen Code enthalten.</li><li><b>Quellcode (Versteckt)</b>: Der Quellcode ist teil der ausgelieferten Webseite, wird jedoch nicht angezeigt. Diese Variante kann code enthalten der Hilfsmethoden o.. definiert. Der Inhalt ist deil des ausgefhrten Programmes und sollte fest vorgegebenen Code enthalten.</li><li><b>Antwortfeld/Lsung</b>: Quellcode mit Syntax highlighting. Hier sollte die Musterlsung angegeben werden. Der Inhalt ist deil des ausgefhrten Programmes und sollte fest vorgegebenen Code enthalten.</li><li><b>Visualisierungsbereich</b>: Eine Zeichenflche die nutzbar ist um die Ergebnisse der Studenten zu visualisieren. Der Code (fr Version 2.0) <b> muss ein JavaScript Object</b> mit den Methoden <ul><li><code>init(canvasElement, outputElement, scope)</code> und </li><li><code>update(txt, json, canvasElement, outputElement)</code></li></ul> definieren</b>.</li></ul>"},"CodeBlocks":{"run_hint":"<code>Ctrl</code>+<code>W</code> oder <code>Ctrl</code>+<code>J</code> drcken um Code auszufhren","run":"Ausfhren","AddBlock":"Neuen Block Anlegen"},"CodeBlocksSettings":{"Language":"Sprache","AllowExec":"Ausfhrung zulassen","CVersion":"Version","RunTime":"Max. Laufzeit in ms.","Output":"Ausgabe","MaxCharacters":"Max. Textlnge","Parser":"Ausgabe Behandlung","Themes":"Stile","TGeneral":"Allgemeine Darstellung","TSolution":"Lsungsdarstellung","Libraries":"Bibliotheken","DomLibs":"DOM-Bibliotheken","WorkLibs":"Worker-Bibliotheken","PAutomatic":"Automatisch","PText":"Als Text","PJSON":"Als JSON","PMagic":"Text+JSON (getrennt mit \'\\\\n\\\\n&lt;JSON>\\\\n\')","NumberErr":"Must be a valid Number."},"CodePlayground":{"InvalidJson":"Ausgabe ist nicht JSON-Formatiert","Output":"Ausgabe:","Message":"Meldung:"},"Tagger":{"ConfirmRepl":"Ersetzung Besttigen","ConfirmReplMsg":"Sollen <b>alle</b> vorkomnisse von {name} mit dem untenstehenden Wert ersetzt werden?"},"RandomizerSetEditor":{"Caption":"Bearbeit Zusammenstellung {nr}"},"RandomizerSettings":{"Caption":"Wrfler","Available":"Definierte Platzhalter","Sets":"Zusammenstellungen"},"Blockly":{"CodePreviewLabel":"Code-Vorschau","ToolboxLabel":"Toolbox Definition"}}')},7930:function(e,t,o){},"7a59":function(e,t,o){"use strict";var i=o("62b3"),n=o.n(i);n.a},"81ab":function(e,t,o){},8622:function(e,t,o){},"8f52":function(e,t,o){},9711:function(e,t,o){},a4ac:function(e,t,o){},a571:function(e,t,o){"use strict";var i=o("9711"),n=o.n(i);n.a},ab8d:function(e,t,o){"use strict";var i=o("5d77"),n=o.n(i);n.a},bfe1:function(e,t,o){"use strict";var i=o("81ab"),n=o.n(i);n.a},cf25:function(e,t,o){"use strict";var i=o("e273"),n=o.n(i);n.a},d5a0:function(e,t,o){"use strict";var i=o("8f52"),n=o.n(i);n.a},d8af:function(e,t,o){},e014:function(e,t,o){"use strict";var i=o("33dc"),n=o.n(i);n.a},e273:function(e,t,o){},e7e3:function(e,t,o){"use strict";var i=o("0219"),n=o.n(i);n.a},ea5a:function(e,t,o){},edd4:function(e){e.exports=JSON.parse('{"CodeBlock":{"Initial_Content":"Initial Content"},"CodeBlockContainer":{"Display":"Display","Lines":"Lines","Lines_detail":"Number of Visible lines or <b>auto</b>.","Prepopulate":"Prepopulate Answer","Prepopulate_detail":"Define content that is displayed in a new answer.","Behaviour":"Behaviour","ScriptV":"Script Version","ScriptV_detail":"API-Version for the Visualization Object.","AutoReset":"Auto Reset","AutoReset_detail":"Recreate Canvas-Element for each run","Positioning":"Positioning","Width":"Width","Width_detail":"CSS Property for the canvas-width.","Height":"Height","Height_detail":"CSS Property for the canvas-height.","Alignment":"Alignment","Alignment_detail":"Horizontal Positioning of the canvas.","Delete":"Delete","Start":"Start","Center":"Center","End":"End","ScriptVersion_1":"1.0 (original)","ScriptVersion_2":"2.0 (since 2020)","Canvas":"Visualization Canvas","Text":"Plain Text","Hidden":"Code (Hidden)","Static":"Code (Static)","Block":"Solution","Blockly":"Blockly for JavaScript (Experimental!!!)","Confirm":"Confirm","DeleteQuestion":"Do you really want to delete the <span class=\'highlightedCard sample\'>highlighted</span> Block?","TypesCaption":"Block-Types","Types":"The final Question is assembled using the following blocks. You my use the following block types:<ul><li><b>Plain Text</b>: Regular Text that is displayd as you Type it without any Syntax Highlighting. You may use <b>[code][/code]</b> and <b>[hl][/hl]</b> as a markup for inline source-code</li><li><b>Code (Static)</b>: read-only Source Code with Syntax highlighting. The content is used to assemble the final Program.</li><li><b>Code (Hidden)</b>: This Source Code is delivered to the client browser but invisible to the students. You may use this type for boiler-plate code you need for processing. The content is used to assemble the final Program.</li><li><b>Solution</b>: Source Code with Syntax highlighting. Should contain the best solution. The content is used to assemble the final Program.</li><li><b>Visualization Canvas</b>: A 2D-drawing area you may use to visualize the results produced by the studen. The code you specify (for Version 2.0) <b> has to return a JavaScript Object</b> providing an <ul><li><code>init(canvasElement, outputElement, scope)</code> and</li><li><code>update(txt, json, canvasElement, outputElement)</code></li></ul> method.</li></ul>"},"CodeBlocks":{"run_hint":"Press <code>Ctrl</code>+<code>W</code> or <code>Ctrl</code>+<code>J</code> when in a code box to run code.","run":"Run","AddBlock":"Add new Block"},"CodeBlocksSettings":{"Language":"Language","AllowExec":"Allow Code Execution","CVersion":"Version","RunTime":"Max. Runtime in ms.","Output":"Output","MaxCharacters":"Max. Output Characters","Parser":"Output Parser","Themes":"Themes","TGeneral":"General Theme","TSolution":"Solution Theme","Libraries":"Libraries","DomLibs":"DOM-Libraries","WorkLibs":"Worker-Libraries","PAutomatic":"Automatisch","PText":"Text Passthrough","PJSON":"JSON","PMagic":"Text+JSON (seperated by \'\\\\n\\\\n&lt;JSON>\\\\n\')","NumberErr":"Muss ein gltiger Zahlenwert sein"},"CodePlayground":{"InvalidJson":"Output is not a valid JSON-Object","Output":"Output:","Message":"Message:"},"Tagger":{"ConfirmRepl":"Confirm Tag Replacement","ConfirmReplMsg":"Do you really want to replace <b>all</b> occurrences of {name} with the below value?"},"RandomizerSetEditor":{"Caption":"Edit Set {nr}"},"RandomizerSettings":{"Caption":"Randomizer","Available":"Available Tags","Sets":"Defined Sets"},"Blockly":{"CodePreviewLabel":"Code Preview","ToolboxLabel":"Toolbox Definition"}}')}});
//# sourceMappingURL=app.js.map